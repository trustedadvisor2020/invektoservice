(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Lh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zh={exports:{}},qs={},$h={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ii=Symbol.for("react.element"),wx=Symbol.for("react.portal"),Sx=Symbol.for("react.fragment"),bx=Symbol.for("react.strict_mode"),kx=Symbol.for("react.profiler"),_x=Symbol.for("react.provider"),Ex=Symbol.for("react.context"),Nx=Symbol.for("react.forward_ref"),Cx=Symbol.for("react.suspense"),Mx=Symbol.for("react.memo"),Px=Symbol.for("react.lazy"),sd=Symbol.iterator;function jx(e){return e===null||typeof e!="object"?null:(e=sd&&e[sd]||e["@@iterator"],typeof e=="function"?e:null)}var Dh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ah=Object.assign,Oh={};function Fr(e,t,n){this.props=e,this.context=t,this.refs=Oh,this.updater=n||Dh}Fr.prototype.isReactComponent={};Fr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fh(){}Fh.prototype=Fr.prototype;function ju(e,t,n){this.props=e,this.context=t,this.refs=Oh,this.updater=n||Dh}var Iu=ju.prototype=new Fh;Iu.constructor=ju;Ah(Iu,Fr.prototype);Iu.isPureReactComponent=!0;var ld=Array.isArray,Hh=Object.prototype.hasOwnProperty,Ru={current:null},Bh={key:!0,ref:!0,__self:!0,__source:!0};function Vh(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Hh.call(t,r)&&!Bh.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:ii,type:e,key:i,ref:s,props:o,_owner:Ru.current}}function Ix(e,t){return{$$typeof:ii,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ii}function Rx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ad=/\/+/g;function Rl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rx(""+e.key):t.toString(36)}function Ki(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ii:case wx:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Rl(s,0):r,ld(o)?(n="",e!=null&&(n=e.replace(ad,"$&/")+"/"),Ki(o,t,n,"",function(u){return u})):o!=null&&(Tu(o)&&(o=Ix(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(ad,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",ld(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Rl(i,l);s+=Ki(i,t,n,a,o)}else if(a=jx(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Rl(i,l++),s+=Ki(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function bi(e,t,n){if(e==null)return e;var r=[],o=0;return Ki(e,r,"","",function(i){return t.call(n,i,o++)}),r}function Tx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},Qi={transition:null},Lx={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Qi,ReactCurrentOwner:Ru};function Wh(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:bi,forEach:function(e,t,n){bi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bi(e,function(){t++}),t},toArray:function(e){return bi(e,function(t){return t})||[]},only:function(e){if(!Tu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=Fr;ne.Fragment=Sx;ne.Profiler=kx;ne.PureComponent=ju;ne.StrictMode=bx;ne.Suspense=Cx;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lx;ne.act=Wh;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ah({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Ru.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Hh.call(t,a)&&!Bh.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ii,type:e.type,key:o,ref:i,props:r,_owner:s}};ne.createContext=function(e){return e={$$typeof:Ex,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_x,_context:e},e.Consumer=e};ne.createElement=Vh;ne.createFactory=function(e){var t=Vh.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:Nx,render:e}};ne.isValidElement=Tu;ne.lazy=function(e){return{$$typeof:Px,_payload:{_status:-1,_result:e},_init:Tx}};ne.memo=function(e,t){return{$$typeof:Mx,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Qi.transition;Qi.transition={};try{e()}finally{Qi.transition=t}};ne.unstable_act=Wh;ne.useCallback=function(e,t){return Fe.current.useCallback(e,t)};ne.useContext=function(e){return Fe.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Fe.current.useEffect(e,t)};ne.useId=function(){return Fe.current.useId()};ne.useImperativeHandle=function(e,t,n){return Fe.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Fe.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return Fe.current.useReducer(e,t,n)};ne.useRef=function(e){return Fe.current.useRef(e)};ne.useState=function(e){return Fe.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return Fe.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return Fe.current.useTransition()};ne.version="18.3.1";$h.exports=ne;var b=$h.exports;const fo=Lh(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx=b,$x=Symbol.for("react.element"),Dx=Symbol.for("react.fragment"),Ax=Object.prototype.hasOwnProperty,Ox=zx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fx={key:!0,ref:!0,__self:!0,__source:!0};function Uh(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Ax.call(t,r)&&!Fx.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:$x,type:e,key:i,ref:s,props:o,_owner:Ox.current}}qs.Fragment=Dx;qs.jsx=Uh;qs.jsxs=Uh;zh.exports=qs;var g=zh.exports,Yh={exports:{}},et={},Xh={exports:{}},Gh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,M){var z=C.length;C.push(M);e:for(;0<z;){var A=z-1>>>1,O=C[A];if(0<o(O,M))C[A]=M,C[z]=O,z=A;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var M=C[0],z=C.pop();if(z!==M){C[0]=z;e:for(var A=0,O=C.length,W=O>>>1;A<W;){var V=2*(A+1)-1,X=C[V],G=V+1,K=C[G];if(0>o(X,z))G<O&&0>o(K,X)?(C[A]=K,C[G]=z,A=G):(C[A]=X,C[V]=z,A=V);else if(G<O&&0>o(K,z))C[A]=K,C[G]=z,A=G;else break e}}return M}function o(C,M){var z=C.sortIndex-M.sortIndex;return z!==0?z:C.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],d=1,c=null,f=3,y=!1,x=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(C){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=C)r(u),M.sortIndex=M.expirationTime,t(a,M);else break;M=n(u)}}function S(C){if(v=!1,h(C),!x)if(n(a)!==null)x=!0,j(_);else{var M=n(u);M!==null&&$(S,M.startTime-C)}}function _(C,M){x=!1,v&&(v=!1,p(P),P=-1),y=!0;var z=f;try{for(h(M),c=n(a);c!==null&&(!(c.expirationTime>M)||C&&!L());){var A=c.callback;if(typeof A=="function"){c.callback=null,f=c.priorityLevel;var O=A(c.expirationTime<=M);M=e.unstable_now(),typeof O=="function"?c.callback=O:c===n(a)&&r(a),h(M)}else r(a);c=n(a)}if(c!==null)var W=!0;else{var V=n(u);V!==null&&$(S,V.startTime-M),W=!1}return W}finally{c=null,f=z,y=!1}}var E=!1,N=null,P=-1,T=5,D=-1;function L(){return!(e.unstable_now()-D<T)}function R(){if(N!==null){var C=e.unstable_now();D=C;var M=!0;try{M=N(!0,C)}finally{M?F():(E=!1,N=null)}}else E=!1}var F;if(typeof m=="function")F=function(){m(R)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,I=k.port2;k.port1.onmessage=R,F=function(){I.postMessage(null)}}else F=function(){w(R,0)};function j(C){N=C,E||(E=!0,F())}function $(C,M){P=w(function(){C(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,j(_))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(C){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var z=f;f=M;try{return C()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,M){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var z=f;f=C;try{return M()}finally{f=z}},e.unstable_scheduleCallback=function(C,M,z){var A=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?A+z:A):z=A,C){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=z+O,C={id:d++,callback:M,priorityLevel:C,startTime:z,expirationTime:O,sortIndex:-1},z>A?(C.sortIndex=z,t(u,C),n(a)===null&&C===n(u)&&(v?(p(P),P=-1):v=!0,$(S,z-A))):(C.sortIndex=O,t(a,C),x||y||(x=!0,j(_))),C},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(C){var M=f;return function(){var z=f;f=M;try{return C.apply(this,arguments)}finally{f=z}}}})(Gh);Xh.exports=Gh;var Hx=Xh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx=b,Ze=Hx;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kh=new Set,Ro={};function qn(e,t){Er(e,t),Er(e+"Capture",t)}function Er(e,t){for(Ro[e]=t,e=0;e<t.length;e++)Kh.add(t[e])}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=Object.prototype.hasOwnProperty,Vx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ud={},cd={};function Wx(e){return va.call(cd,e)?!0:va.call(ud,e)?!1:Vx.test(e)?cd[e]=!0:(ud[e]=!0,!1)}function Ux(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yx(e,t,n,r){if(t===null||typeof t>"u"||Ux(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lu=/[\-:]([a-z])/g;function zu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lu,zu);Ie[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lu,zu);Ie[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lu,zu);Ie[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function $u(e,t,n,r){var o=Ie.hasOwnProperty(t)?Ie[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yx(t,n,o,r)&&(n=null),r||o===null?Wx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Zt=Bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ki=Symbol.for("react.element"),nr=Symbol.for("react.portal"),rr=Symbol.for("react.fragment"),Du=Symbol.for("react.strict_mode"),wa=Symbol.for("react.profiler"),Qh=Symbol.for("react.provider"),qh=Symbol.for("react.context"),Au=Symbol.for("react.forward_ref"),Sa=Symbol.for("react.suspense"),ba=Symbol.for("react.suspense_list"),Ou=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),Zh=Symbol.for("react.offscreen"),dd=Symbol.iterator;function qr(e){return e===null||typeof e!="object"?null:(e=dd&&e[dd]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,Tl;function ho(e){if(Tl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tl=t&&t[1]||""}return`
`+Tl+e}var Ll=!1;function zl(e,t){if(!e||Ll)return"";Ll=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Ll=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ho(e):""}function Xx(e){switch(e.tag){case 5:return ho(e.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 2:case 15:return e=zl(e.type,!1),e;case 11:return e=zl(e.type.render,!1),e;case 1:return e=zl(e.type,!0),e;default:return""}}function ka(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rr:return"Fragment";case nr:return"Portal";case wa:return"Profiler";case Du:return"StrictMode";case Sa:return"Suspense";case ba:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qh:return(e.displayName||"Context")+".Consumer";case Qh:return(e._context.displayName||"Context")+".Provider";case Au:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ou:return t=e.displayName||null,t!==null?t:ka(e.type)||"Memo";case ln:t=e._payload,e=e._init;try{return ka(e(t))}catch{}}return null}function Gx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ka(t);case 8:return t===Du?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kx(e){var t=Jh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _i(e){e._valueTracker||(e._valueTracker=Kx(e))}function ep(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Jh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _a(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=bn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tp(e,t){t=t.checked,t!=null&&$u(e,"checked",t,!1)}function Ea(e,t){tp(e,t);var n=bn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Na(e,t.type,n):t.hasOwnProperty("defaultValue")&&Na(e,t.type,bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Na(e,t,n){(t!=="number"||ps(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var po=Array.isArray;function gr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ca(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(po(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:bn(n)}}function np(e,t){var n=bn(t.value),r=bn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function md(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ma(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ei,op=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ei=Ei||document.createElement("div"),Ei.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ei.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function To(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qx=["Webkit","ms","Moz","O"];Object.keys(wo).forEach(function(e){Qx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wo[t]=wo[e]})});function ip(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wo.hasOwnProperty(e)&&wo[e]?(""+t).trim():t+"px"}function sp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=ip(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var qx=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pa(e,t){if(t){if(qx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function ja(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ia=null;function Fu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ra=null,yr=null,xr=null;function gd(e){if(e=ai(e)){if(typeof Ra!="function")throw Error(H(280));var t=e.stateNode;t&&(t=nl(t),Ra(e.stateNode,e.type,t))}}function lp(e){yr?xr?xr.push(e):xr=[e]:yr=e}function ap(){if(yr){var e=yr,t=xr;if(xr=yr=null,gd(e),t)for(e=0;e<t.length;e++)gd(t[e])}}function up(e,t){return e(t)}function cp(){}var $l=!1;function dp(e,t,n){if($l)return e(t,n);$l=!0;try{return up(e,t,n)}finally{$l=!1,(yr!==null||xr!==null)&&(cp(),ap())}}function Lo(e,t){var n=e.stateNode;if(n===null)return null;var r=nl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Ta=!1;if(Yt)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{Ta=!1}function Zx(e,t,n,r,o,i,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var So=!1,ms=null,gs=!1,La=null,Jx={onError:function(e){So=!0,ms=e}};function ev(e,t,n,r,o,i,s,l,a){So=!1,ms=null,Zx.apply(Jx,arguments)}function tv(e,t,n,r,o,i,s,l,a){if(ev.apply(this,arguments),So){if(So){var u=ms;So=!1,ms=null}else throw Error(H(198));gs||(gs=!0,La=u)}}function Zn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yd(e){if(Zn(e)!==e)throw Error(H(188))}function nv(e){var t=e.alternate;if(!t){if(t=Zn(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return yd(o),e;if(i===r)return yd(o),t;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function hp(e){return e=nv(e),e!==null?pp(e):null}function pp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pp(e);if(t!==null)return t;e=e.sibling}return null}var mp=Ze.unstable_scheduleCallback,xd=Ze.unstable_cancelCallback,rv=Ze.unstable_shouldYield,ov=Ze.unstable_requestPaint,be=Ze.unstable_now,iv=Ze.unstable_getCurrentPriorityLevel,Hu=Ze.unstable_ImmediatePriority,gp=Ze.unstable_UserBlockingPriority,ys=Ze.unstable_NormalPriority,sv=Ze.unstable_LowPriority,yp=Ze.unstable_IdlePriority,Zs=null,Pt=null;function lv(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Zs,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:cv,av=Math.log,uv=Math.LN2;function cv(e){return e>>>=0,e===0?32:31-(av(e)/uv|0)|0}var Ni=64,Ci=4194304;function mo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=mo(l):(i&=s,i!==0&&(r=mo(i)))}else s=n&~o,s!==0?r=mo(s):i!==0&&(r=mo(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-xt(t),o=1<<n,r|=e[n],t&=~o;return r}function dv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-xt(i),l=1<<s,a=o[s];a===-1?(!(l&n)||l&r)&&(o[s]=dv(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function za(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xp(){var e=Ni;return Ni<<=1,!(Ni&4194240)&&(Ni=64),e}function Dl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function si(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=n}function hv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-xt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Bu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ae=0;function vp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wp,Vu,Sp,bp,kp,$a=!1,Mi=[],pn=null,mn=null,gn=null,zo=new Map,$o=new Map,un=[],pv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vd(e,t){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":zo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(t.pointerId)}}function Jr(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=ai(t),t!==null&&Vu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function mv(e,t,n,r,o){switch(t){case"focusin":return pn=Jr(pn,e,t,n,r,o),!0;case"dragenter":return mn=Jr(mn,e,t,n,r,o),!0;case"mouseover":return gn=Jr(gn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return zo.set(i,Jr(zo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,$o.set(i,Jr($o.get(i)||null,e,t,n,r,o)),!0}return!1}function _p(e){var t=Rn(e.target);if(t!==null){var n=Zn(t);if(n!==null){if(t=n.tag,t===13){if(t=fp(n),t!==null){e.blockedOn=t,kp(e.priority,function(){Sp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Da(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ia=r,n.target.dispatchEvent(r),Ia=null}else return t=ai(n),t!==null&&Vu(t),e.blockedOn=n,!1;t.shift()}return!0}function wd(e,t,n){qi(e)&&n.delete(t)}function gv(){$a=!1,pn!==null&&qi(pn)&&(pn=null),mn!==null&&qi(mn)&&(mn=null),gn!==null&&qi(gn)&&(gn=null),zo.forEach(wd),$o.forEach(wd)}function eo(e,t){e.blockedOn===t&&(e.blockedOn=null,$a||($a=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,gv)))}function Do(e){function t(o){return eo(o,e)}if(0<Mi.length){eo(Mi[0],e);for(var n=1;n<Mi.length;n++){var r=Mi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pn!==null&&eo(pn,e),mn!==null&&eo(mn,e),gn!==null&&eo(gn,e),zo.forEach(t),$o.forEach(t),n=0;n<un.length;n++)r=un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)_p(n),n.blockedOn===null&&un.shift()}var vr=Zt.ReactCurrentBatchConfig,vs=!0;function yv(e,t,n,r){var o=ae,i=vr.transition;vr.transition=null;try{ae=1,Wu(e,t,n,r)}finally{ae=o,vr.transition=i}}function xv(e,t,n,r){var o=ae,i=vr.transition;vr.transition=null;try{ae=4,Wu(e,t,n,r)}finally{ae=o,vr.transition=i}}function Wu(e,t,n,r){if(vs){var o=Da(e,t,n,r);if(o===null)Xl(e,t,r,ws,n),vd(e,r);else if(mv(o,e,t,n,r))r.stopPropagation();else if(vd(e,r),t&4&&-1<pv.indexOf(e)){for(;o!==null;){var i=ai(o);if(i!==null&&wp(i),i=Da(e,t,n,r),i===null&&Xl(e,t,r,ws,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Xl(e,t,r,null,n)}}var ws=null;function Da(e,t,n,r){if(ws=null,e=Fu(r),e=Rn(e),e!==null)if(t=Zn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ws=e,null}function Ep(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iv()){case Hu:return 1;case gp:return 4;case ys:case sv:return 16;case yp:return 536870912;default:return 16}default:return 16}}var fn=null,Uu=null,Zi=null;function Np(){if(Zi)return Zi;var e,t=Uu,n=t.length,r,o="value"in fn?fn.value:fn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Zi=o.slice(e,1<r?1-r:void 0)}function Ji(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Sd(){return!1}function tt(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pi:Sd,this.isPropagationStopped=Sd,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),t}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yu=tt(Hr),li=we({},Hr,{view:0,detail:0}),vv=tt(li),Al,Ol,to,Js=we({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==to&&(to&&e.type==="mousemove"?(Al=e.screenX-to.screenX,Ol=e.screenY-to.screenY):Ol=Al=0,to=e),Al)},movementY:function(e){return"movementY"in e?e.movementY:Ol}}),bd=tt(Js),wv=we({},Js,{dataTransfer:0}),Sv=tt(wv),bv=we({},li,{relatedTarget:0}),Fl=tt(bv),kv=we({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),_v=tt(kv),Ev=we({},Hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nv=tt(Ev),Cv=we({},Hr,{data:0}),kd=tt(Cv),Mv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jv[e])?!!t[e]:!1}function Xu(){return Iv}var Rv=we({},li,{key:function(e){if(e.key){var t=Mv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xu,charCode:function(e){return e.type==="keypress"?Ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tv=tt(Rv),Lv=we({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_d=tt(Lv),zv=we({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xu}),$v=tt(zv),Dv=we({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Av=tt(Dv),Ov=we({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fv=tt(Ov),Hv=[9,13,27,32],Gu=Yt&&"CompositionEvent"in window,bo=null;Yt&&"documentMode"in document&&(bo=document.documentMode);var Bv=Yt&&"TextEvent"in window&&!bo,Cp=Yt&&(!Gu||bo&&8<bo&&11>=bo),Ed=" ",Nd=!1;function Mp(e,t){switch(e){case"keyup":return Hv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function Vv(e,t){switch(e){case"compositionend":return Pp(t);case"keypress":return t.which!==32?null:(Nd=!0,Ed);case"textInput":return e=t.data,e===Ed&&Nd?null:e;default:return null}}function Wv(e,t){if(or)return e==="compositionend"||!Gu&&Mp(e,t)?(e=Np(),Zi=Uu=fn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cp&&t.locale!=="ko"?null:t.data;default:return null}}var Uv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uv[e.type]:t==="textarea"}function jp(e,t,n,r){lp(r),t=Ss(t,"onChange"),0<t.length&&(n=new Yu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ko=null,Ao=null;function Yv(e){Hp(e,0)}function el(e){var t=lr(e);if(ep(t))return e}function Xv(e,t){if(e==="change")return t}var Ip=!1;if(Yt){var Hl;if(Yt){var Bl="oninput"in document;if(!Bl){var Md=document.createElement("div");Md.setAttribute("oninput","return;"),Bl=typeof Md.oninput=="function"}Hl=Bl}else Hl=!1;Ip=Hl&&(!document.documentMode||9<document.documentMode)}function Pd(){ko&&(ko.detachEvent("onpropertychange",Rp),Ao=ko=null)}function Rp(e){if(e.propertyName==="value"&&el(Ao)){var t=[];jp(t,Ao,e,Fu(e)),dp(Yv,t)}}function Gv(e,t,n){e==="focusin"?(Pd(),ko=t,Ao=n,ko.attachEvent("onpropertychange",Rp)):e==="focusout"&&Pd()}function Kv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return el(Ao)}function Qv(e,t){if(e==="click")return el(t)}function qv(e,t){if(e==="input"||e==="change")return el(t)}function Zv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wt=typeof Object.is=="function"?Object.is:Zv;function Oo(e,t){if(wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!va.call(t,o)||!wt(e[o],t[o]))return!1}return!0}function jd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Id(e,t){var n=jd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jd(n)}}function Tp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lp(){for(var e=window,t=ps();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ps(e.document)}return t}function Ku(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jv(e){var t=Lp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Tp(n.ownerDocument.documentElement,n)){if(r!==null&&Ku(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Id(n,i);var s=Id(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ew=Yt&&"documentMode"in document&&11>=document.documentMode,ir=null,Aa=null,_o=null,Oa=!1;function Rd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oa||ir==null||ir!==ps(r)||(r=ir,"selectionStart"in r&&Ku(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_o&&Oo(_o,r)||(_o=r,r=Ss(Aa,"onSelect"),0<r.length&&(t=new Yu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function ji(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var sr={animationend:ji("Animation","AnimationEnd"),animationiteration:ji("Animation","AnimationIteration"),animationstart:ji("Animation","AnimationStart"),transitionend:ji("Transition","TransitionEnd")},Vl={},zp={};Yt&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function tl(e){if(Vl[e])return Vl[e];if(!sr[e])return e;var t=sr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zp)return Vl[e]=t[n];return e}var $p=tl("animationend"),Dp=tl("animationiteration"),Ap=tl("animationstart"),Op=tl("transitionend"),Fp=new Map,Td="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){Fp.set(e,t),qn(t,[e])}for(var Wl=0;Wl<Td.length;Wl++){var Ul=Td[Wl],tw=Ul.toLowerCase(),nw=Ul[0].toUpperCase()+Ul.slice(1);_n(tw,"on"+nw)}_n($p,"onAnimationEnd");_n(Dp,"onAnimationIteration");_n(Ap,"onAnimationStart");_n("dblclick","onDoubleClick");_n("focusin","onFocus");_n("focusout","onBlur");_n(Op,"onTransitionEnd");Er("onMouseEnter",["mouseout","mouseover"]);Er("onMouseLeave",["mouseout","mouseover"]);Er("onPointerEnter",["pointerout","pointerover"]);Er("onPointerLeave",["pointerout","pointerover"]);qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rw=new Set("cancel close invalid load scroll toggle".split(" ").concat(go));function Ld(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,tv(r,t,void 0,e),e.currentTarget=null}function Hp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;Ld(o,l,u),i=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;Ld(o,l,u),i=a}}}if(gs)throw e=La,gs=!1,La=null,e}function fe(e,t){var n=t[Wa];n===void 0&&(n=t[Wa]=new Set);var r=e+"__bubble";n.has(r)||(Bp(t,e,2,!1),n.add(r))}function Yl(e,t,n){var r=0;t&&(r|=4),Bp(n,e,r,t)}var Ii="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[Ii]){e[Ii]=!0,Kh.forEach(function(n){n!=="selectionchange"&&(rw.has(n)||Yl(n,!1,e),Yl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ii]||(t[Ii]=!0,Yl("selectionchange",!1,t))}}function Bp(e,t,n,r){switch(Ep(t)){case 1:var o=yv;break;case 4:o=xv;break;default:o=Wu}n=o.bind(null,t,n,e),o=void 0,!Ta||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Xl(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=Rn(l),s===null)return;if(a=s.tag,a===5||a===6){r=i=s;continue e}l=l.parentNode}}r=r.return}dp(function(){var u=i,d=Fu(n),c=[];e:{var f=Fp.get(e);if(f!==void 0){var y=Yu,x=e;switch(e){case"keypress":if(Ji(n)===0)break e;case"keydown":case"keyup":y=Tv;break;case"focusin":x="focus",y=Fl;break;case"focusout":x="blur",y=Fl;break;case"beforeblur":case"afterblur":y=Fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Sv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=$v;break;case $p:case Dp:case Ap:y=_v;break;case Op:y=Av;break;case"scroll":y=vv;break;case"wheel":y=Fv;break;case"copy":case"cut":case"paste":y=Nv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=_d}var v=(t&4)!==0,w=!v&&e==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var m=u,h;m!==null;){h=m;var S=h.stateNode;if(h.tag===5&&S!==null&&(h=S,p!==null&&(S=Lo(m,p),S!=null&&v.push(Ho(m,S,h)))),w)break;m=m.return}0<v.length&&(f=new y(f,x,null,n,d),c.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&n!==Ia&&(x=n.relatedTarget||n.fromElement)&&(Rn(x)||x[Xt]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=u,x=x?Rn(x):null,x!==null&&(w=Zn(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(v=bd,S="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=_d,S="onPointerLeave",p="onPointerEnter",m="pointer"),w=y==null?f:lr(y),h=x==null?f:lr(x),f=new v(S,m+"leave",y,n,d),f.target=w,f.relatedTarget=h,S=null,Rn(d)===u&&(v=new v(p,m+"enter",x,n,d),v.target=h,v.relatedTarget=w,S=v),w=S,y&&x)t:{for(v=y,p=x,m=0,h=v;h;h=er(h))m++;for(h=0,S=p;S;S=er(S))h++;for(;0<m-h;)v=er(v),m--;for(;0<h-m;)p=er(p),h--;for(;m--;){if(v===p||p!==null&&v===p.alternate)break t;v=er(v),p=er(p)}v=null}else v=null;y!==null&&zd(c,f,y,v,!1),x!==null&&w!==null&&zd(c,w,x,v,!0)}}e:{if(f=u?lr(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var _=Xv;else if(Cd(f))if(Ip)_=qv;else{_=Kv;var E=Gv}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Qv);if(_&&(_=_(e,u))){jp(c,_,n,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Na(f,"number",f.value)}switch(E=u?lr(u):window,e){case"focusin":(Cd(E)||E.contentEditable==="true")&&(ir=E,Aa=u,_o=null);break;case"focusout":_o=Aa=ir=null;break;case"mousedown":Oa=!0;break;case"contextmenu":case"mouseup":case"dragend":Oa=!1,Rd(c,n,d);break;case"selectionchange":if(ew)break;case"keydown":case"keyup":Rd(c,n,d)}var N;if(Gu)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else or?Mp(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Cp&&n.locale!=="ko"&&(or||P!=="onCompositionStart"?P==="onCompositionEnd"&&or&&(N=Np()):(fn=d,Uu="value"in fn?fn.value:fn.textContent,or=!0)),E=Ss(u,P),0<E.length&&(P=new kd(P,e,null,n,d),c.push({event:P,listeners:E}),N?P.data=N:(N=Pp(n),N!==null&&(P.data=N)))),(N=Bv?Vv(e,n):Wv(e,n))&&(u=Ss(u,"onBeforeInput"),0<u.length&&(d=new kd("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=N))}Hp(c,t)})}function Ho(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ss(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Lo(e,n),i!=null&&r.unshift(Ho(e,i,o)),i=Lo(e,t),i!=null&&r.push(Ho(e,i,o))),e=e.return}return r}function er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zd(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=Lo(n,i),a!=null&&s.unshift(Ho(n,a,l))):o||(a=Lo(n,i),a!=null&&s.push(Ho(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var ow=/\r\n?/g,iw=/\u0000|\uFFFD/g;function $d(e){return(typeof e=="string"?e:""+e).replace(ow,`
`).replace(iw,"")}function Ri(e,t,n){if(t=$d(t),$d(e)!==t&&n)throw Error(H(425))}function bs(){}var Fa=null,Ha=null;function Ba(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Va=typeof setTimeout=="function"?setTimeout:void 0,sw=typeof clearTimeout=="function"?clearTimeout:void 0,Dd=typeof Promise=="function"?Promise:void 0,lw=typeof queueMicrotask=="function"?queueMicrotask:typeof Dd<"u"?function(e){return Dd.resolve(null).then(e).catch(aw)}:Va;function aw(e){setTimeout(function(){throw e})}function Gl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Do(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Do(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ad(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Br=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Br,Bo="__reactProps$"+Br,Xt="__reactContainer$"+Br,Wa="__reactEvents$"+Br,uw="__reactListeners$"+Br,cw="__reactHandles$"+Br;function Rn(e){var t=e[Ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xt]||n[Ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ad(e);e!==null;){if(n=e[Ct])return n;e=Ad(e)}return t}e=n,n=e.parentNode}return null}function ai(e){return e=e[Ct]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function nl(e){return e[Bo]||null}var Ua=[],ar=-1;function En(e){return{current:e}}function he(e){0>ar||(e.current=Ua[ar],Ua[ar]=null,ar--)}function ue(e,t){ar++,Ua[ar]=e.current,e.current=t}var kn={},De=En(kn),Ue=En(!1),Hn=kn;function Nr(e,t){var n=e.type.contextTypes;if(!n)return kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ye(e){return e=e.childContextTypes,e!=null}function ks(){he(Ue),he(De)}function Od(e,t,n){if(De.current!==kn)throw Error(H(168));ue(De,t),ue(Ue,n)}function Vp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(H(108,Gx(e)||"Unknown",o));return we({},n,r)}function _s(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Hn=De.current,ue(De,e),ue(Ue,Ue.current),!0}function Fd(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=Vp(e,t,Hn),r.__reactInternalMemoizedMergedChildContext=e,he(Ue),he(De),ue(De,e)):he(Ue),ue(Ue,n)}var Ot=null,rl=!1,Kl=!1;function Wp(e){Ot===null?Ot=[e]:Ot.push(e)}function dw(e){rl=!0,Wp(e)}function Nn(){if(!Kl&&Ot!==null){Kl=!0;var e=0,t=ae;try{var n=Ot;for(ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ot=null,rl=!1}catch(o){throw Ot!==null&&(Ot=Ot.slice(e+1)),mp(Hu,Nn),o}finally{ae=t,Kl=!1}}return null}var ur=[],cr=0,Es=null,Ns=0,rt=[],ot=0,Bn=null,Ft=1,Ht="";function Pn(e,t){ur[cr++]=Ns,ur[cr++]=Es,Es=e,Ns=t}function Up(e,t,n){rt[ot++]=Ft,rt[ot++]=Ht,rt[ot++]=Bn,Bn=e;var r=Ft;e=Ht;var o=32-xt(r)-1;r&=~(1<<o),n+=1;var i=32-xt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Ft=1<<32-xt(t)+o|n<<o|r,Ht=i+e}else Ft=1<<i|n<<o|r,Ht=e}function Qu(e){e.return!==null&&(Pn(e,1),Up(e,1,0))}function qu(e){for(;e===Es;)Es=ur[--cr],ur[cr]=null,Ns=ur[--cr],ur[cr]=null;for(;e===Bn;)Bn=rt[--ot],rt[ot]=null,Ht=rt[--ot],rt[ot]=null,Ft=rt[--ot],rt[ot]=null}var qe=null,Qe=null,pe=!1,pt=null;function Yp(e,t){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qe=e,Qe=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qe=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bn!==null?{id:Ft,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qe=e,Qe=null,!0):!1;default:return!1}}function Ya(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xa(e){if(pe){var t=Qe;if(t){var n=t;if(!Hd(e,t)){if(Ya(e))throw Error(H(418));t=yn(n.nextSibling);var r=qe;t&&Hd(e,t)?Yp(r,n):(e.flags=e.flags&-4097|2,pe=!1,qe=e)}}else{if(Ya(e))throw Error(H(418));e.flags=e.flags&-4097|2,pe=!1,qe=e}}}function Bd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qe=e}function Ti(e){if(e!==qe)return!1;if(!pe)return Bd(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ba(e.type,e.memoizedProps)),t&&(t=Qe)){if(Ya(e))throw Xp(),Error(H(418));for(;t;)Yp(e,t),t=yn(t.nextSibling)}if(Bd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qe=yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=qe?yn(e.stateNode.nextSibling):null;return!0}function Xp(){for(var e=Qe;e;)e=yn(e.nextSibling)}function Cr(){Qe=qe=null,pe=!1}function Zu(e){pt===null?pt=[e]:pt.push(e)}var fw=Zt.ReactCurrentBatchConfig;function no(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Li(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vd(e){var t=e._init;return t(e._payload)}function Gp(e){function t(p,m){if(e){var h=p.deletions;h===null?(p.deletions=[m],p.flags|=16):h.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function o(p,m){return p=Sn(p,m),p.index=0,p.sibling=null,p}function i(p,m,h){return p.index=h,e?(h=p.alternate,h!==null?(h=h.index,h<m?(p.flags|=2,m):h):(p.flags|=2,m)):(p.flags|=1048576,m)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,m,h,S){return m===null||m.tag!==6?(m=na(h,p.mode,S),m.return=p,m):(m=o(m,h),m.return=p,m)}function a(p,m,h,S){var _=h.type;return _===rr?d(p,m,h.props.children,S,h.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ln&&Vd(_)===m.type)?(S=o(m,h.props),S.ref=no(p,m,h),S.return=p,S):(S=ss(h.type,h.key,h.props,null,p.mode,S),S.ref=no(p,m,h),S.return=p,S)}function u(p,m,h,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==h.containerInfo||m.stateNode.implementation!==h.implementation?(m=ra(h,p.mode,S),m.return=p,m):(m=o(m,h.children||[]),m.return=p,m)}function d(p,m,h,S,_){return m===null||m.tag!==7?(m=Dn(h,p.mode,S,_),m.return=p,m):(m=o(m,h),m.return=p,m)}function c(p,m,h){if(typeof m=="string"&&m!==""||typeof m=="number")return m=na(""+m,p.mode,h),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ki:return h=ss(m.type,m.key,m.props,null,p.mode,h),h.ref=no(p,null,m),h.return=p,h;case nr:return m=ra(m,p.mode,h),m.return=p,m;case ln:var S=m._init;return c(p,S(m._payload),h)}if(po(m)||qr(m))return m=Dn(m,p.mode,h,null),m.return=p,m;Li(p,m)}return null}function f(p,m,h,S){var _=m!==null?m.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return _!==null?null:l(p,m,""+h,S);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ki:return h.key===_?a(p,m,h,S):null;case nr:return h.key===_?u(p,m,h,S):null;case ln:return _=h._init,f(p,m,_(h._payload),S)}if(po(h)||qr(h))return _!==null?null:d(p,m,h,S,null);Li(p,h)}return null}function y(p,m,h,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(h)||null,l(m,p,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ki:return p=p.get(S.key===null?h:S.key)||null,a(m,p,S,_);case nr:return p=p.get(S.key===null?h:S.key)||null,u(m,p,S,_);case ln:var E=S._init;return y(p,m,h,E(S._payload),_)}if(po(S)||qr(S))return p=p.get(h)||null,d(m,p,S,_,null);Li(m,S)}return null}function x(p,m,h,S){for(var _=null,E=null,N=m,P=m=0,T=null;N!==null&&P<h.length;P++){N.index>P?(T=N,N=null):T=N.sibling;var D=f(p,N,h[P],S);if(D===null){N===null&&(N=T);break}e&&N&&D.alternate===null&&t(p,N),m=i(D,m,P),E===null?_=D:E.sibling=D,E=D,N=T}if(P===h.length)return n(p,N),pe&&Pn(p,P),_;if(N===null){for(;P<h.length;P++)N=c(p,h[P],S),N!==null&&(m=i(N,m,P),E===null?_=N:E.sibling=N,E=N);return pe&&Pn(p,P),_}for(N=r(p,N);P<h.length;P++)T=y(N,p,P,h[P],S),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?P:T.key),m=i(T,m,P),E===null?_=T:E.sibling=T,E=T);return e&&N.forEach(function(L){return t(p,L)}),pe&&Pn(p,P),_}function v(p,m,h,S){var _=qr(h);if(typeof _!="function")throw Error(H(150));if(h=_.call(h),h==null)throw Error(H(151));for(var E=_=null,N=m,P=m=0,T=null,D=h.next();N!==null&&!D.done;P++,D=h.next()){N.index>P?(T=N,N=null):T=N.sibling;var L=f(p,N,D.value,S);if(L===null){N===null&&(N=T);break}e&&N&&L.alternate===null&&t(p,N),m=i(L,m,P),E===null?_=L:E.sibling=L,E=L,N=T}if(D.done)return n(p,N),pe&&Pn(p,P),_;if(N===null){for(;!D.done;P++,D=h.next())D=c(p,D.value,S),D!==null&&(m=i(D,m,P),E===null?_=D:E.sibling=D,E=D);return pe&&Pn(p,P),_}for(N=r(p,N);!D.done;P++,D=h.next())D=y(N,p,P,D.value,S),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?P:D.key),m=i(D,m,P),E===null?_=D:E.sibling=D,E=D);return e&&N.forEach(function(R){return t(p,R)}),pe&&Pn(p,P),_}function w(p,m,h,S){if(typeof h=="object"&&h!==null&&h.type===rr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case ki:e:{for(var _=h.key,E=m;E!==null;){if(E.key===_){if(_=h.type,_===rr){if(E.tag===7){n(p,E.sibling),m=o(E,h.props.children),m.return=p,p=m;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ln&&Vd(_)===E.type){n(p,E.sibling),m=o(E,h.props),m.ref=no(p,E,h),m.return=p,p=m;break e}n(p,E);break}else t(p,E);E=E.sibling}h.type===rr?(m=Dn(h.props.children,p.mode,S,h.key),m.return=p,p=m):(S=ss(h.type,h.key,h.props,null,p.mode,S),S.ref=no(p,m,h),S.return=p,p=S)}return s(p);case nr:e:{for(E=h.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===h.containerInfo&&m.stateNode.implementation===h.implementation){n(p,m.sibling),m=o(m,h.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=ra(h,p.mode,S),m.return=p,p=m}return s(p);case ln:return E=h._init,w(p,m,E(h._payload),S)}if(po(h))return x(p,m,h,S);if(qr(h))return v(p,m,h,S);Li(p,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,m!==null&&m.tag===6?(n(p,m.sibling),m=o(m,h),m.return=p,p=m):(n(p,m),m=na(h,p.mode,S),m.return=p,p=m),s(p)):n(p,m)}return w}var Mr=Gp(!0),Kp=Gp(!1),Cs=En(null),Ms=null,dr=null,Ju=null;function ec(){Ju=dr=Ms=null}function tc(e){var t=Cs.current;he(Cs),e._currentValue=t}function Ga(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wr(e,t){Ms=e,Ju=dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ve=!0),e.firstContext=null)}function at(e){var t=e._currentValue;if(Ju!==e)if(e={context:e,memoizedValue:t,next:null},dr===null){if(Ms===null)throw Error(H(308));dr=e,Ms.dependencies={lanes:0,firstContext:e}}else dr=dr.next=e;return t}var Tn=null;function nc(e){Tn===null?Tn=[e]:Tn.push(e)}function Qp(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,nc(t)):(n.next=o.next,o.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var an=!1;function rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Gt(e,n)}return o=r.interleaved,o===null?(t.next=t,nc(r)):(t.next=o.next,o.next=t),r.interleaved=t,Gt(e,n)}function es(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bu(e,n)}}function Wd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ps(e,t,n,r){var o=e.updateQueue;an=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?i=u:s.next=u,s=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var c=o.baseState;s=0,d=u=a=null,l=i;do{var f=l.lane,y=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(f=t,y=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){c=x.call(y,c,f);break e}c=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,f=typeof x=="function"?x.call(y,c,f):x,f==null)break e;c=we({},c,f);break e;case 2:an=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,a=c):d=d.next=y,s|=f;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;f=l,l=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(d===null&&(a=c),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Wn|=s,e.lanes=s,e.memoizedState=c}}function Ud(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(H(191,o));o.call(r)}}}var ui={},jt=En(ui),Vo=En(ui),Wo=En(ui);function Ln(e){if(e===ui)throw Error(H(174));return e}function oc(e,t){switch(ue(Wo,t),ue(Vo,e),ue(jt,ui),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ma(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ma(t,e)}he(jt),ue(jt,t)}function Pr(){he(jt),he(Vo),he(Wo)}function Zp(e){Ln(Wo.current);var t=Ln(jt.current),n=Ma(t,e.type);t!==n&&(ue(Vo,e),ue(jt,n))}function ic(e){Vo.current===e&&(he(jt),he(Vo))}var xe=En(0);function js(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ql=[];function sc(){for(var e=0;e<Ql.length;e++)Ql[e]._workInProgressVersionPrimary=null;Ql.length=0}var ts=Zt.ReactCurrentDispatcher,ql=Zt.ReactCurrentBatchConfig,Vn=0,ve=null,Ee=null,Ce=null,Is=!1,Eo=!1,Uo=0,hw=0;function Te(){throw Error(H(321))}function lc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wt(e[n],t[n]))return!1;return!0}function ac(e,t,n,r,o,i){if(Vn=i,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ts.current=e===null||e.memoizedState===null?yw:xw,e=n(r,o),Eo){i=0;do{if(Eo=!1,Uo=0,25<=i)throw Error(H(301));i+=1,Ce=Ee=null,t.updateQueue=null,ts.current=vw,e=n(r,o)}while(Eo)}if(ts.current=Rs,t=Ee!==null&&Ee.next!==null,Vn=0,Ce=Ee=ve=null,Is=!1,t)throw Error(H(300));return e}function uc(){var e=Uo!==0;return Uo=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?ve.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function ut(){if(Ee===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Ce===null?ve.memoizedState:Ce.next;if(t!==null)Ce=t,Ee=e;else{if(e===null)throw Error(H(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ce===null?ve.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Yo(e,t){return typeof t=="function"?t(e):t}function Zl(e){var t=ut(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=Ee,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,a=null,u=i;do{var d=u.lane;if((Vn&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,s=r):a=a.next=c,ve.lanes|=d,Wn|=d}u=u.next}while(u!==null&&u!==i);a===null?s=r:a.next=l,wt(r,t.memoizedState)||(Ve=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,ve.lanes|=i,Wn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Jl(e){var t=ut(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);wt(i,t.memoizedState)||(Ve=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Jp(){}function em(e,t){var n=ve,r=ut(),o=t(),i=!wt(r.memoizedState,o);if(i&&(r.memoizedState=o,Ve=!0),r=r.queue,cc(rm.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,Xo(9,nm.bind(null,n,r,o,t),void 0,null),Me===null)throw Error(H(349));Vn&30||tm(n,t,o)}return o}function tm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nm(e,t,n,r){t.value=n,t.getSnapshot=r,om(t)&&im(e)}function rm(e,t,n){return n(function(){om(t)&&im(e)})}function om(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wt(e,n)}catch{return!0}}function im(e){var t=Gt(e,1);t!==null&&vt(t,e,1,-1)}function Yd(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:e},t.queue=e,e=e.dispatch=gw.bind(null,ve,e),[t.memoizedState,e]}function Xo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sm(){return ut().memoizedState}function ns(e,t,n,r){var o=Et();ve.flags|=e,o.memoizedState=Xo(1|t,n,void 0,r===void 0?null:r)}function ol(e,t,n,r){var o=ut();r=r===void 0?null:r;var i=void 0;if(Ee!==null){var s=Ee.memoizedState;if(i=s.destroy,r!==null&&lc(r,s.deps)){o.memoizedState=Xo(t,n,i,r);return}}ve.flags|=e,o.memoizedState=Xo(1|t,n,i,r)}function Xd(e,t){return ns(8390656,8,e,t)}function cc(e,t){return ol(2048,8,e,t)}function lm(e,t){return ol(4,2,e,t)}function am(e,t){return ol(4,4,e,t)}function um(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cm(e,t,n){return n=n!=null?n.concat([e]):null,ol(4,4,um.bind(null,t,e),n)}function dc(){}function dm(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fm(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hm(e,t,n){return Vn&21?(wt(n,t)||(n=xp(),ve.lanes|=n,Wn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ve=!0),e.memoizedState=n)}function pw(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var r=ql.transition;ql.transition={};try{e(!1),t()}finally{ae=n,ql.transition=r}}function pm(){return ut().memoizedState}function mw(e,t,n){var r=wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mm(e))gm(t,n);else if(n=Qp(e,t,n,r),n!==null){var o=Oe();vt(n,e,r,o),ym(n,t,r)}}function gw(e,t,n){var r=wn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mm(e))gm(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,wt(l,s)){var a=t.interleaved;a===null?(o.next=o,nc(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=Qp(e,t,o,r),n!==null&&(o=Oe(),vt(n,e,r,o),ym(n,t,r))}}function mm(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function gm(e,t){Eo=Is=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ym(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bu(e,n)}}var Rs={readContext:at,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},yw={readContext:at,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:Xd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ns(4194308,4,um.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return ns(4,2,e,t)},useMemo:function(e,t){var n=Et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Et();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=mw.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:Yd,useDebugValue:dc,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=Yd(!1),t=e[0];return e=pw.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,o=Et();if(pe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Me===null)throw Error(H(349));Vn&30||tm(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Xd(rm.bind(null,r,i,e),[e]),r.flags|=2048,Xo(9,nm.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Et(),t=Me.identifierPrefix;if(pe){var n=Ht,r=Ft;n=(r&~(1<<32-xt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Uo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xw={readContext:at,useCallback:dm,useContext:at,useEffect:cc,useImperativeHandle:cm,useInsertionEffect:lm,useLayoutEffect:am,useMemo:fm,useReducer:Zl,useRef:sm,useState:function(){return Zl(Yo)},useDebugValue:dc,useDeferredValue:function(e){var t=ut();return hm(t,Ee.memoizedState,e)},useTransition:function(){var e=Zl(Yo)[0],t=ut().memoizedState;return[e,t]},useMutableSource:Jp,useSyncExternalStore:em,useId:pm,unstable_isNewReconciler:!1},vw={readContext:at,useCallback:dm,useContext:at,useEffect:cc,useImperativeHandle:cm,useInsertionEffect:lm,useLayoutEffect:am,useMemo:fm,useReducer:Jl,useRef:sm,useState:function(){return Jl(Yo)},useDebugValue:dc,useDeferredValue:function(e){var t=ut();return Ee===null?t.memoizedState=e:hm(t,Ee.memoizedState,e)},useTransition:function(){var e=Jl(Yo)[0],t=ut().memoizedState;return[e,t]},useMutableSource:Jp,useSyncExternalStore:em,useId:pm,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ka(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var il={isMounted:function(e){return(e=e._reactInternals)?Zn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oe(),o=wn(e),i=Vt(r,o);i.payload=t,n!=null&&(i.callback=n),t=xn(e,i,o),t!==null&&(vt(t,e,o,r),es(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oe(),o=wn(e),i=Vt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=xn(e,i,o),t!==null&&(vt(t,e,o,r),es(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oe(),r=wn(e),o=Vt(n,r);o.tag=2,t!=null&&(o.callback=t),t=xn(e,o,r),t!==null&&(vt(t,e,r,n),es(t,e,r))}};function Gd(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Oo(n,r)||!Oo(o,i):!0}function xm(e,t,n){var r=!1,o=kn,i=t.contextType;return typeof i=="object"&&i!==null?i=at(i):(o=Ye(t)?Hn:De.current,r=t.contextTypes,i=(r=r!=null)?Nr(e,o):kn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=il,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Kd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&il.enqueueReplaceState(t,t.state,null)}function Qa(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},rc(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=at(i):(i=Ye(t)?Hn:De.current,o.context=Nr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ka(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&il.enqueueReplaceState(o,o.state,null),Ps(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function jr(e,t){try{var n="",r=t;do n+=Xx(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function ea(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ww=typeof WeakMap=="function"?WeakMap:Map;function vm(e,t,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ls||(Ls=!0,lu=r),qa(e,t)},n}function wm(e,t,n){n=Vt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){qa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qa(e,t),typeof r!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Qd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ww;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Lw.bind(null,e,t,n),t.then(e,e))}function qd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vt(-1,1),t.tag=2,xn(n,t,1))),n.lanes|=1),e)}var Sw=Zt.ReactCurrentOwner,Ve=!1;function Ae(e,t,n,r){t.child=e===null?Kp(t,null,n,r):Mr(t,e.child,n,r)}function Jd(e,t,n,r,o){n=n.render;var i=t.ref;return wr(t,o),r=ac(e,t,n,r,i,o),n=uc(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Kt(e,t,o)):(pe&&n&&Qu(t),t.flags|=1,Ae(e,t,r,o),t.child)}function ef(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!vc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Sm(e,t,i,r,o)):(e=ss(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Oo,n(s,r)&&e.ref===t.ref)return Kt(e,t,o)}return t.flags|=1,e=Sn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Sm(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Oo(i,r)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Ve=!0);else return t.lanes=e.lanes,Kt(e,t,o)}return Za(e,t,n,r,o)}function bm(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(hr,Ge),Ge|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(hr,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ue(hr,Ge),Ge|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ue(hr,Ge),Ge|=r;return Ae(e,t,o,n),t.child}function km(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Za(e,t,n,r,o){var i=Ye(n)?Hn:De.current;return i=Nr(t,i),wr(t,o),n=ac(e,t,n,r,i,o),r=uc(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Kt(e,t,o)):(pe&&r&&Qu(t),t.flags|=1,Ae(e,t,n,o),t.child)}function tf(e,t,n,r,o){if(Ye(n)){var i=!0;_s(t)}else i=!1;if(wr(t,o),t.stateNode===null)rs(e,t),xm(t,n,r),Qa(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=at(u):(u=Ye(n)?Hn:De.current,u=Nr(t,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Kd(t,s,r,u),an=!1;var f=t.memoizedState;s.state=f,Ps(t,r,s,o),a=t.memoizedState,l!==r||f!==a||Ue.current||an?(typeof d=="function"&&(Ka(t,n,d,r),a=t.memoizedState),(l=an||Gd(t,n,l,r,f,a,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,qp(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:dt(t.type,l),s.props=u,c=t.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=at(a):(a=Ye(n)?Hn:De.current,a=Nr(t,a));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==c||f!==a)&&Kd(t,s,r,a),an=!1,f=t.memoizedState,s.state=f,Ps(t,r,s,o);var x=t.memoizedState;l!==c||f!==x||Ue.current||an?(typeof y=="function"&&(Ka(t,n,y,r),x=t.memoizedState),(u=an||Gd(t,n,u,r,f,x,a)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ja(e,t,n,r,i,o)}function Ja(e,t,n,r,o,i){km(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Fd(t,n,!1),Kt(e,t,i);r=t.stateNode,Sw.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Mr(t,e.child,null,i),t.child=Mr(t,null,l,i)):Ae(e,t,l,i),t.memoizedState=r.state,o&&Fd(t,n,!0),t.child}function _m(e){var t=e.stateNode;t.pendingContext?Od(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Od(e,t.context,!1),oc(e,t.containerInfo)}function nf(e,t,n,r,o){return Cr(),Zu(o),t.flags|=256,Ae(e,t,n,r),t.child}var eu={dehydrated:null,treeContext:null,retryLane:0};function tu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Em(e,t,n){var r=t.pendingProps,o=xe.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ue(xe,o&1),e===null)return Xa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=al(s,r,0,null),e=Dn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=tu(n),t.memoizedState=eu,e):fc(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return bw(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Sn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=Sn(l,i):(i=Dn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?tu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=eu,r}return i=e.child,e=i.sibling,r=Sn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function fc(e,t){return t=al({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zi(e,t,n,r){return r!==null&&Zu(r),Mr(t,e.child,null,n),e=fc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bw(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=ea(Error(H(422))),zi(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=al({mode:"visible",children:r.children},o,0,null),i=Dn(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Mr(t,e.child,null,s),t.child.memoizedState=tu(s),t.memoizedState=eu,i);if(!(t.mode&1))return zi(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(H(419)),r=ea(i,r,void 0),zi(e,t,s,r)}if(l=(s&e.childLanes)!==0,Ve||l){if(r=Me,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Gt(e,o),vt(r,e,o,-1))}return xc(),r=ea(Error(H(421))),zi(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=zw.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Qe=yn(o.nextSibling),qe=t,pe=!0,pt=null,e!==null&&(rt[ot++]=Ft,rt[ot++]=Ht,rt[ot++]=Bn,Ft=e.id,Ht=e.overflow,Bn=t),t=fc(t,r.children),t.flags|=4096,t)}function rf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ga(e.return,t,n)}function ta(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Nm(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ae(e,t,r.children,n),r=xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rf(e,n,t);else if(e.tag===19)rf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(xe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&js(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ta(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&js(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ta(t,!0,n,null,i);break;case"together":ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=Sn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kw(e,t,n){switch(t.tag){case 3:_m(t),Cr();break;case 5:Zp(t);break;case 1:Ye(t.type)&&_s(t);break;case 4:oc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ue(Cs,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?Em(e,t,n):(ue(xe,xe.current&1),e=Kt(e,t,n),e!==null?e.sibling:null);ue(xe,xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Nm(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ue(xe,xe.current),r)break;return null;case 22:case 23:return t.lanes=0,bm(e,t,n)}return Kt(e,t,n)}var Cm,nu,Mm,Pm;Cm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nu=function(){};Mm=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ln(jt.current);var i=null;switch(n){case"input":o=_a(e,o),r=_a(e,r),i=[];break;case"select":o=we({},o,{value:void 0}),r=we({},r,{value:void 0}),i=[];break;case"textarea":o=Ca(e,o),r=Ca(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bs)}Pa(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ro.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&fe("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Pm=function(e,t,n,r){n!==r&&(t.flags|=4)};function ro(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _w(e,t,n){var r=t.pendingProps;switch(qu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Ye(t.type)&&ks(),Le(t),null;case 3:return r=t.stateNode,Pr(),he(Ue),he(De),sc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ti(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pt!==null&&(cu(pt),pt=null))),nu(e,t),Le(t),null;case 5:ic(t);var o=Ln(Wo.current);if(n=t.type,e!==null&&t.stateNode!=null)Mm(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Le(t),null}if(e=Ln(jt.current),Ti(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ct]=t,r[Bo]=i,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(o=0;o<go.length;o++)fe(go[o],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":fd(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":pd(r,i),fe("invalid",r)}Pa(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ri(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ri(r.textContent,l,e),o=["children",""+l]):Ro.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&fe("scroll",r)}switch(n){case"input":_i(r),hd(r,i,!0);break;case"textarea":_i(r),md(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=bs)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ct]=t,e[Bo]=r,Cm(e,t,!1,!1),t.stateNode=e;e:{switch(s=ja(n,r),n){case"dialog":fe("cancel",e),fe("close",e),o=r;break;case"iframe":case"object":case"embed":fe("load",e),o=r;break;case"video":case"audio":for(o=0;o<go.length;o++)fe(go[o],e);o=r;break;case"source":fe("error",e),o=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),o=r;break;case"details":fe("toggle",e),o=r;break;case"input":fd(e,r),o=_a(e,r),fe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=we({},r,{value:void 0}),fe("invalid",e);break;case"textarea":pd(e,r),o=Ca(e,r),fe("invalid",e);break;default:o=r}Pa(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?sp(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&op(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&To(e,a):typeof a=="number"&&To(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ro.hasOwnProperty(i)?a!=null&&i==="onScroll"&&fe("scroll",e):a!=null&&$u(e,i,a,s))}switch(n){case"input":_i(e),hd(e,r,!1);break;case"textarea":_i(e),md(e);break;case"option":r.value!=null&&e.setAttribute("value",""+bn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?gr(e,!!r.multiple,i,!1):r.defaultValue!=null&&gr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=bs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)Pm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=Ln(Wo.current),Ln(jt.current),Ti(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ct]=t,(i=r.nodeValue!==n)&&(e=qe,e!==null))switch(e.tag){case 3:Ri(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ri(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ct]=t,t.stateNode=r}return Le(t),null;case 13:if(he(xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&Qe!==null&&t.mode&1&&!(t.flags&128))Xp(),Cr(),t.flags|=98560,i=!1;else if(i=Ti(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(H(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Ct]=t}else Cr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),i=!1}else pt!==null&&(cu(pt),pt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Ne===0&&(Ne=3):xc())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return Pr(),nu(e,t),e===null&&Fo(t.stateNode.containerInfo),Le(t),null;case 10:return tc(t.type._context),Le(t),null;case 17:return Ye(t.type)&&ks(),Le(t),null;case 19:if(he(xe),i=t.memoizedState,i===null)return Le(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)ro(i,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=js(e),s!==null){for(t.flags|=128,ro(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(xe,xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&be()>Ir&&(t.flags|=128,r=!0,ro(i,!1),t.lanes=4194304)}else{if(!r)if(e=js(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ro(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!pe)return Le(t),null}else 2*be()-i.renderingStartTime>Ir&&n!==1073741824&&(t.flags|=128,r=!0,ro(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=be(),t.sibling=null,n=xe.current,ue(xe,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return yc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ge&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function Ew(e,t){switch(qu(t),t.tag){case 1:return Ye(t.type)&&ks(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pr(),he(Ue),he(De),sc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ic(t),null;case 13:if(he(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(xe),null;case 4:return Pr(),null;case 10:return tc(t.type._context),null;case 22:case 23:return yc(),null;case 24:return null;default:return null}}var $i=!1,$e=!1,Nw=typeof WeakSet=="function"?WeakSet:Set,U=null;function fr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function ru(e,t,n){try{n()}catch(r){Se(e,t,r)}}var of=!1;function Cw(e,t){if(Fa=vs,e=Lp(),Ku(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,d=0,c=e,f=null;t:for(;;){for(var y;c!==n||o!==0&&c.nodeType!==3||(l=s+o),c!==i||r!==0&&c.nodeType!==3||(a=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(y=c.firstChild)!==null;)f=c,c=y;for(;;){if(c===e)break t;if(f===n&&++u===o&&(l=s),f===i&&++d===r&&(a=s),(y=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ha={focusedElem:e,selectionRange:n},vs=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,w=x.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:dt(t.type,v),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(S){Se(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return x=of,of=!1,x}function No(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&ru(t,n,i)}o=o.next}while(o!==r)}}function sl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jm(e){var t=e.alternate;t!==null&&(e.alternate=null,jm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ct],delete t[Bo],delete t[Wa],delete t[uw],delete t[cw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Im(e){return e.tag===5||e.tag===3||e.tag===4}function sf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Im(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bs));else if(r!==4&&(e=e.child,e!==null))for(iu(e,t,n),e=e.sibling;e!==null;)iu(e,t,n),e=e.sibling}function su(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(su(e,t,n),e=e.sibling;e!==null;)su(e,t,n),e=e.sibling}var Pe=null,ft=!1;function tn(e,t,n){for(n=n.child;n!==null;)Rm(e,t,n),n=n.sibling}function Rm(e,t,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Zs,n)}catch{}switch(n.tag){case 5:$e||fr(n,t);case 6:var r=Pe,o=ft;Pe=null,tn(e,t,n),Pe=r,ft=o,Pe!==null&&(ft?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(ft?(e=Pe,n=n.stateNode,e.nodeType===8?Gl(e.parentNode,n):e.nodeType===1&&Gl(e,n),Do(e)):Gl(Pe,n.stateNode));break;case 4:r=Pe,o=ft,Pe=n.stateNode.containerInfo,ft=!0,tn(e,t,n),Pe=r,ft=o;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&ru(n,t,s),o=o.next}while(o!==r)}tn(e,t,n);break;case 1:if(!$e&&(fr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Se(n,t,l)}tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,tn(e,t,n),$e=r):tn(e,t,n);break;default:tn(e,t,n)}}function lf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Nw),t.forEach(function(r){var o=$w.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ct(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Pe=l.stateNode,ft=!1;break e;case 3:Pe=l.stateNode.containerInfo,ft=!0;break e;case 4:Pe=l.stateNode.containerInfo,ft=!0;break e}l=l.return}if(Pe===null)throw Error(H(160));Rm(i,s,o),Pe=null,ft=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){Se(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tm(t,e),t=t.sibling}function Tm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ct(t,e),_t(e),r&4){try{No(3,e,e.return),sl(3,e)}catch(v){Se(e,e.return,v)}try{No(5,e,e.return)}catch(v){Se(e,e.return,v)}}break;case 1:ct(t,e),_t(e),r&512&&n!==null&&fr(n,n.return);break;case 5:if(ct(t,e),_t(e),r&512&&n!==null&&fr(n,n.return),e.flags&32){var o=e.stateNode;try{To(o,"")}catch(v){Se(e,e.return,v)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&tp(o,i),ja(l,s);var u=ja(l,i);for(s=0;s<a.length;s+=2){var d=a[s],c=a[s+1];d==="style"?sp(o,c):d==="dangerouslySetInnerHTML"?op(o,c):d==="children"?To(o,c):$u(o,d,c,u)}switch(l){case"input":Ea(o,i);break;case"textarea":np(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?gr(o,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?gr(o,!!i.multiple,i.defaultValue,!0):gr(o,!!i.multiple,i.multiple?[]:"",!1))}o[Bo]=i}catch(v){Se(e,e.return,v)}}break;case 6:if(ct(t,e),_t(e),r&4){if(e.stateNode===null)throw Error(H(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(v){Se(e,e.return,v)}}break;case 3:if(ct(t,e),_t(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Do(t.containerInfo)}catch(v){Se(e,e.return,v)}break;case 4:ct(t,e),_t(e);break;case 13:ct(t,e),_t(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(mc=be())),r&4&&lf(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?($e=(u=$e)||d,ct(t,e),$e=u):ct(t,e),_t(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(U=e,d=e.child;d!==null;){for(c=U=d;U!==null;){switch(f=U,y=f.child,f.tag){case 0:case 11:case 14:case 15:No(4,f,f.return);break;case 1:fr(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){Se(r,n,v)}}break;case 5:fr(f,f.return);break;case 22:if(f.memoizedState!==null){uf(c);continue}}y!==null?(y.return=f,U=y):uf(c)}d=d.sibling}e:for(d=null,c=e;;){if(c.tag===5){if(d===null){d=c;try{o=c.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=c.stateNode,a=c.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=ip("display",s))}catch(v){Se(e,e.return,v)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){Se(e,e.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:ct(t,e),_t(e),r&4&&lf(e);break;case 21:break;default:ct(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Im(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(To(o,""),r.flags&=-33);var i=sf(e);su(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=sf(e);iu(e,l,s);break;default:throw Error(H(161))}}catch(a){Se(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mw(e,t,n){U=e,Lm(e)}function Lm(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var o=U,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||$i;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||$e;l=$i;var u=$e;if($i=s,($e=a)&&!u)for(U=o;U!==null;)s=U,a=s.child,s.tag===22&&s.memoizedState!==null?cf(o):a!==null?(a.return=s,U=a):cf(o);for(;i!==null;)U=i,Lm(i),i=i.sibling;U=o,$i=l,$e=u}af(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,U=i):af(e)}}function af(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||sl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$e)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ud(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ud(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Do(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}$e||t.flags&512&&ou(t)}catch(f){Se(t,t.return,f)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function uf(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function cf(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(a){Se(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){Se(t,o,a)}}var i=t.return;try{ou(t)}catch(a){Se(t,i,a)}break;case 5:var s=t.return;try{ou(t)}catch(a){Se(t,s,a)}}}catch(a){Se(t,t.return,a)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var Pw=Math.ceil,Ts=Zt.ReactCurrentDispatcher,hc=Zt.ReactCurrentOwner,lt=Zt.ReactCurrentBatchConfig,ie=0,Me=null,ke=null,je=0,Ge=0,hr=En(0),Ne=0,Go=null,Wn=0,ll=0,pc=0,Co=null,Be=null,mc=0,Ir=1/0,At=null,Ls=!1,lu=null,vn=null,Di=!1,hn=null,zs=0,Mo=0,au=null,os=-1,is=0;function Oe(){return ie&6?be():os!==-1?os:os=be()}function wn(e){return e.mode&1?ie&2&&je!==0?je&-je:fw.transition!==null?(is===0&&(is=xp()),is):(e=ae,e!==0||(e=window.event,e=e===void 0?16:Ep(e.type)),e):1}function vt(e,t,n,r){if(50<Mo)throw Mo=0,au=null,Error(H(185));si(e,n,r),(!(ie&2)||e!==Me)&&(e===Me&&(!(ie&2)&&(ll|=n),Ne===4&&cn(e,je)),Xe(e,r),n===1&&ie===0&&!(t.mode&1)&&(Ir=be()+500,rl&&Nn()))}function Xe(e,t){var n=e.callbackNode;fv(e,t);var r=xs(e,e===Me?je:0);if(r===0)n!==null&&xd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xd(n),t===1)e.tag===0?dw(df.bind(null,e)):Wp(df.bind(null,e)),lw(function(){!(ie&6)&&Nn()}),n=null;else{switch(vp(r)){case 1:n=Hu;break;case 4:n=gp;break;case 16:n=ys;break;case 536870912:n=yp;break;default:n=ys}n=Bm(n,zm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zm(e,t){if(os=-1,is=0,ie&6)throw Error(H(327));var n=e.callbackNode;if(Sr()&&e.callbackNode!==n)return null;var r=xs(e,e===Me?je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$s(e,r);else{t=r;var o=ie;ie|=2;var i=Dm();(Me!==e||je!==t)&&(At=null,Ir=be()+500,$n(e,t));do try{Rw();break}catch(l){$m(e,l)}while(!0);ec(),Ts.current=i,ie=o,ke!==null?t=0:(Me=null,je=0,t=Ne)}if(t!==0){if(t===2&&(o=za(e),o!==0&&(r=o,t=uu(e,o))),t===1)throw n=Go,$n(e,0),cn(e,r),Xe(e,be()),n;if(t===6)cn(e,r);else{if(o=e.current.alternate,!(r&30)&&!jw(o)&&(t=$s(e,r),t===2&&(i=za(e),i!==0&&(r=i,t=uu(e,i))),t===1))throw n=Go,$n(e,0),cn(e,r),Xe(e,be()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:jn(e,Be,At);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=mc+500-be(),10<t)){if(xs(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Oe(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Va(jn.bind(null,e,Be,At),t);break}jn(e,Be,At);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-xt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pw(r/1960))-r,10<r){e.timeoutHandle=Va(jn.bind(null,e,Be,At),r);break}jn(e,Be,At);break;case 5:jn(e,Be,At);break;default:throw Error(H(329))}}}return Xe(e,be()),e.callbackNode===n?zm.bind(null,e):null}function uu(e,t){var n=Co;return e.current.memoizedState.isDehydrated&&($n(e,t).flags|=256),e=$s(e,t),e!==2&&(t=Be,Be=n,t!==null&&cu(t)),e}function cu(e){Be===null?Be=e:Be.push.apply(Be,e)}function jw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!wt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~pc,t&=~ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function df(e){if(ie&6)throw Error(H(327));Sr();var t=xs(e,0);if(!(t&1))return Xe(e,be()),null;var n=$s(e,t);if(e.tag!==0&&n===2){var r=za(e);r!==0&&(t=r,n=uu(e,r))}if(n===1)throw n=Go,$n(e,0),cn(e,t),Xe(e,be()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jn(e,Be,At),Xe(e,be()),null}function gc(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(Ir=be()+500,rl&&Nn())}}function Un(e){hn!==null&&hn.tag===0&&!(ie&6)&&Sr();var t=ie;ie|=1;var n=lt.transition,r=ae;try{if(lt.transition=null,ae=1,e)return e()}finally{ae=r,lt.transition=n,ie=t,!(ie&6)&&Nn()}}function yc(){Ge=hr.current,he(hr)}function $n(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sw(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(qu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ks();break;case 3:Pr(),he(Ue),he(De),sc();break;case 5:ic(r);break;case 4:Pr();break;case 13:he(xe);break;case 19:he(xe);break;case 10:tc(r.type._context);break;case 22:case 23:yc()}n=n.return}if(Me=e,ke=e=Sn(e.current,null),je=Ge=t,Ne=0,Go=null,pc=ll=Wn=0,Be=Co=null,Tn!==null){for(t=0;t<Tn.length;t++)if(n=Tn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Tn=null}return e}function $m(e,t){do{var n=ke;try{if(ec(),ts.current=Rs,Is){for(var r=ve.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Is=!1}if(Vn=0,Ce=Ee=ve=null,Eo=!1,Uo=0,hc.current=null,n===null||n.return===null){Ne=1,Go=t,ke=null;break}e:{var i=e,s=n.return,l=n,a=t;if(t=je,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=qd(s);if(y!==null){y.flags&=-257,Zd(y,s,l,i,t),y.mode&1&&Qd(i,u,t),t=y,a=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(a),t.updateQueue=v}else x.add(a);break e}else{if(!(t&1)){Qd(i,u,t),xc();break e}a=Error(H(426))}}else if(pe&&l.mode&1){var w=qd(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Zd(w,s,l,i,t),Zu(jr(a,l));break e}}i=a=jr(a,l),Ne!==4&&(Ne=2),Co===null?Co=[i]:Co.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=vm(i,a,t);Wd(i,p);break e;case 1:l=a;var m=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(vn===null||!vn.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=wm(i,l,t);Wd(i,S);break e}}i=i.return}while(i!==null)}Om(n)}catch(_){t=_,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function Dm(){var e=Ts.current;return Ts.current=Rs,e===null?Rs:e}function xc(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Me===null||!(Wn&268435455)&&!(ll&268435455)||cn(Me,je)}function $s(e,t){var n=ie;ie|=2;var r=Dm();(Me!==e||je!==t)&&(At=null,$n(e,t));do try{Iw();break}catch(o){$m(e,o)}while(!0);if(ec(),ie=n,Ts.current=r,ke!==null)throw Error(H(261));return Me=null,je=0,Ne}function Iw(){for(;ke!==null;)Am(ke)}function Rw(){for(;ke!==null&&!rv();)Am(ke)}function Am(e){var t=Hm(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?Om(e):ke=t,hc.current=null}function Om(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ew(n,t),n!==null){n.flags&=32767,ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,ke=null;return}}else if(n=_w(n,t,Ge),n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);Ne===0&&(Ne=5)}function jn(e,t,n){var r=ae,o=lt.transition;try{lt.transition=null,ae=1,Tw(e,t,n,r)}finally{lt.transition=o,ae=r}return null}function Tw(e,t,n,r){do Sr();while(hn!==null);if(ie&6)throw Error(H(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(hv(e,i),e===Me&&(ke=Me=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Di||(Di=!0,Bm(ys,function(){return Sr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=lt.transition,lt.transition=null;var s=ae;ae=1;var l=ie;ie|=4,hc.current=null,Cw(e,n),Tm(n,e),Jv(Ha),vs=!!Fa,Ha=Fa=null,e.current=n,Mw(n),ov(),ie=l,ae=s,lt.transition=i}else e.current=n;if(Di&&(Di=!1,hn=e,zs=o),i=e.pendingLanes,i===0&&(vn=null),lv(n.stateNode),Xe(e,be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ls)throw Ls=!1,e=lu,lu=null,e;return zs&1&&e.tag!==0&&Sr(),i=e.pendingLanes,i&1?e===au?Mo++:(Mo=0,au=e):Mo=0,Nn(),null}function Sr(){if(hn!==null){var e=vp(zs),t=lt.transition,n=ae;try{if(lt.transition=null,ae=16>e?16:e,hn===null)var r=!1;else{if(e=hn,hn=null,zs=0,ie&6)throw Error(H(331));var o=ie;for(ie|=4,U=e.current;U!==null;){var i=U,s=i.child;if(U.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(U=u;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:No(8,d,i)}var c=d.child;if(c!==null)c.return=d,U=c;else for(;U!==null;){d=U;var f=d.sibling,y=d.return;if(jm(d),d===u){U=null;break}if(f!==null){f.return=y,U=f;break}U=y}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}U=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,U=s;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:No(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,U=p;break e}U=i.return}}var m=e.current;for(U=m;U!==null;){s=U;var h=s.child;if(s.subtreeFlags&2064&&h!==null)h.return=s,U=h;else e:for(s=m;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(_){Se(l,l.return,_)}if(l===s){U=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,U=S;break e}U=l.return}}if(ie=o,Nn(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Zs,e)}catch{}r=!0}return r}finally{ae=n,lt.transition=t}}return!1}function ff(e,t,n){t=jr(n,t),t=vm(e,t,1),e=xn(e,t,1),t=Oe(),e!==null&&(si(e,1,t),Xe(e,t))}function Se(e,t,n){if(e.tag===3)ff(e,e,n);else for(;t!==null;){if(t.tag===3){ff(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vn===null||!vn.has(r))){e=jr(n,e),e=wm(t,e,1),t=xn(t,e,1),e=Oe(),t!==null&&(si(t,1,e),Xe(t,e));break}}t=t.return}}function Lw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Oe(),e.pingedLanes|=e.suspendedLanes&n,Me===e&&(je&n)===n&&(Ne===4||Ne===3&&(je&130023424)===je&&500>be()-mc?$n(e,0):pc|=n),Xe(e,t)}function Fm(e,t){t===0&&(e.mode&1?(t=Ci,Ci<<=1,!(Ci&130023424)&&(Ci=4194304)):t=1);var n=Oe();e=Gt(e,t),e!==null&&(si(e,t,n),Xe(e,n))}function zw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Fm(e,n)}function $w(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),Fm(e,n)}var Hm;Hm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)Ve=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ve=!1,kw(e,t,n);Ve=!!(e.flags&131072)}else Ve=!1,pe&&t.flags&1048576&&Up(t,Ns,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rs(e,t),e=t.pendingProps;var o=Nr(t,De.current);wr(t,n),o=ac(null,t,r,e,o,n);var i=uc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(r)?(i=!0,_s(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,rc(t),o.updater=il,t.stateNode=o,o._reactInternals=t,Qa(t,r,e,n),t=Ja(null,t,r,!0,i,n)):(t.tag=0,pe&&i&&Qu(t),Ae(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(rs(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Aw(r),e=dt(r,e),o){case 0:t=Za(null,t,r,e,n);break e;case 1:t=tf(null,t,r,e,n);break e;case 11:t=Jd(null,t,r,e,n);break e;case 14:t=ef(null,t,r,dt(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:dt(r,o),Za(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:dt(r,o),tf(e,t,r,o,n);case 3:e:{if(_m(t),e===null)throw Error(H(387));r=t.pendingProps,i=t.memoizedState,o=i.element,qp(e,t),Ps(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=jr(Error(H(423)),t),t=nf(e,t,r,n,o);break e}else if(r!==o){o=jr(Error(H(424)),t),t=nf(e,t,r,n,o);break e}else for(Qe=yn(t.stateNode.containerInfo.firstChild),qe=t,pe=!0,pt=null,n=Kp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cr(),r===o){t=Kt(e,t,n);break e}Ae(e,t,r,n)}t=t.child}return t;case 5:return Zp(t),e===null&&Xa(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Ba(r,o)?s=null:i!==null&&Ba(r,i)&&(t.flags|=32),km(e,t),Ae(e,t,s,n),t.child;case 6:return e===null&&Xa(t),null;case 13:return Em(e,t,n);case 4:return oc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mr(t,null,r,n):Ae(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:dt(r,o),Jd(e,t,r,o,n);case 7:return Ae(e,t,t.pendingProps,n),t.child;case 8:return Ae(e,t,t.pendingProps.children,n),t.child;case 12:return Ae(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ue(Cs,r._currentValue),r._currentValue=s,i!==null)if(wt(i.value,s)){if(i.children===o.children&&!Ue.current){t=Kt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Vt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ga(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(H(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ga(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ae(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,wr(t,n),o=at(o),r=r(o),t.flags|=1,Ae(e,t,r,n),t.child;case 14:return r=t.type,o=dt(r,t.pendingProps),o=dt(r.type,o),ef(e,t,r,o,n);case 15:return Sm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:dt(r,o),rs(e,t),t.tag=1,Ye(r)?(e=!0,_s(t)):e=!1,wr(t,n),xm(t,r,o),Qa(t,r,o,n),Ja(null,t,r,!0,e,n);case 19:return Nm(e,t,n);case 22:return bm(e,t,n)}throw Error(H(156,t.tag))};function Bm(e,t){return mp(e,t)}function Dw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(e,t,n,r){return new Dw(e,t,n,r)}function vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Aw(e){if(typeof e=="function")return vc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Au)return 11;if(e===Ou)return 14}return 2}function Sn(e,t){var n=e.alternate;return n===null?(n=it(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ss(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")vc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case rr:return Dn(n.children,o,i,t);case Du:s=8,o|=8;break;case wa:return e=it(12,n,t,o|2),e.elementType=wa,e.lanes=i,e;case Sa:return e=it(13,n,t,o),e.elementType=Sa,e.lanes=i,e;case ba:return e=it(19,n,t,o),e.elementType=ba,e.lanes=i,e;case Zh:return al(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qh:s=10;break e;case qh:s=9;break e;case Au:s=11;break e;case Ou:s=14;break e;case ln:s=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=it(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Dn(e,t,n,r){return e=it(7,e,r,t),e.lanes=n,e}function al(e,t,n,r){return e=it(22,e,r,t),e.elementType=Zh,e.lanes=n,e.stateNode={isHidden:!1},e}function na(e,t,n){return e=it(6,e,null,t),e.lanes=n,e}function ra(e,t,n){return t=it(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ow(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dl(0),this.expirationTimes=Dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function wc(e,t,n,r,o,i,s,l,a){return e=new Ow(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=it(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rc(i),e}function Fw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Vm(e){if(!e)return kn;e=e._reactInternals;e:{if(Zn(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(Ye(n))return Vp(e,n,t)}return t}function Wm(e,t,n,r,o,i,s,l,a){return e=wc(n,r,!0,e,o,i,s,l,a),e.context=Vm(null),n=e.current,r=Oe(),o=wn(n),i=Vt(r,o),i.callback=t??null,xn(n,i,o),e.current.lanes=o,si(e,o,r),Xe(e,r),e}function ul(e,t,n,r){var o=t.current,i=Oe(),s=wn(o);return n=Vm(n),t.context===null?t.context=n:t.pendingContext=n,t=Vt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xn(o,t,s),e!==null&&(vt(e,o,s,i),es(e,o,s)),s}function Ds(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sc(e,t){hf(e,t),(e=e.alternate)&&hf(e,t)}function Hw(){return null}var Um=typeof reportError=="function"?reportError:function(e){console.error(e)};function bc(e){this._internalRoot=e}cl.prototype.render=bc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));ul(e,t,null,null)};cl.prototype.unmount=bc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Un(function(){ul(null,e,null,null)}),t[Xt]=null}};function cl(e){this._internalRoot=e}cl.prototype.unstable_scheduleHydration=function(e){if(e){var t=bp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<un.length&&t!==0&&t<un[n].priority;n++);un.splice(n,0,e),n===0&&_p(e)}};function kc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pf(){}function Bw(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=Ds(s);i.call(u)}}var s=Wm(t,r,e,0,null,!1,!1,"",pf);return e._reactRootContainer=s,e[Xt]=s.current,Fo(e.nodeType===8?e.parentNode:e),Un(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=Ds(a);l.call(u)}}var a=wc(e,0,!1,null,null,!1,!1,"",pf);return e._reactRootContainer=a,e[Xt]=a.current,Fo(e.nodeType===8?e.parentNode:e),Un(function(){ul(t,a,n,r)}),a}function fl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=Ds(s);l.call(a)}}ul(t,s,e,o)}else s=Bw(n,t,e,o,r);return Ds(s)}wp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mo(t.pendingLanes);n!==0&&(Bu(t,n|1),Xe(t,be()),!(ie&6)&&(Ir=be()+500,Nn()))}break;case 13:Un(function(){var r=Gt(e,1);if(r!==null){var o=Oe();vt(r,e,1,o)}}),Sc(e,1)}};Vu=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=Oe();vt(t,e,134217728,n)}Sc(e,134217728)}};Sp=function(e){if(e.tag===13){var t=wn(e),n=Gt(e,t);if(n!==null){var r=Oe();vt(n,e,t,r)}Sc(e,t)}};bp=function(){return ae};kp=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};Ra=function(e,t,n){switch(t){case"input":if(Ea(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=nl(r);if(!o)throw Error(H(90));ep(r),Ea(r,o)}}}break;case"textarea":np(e,n);break;case"select":t=n.value,t!=null&&gr(e,!!n.multiple,t,!1)}};up=gc;cp=Un;var Vw={usingClientEntryPoint:!1,Events:[ai,lr,nl,lp,ap,gc]},oo={findFiberByHostInstance:Rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ww={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hp(e),e===null?null:e.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||Hw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ai=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ai.isDisabled&&Ai.supportsFiber)try{Zs=Ai.inject(Ww),Pt=Ai}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vw;et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kc(t))throw Error(H(200));return Fw(e,t,null,n)};et.createRoot=function(e,t){if(!kc(e))throw Error(H(299));var n=!1,r="",o=Um;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=wc(e,1,!1,null,null,n,!1,r,o),e[Xt]=t.current,Fo(e.nodeType===8?e.parentNode:e),new bc(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=hp(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return Un(e)};et.hydrate=function(e,t,n){if(!dl(t))throw Error(H(200));return fl(null,e,t,!0,n)};et.hydrateRoot=function(e,t,n){if(!kc(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Um;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Wm(t,null,e,1,n??null,o,!1,i,s),e[Xt]=t.current,Fo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new cl(t)};et.render=function(e,t,n){if(!dl(t))throw Error(H(200));return fl(null,e,t,!1,n)};et.unmountComponentAtNode=function(e){if(!dl(e))throw Error(H(40));return e._reactRootContainer?(Un(function(){fl(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};et.unstable_batchedUpdates=gc;et.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!dl(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return fl(e,t,n,!1,r)};et.version="18.3.1-next-f1338f8080-20240426";function Ym(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ym)}catch(e){console.error(e)}}Ym(),Yh.exports=et;var Xm=Yh.exports,Gm,mf=Xm;Gm=mf.createRoot,mf.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gf="popstate";function Uw(e={}){function t(r,o){let{pathname:i,search:s,hash:l}=r.location;return du("",{pathname:i,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Ko(o)}return Xw(t,n,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function St(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yw(){return Math.random().toString(36).substring(2,10)}function yf(e,t){return{usr:e.state,key:e.key,idx:t}}function du(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Vr(t):t,state:n,key:t&&t.key||r||Yw()}}function Ko({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Vr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Xw(e,t,n,r={}){let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,l="POP",a=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function c(){l="POP";let w=d(),p=w==null?null:w-u;u=w,a&&a({action:l,location:v.location,delta:p})}function f(w,p){l="PUSH";let m=du(v.location,w,p);u=d()+1;let h=yf(m,u),S=v.createHref(m);try{s.pushState(h,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;o.location.assign(S)}i&&a&&a({action:l,location:v.location,delta:1})}function y(w,p){l="REPLACE";let m=du(v.location,w,p);u=d();let h=yf(m,u),S=v.createHref(m);s.replaceState(h,"",S),i&&a&&a({action:l,location:v.location,delta:0})}function x(w){return Gw(w)}let v={get action(){return l},get location(){return e(o,s)},listen(w){if(a)throw new Error("A history only accepts one active listener");return o.addEventListener(gf,c),a=w,()=>{o.removeEventListener(gf,c),a=null}},createHref(w){return t(o,w)},createURL:x,encodeLocation(w){let p=x(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:y,go(w){return s.go(w)}};return v}function Gw(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),me(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Ko(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Km(e,t,n="/"){return Kw(e,t,n,!1)}function Kw(e,t,n,r){let o=typeof t=="string"?Vr(t):t,i=Qt(o.pathname||"/",n);if(i==null)return null;let s=Qm(e);Qw(s);let l=null;for(let a=0;l==null&&a<s.length;++a){let u=l1(i);l=i1(s[a],u,r)}return l}function Qm(e,t=[],n=[],r="",o=!1){let i=(s,l,a=o,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&a)return;me(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let c=Wt([r,d.relativePath]),f=n.concat(d);s.children&&s.children.length>0&&(me(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Qm(s.children,t,f,c,a)),!(s.path==null&&!s.index)&&t.push({path:c,score:r1(c,s.index),routesMeta:f})};return e.forEach((s,l)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,l);else for(let u of qm(s.path))i(s,l,!0,u)}),t}function qm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=qm(r.join("/")),l=[];return l.push(...s.map(a=>a===""?i:[i,a].join("/"))),o&&l.push(...s),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function Qw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:o1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var qw=/^:[\w-]+$/,Zw=3,Jw=2,e1=1,t1=10,n1=-2,xf=e=>e==="*";function r1(e,t){let n=e.split("/"),r=n.length;return n.some(xf)&&(r+=n1),t&&(r+=Jw),n.filter(o=>!xf(o)).reduce((o,i)=>o+(qw.test(i)?Zw:i===""?e1:t1),r)}function o1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function i1(e,t,n=!1){let{routesMeta:r}=e,o={},i="/",s=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",c=As({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},d),f=a.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=As({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},d)),!c)return null;Object.assign(o,c.params),s.push({params:o,pathname:Wt([i,c.pathname]),pathnameBase:d1(Wt([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Wt([i,c.pathnameBase]))}return s}function As(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=s1(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:c},f)=>{if(d==="*"){let x=l[f]||"";s=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[f];return c&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function s1(e,t=!1,n=!0){St(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function l1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return St(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Qt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var a1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function u1(e,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Vr(e):e,i;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?i=vf(n.substring(1),"/"):i=vf(n,t)):i=t,{pathname:i,search:f1(r),hash:h1(o)}}function vf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function oa(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _c(e){let t=c1(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Ec(e,t,n,r=!1){let o;typeof e=="string"?o=Vr(e):(o={...e},me(!o.pathname||!o.pathname.includes("?"),oa("?","pathname","search",o)),me(!o.pathname||!o.pathname.includes("#"),oa("#","pathname","hash",o)),me(!o.search||!o.search.includes("#"),oa("#","search","hash",o)));let i=e===""||o.pathname==="",s=i?"/":o.pathname,l;if(s==null)l=n;else{let c=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),c-=1;o.pathname=f.join("/")}l=c>=0?t[c]:"/"}let a=u1(o,l),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||d)&&(a.pathname+="/"),a}var Wt=e=>e.join("/").replace(/\/\/+/g,"/"),d1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),f1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,h1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,p1=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function m1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function g1(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Zm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Jm(e,t){let n=e;if(typeof n!="string"||!a1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(Zm)try{let i=new URL(window.location.href),s=n.startsWith("//")?new URL(i.protocol+n):new URL(n),l=Qt(s.pathname,t);s.origin===i.origin&&l!=null?n=l+s.search+s.hash:o=!0}catch{St(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eg=["POST","PUT","PATCH","DELETE"];new Set(eg);var y1=["GET",...eg];new Set(y1);var Wr=b.createContext(null);Wr.displayName="DataRouter";var hl=b.createContext(null);hl.displayName="DataRouterState";var x1=b.createContext(!1),tg=b.createContext({isTransitioning:!1});tg.displayName="ViewTransition";var v1=b.createContext(new Map);v1.displayName="Fetchers";var w1=b.createContext(null);w1.displayName="Await";var nt=b.createContext(null);nt.displayName="Navigation";var ci=b.createContext(null);ci.displayName="Location";var bt=b.createContext({outlet:null,matches:[],isDataRoute:!1});bt.displayName="Route";var Nc=b.createContext(null);Nc.displayName="RouteError";var ng="REACT_ROUTER_ERROR",S1="REDIRECT",b1="ROUTE_ERROR_RESPONSE";function k1(e){if(e.startsWith(`${ng}:${S1}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function _1(e){if(e.startsWith(`${ng}:${b1}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new p1(t.status,t.statusText,t.data)}catch{}}function E1(e,{relative:t}={}){me(Ur(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(nt),{hash:o,pathname:i,search:s}=fi(e,{relative:t}),l=i;return n!=="/"&&(l=i==="/"?n:Wt([n,i])),r.createHref({pathname:l,search:s,hash:o})}function Ur(){return b.useContext(ci)!=null}function Cn(){return me(Ur(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(ci).location}var rg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function og(e){b.useContext(nt).static||b.useLayoutEffect(e)}function di(){let{isDataRoute:e}=b.useContext(bt);return e?O1():N1()}function N1(){me(Ur(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Wr),{basename:t,navigator:n}=b.useContext(nt),{matches:r}=b.useContext(bt),{pathname:o}=Cn(),i=JSON.stringify(_c(r)),s=b.useRef(!1);return og(()=>{s.current=!0}),b.useCallback((a,u={})=>{if(St(s.current,rg),!s.current)return;if(typeof a=="number"){n.go(a);return}let d=Ec(a,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Wt([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,i,o,e])}b.createContext(null);function C1(){let{matches:e}=b.useContext(bt),t=e[e.length-1];return t?t.params:{}}function fi(e,{relative:t}={}){let{matches:n}=b.useContext(bt),{pathname:r}=Cn(),o=JSON.stringify(_c(n));return b.useMemo(()=>Ec(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function M1(e,t){return ig(e,t)}function ig(e,t,n,r,o){var m;me(Ur(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(nt),{matches:s}=b.useContext(bt),l=s[s.length-1],a=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",c=l&&l.route;{let h=c&&c.path||"";lg(u,!c||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let f=Cn(),y;if(t){let h=typeof t=="string"?Vr(t):t;me(d==="/"||((m=h.pathname)==null?void 0:m.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${h.pathname}" was given in the \`location\` prop.`),y=h}else y=f;let x=y.pathname||"/",v=x;if(d!=="/"){let h=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(h.length).join("/")}let w=Km(e,{pathname:v});St(c||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),St(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let p=T1(w&&w.map(h=>Object.assign({},h,{params:Object.assign({},a,h.params),pathname:Wt([d,i.encodeLocation?i.encodeLocation(h.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?d:Wt([d,i.encodeLocation?i.encodeLocation(h.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathnameBase])})),s,n,r,o);return t&&p?b.createElement(ci.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},p):p}function P1(){let e=A1(),t=m1(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:o},n):null,s)}var j1=b.createElement(P1,null),sg=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=_1(e.digest);n&&(e=n)}let t=e!==void 0?b.createElement(bt.Provider,{value:this.props.routeContext},b.createElement(Nc.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?b.createElement(I1,{error:e},t):t}};sg.contextType=x1;var ia=new WeakMap;function I1({children:e,error:t}){let{basename:n}=b.useContext(nt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=k1(t.digest);if(r){let o=ia.get(t);if(o)throw o;let i=Jm(r.location,n);if(Zm&&!ia.get(t))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw ia.set(t,s),s}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function R1({routeContext:e,match:t,children:n}){let r=b.useContext(Wr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(bt.Provider,{value:e},n)}function T1(e,t=[],n=null,r=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let d=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);me(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,a=-1;if(n)for(let d=0;d<i.length;d++){let c=i[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=d),c.route.id){let{loaderData:f,errors:y}=n,x=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!y||y[c.route.id]===void 0);if(c.route.lazy||x){l=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}let u=n&&r?(d,c)=>{var f,y;r(d,{location:n.location,params:((y=(f=n.matches)==null?void 0:f[0])==null?void 0:y.params)??{},unstable_pattern:g1(n.matches),errorInfo:c})}:void 0;return i.reduceRight((d,c,f)=>{let y,x=!1,v=null,w=null;n&&(y=s&&c.route.id?s[c.route.id]:void 0,v=c.route.errorElement||j1,l&&(a<0&&f===0?(lg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):a===f&&(x=!0,w=c.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,f+1)),m=()=>{let h;return y?h=v:x?h=w:c.route.Component?h=b.createElement(c.route.Component,null):c.route.element?h=c.route.element:h=d,b.createElement(R1,{match:c,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:h})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?b.createElement(sg,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:u}):m()},null)}function Cc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L1(e){let t=b.useContext(Wr);return me(t,Cc(e)),t}function z1(e){let t=b.useContext(hl);return me(t,Cc(e)),t}function $1(e){let t=b.useContext(bt);return me(t,Cc(e)),t}function Mc(e){let t=$1(e),n=t.matches[t.matches.length-1];return me(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function D1(){return Mc("useRouteId")}function A1(){var r;let e=b.useContext(Nc),t=z1("useRouteError"),n=Mc("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function O1(){let{router:e}=L1("useNavigate"),t=Mc("useNavigate"),n=b.useRef(!1);return og(()=>{n.current=!0}),b.useCallback(async(o,i={})=>{St(n.current,rg),n.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...i}))},[e,t])}var wf={};function lg(e,t,n){!t&&!wf[e]&&(wf[e]=!0,St(!1,n))}b.memo(F1);function F1({routes:e,future:t,state:n,onError:r}){return ig(e,void 0,n,r,t)}function ag({to:e,replace:t,state:n,relative:r}){me(Ur(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=b.useContext(nt);St(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(bt),{pathname:s}=Cn(),l=di(),a=Ec(e,_c(i),s,r==="path"),u=JSON.stringify(a);return b.useEffect(()=>{l(JSON.parse(u),{replace:t,state:n,relative:r})},[l,u,r,t,n]),null}function yo(e){me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function H1({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:i=!1,unstable_useTransitions:s}){me(!Ur(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),a=b.useMemo(()=>({basename:l,navigator:o,static:i,unstable_useTransitions:s,future:{}}),[l,o,i,s]);typeof n=="string"&&(n=Vr(n));let{pathname:u="/",search:d="",hash:c="",state:f=null,key:y="default"}=n,x=b.useMemo(()=>{let v=Qt(u,l);return v==null?null:{location:{pathname:v,search:d,hash:c,state:f,key:y},navigationType:r}},[l,u,d,c,f,y,r]);return St(x!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${c}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:b.createElement(nt.Provider,{value:a},b.createElement(ci.Provider,{children:t,value:x}))}function B1({children:e,location:t}){return M1(fu(e),t)}function fu(e,t=[]){let n=[];return b.Children.forEach(e,(r,o)=>{if(!b.isValidElement(r))return;let i=[...t,o];if(r.type===b.Fragment){n.push.apply(n,fu(r.props.children,i));return}me(r.type===yo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),me(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=fu(r.props.children,i)),n.push(s)}),n}var ls="get",as="application/x-www-form-urlencoded";function pl(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function V1(e){return pl(e)&&e.tagName.toLowerCase()==="button"}function W1(e){return pl(e)&&e.tagName.toLowerCase()==="form"}function U1(e){return pl(e)&&e.tagName.toLowerCase()==="input"}function Y1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function X1(e,t){return e.button===0&&(!t||t==="_self")&&!Y1(e)}var Oi=null;function G1(){if(Oi===null)try{new FormData(document.createElement("form"),0),Oi=!1}catch{Oi=!0}return Oi}var K1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sa(e){return e!=null&&!K1.has(e)?(St(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${as}"`),null):e}function Q1(e,t){let n,r,o,i,s;if(W1(e)){let l=e.getAttribute("action");r=l?Qt(l,t):null,n=e.getAttribute("method")||ls,o=sa(e.getAttribute("enctype"))||as,i=new FormData(e)}else if(V1(e)||U1(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||l.getAttribute("action");if(r=a?Qt(a,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||ls,o=sa(e.getAttribute("formenctype"))||sa(l.getAttribute("enctype"))||as,i=new FormData(l,e),!G1()){let{name:u,type:d,value:c}=e;if(d==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,c)}}else{if(pl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ls,r=null,o=as,s=e}return i&&o==="text/plain"&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function q1(e,t,n,r){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:t&&Qt(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function Z1(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function J1(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function eS(e,t,n){let r=await Promise.all(e.map(async o=>{let i=t.routes[o.route.id];if(i){let s=await Z1(i,n);return s.links?s.links():[]}return[]}));return oS(r.flat(1).filter(J1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Sf(e,t,n,r,o,i){let s=(a,u)=>n[u]?a.route.id!==n[u].route.id:!0,l=(a,u)=>{var d;return n[u].pathname!==a.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==a.params["*"]};return i==="assets"?t.filter((a,u)=>s(a,u)||l(a,u)):i==="data"?t.filter((a,u)=>{var c;let d=r.routes[a.route.id];if(!d||!d.hasLoader)return!1;if(s(a,u)||l(a,u))return!0;if(a.route.shouldRevalidate){let f=a.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((c=n[0])==null?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function tS(e,t,{includeHydrateFallback:n}={}){return nS(e.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let i=[o.module];return o.clientActionModule&&(i=i.concat(o.clientActionModule)),o.clientLoaderModule&&(i=i.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(i=i.concat(o.hydrateFallbackModule)),o.imports&&(i=i.concat(o.imports)),i}).flat(1))}function nS(e){return[...new Set(e)]}function rS(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function oS(e,t){let n=new Set;return new Set(t),e.reduce((r,o)=>{let i=JSON.stringify(rS(o));return n.has(i)||(n.add(i),r.push({key:i,link:o})),r},[])}function ug(){let e=b.useContext(Wr);return Pc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function iS(){let e=b.useContext(hl);return Pc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var jc=b.createContext(void 0);jc.displayName="FrameworkContext";function cg(){let e=b.useContext(jc);return Pc(e,"You must render this element inside a <HydratedRouter> element"),e}function sS(e,t){let n=b.useContext(jc),[r,o]=b.useState(!1),[i,s]=b.useState(!1),{onFocus:l,onBlur:a,onMouseEnter:u,onMouseLeave:d,onTouchStart:c}=t,f=b.useRef(null);b.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let v=p=>{p.forEach(m=>{s(m.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return f.current&&w.observe(f.current),()=>{w.disconnect()}}},[e]),b.useEffect(()=>{if(r){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[r]);let y=()=>{o(!0)},x=()=>{o(!1),s(!1)};return n?e!=="intent"?[i,f,{}]:[i,f,{onFocus:io(l,y),onBlur:io(a,x),onMouseEnter:io(u,y),onMouseLeave:io(d,x),onTouchStart:io(c,y)}]:[!1,f,{}]}function io(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function lS({page:e,...t}){let{router:n}=ug(),r=b.useMemo(()=>Km(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(uS,{page:e,matches:r,...t}):null}function aS(e){let{manifest:t,routeModules:n}=cg(),[r,o]=b.useState([]);return b.useEffect(()=>{let i=!1;return eS(e,t,n).then(s=>{i||o(s)}),()=>{i=!0}},[e,t,n]),r}function uS({page:e,matches:t,...n}){let r=Cn(),{future:o,manifest:i,routeModules:s}=cg(),{basename:l}=ug(),{loaderData:a,matches:u}=iS(),d=b.useMemo(()=>Sf(e,t,u,i,r,"data"),[e,t,u,i,r]),c=b.useMemo(()=>Sf(e,t,u,i,r,"assets"),[e,t,u,i,r]),f=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,w=!1;if(t.forEach(m=>{var S;let h=i.routes[m.route.id];!h||!h.hasLoader||(!d.some(_=>_.route.id===m.route.id)&&m.route.id in a&&((S=s[m.route.id])!=null&&S.shouldRevalidate)||h.hasClientLoader?w=!0:v.add(m.route.id))}),v.size===0)return[];let p=q1(e,l,o.unstable_trailingSlashAwareDataRequests,"data");return w&&v.size>0&&p.searchParams.set("_routes",t.filter(m=>v.has(m.route.id)).map(m=>m.route.id).join(",")),[p.pathname+p.search]},[l,o.unstable_trailingSlashAwareDataRequests,a,r,i,d,t,e,s]),y=b.useMemo(()=>tS(c,i),[c,i]),x=aS(c);return b.createElement(b.Fragment,null,f.map(v=>b.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),y.map(v=>b.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),x.map(({key:v,link:w})=>b.createElement("link",{key:v,nonce:n.nonce,...w,crossOrigin:w.crossOrigin??n.crossOrigin})))}function cS(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var dS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dS&&(window.__reactRouterVersion="7.13.0")}catch{}function fS({basename:e,children:t,unstable_useTransitions:n,window:r}){let o=b.useRef();o.current==null&&(o.current=Uw({window:r,v5Compat:!0}));let i=o.current,[s,l]=b.useState({action:i.action,location:i.location}),a=b.useCallback(u=>{n===!1?l(u):b.startTransition(()=>l(u))},[n]);return b.useLayoutEffect(()=>i.listen(a),[i,a]),b.createElement(H1,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:n})}var dg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fg=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:i,replace:s,state:l,target:a,to:u,preventScrollReset:d,viewTransition:c,unstable_defaultShouldRevalidate:f,...y},x){let{basename:v,unstable_useTransitions:w}=b.useContext(nt),p=typeof u=="string"&&dg.test(u),m=Jm(u,v);u=m.to;let h=E1(u,{relative:o}),[S,_,E]=sS(r,y),N=gS(u,{replace:s,state:l,target:a,preventScrollReset:d,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:w});function P(D){t&&t(D),D.defaultPrevented||N(D)}let T=b.createElement("a",{...y,...E,href:m.absoluteURL||h,onClick:m.isExternal||i?t:P,ref:cS(x,_),target:a,"data-discover":!p&&n==="render"?"true":void 0});return S&&!p?b.createElement(b.Fragment,null,T,b.createElement(lS,{page:h})):T});fg.displayName="Link";var hS=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:i,to:s,viewTransition:l,children:a,...u},d){let c=fi(s,{relative:u.relative}),f=Cn(),y=b.useContext(hl),{navigator:x,basename:v}=b.useContext(nt),w=y!=null&&SS(c)&&l===!0,p=x.encodeLocation?x.encodeLocation(c).pathname:c.pathname,m=f.pathname,h=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(m=m.toLowerCase(),h=h?h.toLowerCase():null,p=p.toLowerCase()),h&&v&&(h=Qt(h,v)||h);const S=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let _=m===p||!o&&m.startsWith(p)&&m.charAt(S)==="/",E=h!=null&&(h===p||!o&&h.startsWith(p)&&h.charAt(p.length)==="/"),N={isActive:_,isPending:E,isTransitioning:w},P=_?t:void 0,T;typeof r=="function"?T=r(N):T=[r,_?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let D=typeof i=="function"?i(N):i;return b.createElement(fg,{...u,"aria-current":P,className:T,ref:d,style:D,to:s,viewTransition:l},typeof a=="function"?a(N):a)});hS.displayName="NavLink";var pS=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:i,method:s=ls,action:l,onSubmit:a,relative:u,preventScrollReset:d,viewTransition:c,unstable_defaultShouldRevalidate:f,...y},x)=>{let{unstable_useTransitions:v}=b.useContext(nt),w=vS(),p=wS(l,{relative:u}),m=s.toLowerCase()==="get"?"get":"post",h=typeof l=="string"&&dg.test(l),S=_=>{if(a&&a(_),_.defaultPrevented)return;_.preventDefault();let E=_.nativeEvent.submitter,N=(E==null?void 0:E.getAttribute("formmethod"))||s,P=()=>w(E||_.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:o,state:i,relative:u,preventScrollReset:d,viewTransition:c,unstable_defaultShouldRevalidate:f});v&&n!==!1?b.startTransition(()=>P()):P()};return b.createElement("form",{ref:x,method:m,action:p,onSubmit:r?a:S,...y,"data-discover":!h&&e==="render"?"true":void 0})});pS.displayName="Form";function mS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hg(e){let t=b.useContext(Wr);return me(t,mS(e)),t}function gS(e,{target:t,replace:n,state:r,preventScrollReset:o,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:a}={}){let u=di(),d=Cn(),c=fi(e,{relative:i});return b.useCallback(f=>{if(X1(f,t)){f.preventDefault();let y=n!==void 0?n:Ko(d)===Ko(c),x=()=>u(e,{replace:y,state:r,preventScrollReset:o,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l});a?b.startTransition(()=>x()):x()}},[d,u,c,n,r,t,e,o,i,s,l,a])}var yS=0,xS=()=>`__${String(++yS)}__`;function vS(){let{router:e}=hg("useSubmit"),{basename:t}=b.useContext(nt),n=D1(),r=e.fetch,o=e.navigate;return b.useCallback(async(i,s={})=>{let{action:l,method:a,encType:u,formData:d,body:c}=Q1(i,t);if(s.navigate===!1){let f=s.fetcherKey||xS();await r(f,n,s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:c,formMethod:s.method||a,formEncType:s.encType||u,flushSync:s.flushSync})}else await o(s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:c,formMethod:s.method||a,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,o,t,n])}function wS(e,{relative:t}={}){let{basename:n}=b.useContext(nt),r=b.useContext(bt);me(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),i={...fi(e||".",{relative:t})},s=Cn();if(e==null){i.search=s.search;let l=new URLSearchParams(i.search),a=l.getAll("index");if(a.some(d=>d==="")){l.delete("index"),a.filter(c=>c).forEach(c=>l.append("index",c));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Wt([n,i.pathname])),Ko(i)}function SS(e,{relative:t}={}){let n=b.useContext(tg);me(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hg("useViewTransitionState"),o=fi(e,{relative:t});if(!n.isTransitioning)return!1;let i=Qt(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Qt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return As(o.pathname,s)!=null||As(o.pathname,i)!=null}const Po="fb_session";function Ic(){try{const e=sessionStorage.getItem(Po);if(!e)return null;const t=JSON.parse(e);return Date.now()>=t.expires_at?(sessionStorage.removeItem(Po),null):t}catch{return sessionStorage.removeItem(Po),null}}function bS(e){sessionStorage.setItem(Po,JSON.stringify(e))}function hu(){sessionStorage.removeItem(Po)}const pg=b.createContext({session:null,login:async()=>{},logout:()=>{},isAuthenticated:!1});function Rc(){return b.useContext(pg)}const mg="/api/v1/flow-builder";class st extends Error{constructor(t,n,r,o){super(r),this.status=t,this.errorCode=n,this.requestId=o,this.name="ApiClientError"}}async function Tt(e,t,n){const r=Ic();if(!r)throw hu(),window.location.replace("/flow-builder/login"),new st(401,"NO_SESSION","Oturum bulunamadi");const o={Authorization:`Bearer ${r.token}`};let i={method:e,headers:o};n!==void 0&&(o["Content-Type"]="application/json",i={...i,body:JSON.stringify(n)});let s;try{s=await fetch(`${mg}${t}`,i)}catch{throw new st(0,"NETWORK_ERROR","Sunucuya baglanilamadi. Internet baglantinizi kontrol edin.")}if(s.status===401)throw hu(),window.location.replace("/flow-builder/login"),new st(401,"UNAUTHORIZED","Oturum suresi doldu");if(!s.ok){let l=null;try{l=await s.json()}catch{}throw new st(s.status,(l==null?void 0:l.error_code)??"UNKNOWN",(l==null?void 0:l.message)??`HTTP ${s.status}`,l==null?void 0:l.request_id)}if(s.status!==204)return s.json()}async function kS(e,t){let n;try{n=await fetch(`${mg}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenant_id:e,api_key:t})})}catch{throw new st(0,"NETWORK_ERROR","Sunucuya baglanilamadi. Internet baglantinizi kontrol edin.")}if(!n.ok){let r=null;try{r=await n.json()}catch{}throw new st(n.status,(r==null?void 0:r.error_code)??"UNKNOWN",(r==null?void 0:r.message)??`Giris basarisiz (HTTP ${n.status})`,r==null?void 0:r.request_id)}return n.json()}function _S(e){return Tt("GET",`/flows/${e}`)}function pu(e,t){return Tt("GET",`/flows/${e}/${t}`)}function bf(e,t){return Tt("POST",`/flows/${e}`,t)}function ES(e,t,n){return Tt("PUT",`/flows/${e}/${t}`,n)}function NS(e,t){return Tt("DELETE",`/flows/${e}/${t}`)}function CS(e,t){return Tt("POST",`/flows/${e}/${t}/activate`)}function MS(e,t){return Tt("POST",`/flows/${e}/${t}/deactivate`)}function PS(e,t){return Tt("POST","/simulation/start",{tenant_id:e,flow_id:t})}function jS(e,t){return Tt("POST","/simulation/step",{session_id:e,message:t})}function kf(e){return Tt("DELETE",`/simulation/${e}`)}function IS(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[o,i]=b.useState(null),[s,l]=b.useState(!1),{login:a}=Rc(),u=di(),d=async c=>{c.preventDefault(),i(null);const f=parseInt(e,10);if(!f||f<=0){i("Gecerli bir Tenant ID girin.");return}if(!n.trim()){i("API Key bos olamaz.");return}l(!0);try{await a(f,n.trim()),u("/",{replace:!0})}catch(y){i(y instanceof Error?y.message:"Giris basarisiz")}finally{l(!1)}};return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:g.jsxs("div",{className:"w-full max-w-sm",children:[g.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-8 shadow-sm",children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Flow Builder"}),g.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Giris yapmak icin tenant bilgilerinizi girin."}),g.jsxs("form",{onSubmit:d,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"tenantId",className:"block text-sm text-slate-700 mb-1",children:"Tenant ID"}),g.jsx("input",{id:"tenantId",type:"number",min:"1",value:e,onChange:c=>t(c.target.value),className:"w-full px-3 py-2 bg-white border border-slate-300 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition",placeholder:"ornek: 1",required:!0,disabled:s})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"apiKey",className:"block text-sm text-slate-700 mb-1",children:"API Key"}),g.jsx("input",{id:"apiKey",type:"password",value:n,onChange:c=>r(c.target.value),className:"w-full px-3 py-2 bg-white border border-slate-300 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition",placeholder:"flow_builder_api_key",required:!0,disabled:s})]}),o&&g.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg px-3 py-2",children:o}),g.jsx("button",{type:"submit",disabled:s,className:"w-full py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 disabled:opacity-50 text-white font-medium rounded-lg transition",children:s?"Giris yapiliyor...":"Giris Yap"})]})]}),g.jsx("p",{className:"text-center text-xs text-slate-400 mt-4",children:"Invekto Flow Builder v2"})]})})}const gg=[{type:"trigger_start",category:"trigger",label:"Baslangic",description:"Flow giris noktasi",color:"#10b981",maxInstances:1,defaultData:{label:"Baslangic"}},{type:"message_text",category:"message",label:"Mesaj",description:"Metin mesaj gonder",color:"#3b82f6",defaultData:{label:"Mesaj",text:""}},{type:"message_menu",category:"message",label:"Menu",description:"Secenekli menu goster",color:"#3b82f6",defaultData:{label:"Menu",text:"Secim yapin:",options:[{key:"1",label:"Secenek 1",handle_id:"opt_1"}]}},{type:"logic_condition",category:"logic",label:"Kosul",description:"If/else dallanma",color:"#f59e0b",defaultData:{label:"Kosul",variable:"",operator:"equals",value:""}},{type:"logic_switch",category:"logic",label:"Switch",description:"Coklu dallanma",color:"#f59e0b",defaultData:{label:"Switch",variable:"",cases:[{value:"",handle_id:"case_1"}],default_handle_id:"default"}},{type:"ai_intent",category:"ai",label:"Intent Algilama",description:"Claude AI ile niyet tespiti",color:"#8b5cf6",defaultData:{label:"Intent",confidence_threshold:.5}},{type:"ai_faq",category:"ai",label:"FAQ Arama",description:"SSS veritabaninda ara",color:"#8b5cf6",defaultData:{label:"FAQ",min_confidence:.3}},{type:"action_handoff",category:"action",label:"Temsilciye Aktar",description:"Insana yonlendir (terminal)",color:"#ef4444",defaultData:{label:"Temsilciye Aktar"}},{type:"action_api_call",category:"action",label:"API Cagrisi",description:"Harici API endpoint cagir",color:"#ef4444",defaultData:{label:"API",method:"POST",url:"",timeout_ms:5e3}},{type:"action_delay",category:"action",label:"Bekle",description:"N saniye bekle",color:"#ef4444",defaultData:{label:"Bekle",seconds:5}},{type:"utility_set_variable",category:"utility",label:"Degisken Ata",description:"Session degiskeni ayarla",color:"#6b7280",defaultData:{label:"Degisken",variable_name:"",value_expression:""}},{type:"utility_note",category:"utility",label:"Not",description:"Gorsel yorum (calistirilmaz)",color:"#6b7280",defaultData:{label:"Not",text:""}}];function yg(e){return gg.find(t=>t.type===e)}function Os(){return{version:2,metadata:{name:"Yeni Flow",canvas_viewport:{x:0,y:0,zoom:1}},nodes:[{id:"trigger_start_1",type:"trigger_start",position:{x:300,y:50},data:{label:"Baslangic"}}],edges:[],settings:{off_hours_message:"Su anda mesai saatleri disindayiz.",unknown_input_message:"Anlayamadim. Lutfen gecerli bir secenek girin.",handoff_confidence_threshold:.5,session_timeout_minutes:30,max_loop_count:10}}}function RS(){const{session:e,logout:t}=Rc(),n=di(),r=(e==null?void 0:e.tenant_id)??0,[o,i]=b.useState([]),[s,l]=b.useState(!0),[a,u]=b.useState(null),[d,c]=b.useState(null),[f,y]=b.useState(!1),[x,v]=b.useState(""),[w,p]=b.useState(null),[m,h]=b.useState(!1),[S,_]=b.useState(null),E=b.useCallback(async()=>{if(r){l(!0),u(null);try{const k=await _S(r);i(k)}catch(k){u(k instanceof Error?k.message:"Flow listesi alinamadi")}finally{l(!1)}}},[r]);b.useEffect(()=>{E()},[E]);const N=async()=>{if(!x.trim()){p("Flow adi bos olamaz.");return}h(!0),p(null);try{const k=Os();k.metadata.name=x.trim();const I=await bf(r,{flow_name:x.trim(),flow_config:k});y(!1),v(""),n(`/editor/${I.flow_id}`)}catch(k){k instanceof st&&k.status===409?p("Bu isimde bir flow zaten mevcut."):p(k instanceof Error?k.message:"Olusturma basarisiz")}finally{h(!1)}},P=async k=>{_(null),c(k.flow_id);try{await NS(r,k.flow_id),i(I=>I.filter(j=>j.flow_id!==k.flow_id))}catch(I){I instanceof st&&I.status===409?u("Aktif flow silinemez. Once deaktif edin."):u(I instanceof Error?I.message:"Silme basarisiz")}finally{c(null)}},T=async k=>{c(k),u(null);try{await CS(r,k),await E()}catch(I){u(I instanceof Error?I.message:"Aktivasyon basarisiz")}finally{c(null)}},D=async k=>{c(k),u(null);try{await MS(r,k),await E()}catch(I){u(I instanceof Error?I.message:"Deaktivasyon basarisiz")}finally{c(null)}},L=async k=>{c(k.flow_id),u(null);try{const j=(await pu(r,k.flow_id)).flow_config,$=k.flow_name,C=new Set(o.map(O=>O.flow_name));let M=`${$} - Kopya`;if(C.has(M)){let O=2;for(;C.has(`${$} - Kopya (${O})`);)O++;M=`${$} - Kopya (${O})`}const z={...j,metadata:{...j.metadata,name:M}},A=await bf(r,{flow_name:M,flow_config:z});n(`/editor/${A.flow_id}`)}catch(I){I instanceof st&&I.status===409?u("Bu isimde bir flow zaten mevcut. Lutfen tekrar deneyin."):u(I instanceof Error?I.message:"Kopyalama basarisiz")}finally{c(null)}},R=async k=>{c(k.flow_id);try{const I=await pu(r,k.flow_id);await navigator.clipboard.writeText(JSON.stringify(I.flow_config,null,2)),u(null)}catch(I){u(I instanceof Error?I.message:"Kopyalama basarisiz")}finally{c(null)}},F=k=>new Date(k).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return g.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-800",children:[g.jsxs("header",{className:"bg-white border-b border-slate-200 px-6 py-3 flex items-center justify-between shadow-sm",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Flow Builder"}),g.jsxs("span",{className:"text-xs text-slate-500",children:["Tenant #",r]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{onClick:()=>{v(""),p(null),y(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition",children:"+ Yeni Flow"}),g.jsx("button",{onClick:t,className:"px-3 py-2 text-sm text-slate-500 hover:text-slate-900 transition",children:"Cikis"})]})]}),g.jsxs("main",{className:"max-w-5xl mx-auto px-6 py-8",children:[a&&g.jsxs("div",{className:"mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg px-4 py-3 flex items-center justify-between",children:[g.jsx("span",{children:a}),g.jsx("button",{onClick:()=>u(null),className:"text-red-400 hover:text-red-600 ml-4",children:""})]}),s?g.jsx("div",{className:"text-center py-20 text-slate-500",children:"Yukleniyor..."}):o.length===0?g.jsxs("div",{className:"text-center py-20",children:[g.jsx("p",{className:"text-slate-500 mb-4",children:"Henuz bir flow olusturulmamis."}),g.jsx("button",{onClick:()=>{v(""),p(null),y(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition",children:"Ilk Flow'u Olustur"})]}):g.jsx("div",{className:"space-y-3",children:o.map(k=>g.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl px-5 py-4 flex items-center justify-between hover:border-slate-300 hover:shadow-sm transition",children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:"font-semibold text-slate-900 truncate",children:k.flow_name}),k.is_active&&g.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-50 text-green-700 border border-green-200 rounded-full",children:"Aktif"})]}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[g.jsxs("span",{children:["v",k.config_version]}),g.jsxs("span",{children:[k.node_count," node / ",k.edge_count," edge"]}),g.jsxs("span",{children:["Guncelleme: ",F(k.updated_at)]})]})]}),g.jsxs("div",{className:"flex items-center gap-2 ml-4 flex-shrink-0",children:[g.jsx("button",{onClick:()=>n(`/editor/${k.flow_id}`),className:"px-3 py-1.5 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:"Duzenle"}),k.is_active?g.jsx("button",{onClick:()=>D(k.flow_id),disabled:d===k.flow_id,className:"px-3 py-1.5 text-xs bg-amber-50 hover:bg-amber-100 text-amber-700 border border-amber-200 rounded-lg transition disabled:opacity-50",children:"Deaktif Et"}):g.jsx("button",{onClick:()=>T(k.flow_id),disabled:d===k.flow_id,className:"px-3 py-1.5 text-xs bg-green-50 hover:bg-green-100 text-green-700 border border-green-200 rounded-lg transition disabled:opacity-50",children:"Aktif Et"}),g.jsx("button",{onClick:()=>L(k),disabled:d===k.flow_id,className:"px-3 py-1.5 text-xs bg-indigo-50 hover:bg-indigo-100 text-indigo-600 border border-indigo-200 rounded-lg transition disabled:opacity-50",title:"Flow'un kopyasini olustur",children:"Kopyala"}),g.jsx("button",{onClick:()=>R(k),disabled:d===k.flow_id,className:"px-3 py-1.5 text-xs bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-lg transition disabled:opacity-50",title:"Flow JSON'u panoya kopyala",children:"JSON"}),g.jsx("button",{onClick:()=>_(k),disabled:d===k.flow_id||k.is_active,className:"px-3 py-1.5 text-xs bg-red-50 hover:bg-red-100 text-red-600 border border-red-200 rounded-lg transition disabled:opacity-30 disabled:cursor-not-allowed",title:k.is_active?"Aktif flow silinemez":"Flow sil",children:"Sil"})]})]},k.flow_id))})]}),f&&g.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl w-full max-w-md p-6 shadow-xl",children:[g.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Yeni Flow Olustur"}),g.jsx("input",{type:"text",value:x,onChange:k=>v(k.target.value),onKeyDown:k=>k.key==="Enter"&&N(),placeholder:"Flow adi (ornek: Satis Chatbot)",className:"w-full px-3 py-2 bg-white border border-slate-300 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition mb-3",autoFocus:!0,disabled:m}),w&&g.jsx("p",{className:"text-sm text-red-600 mb-3",children:w}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx("button",{onClick:()=>y(!1),disabled:m,className:"px-4 py-2 text-sm text-slate-500 hover:text-slate-900 transition",children:"Iptal"}),g.jsx("button",{onClick:N,disabled:m,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 disabled:opacity-50 text-white font-medium rounded-lg transition",children:m?"Olusturuluyor...":"Olustur"})]})]})}),S&&g.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl w-full max-w-sm p-6 shadow-xl",children:[g.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Flow'u Sil"}),g.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:[g.jsx("strong",{className:"text-slate-900",children:S.flow_name})," flow'u kalici olarak silinecek. Bu islem geri alinamaz."]}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx("button",{onClick:()=>_(null),className:"px-4 py-2 text-sm text-slate-500 hover:text-slate-900 transition",children:"Iptal"}),g.jsx("button",{onClick:()=>P(S),className:"px-4 py-2 text-sm bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition",children:"Evet, Sil"})]})]})})]})}function _e(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=_e(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var TS={value:()=>{}};function ml(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new us(n)}function us(e){this._=e}function LS(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}us.prototype=ml.prototype={constructor:us,on:function(e,t){var n=this._,r=LS(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=zS(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=_f(n[o],e.name,t);else if(t==null)for(o in n)n[o]=_f(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new us(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function zS(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function _f(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=TS,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var mu="http://www.w3.org/1999/xhtml";const Ef={svg:"http://www.w3.org/2000/svg",xhtml:mu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ef.hasOwnProperty(t)?{space:Ef[t],local:e}:e}function $S(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===mu&&t.documentElement.namespaceURI===mu?t.createElement(e):t.createElementNS(n,e)}}function DS(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function xg(e){var t=gl(e);return(t.local?DS:$S)(t)}function AS(){}function Tc(e){return e==null?AS:function(){return this.querySelector(e)}}function OS(e){typeof e!="function"&&(e=Tc(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=new Array(s),a,u,d=0;d<s;++d)(a=i[d])&&(u=e.call(a,a.__data__,d,i))&&("__data__"in a&&(u.__data__=a.__data__),l[d]=u);return new Je(r,this._parents)}function FS(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function HS(){return[]}function vg(e){return e==null?HS:function(){return this.querySelectorAll(e)}}function BS(e){return function(){return FS(e.apply(this,arguments))}}function VS(e){typeof e=="function"?e=BS(e):e=vg(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),o.push(a));return new Je(r,o)}function wg(e){return function(){return this.matches(e)}}function Sg(e){return function(t){return t.matches(e)}}var WS=Array.prototype.find;function US(e){return function(){return WS.call(this.children,e)}}function YS(){return this.firstElementChild}function XS(e){return this.select(e==null?YS:US(typeof e=="function"?e:Sg(e)))}var GS=Array.prototype.filter;function KS(){return Array.from(this.children)}function QS(e){return function(){return GS.call(this.children,e)}}function qS(e){return this.selectAll(e==null?KS:QS(typeof e=="function"?e:Sg(e)))}function ZS(e){typeof e!="function"&&(e=wg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new Je(r,this._parents)}function bg(e){return new Array(e.length)}function JS(){return new Je(this._enter||this._groups.map(bg),this._parents)}function Fs(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Fs.prototype={constructor:Fs,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function eb(e){return function(){return e}}function tb(e,t,n,r,o,i){for(var s=0,l,a=t.length,u=i.length;s<u;++s)(l=t[s])?(l.__data__=i[s],r[s]=l):n[s]=new Fs(e,i[s]);for(;s<a;++s)(l=t[s])&&(o[s]=l)}function nb(e,t,n,r,o,i,s){var l,a,u=new Map,d=t.length,c=i.length,f=new Array(d),y;for(l=0;l<d;++l)(a=t[l])&&(f[l]=y=s.call(a,a.__data__,l,t)+"",u.has(y)?o[l]=a:u.set(y,a));for(l=0;l<c;++l)y=s.call(e,i[l],l,i)+"",(a=u.get(y))?(r[l]=a,a.__data__=i[l],u.delete(y)):n[l]=new Fs(e,i[l]);for(l=0;l<d;++l)(a=t[l])&&u.get(f[l])===a&&(o[l]=a)}function rb(e){return e.__data__}function ob(e,t){if(!arguments.length)return Array.from(this,rb);var n=t?nb:tb,r=this._parents,o=this._groups;typeof e!="function"&&(e=eb(e));for(var i=o.length,s=new Array(i),l=new Array(i),a=new Array(i),u=0;u<i;++u){var d=r[u],c=o[u],f=c.length,y=ib(e.call(d,d&&d.__data__,u,r)),x=y.length,v=l[u]=new Array(x),w=s[u]=new Array(x),p=a[u]=new Array(f);n(d,c,v,w,p,y,t);for(var m=0,h=0,S,_;m<x;++m)if(S=v[m]){for(m>=h&&(h=m+1);!(_=w[h])&&++h<x;);S._next=_||null}}return s=new Je(s,r),s._enter=l,s._exit=a,s}function ib(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sb(){return new Je(this._exit||this._groups.map(bg),this._parents)}function lb(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function ab(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),l=new Array(o),a=0;a<s;++a)for(var u=n[a],d=r[a],c=u.length,f=l[a]=new Array(c),y,x=0;x<c;++x)(y=u[x]||d[x])&&(f[x]=y);for(;a<o;++a)l[a]=n[a];return new Je(l,this._parents)}function ub(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function cb(e){e||(e=db);function t(c,f){return c&&f?e(c.__data__,f.__data__):!c-!f}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],l=s.length,a=o[i]=new Array(l),u,d=0;d<l;++d)(u=s[d])&&(a[d]=u);a.sort(t)}return new Je(o,this._parents).order()}function db(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function fb(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function hb(){return Array.from(this)}function pb(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function mb(){let e=0;for(const t of this)++e;return e}function gb(){return!this.node()}function yb(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,l;i<s;++i)(l=o[i])&&e.call(l,l.__data__,i,o);return this}function xb(e){return function(){this.removeAttribute(e)}}function vb(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wb(e,t){return function(){this.setAttribute(e,t)}}function Sb(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function bb(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function kb(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function _b(e,t){var n=gl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?vb:xb:typeof t=="function"?n.local?kb:bb:n.local?Sb:wb)(n,t))}function kg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Eb(e){return function(){this.style.removeProperty(e)}}function Nb(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Cb(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Mb(e,t,n){return arguments.length>1?this.each((t==null?Eb:typeof t=="function"?Cb:Nb)(e,t,n??"")):Rr(this.node(),e)}function Rr(e,t){return e.style.getPropertyValue(t)||kg(e).getComputedStyle(e,null).getPropertyValue(t)}function Pb(e){return function(){delete this[e]}}function jb(e,t){return function(){this[e]=t}}function Ib(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Rb(e,t){return arguments.length>1?this.each((t==null?Pb:typeof t=="function"?Ib:jb)(e,t)):this.node()[e]}function _g(e){return e.trim().split(/^|\s+/)}function Lc(e){return e.classList||new Eg(e)}function Eg(e){this._node=e,this._names=_g(e.getAttribute("class")||"")}Eg.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ng(e,t){for(var n=Lc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Cg(e,t){for(var n=Lc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Tb(e){return function(){Ng(this,e)}}function Lb(e){return function(){Cg(this,e)}}function zb(e,t){return function(){(t.apply(this,arguments)?Ng:Cg)(this,e)}}function $b(e,t){var n=_g(e+"");if(arguments.length<2){for(var r=Lc(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?zb:t?Tb:Lb)(n,t))}function Db(){this.textContent=""}function Ab(e){return function(){this.textContent=e}}function Ob(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Fb(e){return arguments.length?this.each(e==null?Db:(typeof e=="function"?Ob:Ab)(e)):this.node().textContent}function Hb(){this.innerHTML=""}function Bb(e){return function(){this.innerHTML=e}}function Vb(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Wb(e){return arguments.length?this.each(e==null?Hb:(typeof e=="function"?Vb:Bb)(e)):this.node().innerHTML}function Ub(){this.nextSibling&&this.parentNode.appendChild(this)}function Yb(){return this.each(Ub)}function Xb(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gb(){return this.each(Xb)}function Kb(e){var t=typeof e=="function"?e:xg(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Qb(){return null}function qb(e,t){var n=typeof e=="function"?e:xg(e),r=t==null?Qb:typeof t=="function"?t:Tc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Zb(){var e=this.parentNode;e&&e.removeChild(this)}function Jb(){return this.each(Zb)}function ek(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tk(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function nk(e){return this.select(e?tk:ek)}function rk(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ok(e){return function(t){e.call(this,t,this.__data__)}}function ik(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function sk(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function lk(e,t,n){return function(){var r=this.__on,o,i=ok(t);if(r){for(var s=0,l=r.length;s<l;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function ak(e,t,n){var r=ik(e+""),o,i=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,d;a<u;++a)for(o=0,d=l[a];o<i;++o)if((s=r[o]).type===d.type&&s.name===d.name)return d.value}return}for(l=t?lk:sk,o=0;o<i;++o)this.each(l(r[o],t,n));return this}function Mg(e,t,n){var r=kg(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function uk(e,t){return function(){return Mg(this,e,t)}}function ck(e,t){return function(){return Mg(this,e,t.apply(this,arguments))}}function dk(e,t){return this.each((typeof t=="function"?ck:uk)(e,t))}function*fk(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var Pg=[null];function Je(e,t){this._groups=e,this._parents=t}function hi(){return new Je([[document.documentElement]],Pg)}function hk(){return this}Je.prototype=hi.prototype={constructor:Je,select:OS,selectAll:VS,selectChild:XS,selectChildren:qS,filter:ZS,data:ob,enter:JS,exit:sb,join:lb,merge:ab,selection:hk,order:ub,sort:cb,call:fb,nodes:hb,node:pb,size:mb,empty:gb,each:yb,attr:_b,style:Mb,property:Rb,classed:$b,text:Fb,html:Wb,raise:Yb,lower:Gb,append:Kb,insert:qb,remove:Jb,clone:nk,datum:rk,on:ak,dispatch:dk,[Symbol.iterator]:fk};function Ke(e){return typeof e=="string"?new Je([[document.querySelector(e)]],[document.documentElement]):new Je([[e]],Pg)}function pk(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ht(e,t){if(e=pk(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const mk={passive:!1},Qo={capture:!0,passive:!1};function la(e){e.stopImmediatePropagation()}function br(e){e.preventDefault(),e.stopImmediatePropagation()}function jg(e){var t=e.document.documentElement,n=Ke(e).on("dragstart.drag",br,Qo);"onselectstart"in t?n.on("selectstart.drag",br,Qo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ig(e,t){var n=e.document.documentElement,r=Ke(e).on("dragstart.drag",null);t&&(r.on("click.drag",br,Qo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Fi=e=>()=>e;function gu(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:l,dx:a,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}gu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function gk(e){return!e.ctrlKey&&!e.button}function yk(){return this.parentNode}function xk(e,t){return t??{x:e.x,y:e.y}}function vk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Rg(){var e=gk,t=yk,n=xk,r=vk,o={},i=ml("start","drag","end"),s=0,l,a,u,d,c=0;function f(S){S.on("mousedown.drag",y).filter(r).on("touchstart.drag",w).on("touchmove.drag",p,mk).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(S,_){if(!(d||!e.call(this,S,_))){var E=h(this,t.call(this,S,_),S,_,"mouse");E&&(Ke(S.view).on("mousemove.drag",x,Qo).on("mouseup.drag",v,Qo),jg(S.view),la(S),u=!1,l=S.clientX,a=S.clientY,E("start",S))}}function x(S){if(br(S),!u){var _=S.clientX-l,E=S.clientY-a;u=_*_+E*E>c}o.mouse("drag",S)}function v(S){Ke(S.view).on("mousemove.drag mouseup.drag",null),Ig(S.view,u),br(S),o.mouse("end",S)}function w(S,_){if(e.call(this,S,_)){var E=S.changedTouches,N=t.call(this,S,_),P=E.length,T,D;for(T=0;T<P;++T)(D=h(this,N,S,_,E[T].identifier,E[T]))&&(la(S),D("start",S,E[T]))}}function p(S){var _=S.changedTouches,E=_.length,N,P;for(N=0;N<E;++N)(P=o[_[N].identifier])&&(br(S),P("drag",S,_[N]))}function m(S){var _=S.changedTouches,E=_.length,N,P;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),N=0;N<E;++N)(P=o[_[N].identifier])&&(la(S),P("end",S,_[N]))}function h(S,_,E,N,P,T){var D=i.copy(),L=ht(T||E,_),R,F,k;if((k=n.call(S,new gu("beforestart",{sourceEvent:E,target:f,identifier:P,active:s,x:L[0],y:L[1],dx:0,dy:0,dispatch:D}),N))!=null)return R=k.x-L[0]||0,F=k.y-L[1]||0,function I(j,$,C){var M=L,z;switch(j){case"start":o[P]=I,z=s++;break;case"end":delete o[P],--s;case"drag":L=ht(C||$,_),z=s;break}D.call(j,S,new gu(j,{sourceEvent:$,subject:k,target:f,identifier:P,active:z,x:L[0]+R,y:L[1]+F,dx:L[0]-M[0],dy:L[1]-M[1],dispatch:D}),N)}}return f.filter=function(S){return arguments.length?(e=typeof S=="function"?S:Fi(!!S),f):e},f.container=function(S){return arguments.length?(t=typeof S=="function"?S:Fi(S),f):t},f.subject=function(S){return arguments.length?(n=typeof S=="function"?S:Fi(S),f):n},f.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:Fi(!!S),f):r},f.on=function(){var S=i.on.apply(i,arguments);return S===i?f:S},f.clickDistance=function(S){return arguments.length?(c=(S=+S)*S,f):Math.sqrt(c)},f}function zc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Tg(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function pi(){}var qo=.7,Hs=1/qo,kr="\\s*([+-]?\\d+)\\s*",Zo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",It="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wk=/^#([0-9a-f]{3,8})$/,Sk=new RegExp(`^rgb\\(${kr},${kr},${kr}\\)$`),bk=new RegExp(`^rgb\\(${It},${It},${It}\\)$`),kk=new RegExp(`^rgba\\(${kr},${kr},${kr},${Zo}\\)$`),_k=new RegExp(`^rgba\\(${It},${It},${It},${Zo}\\)$`),Ek=new RegExp(`^hsl\\(${Zo},${It},${It}\\)$`),Nk=new RegExp(`^hsla\\(${Zo},${It},${It},${Zo}\\)$`),Nf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zc(pi,Yn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Cf,formatHex:Cf,formatHex8:Ck,formatHsl:Mk,formatRgb:Mf,toString:Mf});function Cf(){return this.rgb().formatHex()}function Ck(){return this.rgb().formatHex8()}function Mk(){return Lg(this).formatHsl()}function Mf(){return this.rgb().formatRgb()}function Yn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=wk.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Pf(t):n===3?new We(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Hi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Hi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Sk.exec(e))?new We(t[1],t[2],t[3],1):(t=bk.exec(e))?new We(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kk.exec(e))?Hi(t[1],t[2],t[3],t[4]):(t=_k.exec(e))?Hi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ek.exec(e))?Rf(t[1],t[2]/100,t[3]/100,1):(t=Nk.exec(e))?Rf(t[1],t[2]/100,t[3]/100,t[4]):Nf.hasOwnProperty(e)?Pf(Nf[e]):e==="transparent"?new We(NaN,NaN,NaN,0):null}function Pf(e){return new We(e>>16&255,e>>8&255,e&255,1)}function Hi(e,t,n,r){return r<=0&&(e=t=n=NaN),new We(e,t,n,r)}function Pk(e){return e instanceof pi||(e=Yn(e)),e?(e=e.rgb(),new We(e.r,e.g,e.b,e.opacity)):new We}function yu(e,t,n,r){return arguments.length===1?Pk(e):new We(e,t,n,r??1)}function We(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}zc(We,yu,Tg(pi,{brighter(e){return e=e==null?Hs:Math.pow(Hs,e),new We(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qo:Math.pow(qo,e),new We(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new We(An(this.r),An(this.g),An(this.b),Bs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jf,formatHex:jf,formatHex8:jk,formatRgb:If,toString:If}));function jf(){return`#${zn(this.r)}${zn(this.g)}${zn(this.b)}`}function jk(){return`#${zn(this.r)}${zn(this.g)}${zn(this.b)}${zn((isNaN(this.opacity)?1:this.opacity)*255)}`}function If(){const e=Bs(this.opacity);return`${e===1?"rgb(":"rgba("}${An(this.r)}, ${An(this.g)}, ${An(this.b)}${e===1?")":`, ${e})`}`}function Bs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function An(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zn(e){return e=An(e),(e<16?"0":"")+e.toString(16)}function Rf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mt(e,t,n,r)}function Lg(e){if(e instanceof mt)return new mt(e.h,e.s,e.l,e.opacity);if(e instanceof pi||(e=Yn(e)),!e)return new mt;if(e instanceof mt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,l=i-o,a=(i+o)/2;return l?(t===i?s=(n-r)/l+(n<r)*6:n===i?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?i+o:2-i-o,s*=60):l=a>0&&a<1?0:s,new mt(s,l,a,e.opacity)}function Ik(e,t,n,r){return arguments.length===1?Lg(e):new mt(e,t,n,r??1)}function mt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}zc(mt,Ik,Tg(pi,{brighter(e){return e=e==null?Hs:Math.pow(Hs,e),new mt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qo:Math.pow(qo,e),new mt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new We(aa(e>=240?e-240:e+120,o,r),aa(e,o,r),aa(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new mt(Tf(this.h),Bi(this.s),Bi(this.l),Bs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bs(this.opacity);return`${e===1?"hsl(":"hsla("}${Tf(this.h)}, ${Bi(this.s)*100}%, ${Bi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Tf(e){return e=(e||0)%360,e<0?e+360:e}function Bi(e){return Math.max(0,Math.min(1,e||0))}function aa(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const $c=e=>()=>e;function Rk(e,t){return function(n){return e+n*t}}function Tk(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Lk(e){return(e=+e)==1?zg:function(t,n){return n-t?Tk(t,n,e):$c(isNaN(t)?n:t)}}function zg(e,t){var n=t-e;return n?Rk(e,n):$c(isNaN(e)?t:e)}const Vs=function e(t){var n=Lk(t);function r(o,i){var s=n((o=yu(o)).r,(i=yu(i)).r),l=n(o.g,i.g),a=n(o.b,i.b),u=zg(o.opacity,i.opacity);return function(d){return o.r=s(d),o.g=l(d),o.b=a(d),o.opacity=u(d),o+""}}return r.gamma=e,r}(1);function zk(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function $k(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Dk(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)o[s]=jo(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(l){for(s=0;s<r;++s)i[s]=o[s](l);return i}}function Ak(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Nt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ok(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=jo(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var xu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ua=new RegExp(xu.source,"g");function Fk(e){return function(){return e}}function Hk(e){return function(t){return e(t)+""}}function $g(e,t){var n=xu.lastIndex=ua.lastIndex=0,r,o,i,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=xu.exec(e))&&(o=ua.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[s]?l[s]+=i:l[++s]=i),(r=r[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:Nt(r,o)})),n=ua.lastIndex;return n<t.length&&(i=t.slice(n),l[s]?l[s]+=i:l[++s]=i),l.length<2?a[0]?Hk(a[0].x):Fk(t):(t=a.length,function(u){for(var d=0,c;d<t;++d)l[(c=a[d]).i]=c.x(u);return l.join("")})}function jo(e,t){var n=typeof t,r;return t==null||n==="boolean"?$c(t):(n==="number"?Nt:n==="string"?(r=Yn(t))?(t=r,Vs):$g:t instanceof Yn?Vs:t instanceof Date?Ak:$k(t)?zk:Array.isArray(t)?Dk:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ok:Nt)(e,t)}var Lf=180/Math.PI,vu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Dg(e,t,n,r,o,i){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Lf,skewX:Math.atan(a)*Lf,scaleX:s,scaleY:l}}var Vi;function Bk(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?vu:Dg(t.a,t.b,t.c,t.d,t.e,t.f)}function Vk(e){return e==null||(Vi||(Vi=document.createElementNS("http://www.w3.org/2000/svg","g")),Vi.setAttribute("transform",e),!(e=Vi.transform.baseVal.consolidate()))?vu:(e=e.matrix,Dg(e.a,e.b,e.c,e.d,e.e,e.f))}function Ag(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,d,c,f,y,x){if(u!==c||d!==f){var v=y.push("translate(",null,t,null,n);x.push({i:v-4,x:Nt(u,c)},{i:v-2,x:Nt(d,f)})}else(c||f)&&y.push("translate("+c+t+f+n)}function s(u,d,c,f){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),f.push({i:c.push(o(c)+"rotate(",null,r)-2,x:Nt(u,d)})):d&&c.push(o(c)+"rotate("+d+r)}function l(u,d,c,f){u!==d?f.push({i:c.push(o(c)+"skewX(",null,r)-2,x:Nt(u,d)}):d&&c.push(o(c)+"skewX("+d+r)}function a(u,d,c,f,y,x){if(u!==c||d!==f){var v=y.push(o(y)+"scale(",null,",",null,")");x.push({i:v-4,x:Nt(u,c)},{i:v-2,x:Nt(d,f)})}else(c!==1||f!==1)&&y.push(o(y)+"scale("+c+","+f+")")}return function(u,d){var c=[],f=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,c,f),s(u.rotate,d.rotate,c,f),l(u.skewX,d.skewX,c,f),a(u.scaleX,u.scaleY,d.scaleX,d.scaleY,c,f),u=d=null,function(y){for(var x=-1,v=f.length,w;++x<v;)c[(w=f[x]).i]=w.x(y);return c.join("")}}}var Wk=Ag(Bk,"px, ","px)","deg)"),Uk=Ag(Vk,", ",")",")"),Yk=1e-12;function zf(e){return((e=Math.exp(e))+1/e)/2}function Xk(e){return((e=Math.exp(e))-1/e)/2}function Gk(e){return((e=Math.exp(2*e))-1)/(e+1)}const cs=function e(t,n,r){function o(i,s){var l=i[0],a=i[1],u=i[2],d=s[0],c=s[1],f=s[2],y=d-l,x=c-a,v=y*y+x*x,w,p;if(v<Yk)p=Math.log(f/u)/t,w=function(N){return[l+N*y,a+N*x,u*Math.exp(t*N*p)]};else{var m=Math.sqrt(v),h=(f*f-u*u+r*v)/(2*u*n*m),S=(f*f-u*u-r*v)/(2*f*n*m),_=Math.log(Math.sqrt(h*h+1)-h),E=Math.log(Math.sqrt(S*S+1)-S);p=(E-_)/t,w=function(N){var P=N*p,T=zf(_),D=u/(n*m)*(T*Gk(t*P+_)-Xk(_));return[l+D*y,a+D*x,u*T/zf(t*P+_)]}}return w.duration=p*1e3*t/Math.SQRT2,w}return o.rho=function(i){var s=Math.max(.001,+i),l=s*s,a=l*l;return e(s,l,a)},o}(Math.SQRT2,2,4);var Tr=0,xo=0,so=0,Og=1e3,Ws,vo,Us=0,Xn=0,yl=0,Jo=typeof performance=="object"&&performance.now?performance:Date,Fg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Dc(){return Xn||(Fg(Kk),Xn=Jo.now()+yl)}function Kk(){Xn=0}function Ys(){this._call=this._time=this._next=null}Ys.prototype=Hg.prototype={constructor:Ys,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Dc():+n)+(t==null?0:+t),!this._next&&vo!==this&&(vo?vo._next=this:Ws=this,vo=this),this._call=e,this._time=n,wu()},stop:function(){this._call&&(this._call=null,this._time=1/0,wu())}};function Hg(e,t,n){var r=new Ys;return r.restart(e,t,n),r}function Qk(){Dc(),++Tr;for(var e=Ws,t;e;)(t=Xn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Tr}function $f(){Xn=(Us=Jo.now())+yl,Tr=xo=0;try{Qk()}finally{Tr=0,Zk(),Xn=0}}function qk(){var e=Jo.now(),t=e-Us;t>Og&&(yl-=t,Us=e)}function Zk(){for(var e,t=Ws,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ws=n);vo=e,wu(r)}function wu(e){if(!Tr){xo&&(xo=clearTimeout(xo));var t=e-Xn;t>24?(e<1/0&&(xo=setTimeout($f,e-Jo.now()-yl)),so&&(so=clearInterval(so))):(so||(Us=Jo.now(),so=setInterval(qk,Og)),Tr=1,Fg($f))}}function Df(e,t,n){var r=new Ys;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var Jk=ml("start","end","cancel","interrupt"),e_=[],Bg=0,Af=1,Su=2,ds=3,Of=4,bu=5,fs=6;function xl(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;t_(e,n,{name:t,index:r,group:o,on:Jk,tween:e_,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Bg})}function Ac(e,t){var n=kt(e,t);if(n.state>Bg)throw new Error("too late; already scheduled");return n}function Lt(e,t){var n=kt(e,t);if(n.state>ds)throw new Error("too late; already running");return n}function kt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function t_(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Hg(i,0,n.time);function i(u){n.state=Af,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var d,c,f,y;if(n.state!==Af)return a();for(d in r)if(y=r[d],y.name===n.name){if(y.state===ds)return Df(s);y.state===Of?(y.state=fs,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete r[d]):+d<t&&(y.state=fs,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete r[d])}if(Df(function(){n.state===ds&&(n.state=Of,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Su,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Su){for(n.state=ds,o=new Array(f=n.tween.length),d=0,c=-1;d<f;++d)(y=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(o[++c]=y);o.length=c+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=bu,1),c=-1,f=o.length;++c<f;)o[c].call(e,d);n.state===bu&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=fs,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function hs(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>Su&&r.state<bu,r.state=fs,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function n_(e){return this.each(function(){hs(this,e)})}function r_(e,t){var n,r;return function(){var o=Lt(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function o_(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Lt(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}i.tween=o}}function i_(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=kt(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?r_:o_)(n,e,t))}function Oc(e,t,n){var r=e._id;return e.each(function(){var o=Lt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return kt(o,r).value[t]}}function Vg(e,t){var n;return(typeof t=="number"?Nt:t instanceof Yn?Vs:(n=Yn(t))?(t=n,Vs):$g)(e,t)}function s_(e){return function(){this.removeAttribute(e)}}function l_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function a_(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function u_(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function c_(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function d_(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function f_(e,t){var n=gl(e),r=n==="transform"?Uk:Vg;return this.attrTween(e,typeof t=="function"?(n.local?d_:c_)(n,r,Oc(this,"attr."+e,t)):t==null?(n.local?l_:s_)(n):(n.local?u_:a_)(n,r,t))}function h_(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function p_(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function m_(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&p_(e,i)),n}return o._value=t,o}function g_(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&h_(e,i)),n}return o._value=t,o}function y_(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=gl(e);return this.tween(n,(r.local?m_:g_)(r,t))}function x_(e,t){return function(){Ac(this,e).delay=+t.apply(this,arguments)}}function v_(e,t){return t=+t,function(){Ac(this,e).delay=t}}function w_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?x_:v_)(t,e)):kt(this.node(),t).delay}function S_(e,t){return function(){Lt(this,e).duration=+t.apply(this,arguments)}}function b_(e,t){return t=+t,function(){Lt(this,e).duration=t}}function k_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?S_:b_)(t,e)):kt(this.node(),t).duration}function __(e,t){if(typeof t!="function")throw new Error;return function(){Lt(this,e).ease=t}}function E_(e){var t=this._id;return arguments.length?this.each(__(t,e)):kt(this.node(),t).ease}function N_(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Lt(this,e).ease=n}}function C_(e){if(typeof e!="function")throw new Error;return this.each(N_(this._id,e))}function M_(e){typeof e!="function"&&(e=wg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new qt(r,this._parents,this._name,this._id)}function P_(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),l=0;l<i;++l)for(var a=t[l],u=n[l],d=a.length,c=s[l]=new Array(d),f,y=0;y<d;++y)(f=a[y]||u[y])&&(c[y]=f);for(;l<r;++l)s[l]=t[l];return new qt(s,this._parents,this._name,this._id)}function j_(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function I_(e,t,n){var r,o,i=j_(t)?Ac:Lt;return function(){var s=i(this,e),l=s.on;l!==r&&(o=(r=l).copy()).on(t,n),s.on=o}}function R_(e,t){var n=this._id;return arguments.length<2?kt(this.node(),n).on.on(e):this.each(I_(n,e,t))}function T_(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function L_(){return this.on("end.remove",T_(this._id))}function z_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Tc(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var l=r[s],a=l.length,u=i[s]=new Array(a),d,c,f=0;f<a;++f)(d=l[f])&&(c=e.call(d,d.__data__,f,l))&&("__data__"in d&&(c.__data__=d.__data__),u[f]=c,xl(u[f],t,n,f,u,kt(d,n)));return new qt(i,this._parents,t,n)}function $_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vg(e));for(var r=this._groups,o=r.length,i=[],s=[],l=0;l<o;++l)for(var a=r[l],u=a.length,d,c=0;c<u;++c)if(d=a[c]){for(var f=e.call(d,d.__data__,c,a),y,x=kt(d,n),v=0,w=f.length;v<w;++v)(y=f[v])&&xl(y,t,n,v,f,x);i.push(f),s.push(d)}return new qt(i,s,t,n)}var D_=hi.prototype.constructor;function A_(){return new D_(this._groups,this._parents)}function O_(e,t){var n,r,o;return function(){var i=Rr(this,e),s=(this.style.removeProperty(e),Rr(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function Wg(e){return function(){this.style.removeProperty(e)}}function F_(e,t,n){var r,o=n+"",i;return function(){var s=Rr(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function H_(e,t,n){var r,o,i;return function(){var s=Rr(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Rr(this,e))),s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l))}}function B_(e,t){var n,r,o,i="style."+t,s="end."+i,l;return function(){var a=Lt(this,e),u=a.on,d=a.value[i]==null?l||(l=Wg(t)):void 0;(u!==n||o!==d)&&(r=(n=u).copy()).on(s,o=d),a.on=r}}function V_(e,t,n){var r=(e+="")=="transform"?Wk:Vg;return t==null?this.styleTween(e,O_(e,r)).on("end.style."+e,Wg(e)):typeof t=="function"?this.styleTween(e,H_(e,r,Oc(this,"style."+e,t))).each(B_(this._id,e)):this.styleTween(e,F_(e,r,t),n).on("end.style."+e,null)}function W_(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function U_(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&W_(e,s,n)),r}return i._value=t,i}function Y_(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,U_(e,t,n??""))}function X_(e){return function(){this.textContent=e}}function G_(e){return function(){var t=e(this);this.textContent=t??""}}function K_(e){return this.tween("text",typeof e=="function"?G_(Oc(this,"text",e)):X_(e==null?"":e+""))}function Q_(e){return function(t){this.textContent=e.call(this,t)}}function q_(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Q_(o)),t}return r._value=e,r}function Z_(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,q_(e))}function J_(){for(var e=this._name,t=this._id,n=Ug(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var d=kt(a,t);xl(a,e,n,u,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new qt(r,this._parents,e,n)}function e2(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var l={value:s},a={value:function(){--o===0&&i()}};n.each(function(){var u=Lt(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&i()})}var t2=0;function qt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Ug(){return++t2}var $t=hi.prototype;qt.prototype={constructor:qt,select:z_,selectAll:$_,selectChild:$t.selectChild,selectChildren:$t.selectChildren,filter:M_,merge:P_,selection:A_,transition:J_,call:$t.call,nodes:$t.nodes,node:$t.node,size:$t.size,empty:$t.empty,each:$t.each,on:R_,attr:f_,attrTween:y_,style:V_,styleTween:Y_,text:K_,textTween:Z_,remove:L_,tween:i_,delay:w_,duration:k_,ease:E_,easeVarying:C_,end:e2,[Symbol.iterator]:$t[Symbol.iterator]};function n2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var r2={time:null,delay:0,duration:250,ease:n2};function o2(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function i2(e){var t,n;e instanceof qt?(t=e._id,e=e._name):(t=Ug(),(n=r2).time=Dc(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&xl(a,e,t,u,s,n||o2(a,t));return new qt(r,this._parents,e,t)}hi.prototype.interrupt=n_;hi.prototype.transition=i2;const Wi=e=>()=>e;function s2(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Bt(e,t,n){this.k=e,this.x=t,this.y=n}Bt.prototype={constructor:Bt,scale:function(e){return e===1?this:new Bt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Bt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var vl=new Bt(1,0,0);Yg.prototype=Bt.prototype;function Yg(e){for(;!e.__zoom;)if(!(e=e.parentNode))return vl;return e.__zoom}function ca(e){e.stopImmediatePropagation()}function lo(e){e.preventDefault(),e.stopImmediatePropagation()}function l2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function a2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ff(){return this.__zoom||vl}function u2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function c2(){return navigator.maxTouchPoints||"ontouchstart"in this}function d2(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function Xg(){var e=l2,t=a2,n=d2,r=u2,o=c2,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=cs,u=ml("start","zoom","end"),d,c,f,y=500,x=150,v=0,w=10;function p(k){k.property("__zoom",Ff).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",D).filter(o).on("touchstart.zoom",L).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(k,I,j,$){var C=k.selection?k.selection():k;C.property("__zoom",Ff),k!==C?_(k,I,j,$):C.interrupt().each(function(){E(this,arguments).event($).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},p.scaleBy=function(k,I,j,$){p.scaleTo(k,function(){var C=this.__zoom.k,M=typeof I=="function"?I.apply(this,arguments):I;return C*M},j,$)},p.scaleTo=function(k,I,j,$){p.transform(k,function(){var C=t.apply(this,arguments),M=this.__zoom,z=j==null?S(C):typeof j=="function"?j.apply(this,arguments):j,A=M.invert(z),O=typeof I=="function"?I.apply(this,arguments):I;return n(h(m(M,O),z,A),C,s)},j,$)},p.translateBy=function(k,I,j,$){p.transform(k,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),s)},null,$)},p.translateTo=function(k,I,j,$,C){p.transform(k,function(){var M=t.apply(this,arguments),z=this.__zoom,A=$==null?S(M):typeof $=="function"?$.apply(this,arguments):$;return n(vl.translate(A[0],A[1]).scale(z.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof j=="function"?-j.apply(this,arguments):-j),M,s)},$,C)};function m(k,I){return I=Math.max(i[0],Math.min(i[1],I)),I===k.k?k:new Bt(I,k.x,k.y)}function h(k,I,j){var $=I[0]-j[0]*k.k,C=I[1]-j[1]*k.k;return $===k.x&&C===k.y?k:new Bt(k.k,$,C)}function S(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function _(k,I,j,$){k.on("start.zoom",function(){E(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event($).end()}).tween("zoom",function(){var C=this,M=arguments,z=E(C,M).event($),A=t.apply(C,M),O=j==null?S(A):typeof j=="function"?j.apply(C,M):j,W=Math.max(A[1][0]-A[0][0],A[1][1]-A[0][1]),V=C.__zoom,X=typeof I=="function"?I.apply(C,M):I,G=a(V.invert(O).concat(W/V.k),X.invert(O).concat(W/X.k));return function(K){if(K===1)K=X;else{var B=G(K),Q=W/B[2];K=new Bt(Q,O[0]-B[0]*Q,O[1]-B[1]*Q)}z.zoom(null,K)}})}function E(k,I,j){return!j&&k.__zooming||new N(k,I)}function N(k,I){this.that=k,this.args=I,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,I),this.taps=0}N.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,I){return this.mouse&&k!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var I=Ke(this.that).datum();u.call(k,this.that,new s2(k,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:u}),I)}};function P(k,...I){if(!e.apply(this,arguments))return;var j=E(this,I).event(k),$=this.__zoom,C=Math.max(i[0],Math.min(i[1],$.k*Math.pow(2,r.apply(this,arguments)))),M=ht(k);if(j.wheel)(j.mouse[0][0]!==M[0]||j.mouse[0][1]!==M[1])&&(j.mouse[1]=$.invert(j.mouse[0]=M)),clearTimeout(j.wheel);else{if($.k===C)return;j.mouse=[M,$.invert(M)],hs(this),j.start()}lo(k),j.wheel=setTimeout(z,x),j.zoom("mouse",n(h(m($,C),j.mouse[0],j.mouse[1]),j.extent,s));function z(){j.wheel=null,j.end()}}function T(k,...I){if(f||!e.apply(this,arguments))return;var j=k.currentTarget,$=E(this,I,!0).event(k),C=Ke(k.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",W,!0),M=ht(k,j),z=k.clientX,A=k.clientY;jg(k.view),ca(k),$.mouse=[M,this.__zoom.invert(M)],hs(this),$.start();function O(V){if(lo(V),!$.moved){var X=V.clientX-z,G=V.clientY-A;$.moved=X*X+G*G>v}$.event(V).zoom("mouse",n(h($.that.__zoom,$.mouse[0]=ht(V,j),$.mouse[1]),$.extent,s))}function W(V){C.on("mousemove.zoom mouseup.zoom",null),Ig(V.view,$.moved),lo(V),$.event(V).end()}}function D(k,...I){if(e.apply(this,arguments)){var j=this.__zoom,$=ht(k.changedTouches?k.changedTouches[0]:k,this),C=j.invert($),M=j.k*(k.shiftKey?.5:2),z=n(h(m(j,M),$,C),t.apply(this,I),s);lo(k),l>0?Ke(this).transition().duration(l).call(_,z,$,k):Ke(this).call(p.transform,z,$,k)}}function L(k,...I){if(e.apply(this,arguments)){var j=k.touches,$=j.length,C=E(this,I,k.changedTouches.length===$).event(k),M,z,A,O;for(ca(k),z=0;z<$;++z)A=j[z],O=ht(A,this),O=[O,this.__zoom.invert(O),A.identifier],C.touch0?!C.touch1&&C.touch0[2]!==O[2]&&(C.touch1=O,C.taps=0):(C.touch0=O,M=!0,C.taps=1+!!d);d&&(d=clearTimeout(d)),M&&(C.taps<2&&(c=O[0],d=setTimeout(function(){d=null},y)),hs(this),C.start())}}function R(k,...I){if(this.__zooming){var j=E(this,I).event(k),$=k.changedTouches,C=$.length,M,z,A,O;for(lo(k),M=0;M<C;++M)z=$[M],A=ht(z,this),j.touch0&&j.touch0[2]===z.identifier?j.touch0[0]=A:j.touch1&&j.touch1[2]===z.identifier&&(j.touch1[0]=A);if(z=j.that.__zoom,j.touch1){var W=j.touch0[0],V=j.touch0[1],X=j.touch1[0],G=j.touch1[1],K=(K=X[0]-W[0])*K+(K=X[1]-W[1])*K,B=(B=G[0]-V[0])*B+(B=G[1]-V[1])*B;z=m(z,Math.sqrt(K/B)),A=[(W[0]+X[0])/2,(W[1]+X[1])/2],O=[(V[0]+G[0])/2,(V[1]+G[1])/2]}else if(j.touch0)A=j.touch0[0],O=j.touch0[1];else return;j.zoom("touch",n(h(z,A,O),j.extent,s))}}function F(k,...I){if(this.__zooming){var j=E(this,I).event(k),$=k.changedTouches,C=$.length,M,z;for(ca(k),f&&clearTimeout(f),f=setTimeout(function(){f=null},y),M=0;M<C;++M)z=$[M],j.touch0&&j.touch0[2]===z.identifier?delete j.touch0:j.touch1&&j.touch1[2]===z.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(z=ht(z,this),Math.hypot(c[0]-z[0],c[1]-z[1])<w)){var A=Ke(this).on("dblclick.zoom");A&&A.apply(this,arguments)}}}return p.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:Wi(+k),p):r},p.filter=function(k){return arguments.length?(e=typeof k=="function"?k:Wi(!!k),p):e},p.touchable=function(k){return arguments.length?(o=typeof k=="function"?k:Wi(!!k),p):o},p.extent=function(k){return arguments.length?(t=typeof k=="function"?k:Wi([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),p):t},p.scaleExtent=function(k){return arguments.length?(i[0]=+k[0],i[1]=+k[1],p):[i[0],i[1]]},p.translateExtent=function(k){return arguments.length?(s[0][0]=+k[0][0],s[1][0]=+k[1][0],s[0][1]=+k[0][1],s[1][1]=+k[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(k){return arguments.length?(n=k,p):n},p.duration=function(k){return arguments.length?(l=+k,p):l},p.interpolate=function(k){return arguments.length?(a=k,p):a},p.on=function(){var k=u.on.apply(u,arguments);return k===u?p:k},p.clickDistance=function(k){return arguments.length?(v=(k=+k)*k,p):Math.sqrt(v)},p.tapDistance=function(k){return arguments.length?(w=+k,p):w},p}const Rt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},ei=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Gg=["Enter"," ","Escape"],Kg={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Lr;(function(e){e.Strict="strict",e.Loose="loose"})(Lr||(Lr={}));var On;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(On||(On={}));var ti;(function(e){e.Partial="partial",e.Full="full"})(ti||(ti={}));const Qg={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var dn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(dn||(dn={}));var Xs;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Xs||(Xs={}));var Y;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Y||(Y={}));const Hf={[Y.Left]:Y.Right,[Y.Right]:Y.Left,[Y.Top]:Y.Bottom,[Y.Bottom]:Y.Top};function qg(e){return e===null?null:e?"valid":"invalid"}const Zg=e=>"id"in e&&"source"in e&&"target"in e,f2=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Fc=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),mi=(e,t=[0,0])=>{const{width:n,height:r}=Jt(e),o=e.origin??t,i=n*o[0],s=r*o[1];return{x:e.position.x-i,y:e.position.y-s}},h2=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let s=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(o):Fc(o)?o:t.nodeLookup.get(o.id));const l=s?Gs(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return wl(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Sl(n)},gi=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=wl(n,Gs(o)),r=!0)}),r?Sl(n):{x:0,y:0,width:0,height:0}},Hc=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1)=>{const l={...xi(t,[n,r,o]),width:t.width/o,height:t.height/o},a=[];for(const u of e.values()){const{measured:d,selectable:c=!0,hidden:f=!1}=u;if(s&&!c||f)continue;const y=d.width??u.width??u.initialWidth??null,x=d.height??u.height??u.initialHeight??null,v=ni(l,$r(u)),w=(y??0)*(x??0),p=i&&v>0;(!u.internals.handleBounds||p||v>=w||u.dragging)&&a.push(u)}return a},p2=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function m2(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function g2({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const l=m2(e,s),a=gi(l),u=Bc(a,t,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await r.setViewport(u,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function Jg({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const s=n.get(e),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},d=s.origin??r;let c=s.extent||o;if(s.extent==="parent"&&!s.expandParent)if(!l)i==null||i("005",Rt.error005());else{const y=l.measured.width,x=l.measured.height;y&&x&&(c=[[a,u],[a+y,u+x]])}else l&&Dr(s.extent)&&(c=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const f=Dr(c)?Gn(t,c,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",Rt.error015())),{position:{x:f.x-a+(s.measured.width??0)*d[0],y:f.y-u+(s.measured.height??0)*d[1]},positionAbsolute:f}}async function y2({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(f=>f.id)),s=[];for(const f of n){if(f.deletable===!1)continue;const y=i.has(f.id),x=!y&&f.parentId&&s.find(v=>v.id===f.parentId);(y||x)&&s.push(f)}const l=new Set(t.map(f=>f.id)),a=r.filter(f=>f.deletable!==!1),d=p2(s,a);for(const f of a)l.has(f.id)&&!d.find(x=>x.id===f.id)&&d.push(f);if(!o)return{edges:d,nodes:s};const c=await o({nodes:s,edges:d});return typeof c=="boolean"?c?{edges:d,nodes:s}:{edges:[],nodes:[]}:c}const zr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Gn=(e={x:0,y:0},t,n)=>({x:zr(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:zr(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function e0(e,t,n){const{width:r,height:o}=Jt(n),{x:i,y:s}=n.internals.positionAbsolute;return Gn(e,[[i,s],[i+r,s+o]],t)}const Bf=(e,t,n)=>e<t?zr(Math.abs(e-t),1,t)/t:e>n?-zr(Math.abs(e-n),1,t)/t:0,t0=(e,t,n=15,r=40)=>{const o=Bf(e.x,r,t.width-r)*n,i=Bf(e.y,r,t.height-r)*n;return[o,i]},wl=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ku=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Sl=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),$r=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Fc(e)?e.internals.positionAbsolute:mi(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Gs=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Fc(e)?e.internals.positionAbsolute:mi(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},n0=(e,t)=>Sl(wl(ku(e),ku(t))),ni=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Vf=e=>gt(e.width)&&gt(e.height)&&gt(e.x)&&gt(e.y),gt=e=>!isNaN(e)&&isFinite(e),x2=(e,t)=>{},yi=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),xi=({x:e,y:t},[n,r,o],i=!1,s=[1,1])=>{const l={x:(e-n)/o,y:(t-r)/o};return i?yi(l,s):l},Ks=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function tr(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function v2(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=tr(e,n),o=tr(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=tr(e.top??e.y??0,n),o=tr(e.bottom??e.y??0,n),i=tr(e.left??e.x??0,t),s=tr(e.right??e.x??0,t);return{top:r,right:s,bottom:o,left:i,x:i+s,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function w2(e,t,n,r,o,i){const{x:s,y:l}=Ks(e,[t,n,r]),{x:a,y:u}=Ks({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=o-a,c=i-u;return{left:Math.floor(s),top:Math.floor(l),right:Math.floor(d),bottom:Math.floor(c)}}const Bc=(e,t,n,r,o,i)=>{const s=v2(i,t,n),l=(t-s.x)/e.width,a=(n-s.y)/e.height,u=Math.min(l,a),d=zr(u,r,o),c=e.x+e.width/2,f=e.y+e.height/2,y=t/2-c*d,x=n/2-f*d,v=w2(e,y,x,d,t,n),w={left:Math.min(v.left-s.left,0),top:Math.min(v.top-s.top,0),right:Math.min(v.right-s.right,0),bottom:Math.min(v.bottom-s.bottom,0)};return{x:y-w.left+w.right,y:x-w.top+w.bottom,zoom:d}},ri=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Dr(e){return e!=null&&e!=="parent"}function Jt(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function r0(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function o0(e,t={width:0,height:0},n,r,o){const i={...e},s=r.get(n);if(s){const l=s.origin||o;i.x+=s.internals.positionAbsolute.x-(t.width??0)*l[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*l[1]}return i}function Wf(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function S2(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function b2(e){return{...Kg,...e||{}}}function Io(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:s}=yt(e),l=xi({x:i-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},r),{x:a,y:u}=n?yi(l,t):l;return{xSnapped:a,ySnapped:u,...l}}const Vc=e=>({width:e.offsetWidth,height:e.offsetHeight}),i0=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},k2=["INPUT","SELECT","TEXTAREA"];function s0(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:k2.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const l0=e=>"clientX"in e,yt=(e,t)=>{var i,s;const n=l0(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Uf=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...Vc(s)}})};function a0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}){const a=e*.125+o*.375+s*.375+n*.125,u=t*.125+i*.375+l*.375+r*.125,d=Math.abs(a-e),c=Math.abs(u-t);return[a,u,d,c]}function Ui(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Yf({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case Y.Left:return[t-Ui(t-r,i),n];case Y.Right:return[t+Ui(r-t,i),n];case Y.Top:return[t,n-Ui(n-o,i)];case Y.Bottom:return[t,n+Ui(o-n,i)]}}function Wc({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top,curvature:s=.25}){const[l,a]=Yf({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[u,d]=Yf({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[c,f,y,x]=a0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${a} ${u},${d} ${r},${o}`,c,f,y,x]}function u0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[i,l,o,s]}function _2({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const s=o&&n?r+1e3:r,l=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return s+l}function E2({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=wl(Gs(e),Gs(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return ni(s,Sl(i))>0}const N2=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,C2=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),c0=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||N2;let o;return Zg(e)?o={...e}:o={...e,id:r(e)},C2(o,t)?t:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,t.concat(o))};function d0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,l]=u0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,l]}const Xf={[Y.Left]:{x:-1,y:0},[Y.Right]:{x:1,y:0},[Y.Top]:{x:0,y:-1},[Y.Bottom]:{x:0,y:1}},M2=({source:e,sourcePosition:t=Y.Bottom,target:n})=>t===Y.Left||t===Y.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Gf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function P2({source:e,sourcePosition:t=Y.Bottom,target:n,targetPosition:r=Y.Top,center:o,offset:i,stepPosition:s}){const l=Xf[t],a=Xf[r],u={x:e.x+l.x*i,y:e.y+l.y*i},d={x:n.x+a.x*i,y:n.y+a.y*i},c=M2({source:u,sourcePosition:t,target:d}),f=c.x!==0?"x":"y",y=c[f];let x=[],v,w;const p={x:0,y:0},m={x:0,y:0},[,,h,S]=u0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[f]*a[f]===-1){f==="x"?(v=o.x??u.x+(d.x-u.x)*s,w=o.y??(u.y+d.y)/2):(v=o.x??(u.x+d.x)/2,w=o.y??u.y+(d.y-u.y)*s);const E=[{x:v,y:u.y},{x:v,y:d.y}],N=[{x:u.x,y:w},{x:d.x,y:w}];l[f]===y?x=f==="x"?E:N:x=f==="x"?N:E}else{const E=[{x:u.x,y:d.y}],N=[{x:d.x,y:u.y}];if(f==="x"?x=l.x===y?N:E:x=l.y===y?E:N,t===r){const R=Math.abs(e[f]-n[f]);if(R<=i){const F=Math.min(i-1,i-R);l[f]===y?p[f]=(u[f]>e[f]?-1:1)*F:m[f]=(d[f]>n[f]?-1:1)*F}}if(t!==r){const R=f==="x"?"y":"x",F=l[f]===a[R],k=u[R]>d[R],I=u[R]<d[R];(l[f]===1&&(!F&&k||F&&I)||l[f]!==1&&(!F&&I||F&&k))&&(x=f==="x"?E:N)}const P={x:u.x+p.x,y:u.y+p.y},T={x:d.x+m.x,y:d.y+m.y},D=Math.max(Math.abs(P.x-x[0].x),Math.abs(T.x-x[0].x)),L=Math.max(Math.abs(P.y-x[0].y),Math.abs(T.y-x[0].y));D>=L?(v=(P.x+T.x)/2,w=x[0].y):(v=x[0].x,w=(P.y+T.y)/2)}return[[e,{x:u.x+p.x,y:u.y+p.y},...x,{x:d.x+m.x,y:d.y+m.y},n],v,w,h,S]}function j2(e,t,n,r){const o=Math.min(Gf(e,t)/2,Gf(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+o*u},${s}Q ${i},${s} ${i},${s+o*d}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${s+o*a}Q ${i},${s} ${i+o*l},${s}`}function _u({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20,stepPosition:d=.5}){const[c,f,y,x,v]=P2({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:l,y:a},offset:u,stepPosition:d});return[c.reduce((p,m,h)=>{let S="";return h>0&&h<c.length-1?S=j2(c[h-1],m,c[h+1],s):S=`${h===0?"M":"L"}${m.x} ${m.y}`,p+=S,p},""),f,y,x,v]}function Kf(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function I2(e){var c;const{sourceNode:t,targetNode:n}=e;if(!Kf(t)||!Kf(n))return null;const r=t.internals.handleBounds||Qf(t.handles),o=n.internals.handleBounds||Qf(n.handles),i=qf((r==null?void 0:r.source)??[],e.sourceHandle),s=qf(e.connectionMode===Lr.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!s)return(c=e.onError)==null||c.call(e,"008",Rt.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(i==null?void 0:i.position)||Y.Bottom,a=(s==null?void 0:s.position)||Y.Top,u=Kn(t,i,l),d=Kn(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:l,targetPosition:a}}function Qf(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Kn(e,t,n=Y.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:l}=t??Jt(e);if(r)return{x:o+s/2,y:i+l/2};switch((t==null?void 0:t.position)??n){case Y.Top:return{x:o+s/2,y:i};case Y.Right:return{x:o+s,y:i+l/2};case Y.Bottom:return{x:o+s/2,y:i+l};case Y.Left:return{x:o,y:i+l/2}}}function qf(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Eu(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function R2(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((s,l)=>([l.markerStart||r,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Eu(a,t);i.has(u)||(s.push({id:u,color:a.color||n,...a}),i.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const f0=1e3,T2=10,Uc={nodeOrigin:[0,0],nodeExtent:ei,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},L2={...Uc,checkEquality:!0};function Yc(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function z2(e,t,n){const r=Yc(Uc,n);for(const o of e.values())if(o.parentId)Gc(o,e,t,r);else{const i=mi(o,r.nodeOrigin),s=Dr(o.extent)?o.extent:r.nodeExtent,l=Gn(i,s,Jt(o));o.internals.positionAbsolute=l}}function $2(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const o of e.handles){const i={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(i):o.type==="target"&&r.push(i)}return{source:n,target:r}}function Xc(e){return e==="manual"}function Nu(e,t,n,r={}){var u,d;const o=Yc(L2,r),i={i:0},s=new Map(t),l=o!=null&&o.elevateNodesOnSelect&&!Xc(o.zIndexMode)?f0:0;let a=e.length>0;t.clear(),n.clear();for(const c of e){let f=s.get(c.id);if(o.checkEquality&&c===(f==null?void 0:f.internals.userNode))t.set(c.id,f);else{const y=mi(c,o.nodeOrigin),x=Dr(c.extent)?c.extent:o.nodeExtent,v=Gn(y,x,Jt(c));f={...o.defaults,...c,measured:{width:(u=c.measured)==null?void 0:u.width,height:(d=c.measured)==null?void 0:d.height},internals:{positionAbsolute:v,handleBounds:$2(c,f),z:h0(c,l,o.zIndexMode),userNode:c}},t.set(c.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(a=!1),c.parentId&&Gc(f,t,n,r,i)}return a}function D2(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Gc(e,t,n,r,o){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:l,zIndexMode:a}=Yc(Uc,r),u=e.parentId,d=t.get(u);if(!d){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}D2(e,n),o&&!d.parentId&&d.internals.rootParentIndex===void 0&&a==="auto"&&(d.internals.rootParentIndex=++o.i,d.internals.z=d.internals.z+o.i*T2),o&&d.internals.rootParentIndex!==void 0&&(o.i=d.internals.rootParentIndex);const c=i&&!Xc(a)?f0:0,{x:f,y,z:x}=A2(e,d,s,l,c,a),{positionAbsolute:v}=e.internals,w=f!==v.x||y!==v.y;(w||x!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:w?{x:f,y}:v,z:x}})}function h0(e,t,n){const r=gt(e.zIndex)?e.zIndex:0;return Xc(n)?r:r+(e.selected?t:0)}function A2(e,t,n,r,o,i){const{x:s,y:l}=t.internals.positionAbsolute,a=Jt(e),u=mi(e,n),d=Dr(e.extent)?Gn(u,e.extent,a):u;let c=Gn({x:s+d.x,y:l+d.y},r,a);e.extent==="parent"&&(c=e0(c,a,t));const f=h0(e,o,i),y=t.internals.z??0;return{x:c.x,y:c.y,z:y>=f?y+1:f}}function Kc(e,t,n,r=[0,0]){var s;const o=[],i=new Map;for(const l of e){const a=t.get(l.parentId);if(!a)continue;const u=((s=i.get(l.parentId))==null?void 0:s.expandedRect)??$r(a),d=n0(u,l.rect);i.set(l.parentId,{expandedRect:d,parent:a})}return i.size>0&&i.forEach(({expandedRect:l,parent:a},u)=>{var h;const d=a.internals.positionAbsolute,c=Jt(a),f=a.origin??r,y=l.x<d.x?Math.round(Math.abs(d.x-l.x)):0,x=l.y<d.y?Math.round(Math.abs(d.y-l.y)):0,v=Math.max(c.width,Math.round(l.width)),w=Math.max(c.height,Math.round(l.height)),p=(v-c.width)*f[0],m=(w-c.height)*f[1];(y>0||x>0||p||m)&&(o.push({id:u,type:"position",position:{x:a.position.x-y+p,y:a.position.y-x+m}}),(h=n.get(u))==null||h.forEach(S=>{e.some(_=>_.id===S.id)||o.push({id:S.id,type:"position",position:{x:S.position.x+y,y:S.position.y+x}})})),(c.width<l.width||c.height<l.height||y||x)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:v+(y?f[0]*y-p:0),height:w+(x?f[1]*x-m:0)}})}),o}function O2(e,t,n,r,o,i,s){const l=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!l)return{changes:[],updatedInternals:a};const u=[],d=window.getComputedStyle(l),{m22:c}=new window.DOMMatrixReadOnly(d.transform),f=[];for(const y of e.values()){const x=t.get(y.id);if(!x)continue;if(x.hidden){t.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),a=!0;continue}const v=Vc(y.nodeElement),w=x.measured.width!==v.width||x.measured.height!==v.height;if(!!(v.width&&v.height&&(w||!x.internals.handleBounds||y.force))){const m=y.nodeElement.getBoundingClientRect(),h=Dr(x.extent)?x.extent:i;let{positionAbsolute:S}=x.internals;x.parentId&&x.extent==="parent"?S=e0(S,v,t.get(x.parentId)):h&&(S=Gn(S,h,v));const _={...x,measured:v,internals:{...x.internals,positionAbsolute:S,handleBounds:{source:Uf("source",y.nodeElement,m,c,x.id),target:Uf("target",y.nodeElement,m,c,x.id)}}};t.set(x.id,_),x.parentId&&Gc(_,t,n,{nodeOrigin:o,zIndexMode:s}),a=!0,w&&(u.push({id:x.id,type:"dimensions",dimensions:v}),x.expandParent&&x.parentId&&f.push({id:x.id,parentId:x.parentId,rect:$r(_,o)}))}}if(f.length>0){const y=Kc(f,t,n,o);u.push(...y)}return{changes:u,updatedInternals:a}}async function F2({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function Zf(e,t,n,r,o,i){let s=o;const l=r.get(s)||new Map;r.set(s,l.set(n,t)),s=`${o}-${e}`;const a=r.get(s)||new Map;if(r.set(s,a.set(n,t)),i){s=`${o}-${e}-${i}`;const u=r.get(s)||new Map;r.set(s,u.set(n,t))}}function p0(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:s=null,targetHandle:l=null}=r,a={edgeId:r.id,source:o,target:i,sourceHandle:s,targetHandle:l},u=`${o}-${s}--${i}-${l}`,d=`${i}-${l}--${o}-${s}`;Zf("source",a,d,e,o,s),Zf("target",a,u,e,i,l),t.set(r.id,r)}}function m0(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:m0(n,t):!1}function Jf(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function H2(e,t,n,r){const o=new Map;for(const[i,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!m0(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const l=e.get(i);l&&o.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function da({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,l,a;const o=[];for(const[u,d]of t){const c=(s=n.get(u))==null?void 0:s.internals.userNode;c&&o.push({...c,position:d.position,dragging:r})}if(!e)return[o[0],o];const i=(l=n.get(e))==null?void 0:l.internals.userNode;return[i?{...i,position:((a=t.get(e))==null?void 0:a.position)||i.position,dragging:r}:o[0],o]}function B2({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const i={x:n-o.distance.x,y:r-o.distance.y},s=yi(i,t);return{x:s.x-i.x,y:s.y-i.y}}function V2({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},d=null,c=!1,f=null,y=!1,x=!1,v=null;function w({noDragClassName:m,handleSelector:h,domNode:S,isSelectable:_,nodeId:E,nodeClickDistance:N=0}){f=Ke(S);function P({x:R,y:F}){const{nodeLookup:k,nodeExtent:I,snapGrid:j,snapToGrid:$,nodeOrigin:C,onNodeDrag:M,onSelectionDrag:z,onError:A,updateNodePositions:O}=t();i={x:R,y:F};let W=!1;const V=l.size>1,X=V&&I?ku(gi(l)):null,G=V&&$?B2({dragItems:l,snapGrid:j,x:R,y:F}):null;for(const[K,B]of l){if(!k.has(K))continue;let Q={x:R-B.distance.x,y:F-B.distance.y};$&&(Q=G?{x:Math.round(Q.x+G.x),y:Math.round(Q.y+G.y)}:yi(Q,j));let te=null;if(V&&I&&!B.extent&&X){const{positionAbsolute:q}=B.internals,le=q.x-X.x+I[0][0],ce=q.x+B.measured.width-X.x2+I[1][0],se=q.y-X.y+I[0][1],Re=q.y+B.measured.height-X.y2+I[1][1];te=[[le,se],[ce,Re]]}const{position:J,positionAbsolute:Z}=Jg({nodeId:K,nextPosition:Q,nodeLookup:k,nodeExtent:te||I,nodeOrigin:C,onError:A});W=W||B.position.x!==J.x||B.position.y!==J.y,B.position=J,B.internals.positionAbsolute=Z}if(x=x||W,!!W&&(O(l,!0),v&&(r||M||!E&&z))){const[K,B]=da({nodeId:E,dragItems:l,nodeLookup:k});r==null||r(v,l,K,B),M==null||M(v,K,B),E||z==null||z(v,B)}}async function T(){if(!d)return;const{transform:R,panBy:F,autoPanSpeed:k,autoPanOnNodeDrag:I}=t();if(!I){a=!1,cancelAnimationFrame(s);return}const[j,$]=t0(u,d,k);(j!==0||$!==0)&&(i.x=(i.x??0)-j/R[2],i.y=(i.y??0)-$/R[2],await F({x:j,y:$})&&P(i)),s=requestAnimationFrame(T)}function D(R){var V;const{nodeLookup:F,multiSelectionActive:k,nodesDraggable:I,transform:j,snapGrid:$,snapToGrid:C,selectNodesOnDrag:M,onNodeDragStart:z,onSelectionDragStart:A,unselectNodesAndEdges:O}=t();c=!0,(!M||!_)&&!k&&E&&((V=F.get(E))!=null&&V.selected||O()),_&&M&&E&&(e==null||e(E));const W=Io(R.sourceEvent,{transform:j,snapGrid:$,snapToGrid:C,containerBounds:d});if(i=W,l=H2(F,I,W,E),l.size>0&&(n||z||!E&&A)){const[X,G]=da({nodeId:E,dragItems:l,nodeLookup:F});n==null||n(R.sourceEvent,l,X,G),z==null||z(R.sourceEvent,X,G),E||A==null||A(R.sourceEvent,G)}}const L=Rg().clickDistance(N).on("start",R=>{const{domNode:F,nodeDragThreshold:k,transform:I,snapGrid:j,snapToGrid:$}=t();d=(F==null?void 0:F.getBoundingClientRect())||null,y=!1,x=!1,v=R.sourceEvent,k===0&&D(R),i=Io(R.sourceEvent,{transform:I,snapGrid:j,snapToGrid:$,containerBounds:d}),u=yt(R.sourceEvent,d)}).on("drag",R=>{const{autoPanOnNodeDrag:F,transform:k,snapGrid:I,snapToGrid:j,nodeDragThreshold:$,nodeLookup:C}=t(),M=Io(R.sourceEvent,{transform:k,snapGrid:I,snapToGrid:j,containerBounds:d});if(v=R.sourceEvent,(R.sourceEvent.type==="touchmove"&&R.sourceEvent.touches.length>1||E&&!C.has(E))&&(y=!0),!y){if(!a&&F&&c&&(a=!0,T()),!c){const z=yt(R.sourceEvent,d),A=z.x-u.x,O=z.y-u.y;Math.sqrt(A*A+O*O)>$&&D(R)}(i.x!==M.xSnapped||i.y!==M.ySnapped)&&l&&c&&(u=yt(R.sourceEvent,d),P(M))}}).on("end",R=>{if(!(!c||y)&&(a=!1,c=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:F,updateNodePositions:k,onNodeDragStop:I,onSelectionDragStop:j}=t();if(x&&(k(l,!1),x=!1),o||I||!E&&j){const[$,C]=da({nodeId:E,dragItems:l,nodeLookup:F,dragging:!1});o==null||o(R.sourceEvent,l,$,C),I==null||I(R.sourceEvent,$,C),E||j==null||j(R.sourceEvent,C)}}}).filter(R=>{const F=R.target;return!R.button&&(!m||!Jf(F,`.${m}`,S))&&(!h||Jf(F,h,S))});f.call(L)}function p(){f==null||f.on(".drag",null)}return{update:w,destroy:p}}function W2(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())ni(o,$r(i))>0&&r.push(i);return r}const U2=250;function Y2(e,t,n,r){var l,a;let o=[],i=1/0;const s=W2(e,n,t+U2);for(const u of s){const d=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const c of d){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:f,y}=Kn(u,c,c.position,!0),x=Math.sqrt(Math.pow(f-e.x,2)+Math.pow(y-e.y,2));x>t||(x<i?(o=[{...c,x:f,y}],i=x):x===i&&o.push({...c,x:f,y}))}}if(!o.length)return null;if(o.length>1){const u=r.type==="source"?"target":"source";return o.find(d=>d.type===u)??o[0]}return o[0]}function g0(e,t,n,r,o,i=!1){var u,d,c;const s=r.get(e);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((d=s.internals.handleBounds)==null?void 0:d.source)??[],...((c=s.internals.handleBounds)==null?void 0:c.target)??[]],a=(n?l==null?void 0:l.find(f=>f.id===n):l==null?void 0:l[0])??null;return a&&i?{...a,...Kn(s,a,a.position,!0)}:a}function y0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function X2(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const x0=()=>!0;function G2(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:d,flowId:c,panBy:f,cancelConnection:y,onConnectStart:x,onConnect:v,onConnectEnd:w,isValidConnection:p=x0,onReconnectEnd:m,updateConnection:h,getTransform:S,getFromHandle:_,autoPanSpeed:E,dragThreshold:N=1,handleDomNode:P}){const T=i0(e.target);let D=0,L;const{x:R,y:F}=yt(e),k=y0(i,P),I=l==null?void 0:l.getBoundingClientRect();let j=!1;if(!I||!k)return;const $=g0(o,k,r,a,t);if(!$)return;let C=yt(e,I),M=!1,z=null,A=!1,O=null;function W(){if(!d||!I)return;const[J,Z]=t0(C,I,E);f({x:J,y:Z}),D=requestAnimationFrame(W)}const V={...$,nodeId:o,type:k,position:$.position},X=a.get(o);let K={inProgress:!0,isValid:null,from:Kn(X,V,Y.Left,!0),fromHandle:V,fromPosition:V.position,fromNode:X,to:C,toHandle:null,toPosition:Hf[V.position],toNode:null,pointer:C};function B(){j=!0,h(K),x==null||x(e,{nodeId:o,handleId:r,handleType:k})}N===0&&B();function Q(J){if(!j){const{x:Re,y:en}=yt(J),zt=Re-R,Mn=en-F;if(!(zt*zt+Mn*Mn>N*N))return;B()}if(!_()||!V){te(J);return}const Z=S();C=yt(J,I),L=Y2(xi(C,Z,!1,[1,1]),n,a,V),M||(W(),M=!0);const q=v0(J,{handle:L,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:s?"target":"source",isValidConnection:p,doc:T,lib:u,flowId:c,nodeLookup:a});O=q.handleDomNode,z=q.connection,A=X2(!!L,q.isValid);const le=a.get(o),ce=le?Kn(le,V,Y.Left,!0):K.from,se={...K,from:ce,isValid:A,to:q.toHandle&&A?Ks({x:q.toHandle.x,y:q.toHandle.y},Z):C,toHandle:q.toHandle,toPosition:A&&q.toHandle?q.toHandle.position:Hf[V.position],toNode:q.toHandle?a.get(q.toHandle.nodeId):null,pointer:C};h(se),K=se}function te(J){if(!("touches"in J&&J.touches.length>0)){if(j){(L||O)&&z&&A&&(v==null||v(z));const{inProgress:Z,...q}=K,le={...q,toPosition:K.toHandle?K.toPosition:null};w==null||w(J,le),i&&(m==null||m(J,le))}y(),cancelAnimationFrame(D),M=!1,A=!1,z=null,O=null,T.removeEventListener("mousemove",Q),T.removeEventListener("mouseup",te),T.removeEventListener("touchmove",Q),T.removeEventListener("touchend",te)}}T.addEventListener("mousemove",Q),T.addEventListener("mouseup",te),T.addEventListener("touchmove",Q),T.addEventListener("touchend",te)}function v0(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:s,lib:l,flowId:a,isValidConnection:u=x0,nodeLookup:d}){const c=i==="target",f=t?s.querySelector(`.${l}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:y,y:x}=yt(e),v=s.elementFromPoint(y,x),w=v!=null&&v.classList.contains(`${l}-flow__handle`)?v:f,p={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const m=y0(void 0,w),h=w.getAttribute("data-nodeid"),S=w.getAttribute("data-handleid"),_=w.classList.contains("connectable"),E=w.classList.contains("connectableend");if(!h||!m)return p;const N={source:c?h:r,sourceHandle:c?S:o,target:c?r:h,targetHandle:c?o:S};p.connection=N;const T=_&&E&&(n===Lr.Strict?c&&m==="source"||!c&&m==="target":h!==r||S!==o);p.isValid=T&&u(N),p.toHandle=g0(h,m,S,d,n,!0)}return p}const Cu={onPointerDown:G2,isValid:v0};function K2({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=Ke(e);function i({translateExtent:l,width:a,height:u,zoomStep:d=1,pannable:c=!0,zoomable:f=!0,inversePan:y=!1}){const x=h=>{if(h.sourceEvent.type!=="wheel"||!t)return;const S=n(),_=h.sourceEvent.ctrlKey&&ri()?10:1,E=-h.sourceEvent.deltaY*(h.sourceEvent.deltaMode===1?.05:h.sourceEvent.deltaMode?1:.002)*d,N=S[2]*Math.pow(2,E*_);t.scaleTo(N)};let v=[0,0];const w=h=>{(h.sourceEvent.type==="mousedown"||h.sourceEvent.type==="touchstart")&&(v=[h.sourceEvent.clientX??h.sourceEvent.touches[0].clientX,h.sourceEvent.clientY??h.sourceEvent.touches[0].clientY])},p=h=>{const S=n();if(h.sourceEvent.type!=="mousemove"&&h.sourceEvent.type!=="touchmove"||!t)return;const _=[h.sourceEvent.clientX??h.sourceEvent.touches[0].clientX,h.sourceEvent.clientY??h.sourceEvent.touches[0].clientY],E=[_[0]-v[0],_[1]-v[1]];v=_;const N=r()*Math.max(S[2],Math.log(S[2]))*(y?-1:1),P={x:S[0]-E[0]*N,y:S[1]-E[1]*N},T=[[0,0],[a,u]];t.setViewportConstrained({x:P.x,y:P.y,zoom:S[2]},T,l)},m=Xg().on("start",w).on("zoom",c?p:null).on("zoom.wheel",f?x:null);o.call(m,{})}function s(){o.on("zoom",null)}return{update:i,destroy:s,pointer:ht}}const bl=e=>({x:e.x,y:e.y,zoom:e.k}),fa=({x:e,y:t,zoom:n})=>vl.translate(e,t).scale(n),pr=(e,t)=>e.target.closest(`.${t}`),w0=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Q2=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,ha=(e,t=0,n=Q2,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},S0=e=>{const t=e.ctrlKey&&ri()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function q2({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return d=>{if(pr(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const c=n.property("__zoom").k||1;if(d.ctrlKey&&s){const w=ht(d),p=S0(d),m=c*Math.pow(2,p);r.scaleTo(n,m,w,d);return}const f=d.deltaMode===1?20:1;let y=o===On.Vertical?0:d.deltaX*f,x=o===On.Horizontal?0:d.deltaY*f;!ri()&&d.shiftKey&&o!==On.Vertical&&(y=d.deltaY*f,x=0),r.translateBy(n,-(y/c)*i,-(x/c)*i,{internal:!0});const v=bl(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(a==null||a(d,v),e.panScrollTimeout=setTimeout(()=>{u==null||u(d,v),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(d,v))}}function Z2({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",s=!t&&i&&!r.ctrlKey,l=pr(r,e);if(r.ctrlKey&&i&&l&&r.preventDefault(),s||l)return null;r.preventDefault(),n.call(this,r,o)}}function J2({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,s,l;if((i=r.sourceEvent)!=null&&i.internal)return;const o=bl(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function eE({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var s,l;e.usedRightMouseButton=!!(n&&w0(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((l=i.sourceEvent)!=null&&l.internal)&&(o==null||o(i.sourceEvent,bl(i.transform)))}}function tE({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,i&&w0(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const a=bl(s.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function nE({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u,connectionInProgress:d}){return c=>{var w;const f=e||t,y=n&&c.ctrlKey,x=c.type==="wheel";if(c.button===1&&c.type==="mousedown"&&(pr(c,`${u}-flow__node`)||pr(c,`${u}-flow__edge`)))return!0;if(!r&&!f&&!o&&!i&&!n||s||d&&!x||pr(c,l)&&x||pr(c,a)&&(!x||o&&x&&!e)||!n&&c.ctrlKey&&x)return!1;if(!n&&c.type==="touchstart"&&((w=c.touches)==null?void 0:w.length)>1)return c.preventDefault(),!1;if(!f&&!o&&!y&&x||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const v=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||x)&&v}}function rE({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:o,onPanZoom:i,onPanZoomStart:s,onPanZoomEnd:l,onDraggingChange:a}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),c=Xg().scaleExtent([t,n]).translateExtent(r),f=Ke(e).call(c);m({x:o.x,y:o.y,zoom:zr(o.zoom,t,n)},[[0,0],[d.width,d.height]],r);const y=f.on("wheel.zoom"),x=f.on("dblclick.zoom");c.wheelDelta(S0);function v(L,R){return f?new Promise(F=>{c==null||c.interpolate((R==null?void 0:R.interpolate)==="linear"?jo:cs).transform(ha(f,R==null?void 0:R.duration,R==null?void 0:R.ease,()=>F(!0)),L)}):Promise.resolve(!1)}function w({noWheelClassName:L,noPanClassName:R,onPaneContextMenu:F,userSelectionActive:k,panOnScroll:I,panOnDrag:j,panOnScrollMode:$,panOnScrollSpeed:C,preventScrolling:M,zoomOnPinch:z,zoomOnScroll:A,zoomOnDoubleClick:O,zoomActivationKeyPressed:W,lib:V,onTransformChange:X,connectionInProgress:G,paneClickDistance:K,selectionOnDrag:B}){k&&!u.isZoomingOrPanning&&p();const Q=I&&!W&&!k;c.clickDistance(B?1/0:!gt(K)||K<0?0:K);const te=Q?q2({zoomPanValues:u,noWheelClassName:L,d3Selection:f,d3Zoom:c,panOnScrollMode:$,panOnScrollSpeed:C,zoomOnPinch:z,onPanZoomStart:s,onPanZoom:i,onPanZoomEnd:l}):Z2({noWheelClassName:L,preventScrolling:M,d3ZoomHandler:y});if(f.on("wheel.zoom",te,{passive:!1}),!k){const Z=J2({zoomPanValues:u,onDraggingChange:a,onPanZoomStart:s});c.on("start",Z);const q=eE({zoomPanValues:u,panOnDrag:j,onPaneContextMenu:!!F,onPanZoom:i,onTransformChange:X});c.on("zoom",q);const le=tE({zoomPanValues:u,panOnDrag:j,panOnScroll:I,onPaneContextMenu:F,onPanZoomEnd:l,onDraggingChange:a});c.on("end",le)}const J=nE({zoomActivationKeyPressed:W,panOnDrag:j,zoomOnScroll:A,panOnScroll:I,zoomOnDoubleClick:O,zoomOnPinch:z,userSelectionActive:k,noPanClassName:R,noWheelClassName:L,lib:V,connectionInProgress:G});c.filter(J),O?f.on("dblclick.zoom",x):f.on("dblclick.zoom",null)}function p(){c.on("zoom",null)}async function m(L,R,F){const k=fa(L),I=c==null?void 0:c.constrain()(k,R,F);return I&&await v(I),new Promise(j=>j(I))}async function h(L,R){const F=fa(L);return await v(F,R),new Promise(k=>k(F))}function S(L){if(f){const R=fa(L),F=f.property("__zoom");(F.k!==L.zoom||F.x!==L.x||F.y!==L.y)&&(c==null||c.transform(f,R,null,{sync:!0}))}}function _(){const L=f?Yg(f.node()):{x:0,y:0,k:1};return{x:L.x,y:L.y,zoom:L.k}}function E(L,R){return f?new Promise(F=>{c==null||c.interpolate((R==null?void 0:R.interpolate)==="linear"?jo:cs).scaleTo(ha(f,R==null?void 0:R.duration,R==null?void 0:R.ease,()=>F(!0)),L)}):Promise.resolve(!1)}function N(L,R){return f?new Promise(F=>{c==null||c.interpolate((R==null?void 0:R.interpolate)==="linear"?jo:cs).scaleBy(ha(f,R==null?void 0:R.duration,R==null?void 0:R.ease,()=>F(!0)),L)}):Promise.resolve(!1)}function P(L){c==null||c.scaleExtent(L)}function T(L){c==null||c.translateExtent(L)}function D(L){const R=!gt(L)||L<0?0:L;c==null||c.clickDistance(R)}return{update:w,destroy:p,setViewport:h,setViewportConstrained:m,getViewport:_,scaleTo:E,scaleBy:N,setScaleExtent:P,setTranslateExtent:T,syncViewport:S,setClickDistance:D}}var Ar;(function(e){e.Line="line",e.Handle="handle"})(Ar||(Ar={}));function oE({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const s=e-t,l=n-r,a=[s>0?1:s<0?-1:0,l>0?1:l<0?-1:0];return s&&o&&(a[0]=a[0]*-1),l&&i&&(a[1]=a[1]*-1),a}function eh(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function nn(e,t){return Math.max(0,t-e)}function rn(e,t){return Math.max(0,e-t)}function Yi(e,t,n){return Math.max(0,t-e,e-n)}function th(e,t){return e?!t:t}function iE(e,t,n,r,o,i,s,l){let{affectsX:a,affectsY:u}=t;const{isHorizontal:d,isVertical:c}=t,f=d&&c,{xSnapped:y,ySnapped:x}=n,{minWidth:v,maxWidth:w,minHeight:p,maxHeight:m}=r,{x:h,y:S,width:_,height:E,aspectRatio:N}=e;let P=Math.floor(d?y-e.pointerX:0),T=Math.floor(c?x-e.pointerY:0);const D=_+(a?-P:P),L=E+(u?-T:T),R=-i[0]*_,F=-i[1]*E;let k=Yi(D,v,w),I=Yi(L,p,m);if(s){let C=0,M=0;a&&P<0?C=nn(h+P+R,s[0][0]):!a&&P>0&&(C=rn(h+D+R,s[1][0])),u&&T<0?M=nn(S+T+F,s[0][1]):!u&&T>0&&(M=rn(S+L+F,s[1][1])),k=Math.max(k,C),I=Math.max(I,M)}if(l){let C=0,M=0;a&&P>0?C=rn(h+P,l[0][0]):!a&&P<0&&(C=nn(h+D,l[1][0])),u&&T>0?M=rn(S+T,l[0][1]):!u&&T<0&&(M=nn(S+L,l[1][1])),k=Math.max(k,C),I=Math.max(I,M)}if(o){if(d){const C=Yi(D/N,p,m)*N;if(k=Math.max(k,C),s){let M=0;!a&&!u||a&&!u&&f?M=rn(S+F+D/N,s[1][1])*N:M=nn(S+F+(a?P:-P)/N,s[0][1])*N,k=Math.max(k,M)}if(l){let M=0;!a&&!u||a&&!u&&f?M=nn(S+D/N,l[1][1])*N:M=rn(S+(a?P:-P)/N,l[0][1])*N,k=Math.max(k,M)}}if(c){const C=Yi(L*N,v,w)/N;if(I=Math.max(I,C),s){let M=0;!a&&!u||u&&!a&&f?M=rn(h+L*N+R,s[1][0])/N:M=nn(h+(u?T:-T)*N+R,s[0][0])/N,I=Math.max(I,M)}if(l){let M=0;!a&&!u||u&&!a&&f?M=nn(h+L*N,l[1][0])/N:M=rn(h+(u?T:-T)*N,l[0][0])/N,I=Math.max(I,M)}}}T=T+(T<0?I:-I),P=P+(P<0?k:-k),o&&(f?D>L*N?T=(th(a,u)?-P:P)/N:P=(th(a,u)?-T:T)*N:d?(T=P/N,u=a):(P=T*N,a=u));const j=a?h+P:h,$=u?S+T:S;return{width:_+(a?-P:P),height:E+(u?-T:T),x:i[0]*P*(a?-1:1)+j,y:i[1]*T*(u?-1:1)+$}}const b0={width:0,height:0,x:0,y:0},sE={...b0,pointerX:0,pointerY:0,aspectRatio:1};function lE(e){return[[0,0],[e.measured.width,e.measured.height]]}function aE(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,l=n[0]*i,a=n[1]*s;return[[r-l,o-a],[r+i-l,o+s-a]]}function uE({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=Ke(e);let s={controlDirection:eh("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:u,boundaries:d,keepAspectRatio:c,resizeDirection:f,onResizeStart:y,onResize:x,onResizeEnd:v,shouldResize:w}){let p={...b0},m={...sE};s={boundaries:d,resizeDirection:f,keepAspectRatio:c,controlDirection:eh(u)};let h,S=null,_=[],E,N,P,T=!1;const D=Rg().on("start",L=>{const{nodeLookup:R,transform:F,snapGrid:k,snapToGrid:I,nodeOrigin:j,paneDomNode:$}=n();if(h=R.get(t),!h)return;S=($==null?void 0:$.getBoundingClientRect())??null;const{xSnapped:C,ySnapped:M}=Io(L.sourceEvent,{transform:F,snapGrid:k,snapToGrid:I,containerBounds:S});p={width:h.measured.width??0,height:h.measured.height??0,x:h.position.x??0,y:h.position.y??0},m={...p,pointerX:C,pointerY:M,aspectRatio:p.width/p.height},E=void 0,h.parentId&&(h.extent==="parent"||h.expandParent)&&(E=R.get(h.parentId),N=E&&h.extent==="parent"?lE(E):void 0),_=[],P=void 0;for(const[z,A]of R)if(A.parentId===t&&(_.push({id:z,position:{...A.position},extent:A.extent}),A.extent==="parent"||A.expandParent)){const O=aE(A,h,A.origin??j);P?P=[[Math.min(O[0][0],P[0][0]),Math.min(O[0][1],P[0][1])],[Math.max(O[1][0],P[1][0]),Math.max(O[1][1],P[1][1])]]:P=O}y==null||y(L,{...p})}).on("drag",L=>{const{transform:R,snapGrid:F,snapToGrid:k,nodeOrigin:I}=n(),j=Io(L.sourceEvent,{transform:R,snapGrid:F,snapToGrid:k,containerBounds:S}),$=[];if(!h)return;const{x:C,y:M,width:z,height:A}=p,O={},W=h.origin??I,{width:V,height:X,x:G,y:K}=iE(m,s.controlDirection,j,s.boundaries,s.keepAspectRatio,W,N,P),B=V!==z,Q=X!==A,te=G!==C&&B,J=K!==M&&Q;if(!te&&!J&&!B&&!Q)return;if((te||J||W[0]===1||W[1]===1)&&(O.x=te?G:p.x,O.y=J?K:p.y,p.x=O.x,p.y=O.y,_.length>0)){const ce=G-C,se=K-M;for(const Re of _)Re.position={x:Re.position.x-ce+W[0]*(V-z),y:Re.position.y-se+W[1]*(X-A)},$.push(Re)}if((B||Q)&&(O.width=B&&(!s.resizeDirection||s.resizeDirection==="horizontal")?V:p.width,O.height=Q&&(!s.resizeDirection||s.resizeDirection==="vertical")?X:p.height,p.width=O.width,p.height=O.height),E&&h.expandParent){const ce=W[0]*(O.width??0);O.x&&O.x<ce&&(p.x=ce,m.x=m.x-(O.x-ce));const se=W[1]*(O.height??0);O.y&&O.y<se&&(p.y=se,m.y=m.y-(O.y-se))}const Z=oE({width:p.width,prevWidth:z,height:p.height,prevHeight:A,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),q={...p,direction:Z};(w==null?void 0:w(L,q))!==!1&&(T=!0,x==null||x(L,q),r(O,$))}).on("end",L=>{T&&(v==null||v(L,{...p}),o==null||o({...p}),T=!1)});i.call(D)}function a(){i.on(".drag",null)}return{update:l,destroy:a}}var k0={exports:{}},_0={},E0={exports:{}},N0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or=b;function cE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dE=typeof Object.is=="function"?Object.is:cE,fE=Or.useState,hE=Or.useEffect,pE=Or.useLayoutEffect,mE=Or.useDebugValue;function gE(e,t){var n=t(),r=fE({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return pE(function(){o.value=n,o.getSnapshot=t,pa(o)&&i({inst:o})},[e,n,t]),hE(function(){return pa(o)&&i({inst:o}),e(function(){pa(o)&&i({inst:o})})},[e]),mE(n),n}function pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dE(e,n)}catch{return!0}}function yE(e,t){return t()}var xE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?yE:gE;N0.useSyncExternalStore=Or.useSyncExternalStore!==void 0?Or.useSyncExternalStore:xE;E0.exports=N0;var vE=E0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=b,wE=vE;function SE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bE=typeof Object.is=="function"?Object.is:SE,kE=wE.useSyncExternalStore,_E=kl.useRef,EE=kl.useEffect,NE=kl.useMemo,CE=kl.useDebugValue;_0.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=_E(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=NE(function(){function a(y){if(!u){if(u=!0,d=y,y=r(y),o!==void 0&&s.hasValue){var x=s.value;if(o(x,y))return c=x}return c=y}if(x=c,bE(d,y))return x;var v=r(y);return o!==void 0&&o(x,v)?(d=y,x):(d=y,c=v)}var u=!1,d,c,f=n===void 0?null:n;return[function(){return a(t())},f===null?void 0:function(){return a(f())}]},[t,n,r,o]);var l=kE(e,i[0],i[1]);return EE(function(){s.hasValue=!0,s.value=l},[l]),CE(l),l};k0.exports=_0;var ME=k0.exports;const PE=Lh(ME),jE={},nh=e=>{let t;const n=new Set,r=(d,c)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const y=t;t=c??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(x=>x(t,y))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(jE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,a);return a},IE=e=>e?nh(e):nh,{useDebugValue:RE}=fo,{useSyncExternalStoreWithSelector:TE}=PE,LE=e=>e;function C0(e,t=LE,n){const r=TE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return RE(r),r}const rh=(e,t)=>{const n=IE(e),r=(o,i=t)=>C0(n,o,i);return Object.assign(r,n),r},zE=(e,t)=>e?rh(e,t):rh;function ge(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const _l=b.createContext(null),$E=_l.Provider,M0=Rt.error001();function oe(e,t){const n=b.useContext(_l);if(n===null)throw new Error(M0);return C0(n,e,t)}function ye(){const e=b.useContext(_l);if(e===null)throw new Error(M0);return b.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const oh={display:"none"},DE={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},P0="react-flow__node-desc",j0="react-flow__edge-desc",AE="react-flow__aria-live",OE=e=>e.ariaLiveMessage,FE=e=>e.ariaLabelConfig;function HE({rfId:e}){const t=oe(OE);return g.jsx("div",{id:`${AE}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:DE,children:t})}function BE({rfId:e,disableKeyboardA11y:t}){const n=oe(FE);return g.jsxs(g.Fragment,{children:[g.jsx("div",{id:`${P0}-${e}`,style:oh,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),g.jsx("div",{id:`${j0}-${e}`,style:oh,children:n["edge.a11yDescription.default"]}),!t&&g.jsx(HE,{rfId:e})]})}const El=b.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const s=`${e}`.split("-");return g.jsx("div",{className:_e(["react-flow__panel",n,...s]),style:r,ref:i,...o,children:t})});El.displayName="Panel";function VE({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:g.jsx(El,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:g.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const WE=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Xi=e=>e.id;function UE(e,t){return ge(e.selectedNodes.map(Xi),t.selectedNodes.map(Xi))&&ge(e.selectedEdges.map(Xi),t.selectedEdges.map(Xi))}function YE({onSelectionChange:e}){const t=ye(),{selectedNodes:n,selectedEdges:r}=oe(WE,UE);return b.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const XE=e=>!!e.onSelectionChangeHandlers;function GE({onSelectionChange:e}){const t=oe(XE);return e||t?g.jsx(YE,{onSelectionChange:e}):null}const I0=[0,0],KE={x:0,y:0,zoom:1},QE=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],ih=[...QE,"rfId"],qE=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),sh={translateExtent:ei,nodeOrigin:I0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function ZE(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:a}=oe(qE,ge),u=ye();b.useEffect(()=>(a(e.defaultNodes,e.defaultEdges),()=>{d.current=sh,l()}),[]);const d=b.useRef(sh);return b.useEffect(()=>{for(const c of ih){const f=e[c],y=d.current[c];f!==y&&(typeof e[c]>"u"||(c==="nodes"?t(f):c==="edges"?n(f):c==="minZoom"?r(f):c==="maxZoom"?o(f):c==="translateExtent"?i(f):c==="nodeExtent"?s(f):c==="ariaLabelConfig"?u.setState({ariaLabelConfig:b2(f)}):c==="fitView"?u.setState({fitViewQueued:f}):c==="fitViewOptions"?u.setState({fitViewOptions:f}):u.setState({[c]:f})))}d.current=e},ih.map(c=>e[c])),null}function lh(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function JE(e){var r;const[t,n]=b.useState(e==="system"?null:e);return b.useEffect(()=>{if(e!=="system"){n(e);return}const o=lh(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=lh())!=null&&r.matches?"dark":"light"}const ah=typeof document<"u"?document:null;function oi(e=null,t={target:ah,actInsideInputWithModifier:!0}){const[n,r]=b.useState(!1),o=b.useRef(!1),i=b.useRef(new Set([])),[s,l]=b.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(c=>typeof c=="string").map(c=>c.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=u.reduce((c,f)=>c.concat(...f),[]);return[u,d]}return[[],[]]},[e]);return b.useEffect(()=>{const a=(t==null?void 0:t.target)??ah,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=y=>{var w,p;if(o.current=y.ctrlKey||y.metaKey||y.shiftKey||y.altKey,(!o.current||o.current&&!u)&&s0(y))return!1;const v=ch(y.code,l);if(i.current.add(y[v]),uh(s,i.current,!1)){const m=((p=(w=y.composedPath)==null?void 0:w.call(y))==null?void 0:p[0])||y.target,h=(m==null?void 0:m.nodeName)==="BUTTON"||(m==null?void 0:m.nodeName)==="A";t.preventDefault!==!1&&(o.current||!h)&&y.preventDefault(),r(!0)}},c=y=>{const x=ch(y.code,l);uh(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(y[x]),y.key==="Meta"&&i.current.clear(),o.current=!1},f=()=>{i.current.clear(),r(!1)};return a==null||a.addEventListener("keydown",d),a==null||a.addEventListener("keyup",c),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{a==null||a.removeEventListener("keydown",d),a==null||a.removeEventListener("keyup",c),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[e,r]),n}function uh(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function ch(e,t){return t.includes(e)?"code":"key"}const eN=()=>{const e=ye();return b.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:s,panZoom:l}=e.getState(),a=Bc(t,r,o,i,s,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(a,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:l,y:a}=s.getBoundingClientRect(),u={x:t.x-l,y:t.y-a},d=n.snapGrid??o,c=n.snapToGrid??i;return xi(u,r,c,d)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),s=Ks(t,n);return{x:s.x+o,y:s.y+i}}}),[])};function R0(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const s=r.get(i.id);s?s.push(i):r.set(i.id,[i])}for(const i of t){const s=r.get(i.id);if(!s){n.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const l={...i};for(const a of s)tN(a,l);n.push(l)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function tN(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function T0(e,t){return R0(e,t)}function L0(e,t){return R0(e,t)}function In(e,t){return{id:e,type:"select",selected:t}}function mr(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const s=t.has(o);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),r.push(In(i.id,s)))}return r}function dh({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const l=t.get(s.id),a=((o=l==null?void 0:l.internals)==null?void 0:o.userNode)??l;a!==void 0&&a!==s&&n.push({id:s.id,item:s,type:"replace"}),a===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function fh(e){return{id:e.id,type:"remove"}}const hh=e=>f2(e),nN=e=>Zg(e);function z0(e){return b.forwardRef(e)}const rN=typeof window<"u"?b.useLayoutEffect:b.useEffect;function ph(e){const[t,n]=b.useState(BigInt(0)),[r]=b.useState(()=>oN(()=>n(o=>o+BigInt(1))));return rN(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function oN(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const $0=b.createContext(null);function iN({children:e}){const t=ye(),n=b.useCallback(l=>{const{nodes:a=[],setNodes:u,hasDefaultNodes:d,onNodesChange:c,nodeLookup:f,fitViewQueued:y,onNodesChangeMiddlewareMap:x}=t.getState();let v=a;for(const p of l)v=typeof p=="function"?p(v):p;let w=dh({items:v,lookup:f});for(const p of x.values())w=p(w);d&&u(v),w.length>0?c==null||c(w):y&&window.requestAnimationFrame(()=>{const{fitViewQueued:p,nodes:m,setNodes:h}=t.getState();p&&h(m)})},[]),r=ph(n),o=b.useCallback(l=>{const{edges:a=[],setEdges:u,hasDefaultEdges:d,onEdgesChange:c,edgeLookup:f}=t.getState();let y=a;for(const x of l)y=typeof x=="function"?x(y):x;d?u(y):c&&c(dh({items:y,lookup:f}))},[]),i=ph(o),s=b.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return g.jsx($0.Provider,{value:s,children:e})}function sN(){const e=b.useContext($0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const lN=e=>!!e.panZoom;function Nl(){const e=eN(),t=ye(),n=sN(),r=oe(lN),o=b.useMemo(()=>{const i=c=>t.getState().nodeLookup.get(c),s=c=>{n.nodeQueue.push(c)},l=c=>{n.edgeQueue.push(c)},a=c=>{var p,m;const{nodeLookup:f,nodeOrigin:y}=t.getState(),x=hh(c)?c:f.get(c.id),v=x.parentId?o0(x.position,x.measured,x.parentId,f,y):x.position,w={...x,position:v,width:((p=x.measured)==null?void 0:p.width)??x.width,height:((m=x.measured)==null?void 0:m.height)??x.height};return $r(w)},u=(c,f,y={replace:!1})=>{s(x=>x.map(v=>{if(v.id===c){const w=typeof f=="function"?f(v):f;return y.replace&&hh(w)?w:{...v,...w}}return v}))},d=(c,f,y={replace:!1})=>{l(x=>x.map(v=>{if(v.id===c){const w=typeof f=="function"?f(v):f;return y.replace&&nN(w)?w:{...v,...w}}return v}))};return{getNodes:()=>t.getState().nodes.map(c=>({...c})),getNode:c=>{var f;return(f=i(c))==null?void 0:f.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:c=[]}=t.getState();return c.map(f=>({...f}))},getEdge:c=>t.getState().edgeLookup.get(c),setNodes:s,setEdges:l,addNodes:c=>{const f=Array.isArray(c)?c:[c];n.nodeQueue.push(y=>[...y,...f])},addEdges:c=>{const f=Array.isArray(c)?c:[c];n.edgeQueue.push(y=>[...y,...f])},toObject:()=>{const{nodes:c=[],edges:f=[],transform:y}=t.getState(),[x,v,w]=y;return{nodes:c.map(p=>({...p})),edges:f.map(p=>({...p})),viewport:{x,y:v,zoom:w}}},deleteElements:async({nodes:c=[],edges:f=[]})=>{const{nodes:y,edges:x,onNodesDelete:v,onEdgesDelete:w,triggerNodeChanges:p,triggerEdgeChanges:m,onDelete:h,onBeforeDelete:S}=t.getState(),{nodes:_,edges:E}=await y2({nodesToRemove:c,edgesToRemove:f,nodes:y,edges:x,onBeforeDelete:S}),N=E.length>0,P=_.length>0;if(N){const T=E.map(fh);w==null||w(E),m(T)}if(P){const T=_.map(fh);v==null||v(_),p(T)}return(P||N)&&(h==null||h({nodes:_,edges:E})),{deletedNodes:_,deletedEdges:E}},getIntersectingNodes:(c,f=!0,y)=>{const x=Vf(c),v=x?c:a(c),w=y!==void 0;return v?(y||t.getState().nodes).filter(p=>{const m=t.getState().nodeLookup.get(p.id);if(m&&!x&&(p.id===c.id||!m.internals.positionAbsolute))return!1;const h=$r(w?p:m),S=ni(h,v);return f&&S>0||S>=h.width*h.height||S>=v.width*v.height}):[]},isNodeIntersecting:(c,f,y=!0)=>{const v=Vf(c)?c:a(c);if(!v)return!1;const w=ni(v,f);return y&&w>0||w>=f.width*f.height||w>=v.width*v.height},updateNode:u,updateNodeData:(c,f,y={replace:!1})=>{u(c,x=>{const v=typeof f=="function"?f(x):f;return y.replace?{...x,data:v}:{...x,data:{...x.data,...v}}},y)},updateEdge:d,updateEdgeData:(c,f,y={replace:!1})=>{d(c,x=>{const v=typeof f=="function"?f(x):f;return y.replace?{...x,data:v}:{...x,data:{...x.data,...v}}},y)},getNodesBounds:c=>{const{nodeLookup:f,nodeOrigin:y}=t.getState();return h2(c,{nodeLookup:f,nodeOrigin:y})},getHandleConnections:({type:c,id:f,nodeId:y})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${y}-${c}${f?`-${f}`:""}`))==null?void 0:x.values())??[])},getNodeConnections:({type:c,handleId:f,nodeId:y})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${y}${c?f?`-${c}-${f}`:`-${c}`:""}`))==null?void 0:x.values())??[])},fitView:async c=>{const f=t.getState().fitViewResolver??S2();return t.setState({fitViewQueued:!0,fitViewOptions:c,fitViewResolver:f}),n.nodeQueue.push(y=>[...y]),f.promise}}},[]);return b.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const mh=e=>e.selected,aN=typeof window<"u"?window:void 0;function uN({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=ye(),{deleteElements:r}=Nl(),o=oi(e,{actInsideInputWithModifier:!1}),i=oi(t,{target:aN});b.useEffect(()=>{if(o){const{edges:s,nodes:l}=n.getState();r({nodes:l.filter(mh),edges:s.filter(mh)}),n.setState({nodesSelectionActive:!1})}},[o]),b.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function cN(e){const t=ye();b.useEffect(()=>{const n=()=>{var o,i,s,l;if(!e.current||!(((i=(o=e.current).checkVisibility)==null?void 0:i.call(o))??!0))return!1;const r=Vc(e.current);(r.height===0||r.width===0)&&((l=(s=t.getState()).onError)==null||l.call(s,"004",Rt.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Cl={position:"absolute",width:"100%",height:"100%",top:0,left:0},dN=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function fN({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=On.Free,zoomOnDoubleClick:s=!0,panOnDrag:l=!0,defaultViewport:a,translateExtent:u,minZoom:d,maxZoom:c,zoomActivationKeyCode:f,preventScrolling:y=!0,children:x,noWheelClassName:v,noPanClassName:w,onViewportChange:p,isControlledViewport:m,paneClickDistance:h,selectionOnDrag:S}){const _=ye(),E=b.useRef(null),{userSelectionActive:N,lib:P,connectionInProgress:T}=oe(dN,ge),D=oi(f),L=b.useRef();cN(E);const R=b.useCallback(F=>{p==null||p({x:F[0],y:F[1],zoom:F[2]}),m||_.setState({transform:F})},[p,m]);return b.useEffect(()=>{if(E.current){L.current=rE({domNode:E.current,minZoom:d,maxZoom:c,translateExtent:u,viewport:a,onDraggingChange:j=>_.setState({paneDragging:j}),onPanZoomStart:(j,$)=>{const{onViewportChangeStart:C,onMoveStart:M}=_.getState();M==null||M(j,$),C==null||C($)},onPanZoom:(j,$)=>{const{onViewportChange:C,onMove:M}=_.getState();M==null||M(j,$),C==null||C($)},onPanZoomEnd:(j,$)=>{const{onViewportChangeEnd:C,onMoveEnd:M}=_.getState();M==null||M(j,$),C==null||C($)}});const{x:F,y:k,zoom:I}=L.current.getViewport();return _.setState({panZoom:L.current,transform:[F,k,I],domNode:E.current.closest(".react-flow")}),()=>{var j;(j=L.current)==null||j.destroy()}}},[]),b.useEffect(()=>{var F;(F=L.current)==null||F.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:l,zoomActivationKeyPressed:D,preventScrolling:y,noPanClassName:w,userSelectionActive:N,noWheelClassName:v,lib:P,onTransformChange:R,connectionInProgress:T,selectionOnDrag:S,paneClickDistance:h})},[e,t,n,r,o,i,s,l,D,y,w,N,v,P,R,T,S,h]),g.jsx("div",{className:"react-flow__renderer",ref:E,style:Cl,children:x})}const hN=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function pN(){const{userSelectionActive:e,userSelectionRect:t}=oe(hN,ge);return e&&t?g.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const ma=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},mN=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function gN({isSelecting:e,selectionKeyPressed:t,selectionMode:n=ti.Full,panOnDrag:r,paneClickDistance:o,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:l,onPaneClick:a,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:c,onPaneMouseMove:f,onPaneMouseLeave:y,children:x}){const v=ye(),{userSelectionActive:w,elementsSelectable:p,dragging:m,connectionInProgress:h}=oe(mN,ge),S=p&&(e||w),_=b.useRef(null),E=b.useRef(),N=b.useRef(new Set),P=b.useRef(new Set),T=b.useRef(!1),D=C=>{if(T.current||h){T.current=!1;return}a==null||a(C),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},L=C=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){C.preventDefault();return}u==null||u(C)},R=d?C=>d(C):void 0,F=C=>{T.current&&(C.stopPropagation(),T.current=!1)},k=C=>{var X,G;const{domNode:M}=v.getState();if(E.current=M==null?void 0:M.getBoundingClientRect(),!E.current)return;const z=C.target===_.current;if(!z&&!!C.target.closest(".nokey")||!e||!(i&&z||t)||C.button!==0||!C.isPrimary)return;(G=(X=C.target)==null?void 0:X.setPointerCapture)==null||G.call(X,C.pointerId),T.current=!1;const{x:W,y:V}=yt(C.nativeEvent,E.current);v.setState({userSelectionRect:{width:0,height:0,startX:W,startY:V,x:W,y:V}}),z||(C.stopPropagation(),C.preventDefault())},I=C=>{const{userSelectionRect:M,transform:z,nodeLookup:A,edgeLookup:O,connectionLookup:W,triggerNodeChanges:V,triggerEdgeChanges:X,defaultEdgeOptions:G,resetSelectedElements:K}=v.getState();if(!E.current||!M)return;const{x:B,y:Q}=yt(C.nativeEvent,E.current),{startX:te,startY:J}=M;if(!T.current){const se=t?0:o;if(Math.hypot(B-te,Q-J)<=se)return;K(),s==null||s(C)}T.current=!0;const Z={startX:te,startY:J,x:B<te?B:te,y:Q<J?Q:J,width:Math.abs(B-te),height:Math.abs(Q-J)},q=N.current,le=P.current;N.current=new Set(Hc(A,Z,z,n===ti.Partial,!0).map(se=>se.id)),P.current=new Set;const ce=(G==null?void 0:G.selectable)??!0;for(const se of N.current){const Re=W.get(se);if(Re)for(const{edgeId:en}of Re.values()){const zt=O.get(en);zt&&(zt.selectable??ce)&&P.current.add(en)}}if(!Wf(q,N.current)){const se=mr(A,N.current,!0);V(se)}if(!Wf(le,P.current)){const se=mr(O,P.current);X(se)}v.setState({userSelectionRect:Z,userSelectionActive:!0,nodesSelectionActive:!1})},j=C=>{var M,z;C.button===0&&((z=(M=C.target)==null?void 0:M.releasePointerCapture)==null||z.call(M,C.pointerId),!w&&C.target===_.current&&v.getState().userSelectionRect&&(D==null||D(C)),v.setState({userSelectionActive:!1,userSelectionRect:null}),T.current&&(l==null||l(C),v.setState({nodesSelectionActive:N.current.size>0})))},$=r===!0||Array.isArray(r)&&r.includes(0);return g.jsxs("div",{className:_e(["react-flow__pane",{draggable:$,dragging:m,selection:e}]),onClick:S?void 0:ma(D,_),onContextMenu:ma(L,_),onWheel:ma(R,_),onPointerEnter:S?void 0:c,onPointerMove:S?I:f,onPointerUp:S?j:void 0,onPointerDownCapture:S?k:void 0,onClickCapture:S?F:void 0,onPointerLeave:y,ref:_,style:Cl,children:[x,g.jsx(pN,{})]})}function Mu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",Rt.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):o([e])}function D0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:s}){const l=ye(),[a,u]=b.useState(!1),d=b.useRef();return b.useEffect(()=>{d.current=V2({getStoreItems:()=>l.getState(),onNodeMouseDown:c=>{Mu({id:c,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),b.useEffect(()=>{var c,f;if(t)(c=d.current)==null||c.destroy();else if(e.current)return(f=d.current)==null||f.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:s}),()=>{var y;(y=d.current)==null||y.destroy()}},[n,r,t,i,e,o]),a}const yN=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function A0(){const e=ye();return b.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:s,onError:l,updateNodePositions:a,nodeLookup:u,nodeOrigin:d}=e.getState(),c=new Map,f=yN(s),y=o?i[0]:5,x=o?i[1]:5,v=n.direction.x*y*n.factor,w=n.direction.y*x*n.factor;for(const[,p]of u){if(!f(p))continue;let m={x:p.internals.positionAbsolute.x+v,y:p.internals.positionAbsolute.y+w};o&&(m=yi(m,i));const{position:h,positionAbsolute:S}=Jg({nodeId:p.id,nextPosition:m,nodeLookup:u,nodeExtent:r,nodeOrigin:d,onError:l});p.position=h,p.internals.positionAbsolute=S,c.set(p.id,p)}a(c)},[])}const Qc=b.createContext(null),xN=Qc.Provider;Qc.Consumer;const O0=()=>b.useContext(Qc),vN=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),wN=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:s}=r,{fromHandle:l,toHandle:a,isValid:u}=s,d=(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:d,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===Lr.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!o,valid:d&&u}};function SN({type:e="source",position:t=Y.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:d,onTouchStart:c,...f},y){var I,j;const x=s||null,v=e==="target",w=ye(),p=O0(),{connectOnClick:m,noPanClassName:h,rfId:S}=oe(vN,ge),{connectingFrom:_,connectingTo:E,clickConnecting:N,isPossibleEndHandle:P,connectionInProcess:T,clickConnectionInProcess:D,valid:L}=oe(wN(p,x,e),ge);p||(j=(I=w.getState()).onError)==null||j.call(I,"010",Rt.error010());const R=$=>{const{defaultEdgeOptions:C,onConnect:M,hasDefaultEdges:z}=w.getState(),A={...C,...$};if(z){const{edges:O,setEdges:W}=w.getState();W(c0(A,O))}M==null||M(A),l==null||l(A)},F=$=>{if(!p)return;const C=l0($.nativeEvent);if(o&&(C&&$.button===0||!C)){const M=w.getState();Cu.onPointerDown($.nativeEvent,{handleDomNode:$.currentTarget,autoPanOnConnect:M.autoPanOnConnect,connectionMode:M.connectionMode,connectionRadius:M.connectionRadius,domNode:M.domNode,nodeLookup:M.nodeLookup,lib:M.lib,isTarget:v,handleId:x,nodeId:p,flowId:M.rfId,panBy:M.panBy,cancelConnection:M.cancelConnection,onConnectStart:M.onConnectStart,onConnectEnd:M.onConnectEnd,updateConnection:M.updateConnection,onConnect:R,isValidConnection:n||M.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:M.autoPanSpeed,dragThreshold:M.connectionDragThreshold})}C?d==null||d($):c==null||c($)},k=$=>{const{onClickConnectStart:C,onClickConnectEnd:M,connectionClickStartHandle:z,connectionMode:A,isValidConnection:O,lib:W,rfId:V,nodeLookup:X,connection:G}=w.getState();if(!p||!z&&!o)return;if(!z){C==null||C($.nativeEvent,{nodeId:p,handleId:x,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:p,type:e,id:x}});return}const K=i0($.target),B=n||O,{connection:Q,isValid:te}=Cu.isValid($.nativeEvent,{handle:{nodeId:p,id:x,type:e},connectionMode:A,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:B,flowId:V,doc:K,lib:W,nodeLookup:X});te&&Q&&R(Q);const J=structuredClone(G);delete J.inProgress,J.toPosition=J.toHandle?J.toHandle.position:null,M==null||M($,J),w.setState({connectionClickStartHandle:null})};return g.jsx("div",{"data-handleid":x,"data-nodeid":p,"data-handlepos":t,"data-id":`${S}-${p}-${x}-${e}`,className:_e(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",h,u,{source:!v,target:v,connectable:r,connectablestart:o,connectableend:i,clickconnecting:N,connectingfrom:_,connectingto:E,valid:L,connectionindicator:r&&(!T||P)&&(T||D?i:o)}]),onMouseDown:F,onTouchStart:F,onClick:m?k:void 0,ref:y,...f,children:a})}const Fn=b.memo(z0(SN));function bN({data:e,isConnectable:t,sourcePosition:n=Y.Bottom}){return g.jsxs(g.Fragment,{children:[e==null?void 0:e.label,g.jsx(Fn,{type:"source",position:n,isConnectable:t})]})}function kN({data:e,isConnectable:t,targetPosition:n=Y.Top,sourcePosition:r=Y.Bottom}){return g.jsxs(g.Fragment,{children:[g.jsx(Fn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,g.jsx(Fn,{type:"source",position:r,isConnectable:t})]})}function _N(){return null}function EN({data:e,isConnectable:t,targetPosition:n=Y.Top}){return g.jsxs(g.Fragment,{children:[g.jsx(Fn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Qs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},gh={input:bN,default:kN,output:EN,group:_N};function NN(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const CN=e=>{const{width:t,height:n,x:r,y:o}=gi(e.nodeLookup,{filter:i=>!!i.selected});return{width:gt(t)?t:null,height:gt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function MN({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ye(),{width:o,height:i,transformString:s,userSelectionActive:l}=oe(CN,ge),a=A0(),u=b.useRef(null);if(b.useEffect(()=>{var f;n||(f=u.current)==null||f.focus({preventScroll:!0})},[n]),D0({nodeRef:u}),l||!o||!i)return null;const d=e?f=>{const y=r.getState().nodes.filter(x=>x.selected);e(f,y)}:void 0,c=f=>{Object.prototype.hasOwnProperty.call(Qs,f.key)&&(f.preventDefault(),a({direction:Qs[f.key],factor:f.shiftKey?4:1}))};return g.jsx("div",{className:_e(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:g.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:c,style:{width:o,height:i}})})}const yh=typeof window<"u"?window:void 0,PN=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function F0({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:l,deleteKeyCode:a,selectionKeyCode:u,selectionOnDrag:d,selectionMode:c,onSelectionStart:f,onSelectionEnd:y,multiSelectionKeyCode:x,panActivationKeyCode:v,zoomActivationKeyCode:w,elementsSelectable:p,zoomOnScroll:m,zoomOnPinch:h,panOnScroll:S,panOnScrollSpeed:_,panOnScrollMode:E,zoomOnDoubleClick:N,panOnDrag:P,defaultViewport:T,translateExtent:D,minZoom:L,maxZoom:R,preventScrolling:F,onSelectionContextMenu:k,noWheelClassName:I,noPanClassName:j,disableKeyboardA11y:$,onViewportChange:C,isControlledViewport:M}){const{nodesSelectionActive:z,userSelectionActive:A}=oe(PN,ge),O=oi(u,{target:yh}),W=oi(v,{target:yh}),V=W||P,X=W||S,G=d&&V!==!0,K=O||A||G;return uN({deleteKeyCode:a,multiSelectionKeyCode:x}),g.jsx(fN,{onPaneContextMenu:i,elementsSelectable:p,zoomOnScroll:m,zoomOnPinch:h,panOnScroll:X,panOnScrollSpeed:_,panOnScrollMode:E,zoomOnDoubleClick:N,panOnDrag:!O&&V,defaultViewport:T,translateExtent:D,minZoom:L,maxZoom:R,zoomActivationKeyCode:w,preventScrolling:F,noWheelClassName:I,noPanClassName:j,onViewportChange:C,isControlledViewport:M,paneClickDistance:l,selectionOnDrag:G,children:g.jsxs(gN,{onSelectionStart:f,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:V,isSelecting:!!K,selectionMode:c,selectionKeyPressed:O,paneClickDistance:l,selectionOnDrag:G,children:[e,z&&g.jsx(MN,{onSelectionContextMenu:k,noPanClassName:j,disableKeyboardA11y:$})]})})}F0.displayName="FlowRenderer";const jN=b.memo(F0),IN=e=>t=>e?Hc(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function RN(e){return oe(b.useCallback(IN(e),[e]),ge)}const TN=e=>e.updateNodeInternals;function LN(){const e=oe(TN),[t]=b.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return b.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function zN({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=ye(),i=b.useRef(null),s=b.useRef(null),l=b.useRef(e.sourcePosition),a=b.useRef(e.targetPosition),u=b.useRef(t),d=n&&!!e.internals.handleBounds;return b.useEffect(()=>{i.current&&!e.hidden&&(!d||s.current!==i.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(i.current),s.current=i.current)},[d,e.hidden]),b.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),b.useEffect(()=>{if(i.current){const c=u.current!==t,f=l.current!==e.sourcePosition,y=a.current!==e.targetPosition;(c||f||y)&&(u.current=t,l.current=e.sourcePosition,a.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function $N({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:s,nodesDraggable:l,elementsSelectable:a,nodesConnectable:u,nodesFocusable:d,resizeObserver:c,noDragClassName:f,noPanClassName:y,disableKeyboardA11y:x,rfId:v,nodeTypes:w,nodeClickDistance:p,onError:m}){const{node:h,internals:S,isParent:_}=oe(B=>{const Q=B.nodeLookup.get(e),te=B.parentLookup.has(e);return{node:Q,internals:Q.internals,isParent:te}},ge);let E=h.type||"default",N=(w==null?void 0:w[E])||gh[E];N===void 0&&(m==null||m("003",Rt.error003(E)),E="default",N=(w==null?void 0:w.default)||gh.default);const P=!!(h.draggable||l&&typeof h.draggable>"u"),T=!!(h.selectable||a&&typeof h.selectable>"u"),D=!!(h.connectable||u&&typeof h.connectable>"u"),L=!!(h.focusable||d&&typeof h.focusable>"u"),R=ye(),F=r0(h),k=zN({node:h,nodeType:E,hasDimensions:F,resizeObserver:c}),I=D0({nodeRef:k,disabled:h.hidden||!P,noDragClassName:f,handleSelector:h.dragHandle,nodeId:e,isSelectable:T,nodeClickDistance:p}),j=A0();if(h.hidden)return null;const $=Jt(h),C=NN(h),M=T||P||t||n||r||o,z=n?B=>n(B,{...S.userNode}):void 0,A=r?B=>r(B,{...S.userNode}):void 0,O=o?B=>o(B,{...S.userNode}):void 0,W=i?B=>i(B,{...S.userNode}):void 0,V=s?B=>s(B,{...S.userNode}):void 0,X=B=>{const{selectNodesOnDrag:Q,nodeDragThreshold:te}=R.getState();T&&(!Q||!P||te>0)&&Mu({id:e,store:R,nodeRef:k}),t&&t(B,{...S.userNode})},G=B=>{if(!(s0(B.nativeEvent)||x)){if(Gg.includes(B.key)&&T){const Q=B.key==="Escape";Mu({id:e,store:R,unselect:Q,nodeRef:k})}else if(P&&h.selected&&Object.prototype.hasOwnProperty.call(Qs,B.key)){B.preventDefault();const{ariaLabelConfig:Q}=R.getState();R.setState({ariaLiveMessage:Q["node.a11yDescription.ariaLiveMessage"]({direction:B.key.replace("Arrow","").toLowerCase(),x:~~S.positionAbsolute.x,y:~~S.positionAbsolute.y})}),j({direction:Qs[B.key],factor:B.shiftKey?4:1})}}},K=()=>{var le;if(x||!((le=k.current)!=null&&le.matches(":focus-visible")))return;const{transform:B,width:Q,height:te,autoPanOnNodeFocus:J,setCenter:Z}=R.getState();if(!J)return;Hc(new Map([[e,h]]),{x:0,y:0,width:Q,height:te},B,!0).length>0||Z(h.position.x+$.width/2,h.position.y+$.height/2,{zoom:B[2]})};return g.jsx("div",{className:_e(["react-flow__node",`react-flow__node-${E}`,{[y]:P},h.className,{selected:h.selected,selectable:T,parent:_,draggable:P,dragging:I}]),ref:k,style:{zIndex:S.z,transform:`translate(${S.positionAbsolute.x}px,${S.positionAbsolute.y}px)`,pointerEvents:M?"all":"none",visibility:F?"visible":"hidden",...h.style,...C},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:z,onMouseMove:A,onMouseLeave:O,onContextMenu:W,onClick:X,onDoubleClick:V,onKeyDown:L?G:void 0,tabIndex:L?0:void 0,onFocus:L?K:void 0,role:h.ariaRole??(L?"group":void 0),"aria-roledescription":"node","aria-describedby":x?void 0:`${P0}-${v}`,"aria-label":h.ariaLabel,...h.domAttributes,children:g.jsx(xN,{value:e,children:g.jsx(N,{id:e,data:h.data,type:E,positionAbsoluteX:S.positionAbsolute.x,positionAbsoluteY:S.positionAbsolute.y,selected:h.selected??!1,selectable:T,draggable:P,deletable:h.deletable??!0,isConnectable:D,sourcePosition:h.sourcePosition,targetPosition:h.targetPosition,dragging:I,dragHandle:h.dragHandle,zIndex:S.z,parentId:h.parentId,...$})})})}var DN=b.memo($N);const AN=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function H0(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=oe(AN,ge),s=RN(e.onlyRenderVisibleElements),l=LN();return g.jsx("div",{className:"react-flow__nodes",style:Cl,children:s.map(a=>g.jsx(DN,{id:a,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},a))})}H0.displayName="NodeRenderer";const ON=b.memo(H0);function FN(e){return oe(b.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),s=n.nodeLookup.get(o.target);i&&s&&E2({sourceNode:i,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),ge)}const HN=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return g.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},BN=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return g.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},xh={[Xs.Arrow]:HN,[Xs.ArrowClosed]:BN};function VN(e){const t=ye();return b.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(xh,e)?xh[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",Rt.error009(e)),null)},[e])}const WN=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=VN(t);return a?g.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:g.jsx(a,{color:n,strokeWidth:s})}):null},B0=({defaultColor:e,rfId:t})=>{const n=oe(i=>i.edges),r=oe(i=>i.defaultEdgeOptions),o=b.useMemo(()=>R2(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?g.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:g.jsx("defs",{children:o.map(i=>g.jsx(WN,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};B0.displayName="MarkerDefinitions";var UN=b.memo(B0);function V0({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...d}){const[c,f]=b.useState({x:1,y:0,width:0,height:0}),y=_e(["react-flow__edge-textwrapper",u]),x=b.useRef(null);return b.useEffect(()=>{if(x.current){const v=x.current.getBBox();f({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?g.jsxs("g",{transform:`translate(${e-c.width/2} ${t-c.height/2})`,className:y,visibility:c.width?"visible":"hidden",...d,children:[o&&g.jsx("rect",{width:c.width+2*s[0],x:-s[0],y:-s[1],height:c.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),g.jsx("text",{className:"react-flow__edge-text",y:c.height/2,dy:"0.3em",ref:x,style:r,children:n}),a]}):null}V0.displayName="EdgeText";const YN=b.memo(V0);function vi({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a,interactionWidth:u=20,...d}){return g.jsxs(g.Fragment,{children:[g.jsx("path",{...d,d:e,fill:"none",className:_e(["react-flow__edge-path",d.className])}),u?g.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&gt(t)&&gt(n)?g.jsx(YN,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a}):null]})}function vh({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Y.Left||e===Y.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function W0({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top}){const[s,l]=vh({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=vh({pos:i,x1:r,y1:o,x2:e,y2:t}),[d,c,f,y]=a0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${o}`,d,c,f,y]}function U0(e){return b.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s,targetPosition:l,label:a,labelStyle:u,labelShowBg:d,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:y,style:x,markerEnd:v,markerStart:w,interactionWidth:p})=>{const[m,h,S]=W0({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:l}),_=e.isInternal?void 0:t;return g.jsx(vi,{id:_,path:m,labelX:h,labelY:S,label:a,labelStyle:u,labelShowBg:d,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:y,style:x,markerEnd:v,markerStart:w,interactionWidth:p})})}const XN=U0({isInternal:!1}),Y0=U0({isInternal:!0});XN.displayName="SimpleBezierEdge";Y0.displayName="SimpleBezierEdgeInternal";function X0(e){return b.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:c,style:f,sourcePosition:y=Y.Bottom,targetPosition:x=Y.Top,markerEnd:v,markerStart:w,pathOptions:p,interactionWidth:m})=>{const[h,S,_]=_u({sourceX:n,sourceY:r,sourcePosition:y,targetX:o,targetY:i,targetPosition:x,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset,stepPosition:p==null?void 0:p.stepPosition}),E=e.isInternal?void 0:t;return g.jsx(vi,{id:E,path:h,labelX:S,labelY:_,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:c,style:f,markerEnd:v,markerStart:w,interactionWidth:m})})}const G0=X0({isInternal:!1}),K0=X0({isInternal:!0});G0.displayName="SmoothStepEdge";K0.displayName="SmoothStepEdgeInternal";function Q0(e){return b.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return g.jsx(G0,{...n,id:r,pathOptions:b.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const GN=Q0({isInternal:!1}),q0=Q0({isInternal:!0});GN.displayName="StepEdge";q0.displayName="StepEdgeInternal";function Z0(e){return b.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:c,style:f,markerEnd:y,markerStart:x,interactionWidth:v})=>{const[w,p,m]=d0({sourceX:n,sourceY:r,targetX:o,targetY:i}),h=e.isInternal?void 0:t;return g.jsx(vi,{id:h,path:w,labelX:p,labelY:m,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:c,style:f,markerEnd:y,markerStart:x,interactionWidth:v})})}const KN=Z0({isInternal:!1}),J0=Z0({isInternal:!0});KN.displayName="StraightEdge";J0.displayName="StraightEdgeInternal";function ey(e){return b.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=Y.Bottom,targetPosition:l=Y.Top,label:a,labelStyle:u,labelShowBg:d,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:y,style:x,markerEnd:v,markerStart:w,pathOptions:p,interactionWidth:m})=>{const[h,S,_]=Wc({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:l,curvature:p==null?void 0:p.curvature}),E=e.isInternal?void 0:t;return g.jsx(vi,{id:E,path:h,labelX:S,labelY:_,label:a,labelStyle:u,labelShowBg:d,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:y,style:x,markerEnd:v,markerStart:w,interactionWidth:m})})}const QN=ey({isInternal:!1}),ty=ey({isInternal:!0});QN.displayName="BezierEdge";ty.displayName="BezierEdgeInternal";const wh={default:ty,straight:J0,step:q0,smoothstep:K0,simplebezier:Y0},Sh={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},qN=(e,t,n)=>n===Y.Left?e-t:n===Y.Right?e+t:e,ZN=(e,t,n)=>n===Y.Top?e-t:n===Y.Bottom?e+t:e,bh="react-flow__edgeupdater";function kh({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:l}){return g.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:_e([bh,`${bh}-${l}`]),cx:qN(t,r,e),cy:ZN(n,r,e),r,stroke:"transparent",fill:"transparent"})}function JN({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:s,sourcePosition:l,targetPosition:a,onReconnect:u,onReconnectStart:d,onReconnectEnd:c,setReconnecting:f,setUpdateHover:y}){const x=ye(),v=(S,_)=>{if(S.button!==0)return;const{autoPanOnConnect:E,domNode:N,isValidConnection:P,connectionMode:T,connectionRadius:D,lib:L,onConnectStart:R,onConnectEnd:F,cancelConnection:k,nodeLookup:I,rfId:j,panBy:$,updateConnection:C}=x.getState(),M=_.type==="target",z=(W,V)=>{f(!1),c==null||c(W,n,_.type,V)},A=W=>u==null?void 0:u(n,W),O=(W,V)=>{f(!0),d==null||d(S,n,_.type),R==null||R(W,V)};Cu.onPointerDown(S.nativeEvent,{autoPanOnConnect:E,connectionMode:T,connectionRadius:D,domNode:N,handleId:_.id,nodeId:_.nodeId,nodeLookup:I,isTarget:M,edgeUpdaterType:_.type,lib:L,flowId:j,cancelConnection:k,panBy:$,isValidConnection:P,onConnect:A,onConnectStart:O,onConnectEnd:F,onReconnectEnd:z,updateConnection:C,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,dragThreshold:x.getState().connectionDragThreshold,handleDomNode:S.currentTarget})},w=S=>v(S,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),p=S=>v(S,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),m=()=>y(!0),h=()=>y(!1);return g.jsxs(g.Fragment,{children:[(e===!0||e==="source")&&g.jsx(kh,{position:l,centerX:r,centerY:o,radius:t,onMouseDown:w,onMouseEnter:m,onMouseOut:h,type:"source"}),(e===!0||e==="target")&&g.jsx(kh,{position:a,centerX:i,centerY:s,radius:t,onMouseDown:p,onMouseEnter:m,onMouseOut:h,type:"target"})]})}function eC({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,reconnectRadius:d,onReconnect:c,onReconnectStart:f,onReconnectEnd:y,rfId:x,edgeTypes:v,noPanClassName:w,onError:p,disableKeyboardA11y:m}){let h=oe(Z=>Z.edgeLookup.get(e));const S=oe(Z=>Z.defaultEdgeOptions);h=S?{...S,...h}:h;let _=h.type||"default",E=(v==null?void 0:v[_])||wh[_];E===void 0&&(p==null||p("011",Rt.error011(_)),_="default",E=(v==null?void 0:v.default)||wh.default);const N=!!(h.focusable||t&&typeof h.focusable>"u"),P=typeof c<"u"&&(h.reconnectable||n&&typeof h.reconnectable>"u"),T=!!(h.selectable||r&&typeof h.selectable>"u"),D=b.useRef(null),[L,R]=b.useState(!1),[F,k]=b.useState(!1),I=ye(),{zIndex:j,sourceX:$,sourceY:C,targetX:M,targetY:z,sourcePosition:A,targetPosition:O}=oe(b.useCallback(Z=>{const q=Z.nodeLookup.get(h.source),le=Z.nodeLookup.get(h.target);if(!q||!le)return{zIndex:h.zIndex,...Sh};const ce=I2({id:e,sourceNode:q,targetNode:le,sourceHandle:h.sourceHandle||null,targetHandle:h.targetHandle||null,connectionMode:Z.connectionMode,onError:p});return{zIndex:_2({selected:h.selected,zIndex:h.zIndex,sourceNode:q,targetNode:le,elevateOnSelect:Z.elevateEdgesOnSelect,zIndexMode:Z.zIndexMode}),...ce||Sh}},[h.source,h.target,h.sourceHandle,h.targetHandle,h.selected,h.zIndex]),ge),W=b.useMemo(()=>h.markerStart?`url('#${Eu(h.markerStart,x)}')`:void 0,[h.markerStart,x]),V=b.useMemo(()=>h.markerEnd?`url('#${Eu(h.markerEnd,x)}')`:void 0,[h.markerEnd,x]);if(h.hidden||$===null||C===null||M===null||z===null)return null;const X=Z=>{var se;const{addSelectedEdges:q,unselectNodesAndEdges:le,multiSelectionActive:ce}=I.getState();T&&(I.setState({nodesSelectionActive:!1}),h.selected&&ce?(le({nodes:[],edges:[h]}),(se=D.current)==null||se.blur()):q([e])),o&&o(Z,h)},G=i?Z=>{i(Z,{...h})}:void 0,K=s?Z=>{s(Z,{...h})}:void 0,B=l?Z=>{l(Z,{...h})}:void 0,Q=a?Z=>{a(Z,{...h})}:void 0,te=u?Z=>{u(Z,{...h})}:void 0,J=Z=>{var q;if(!m&&Gg.includes(Z.key)&&T){const{unselectNodesAndEdges:le,addSelectedEdges:ce}=I.getState();Z.key==="Escape"?((q=D.current)==null||q.blur(),le({edges:[h]})):ce([e])}};return g.jsx("svg",{style:{zIndex:j},children:g.jsxs("g",{className:_e(["react-flow__edge",`react-flow__edge-${_}`,h.className,w,{selected:h.selected,animated:h.animated,inactive:!T&&!o,updating:L,selectable:T}]),onClick:X,onDoubleClick:G,onContextMenu:K,onMouseEnter:B,onMouseMove:Q,onMouseLeave:te,onKeyDown:N?J:void 0,tabIndex:N?0:void 0,role:h.ariaRole??(N?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":h.ariaLabel===null?void 0:h.ariaLabel||`Edge from ${h.source} to ${h.target}`,"aria-describedby":N?`${j0}-${x}`:void 0,ref:D,...h.domAttributes,children:[!F&&g.jsx(E,{id:e,source:h.source,target:h.target,type:h.type,selected:h.selected,animated:h.animated,selectable:T,deletable:h.deletable??!0,label:h.label,labelStyle:h.labelStyle,labelShowBg:h.labelShowBg,labelBgStyle:h.labelBgStyle,labelBgPadding:h.labelBgPadding,labelBgBorderRadius:h.labelBgBorderRadius,sourceX:$,sourceY:C,targetX:M,targetY:z,sourcePosition:A,targetPosition:O,data:h.data,style:h.style,sourceHandleId:h.sourceHandle,targetHandleId:h.targetHandle,markerStart:W,markerEnd:V,pathOptions:"pathOptions"in h?h.pathOptions:void 0,interactionWidth:h.interactionWidth}),P&&g.jsx(JN,{edge:h,isReconnectable:P,reconnectRadius:d,onReconnect:c,onReconnectStart:f,onReconnectEnd:y,sourceX:$,sourceY:C,targetX:M,targetY:z,sourcePosition:A,targetPosition:O,setUpdateHover:R,setReconnecting:k})]})})}var tC=b.memo(eC);const nC=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function ny({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:d,reconnectRadius:c,onEdgeDoubleClick:f,onReconnectStart:y,onReconnectEnd:x,disableKeyboardA11y:v}){const{edgesFocusable:w,edgesReconnectable:p,elementsSelectable:m,onError:h}=oe(nC,ge),S=FN(t);return g.jsxs("div",{className:"react-flow__edges",children:[g.jsx(UN,{defaultColor:e,rfId:n}),S.map(_=>g.jsx(tC,{id:_,edgesFocusable:w,edgesReconnectable:p,elementsSelectable:m,noPanClassName:o,onReconnect:i,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:d,reconnectRadius:c,onDoubleClick:f,onReconnectStart:y,onReconnectEnd:x,rfId:n,onError:h,edgeTypes:r,disableKeyboardA11y:v},_))]})}ny.displayName="EdgeRenderer";const rC=b.memo(ny),oC=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function iC({children:e}){const t=oe(oC);return g.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function sC(e){const t=Nl(),n=b.useRef(!1);b.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const lC=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function aC(e){const t=oe(lC),n=ye();return b.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function uC(e){return e.connection.inProgress?{...e.connection,to:xi(e.connection.to,e.transform)}:{...e.connection}}function cC(e){return uC}function dC(e){const t=cC();return oe(t,ge)}const fC=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function hC({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:s,isValid:l,inProgress:a}=oe(fC,ge);return!(i&&o&&a)?null:g.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:g.jsx("g",{className:_e(["react-flow__connection",qg(l)]),children:g.jsx(ry,{style:t,type:n,CustomComponent:r,isValid:l})})})}const ry=({style:e,type:t=dn.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:s,fromHandle:l,fromPosition:a,to:u,toNode:d,toHandle:c,toPosition:f,pointer:y}=dC();if(!o)return;if(n)return g.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:l,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:a,toPosition:f,connectionStatus:qg(r),toNode:d,toHandle:c,pointer:y});let x="";const v={sourceX:i.x,sourceY:i.y,sourcePosition:a,targetX:u.x,targetY:u.y,targetPosition:f};switch(t){case dn.Bezier:[x]=Wc(v);break;case dn.SimpleBezier:[x]=W0(v);break;case dn.Step:[x]=_u({...v,borderRadius:0});break;case dn.SmoothStep:[x]=_u(v);break;default:[x]=d0(v)}return g.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:e})};ry.displayName="ConnectionLine";const pC={};function _h(e=pC){b.useRef(e),ye(),b.useEffect(()=>{},[e])}function mC(){ye(),b.useRef(!1),b.useEffect(()=>{},[])}function oy({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:d,onSelectionContextMenu:c,onSelectionStart:f,onSelectionEnd:y,connectionLineType:x,connectionLineStyle:v,connectionLineComponent:w,connectionLineContainerStyle:p,selectionKeyCode:m,selectionOnDrag:h,selectionMode:S,multiSelectionKeyCode:_,panActivationKeyCode:E,zoomActivationKeyCode:N,deleteKeyCode:P,onlyRenderVisibleElements:T,elementsSelectable:D,defaultViewport:L,translateExtent:R,minZoom:F,maxZoom:k,preventScrolling:I,defaultMarkerColor:j,zoomOnScroll:$,zoomOnPinch:C,panOnScroll:M,panOnScrollSpeed:z,panOnScrollMode:A,zoomOnDoubleClick:O,panOnDrag:W,onPaneClick:V,onPaneMouseEnter:X,onPaneMouseMove:G,onPaneMouseLeave:K,onPaneScroll:B,onPaneContextMenu:Q,paneClickDistance:te,nodeClickDistance:J,onEdgeContextMenu:Z,onEdgeMouseEnter:q,onEdgeMouseMove:le,onEdgeMouseLeave:ce,reconnectRadius:se,onReconnect:Re,onReconnectStart:en,onReconnectEnd:zt,noDragClassName:Mn,noWheelClassName:Xr,noPanClassName:Gr,disableKeyboardA11y:Kr,nodeExtent:Pl,rfId:wi,viewport:Jn,onViewportChange:Qr}){return _h(e),_h(t),mC(),sC(n),aC(Jn),g.jsx(jN,{onPaneClick:V,onPaneMouseEnter:X,onPaneMouseMove:G,onPaneMouseLeave:K,onPaneContextMenu:Q,onPaneScroll:B,paneClickDistance:te,deleteKeyCode:P,selectionKeyCode:m,selectionOnDrag:h,selectionMode:S,onSelectionStart:f,onSelectionEnd:y,multiSelectionKeyCode:_,panActivationKeyCode:E,zoomActivationKeyCode:N,elementsSelectable:D,zoomOnScroll:$,zoomOnPinch:C,zoomOnDoubleClick:O,panOnScroll:M,panOnScrollSpeed:z,panOnScrollMode:A,panOnDrag:W,defaultViewport:L,translateExtent:R,minZoom:F,maxZoom:k,onSelectionContextMenu:c,preventScrolling:I,noDragClassName:Mn,noWheelClassName:Xr,noPanClassName:Gr,disableKeyboardA11y:Kr,onViewportChange:Qr,isControlledViewport:!!Jn,children:g.jsxs(iC,{children:[g.jsx(rC,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:s,onReconnect:Re,onReconnectStart:en,onReconnectEnd:zt,onlyRenderVisibleElements:T,onEdgeContextMenu:Z,onEdgeMouseEnter:q,onEdgeMouseMove:le,onEdgeMouseLeave:ce,reconnectRadius:se,defaultMarkerColor:j,noPanClassName:Gr,disableKeyboardA11y:Kr,rfId:wi}),g.jsx(hC,{style:v,type:x,component:w,containerStyle:p}),g.jsx("div",{className:"react-flow__edgelabel-renderer"}),g.jsx(ON,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:d,nodeClickDistance:J,onlyRenderVisibleElements:T,noPanClassName:Gr,noDragClassName:Mn,disableKeyboardA11y:Kr,nodeExtent:Pl,rfId:wi}),g.jsx("div",{className:"react-flow__viewport-portal"})]})})}oy.displayName="GraphView";const gC=b.memo(oy),Eh=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a=.5,maxZoom:u=2,nodeOrigin:d,nodeExtent:c,zIndexMode:f="basic"}={})=>{const y=new Map,x=new Map,v=new Map,w=new Map,p=r??t??[],m=n??e??[],h=d??[0,0],S=c??ei;p0(v,w,p);const _=Nu(m,y,x,{nodeOrigin:h,nodeExtent:S,zIndexMode:f});let E=[0,0,1];if(s&&o&&i){const N=gi(y,{filter:L=>!!((L.width||L.initialWidth)&&(L.height||L.initialHeight))}),{x:P,y:T,zoom:D}=Bc(N,o,i,a,u,(l==null?void 0:l.padding)??.1);E=[P,T,D]}return{rfId:"1",width:o??0,height:i??0,transform:E,nodes:m,nodesInitialized:_,nodeLookup:y,parentLookup:x,edges:p,edgeLookup:w,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:a,maxZoom:u,translateExtent:ei,nodeExtent:S,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Lr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:h,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:l,fitViewResolver:null,connection:{...Qg},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:x2,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Kg,zIndexMode:f,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},yC=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:d,nodeExtent:c,zIndexMode:f})=>zE((y,x)=>{async function v(){const{nodeLookup:w,panZoom:p,fitViewOptions:m,fitViewResolver:h,width:S,height:_,minZoom:E,maxZoom:N}=x();p&&(await g2({nodes:w,width:S,height:_,panZoom:p,minZoom:E,maxZoom:N},m),h==null||h.resolve(!0),y({fitViewResolver:null}))}return{...Eh({nodes:e,edges:t,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:d,nodeExtent:c,defaultNodes:n,defaultEdges:r,zIndexMode:f}),setNodes:w=>{const{nodeLookup:p,parentLookup:m,nodeOrigin:h,elevateNodesOnSelect:S,fitViewQueued:_,zIndexMode:E}=x(),N=Nu(w,p,m,{nodeOrigin:h,nodeExtent:c,elevateNodesOnSelect:S,checkEquality:!0,zIndexMode:E});_&&N?(v(),y({nodes:w,nodesInitialized:N,fitViewQueued:!1,fitViewOptions:void 0})):y({nodes:w,nodesInitialized:N})},setEdges:w=>{const{connectionLookup:p,edgeLookup:m}=x();p0(p,m,w),y({edges:w})},setDefaultNodesAndEdges:(w,p)=>{if(w){const{setNodes:m}=x();m(w),y({hasDefaultNodes:!0})}if(p){const{setEdges:m}=x();m(p),y({hasDefaultEdges:!0})}},updateNodeInternals:w=>{const{triggerNodeChanges:p,nodeLookup:m,parentLookup:h,domNode:S,nodeOrigin:_,nodeExtent:E,debug:N,fitViewQueued:P,zIndexMode:T}=x(),{changes:D,updatedInternals:L}=O2(w,m,h,S,_,E,T);L&&(z2(m,h,{nodeOrigin:_,nodeExtent:E,zIndexMode:T}),P?(v(),y({fitViewQueued:!1,fitViewOptions:void 0})):y({}),(D==null?void 0:D.length)>0&&(N&&console.log("React Flow: trigger node changes",D),p==null||p(D)))},updateNodePositions:(w,p=!1)=>{const m=[];let h=[];const{nodeLookup:S,triggerNodeChanges:_,connection:E,updateConnection:N,onNodesChangeMiddlewareMap:P}=x();for(const[T,D]of w){const L=S.get(T),R=!!(L!=null&&L.expandParent&&(L!=null&&L.parentId)&&(D!=null&&D.position)),F={id:T,type:"position",position:R?{x:Math.max(0,D.position.x),y:Math.max(0,D.position.y)}:D.position,dragging:p};if(L&&E.inProgress&&E.fromNode.id===L.id){const k=Kn(L,E.fromHandle,Y.Left,!0);N({...E,from:k})}R&&L.parentId&&m.push({id:T,parentId:L.parentId,rect:{...D.internals.positionAbsolute,width:D.measured.width??0,height:D.measured.height??0}}),h.push(F)}if(m.length>0){const{parentLookup:T,nodeOrigin:D}=x(),L=Kc(m,S,T,D);h.push(...L)}for(const T of P.values())h=T(h);_(h)},triggerNodeChanges:w=>{const{onNodesChange:p,setNodes:m,nodes:h,hasDefaultNodes:S,debug:_}=x();if(w!=null&&w.length){if(S){const E=T0(w,h);m(E)}_&&console.log("React Flow: trigger node changes",w),p==null||p(w)}},triggerEdgeChanges:w=>{const{onEdgesChange:p,setEdges:m,edges:h,hasDefaultEdges:S,debug:_}=x();if(w!=null&&w.length){if(S){const E=L0(w,h);m(E)}_&&console.log("React Flow: trigger edge changes",w),p==null||p(w)}},addSelectedNodes:w=>{const{multiSelectionActive:p,edgeLookup:m,nodeLookup:h,triggerNodeChanges:S,triggerEdgeChanges:_}=x();if(p){const E=w.map(N=>In(N,!0));S(E);return}S(mr(h,new Set([...w]),!0)),_(mr(m))},addSelectedEdges:w=>{const{multiSelectionActive:p,edgeLookup:m,nodeLookup:h,triggerNodeChanges:S,triggerEdgeChanges:_}=x();if(p){const E=w.map(N=>In(N,!0));_(E);return}_(mr(m,new Set([...w]))),S(mr(h,new Set,!0))},unselectNodesAndEdges:({nodes:w,edges:p}={})=>{const{edges:m,nodes:h,nodeLookup:S,triggerNodeChanges:_,triggerEdgeChanges:E}=x(),N=w||h,P=p||m,T=N.map(L=>{const R=S.get(L.id);return R&&(R.selected=!1),In(L.id,!1)}),D=P.map(L=>In(L.id,!1));_(T),E(D)},setMinZoom:w=>{const{panZoom:p,maxZoom:m}=x();p==null||p.setScaleExtent([w,m]),y({minZoom:w})},setMaxZoom:w=>{const{panZoom:p,minZoom:m}=x();p==null||p.setScaleExtent([m,w]),y({maxZoom:w})},setTranslateExtent:w=>{var p;(p=x().panZoom)==null||p.setTranslateExtent(w),y({translateExtent:w})},resetSelectedElements:()=>{const{edges:w,nodes:p,triggerNodeChanges:m,triggerEdgeChanges:h,elementsSelectable:S}=x();if(!S)return;const _=p.reduce((N,P)=>P.selected?[...N,In(P.id,!1)]:N,[]),E=w.reduce((N,P)=>P.selected?[...N,In(P.id,!1)]:N,[]);m(_),h(E)},setNodeExtent:w=>{const{nodes:p,nodeLookup:m,parentLookup:h,nodeOrigin:S,elevateNodesOnSelect:_,nodeExtent:E,zIndexMode:N}=x();w[0][0]===E[0][0]&&w[0][1]===E[0][1]&&w[1][0]===E[1][0]&&w[1][1]===E[1][1]||(Nu(p,m,h,{nodeOrigin:S,nodeExtent:w,elevateNodesOnSelect:_,checkEquality:!1,zIndexMode:N}),y({nodeExtent:w}))},panBy:w=>{const{transform:p,width:m,height:h,panZoom:S,translateExtent:_}=x();return F2({delta:w,panZoom:S,transform:p,translateExtent:_,width:m,height:h})},setCenter:async(w,p,m)=>{const{width:h,height:S,maxZoom:_,panZoom:E}=x();if(!E)return Promise.resolve(!1);const N=typeof(m==null?void 0:m.zoom)<"u"?m.zoom:_;return await E.setViewport({x:h/2-w*N,y:S/2-p*N,zoom:N},{duration:m==null?void 0:m.duration,ease:m==null?void 0:m.ease,interpolate:m==null?void 0:m.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{y({connection:{...Qg}})},updateConnection:w=>{y({connection:w})},reset:()=>y({...Eh()})}},Object.is);function iy({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:s,initialMaxZoom:l,initialFitViewOptions:a,fitView:u,nodeOrigin:d,nodeExtent:c,zIndexMode:f,children:y}){const[x]=b.useState(()=>yC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:u,minZoom:s,maxZoom:l,fitViewOptions:a,nodeOrigin:d,nodeExtent:c,zIndexMode:f}));return g.jsx($E,{value:x,children:g.jsx(iN,{children:y})})}function xC({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:s,fitView:l,fitViewOptions:a,minZoom:u,maxZoom:d,nodeOrigin:c,nodeExtent:f,zIndexMode:y}){return b.useContext(_l)?g.jsx(g.Fragment,{children:e}):g.jsx(iy,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:s,fitView:l,initialFitViewOptions:a,initialMinZoom:u,initialMaxZoom:d,nodeOrigin:c,nodeExtent:f,zIndexMode:y,children:e})}const vC={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function wC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:s,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:d,onMoveStart:c,onMoveEnd:f,onConnect:y,onConnectStart:x,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:p,onNodeMouseEnter:m,onNodeMouseMove:h,onNodeMouseLeave:S,onNodeContextMenu:_,onNodeDoubleClick:E,onNodeDragStart:N,onNodeDrag:P,onNodeDragStop:T,onNodesDelete:D,onEdgesDelete:L,onDelete:R,onSelectionChange:F,onSelectionDragStart:k,onSelectionDrag:I,onSelectionDragStop:j,onSelectionContextMenu:$,onSelectionStart:C,onSelectionEnd:M,onBeforeDelete:z,connectionMode:A,connectionLineType:O=dn.Bezier,connectionLineStyle:W,connectionLineComponent:V,connectionLineContainerStyle:X,deleteKeyCode:G="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:B=!1,selectionMode:Q=ti.Full,panActivationKeyCode:te="Space",multiSelectionKeyCode:J=ri()?"Meta":"Control",zoomActivationKeyCode:Z=ri()?"Meta":"Control",snapToGrid:q,snapGrid:le,onlyRenderVisibleElements:ce=!1,selectNodesOnDrag:se,nodesDraggable:Re,autoPanOnNodeFocus:en,nodesConnectable:zt,nodesFocusable:Mn,nodeOrigin:Xr=I0,edgesFocusable:Gr,edgesReconnectable:Kr,elementsSelectable:Pl=!0,defaultViewport:wi=KE,minZoom:Jn=.5,maxZoom:Qr=2,translateExtent:Zc=ei,preventScrolling:yy=!0,nodeExtent:jl,defaultMarkerColor:xy="#b1b1b7",zoomOnScroll:vy=!0,zoomOnPinch:wy=!0,panOnScroll:Sy=!1,panOnScrollSpeed:by=.5,panOnScrollMode:ky=On.Free,zoomOnDoubleClick:_y=!0,panOnDrag:Ey=!0,onPaneClick:Ny,onPaneMouseEnter:Cy,onPaneMouseMove:My,onPaneMouseLeave:Py,onPaneScroll:jy,onPaneContextMenu:Iy,paneClickDistance:Ry=1,nodeClickDistance:Ty=0,children:Ly,onReconnect:zy,onReconnectStart:$y,onReconnectEnd:Dy,onEdgeContextMenu:Ay,onEdgeDoubleClick:Oy,onEdgeMouseEnter:Fy,onEdgeMouseMove:Hy,onEdgeMouseLeave:By,reconnectRadius:Vy=10,onNodesChange:Wy,onEdgesChange:Uy,noDragClassName:Yy="nodrag",noWheelClassName:Xy="nowheel",noPanClassName:Jc="nopan",fitView:ed,fitViewOptions:td,connectOnClick:Gy,attributionPosition:Ky,proOptions:Qy,defaultEdgeOptions:qy,elevateNodesOnSelect:Zy=!0,elevateEdgesOnSelect:Jy=!1,disableKeyboardA11y:nd=!1,autoPanOnConnect:ex,autoPanOnNodeDrag:tx,autoPanSpeed:nx,connectionRadius:rx,isValidConnection:ox,onError:ix,style:sx,id:rd,nodeDragThreshold:lx,connectionDragThreshold:ax,viewport:ux,onViewportChange:cx,width:dx,height:fx,colorMode:hx="light",debug:px,onScroll:Si,ariaLabelConfig:mx,zIndexMode:od="basic",...gx},yx){const Il=rd||"1",xx=JE(hx),vx=b.useCallback(id=>{id.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Si==null||Si(id)},[Si]);return g.jsx("div",{"data-testid":"rf__wrapper",...gx,onScroll:vx,style:{...sx,...vC},ref:yx,className:_e(["react-flow",o,xx]),id:rd,role:"application",children:g.jsxs(xC,{nodes:e,edges:t,width:dx,height:fx,fitView:ed,fitViewOptions:td,minZoom:Jn,maxZoom:Qr,nodeOrigin:Xr,nodeExtent:jl,zIndexMode:od,children:[g.jsx(gC,{onInit:u,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:m,onNodeMouseMove:h,onNodeMouseLeave:S,onNodeContextMenu:_,onNodeDoubleClick:E,nodeTypes:i,edgeTypes:s,connectionLineType:O,connectionLineStyle:W,connectionLineComponent:V,connectionLineContainerStyle:X,selectionKeyCode:K,selectionOnDrag:B,selectionMode:Q,deleteKeyCode:G,multiSelectionKeyCode:J,panActivationKeyCode:te,zoomActivationKeyCode:Z,onlyRenderVisibleElements:ce,defaultViewport:wi,translateExtent:Zc,minZoom:Jn,maxZoom:Qr,preventScrolling:yy,zoomOnScroll:vy,zoomOnPinch:wy,zoomOnDoubleClick:_y,panOnScroll:Sy,panOnScrollSpeed:by,panOnScrollMode:ky,panOnDrag:Ey,onPaneClick:Ny,onPaneMouseEnter:Cy,onPaneMouseMove:My,onPaneMouseLeave:Py,onPaneScroll:jy,onPaneContextMenu:Iy,paneClickDistance:Ry,nodeClickDistance:Ty,onSelectionContextMenu:$,onSelectionStart:C,onSelectionEnd:M,onReconnect:zy,onReconnectStart:$y,onReconnectEnd:Dy,onEdgeContextMenu:Ay,onEdgeDoubleClick:Oy,onEdgeMouseEnter:Fy,onEdgeMouseMove:Hy,onEdgeMouseLeave:By,reconnectRadius:Vy,defaultMarkerColor:xy,noDragClassName:Yy,noWheelClassName:Xy,noPanClassName:Jc,rfId:Il,disableKeyboardA11y:nd,nodeExtent:jl,viewport:ux,onViewportChange:cx}),g.jsx(ZE,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:x,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:p,nodesDraggable:Re,autoPanOnNodeFocus:en,nodesConnectable:zt,nodesFocusable:Mn,edgesFocusable:Gr,edgesReconnectable:Kr,elementsSelectable:Pl,elevateNodesOnSelect:Zy,elevateEdgesOnSelect:Jy,minZoom:Jn,maxZoom:Qr,nodeExtent:jl,onNodesChange:Wy,onEdgesChange:Uy,snapToGrid:q,snapGrid:le,connectionMode:A,translateExtent:Zc,connectOnClick:Gy,defaultEdgeOptions:qy,fitView:ed,fitViewOptions:td,onNodesDelete:D,onEdgesDelete:L,onDelete:R,onNodeDragStart:N,onNodeDrag:P,onNodeDragStop:T,onSelectionDrag:I,onSelectionDragStart:k,onSelectionDragStop:j,onMove:d,onMoveStart:c,onMoveEnd:f,noPanClassName:Jc,nodeOrigin:Xr,rfId:Il,autoPanOnConnect:ex,autoPanOnNodeDrag:tx,autoPanSpeed:nx,onError:ix,connectionRadius:rx,isValidConnection:ox,selectNodesOnDrag:se,nodeDragThreshold:lx,connectionDragThreshold:ax,onBeforeDelete:z,debug:px,ariaLabelConfig:mx,zIndexMode:od}),g.jsx(GE,{onSelectionChange:F}),Ly,g.jsx(VE,{proOptions:Qy,position:Ky}),g.jsx(BE,{rfId:Il,disableKeyboardA11y:nd})]})})}var SC=z0(wC);const bC=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function kC({children:e}){const t=oe(bC);return t?Xm.createPortal(e,t):null}function _C({dimensions:e,lineWidth:t,variant:n,className:r}){return g.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:_e(["react-flow__background-pattern",n,r])})}function EC({radius:e,className:t}){return g.jsx("circle",{cx:e,cy:e,r:e,className:_e(["react-flow__background-pattern","dots",t])})}var Ut;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ut||(Ut={}));const NC={[Ut.Dots]:1,[Ut.Lines]:1,[Ut.Cross]:6},CC=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function sy({id:e,variant:t=Ut.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:s,bgColor:l,style:a,className:u,patternClassName:d}){const c=b.useRef(null),{transform:f,patternId:y}=oe(CC,ge),x=r||NC[t],v=t===Ut.Dots,w=t===Ut.Cross,p=Array.isArray(n)?n:[n,n],m=[p[0]*f[2]||1,p[1]*f[2]||1],h=x*f[2],S=Array.isArray(i)?i:[i,i],_=w?[h,h]:m,E=[S[0]*f[2]||1+_[0]/2,S[1]*f[2]||1+_[1]/2],N=`${y}${e||""}`;return g.jsxs("svg",{className:_e(["react-flow__background",u]),style:{...a,...Cl,"--xy-background-color-props":l,"--xy-background-pattern-color-props":s},ref:c,"data-testid":"rf__background",children:[g.jsx("pattern",{id:N,x:f[0]%m[0],y:f[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`,children:v?g.jsx(EC,{radius:h/2,className:d}):g.jsx(_C,{dimensions:_,lineWidth:o,variant:t,className:d})}),g.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${N})`})]})}sy.displayName="Background";const MC=b.memo(sy);function PC(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:g.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function jC(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:g.jsx("path",{d:"M0 0h32v4.2H0z"})})}function IC(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:g.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function RC(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function TC(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Gi({children:e,className:t,...n}){return g.jsx("button",{type:"button",className:_e(["react-flow__controls-button",t]),...n,children:e})}const LC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function ly({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:a,className:u,children:d,position:c="bottom-left",orientation:f="vertical","aria-label":y}){const x=ye(),{isInteractive:v,minZoomReached:w,maxZoomReached:p,ariaLabelConfig:m}=oe(LC,ge),{zoomIn:h,zoomOut:S,fitView:_}=Nl(),E=()=>{h(),i==null||i()},N=()=>{S(),s==null||s()},P=()=>{_(o),l==null||l()},T=()=>{x.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),a==null||a(!v)},D=f==="horizontal"?"horizontal":"vertical";return g.jsxs(El,{className:_e(["react-flow__controls",D,u]),position:c,style:e,"data-testid":"rf__controls","aria-label":y??m["controls.ariaLabel"],children:[t&&g.jsxs(g.Fragment,{children:[g.jsx(Gi,{onClick:E,className:"react-flow__controls-zoomin",title:m["controls.zoomIn.ariaLabel"],"aria-label":m["controls.zoomIn.ariaLabel"],disabled:p,children:g.jsx(PC,{})}),g.jsx(Gi,{onClick:N,className:"react-flow__controls-zoomout",title:m["controls.zoomOut.ariaLabel"],"aria-label":m["controls.zoomOut.ariaLabel"],disabled:w,children:g.jsx(jC,{})})]}),n&&g.jsx(Gi,{className:"react-flow__controls-fitview",onClick:P,title:m["controls.fitView.ariaLabel"],"aria-label":m["controls.fitView.ariaLabel"],children:g.jsx(IC,{})}),r&&g.jsx(Gi,{className:"react-flow__controls-interactive",onClick:T,title:m["controls.interactive.ariaLabel"],"aria-label":m["controls.interactive.ariaLabel"],children:v?g.jsx(TC,{}):g.jsx(RC,{})}),d]})}ly.displayName="Controls";const zC=b.memo(ly);function $C({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:l,strokeWidth:a,className:u,borderRadius:d,shapeRendering:c,selected:f,onClick:y}){const{background:x,backgroundColor:v}=i||{},w=s||x||v;return g.jsx("rect",{className:_e(["react-flow__minimap-node",{selected:f},u]),x:t,y:n,rx:d,ry:d,width:r,height:o,style:{fill:w,stroke:l,strokeWidth:a},shapeRendering:c,onClick:y?p=>y(p,e):void 0})}const DC=b.memo($C),AC=e=>e.nodes.map(t=>t.id),ga=e=>e instanceof Function?e:()=>e;function OC({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=DC,onClick:s}){const l=oe(AC,ge),a=ga(t),u=ga(e),d=ga(n),c=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return g.jsx(g.Fragment,{children:l.map(f=>g.jsx(HC,{id:f,nodeColorFunc:a,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:s,shapeRendering:c},f))})}function FC({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:l,onClick:a}){const{node:u,x:d,y:c,width:f,height:y}=oe(x=>{const{internals:v}=x.nodeLookup.get(e),w=v.userNode,{x:p,y:m}=v.positionAbsolute,{width:h,height:S}=Jt(w);return{node:w,x:p,y:m,width:h,height:S}},ge);return!u||u.hidden||!r0(u)?null:g.jsx(l,{x:d,y:c,width:f,height:y,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:o,strokeColor:n(u),strokeWidth:i,shapeRendering:s,onClick:a,id:u.id})}const HC=b.memo(FC);var BC=b.memo(OC);const VC=200,WC=150,UC=e=>!e.hidden,YC=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?n0(gi(e.nodeLookup,{filter:UC}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},XC="react-flow__minimap-desc";function ay({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:l,bgColor:a,maskColor:u,maskStrokeColor:d,maskStrokeWidth:c,position:f="bottom-right",onClick:y,onNodeClick:x,pannable:v=!1,zoomable:w=!1,ariaLabel:p,inversePan:m,zoomStep:h=1,offsetScale:S=5}){const _=ye(),E=b.useRef(null),{boundingRect:N,viewBB:P,rfId:T,panZoom:D,translateExtent:L,flowWidth:R,flowHeight:F,ariaLabelConfig:k}=oe(YC,ge),I=(e==null?void 0:e.width)??VC,j=(e==null?void 0:e.height)??WC,$=N.width/I,C=N.height/j,M=Math.max($,C),z=M*I,A=M*j,O=S*M,W=N.x-(z-N.width)/2-O,V=N.y-(A-N.height)/2-O,X=z+O*2,G=A+O*2,K=`${XC}-${T}`,B=b.useRef(0),Q=b.useRef();B.current=M,b.useEffect(()=>{if(E.current&&D)return Q.current=K2({domNode:E.current,panZoom:D,getTransform:()=>_.getState().transform,getViewScale:()=>B.current}),()=>{var q;(q=Q.current)==null||q.destroy()}},[D]),b.useEffect(()=>{var q;(q=Q.current)==null||q.update({translateExtent:L,width:R,height:F,inversePan:m,pannable:v,zoomStep:h,zoomable:w})},[v,w,m,h,L,R,F]);const te=y?q=>{var se;const[le,ce]=((se=Q.current)==null?void 0:se.pointer(q))||[0,0];y(q,{x:le,y:ce})}:void 0,J=x?b.useCallback((q,le)=>{const ce=_.getState().nodeLookup.get(le).internals.userNode;x(q,ce)},[]):void 0,Z=p??k["minimap.ariaLabel"];return g.jsx(El,{position:f,style:{...e,"--xy-minimap-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof c=="number"?c*M:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:_e(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:g.jsxs("svg",{width:I,height:j,viewBox:`${W} ${V} ${X} ${G}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":K,ref:E,onClick:te,children:[Z&&g.jsx("title",{id:K,children:Z}),g.jsx(BC,{onClick:J,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:l}),g.jsx("path",{className:"react-flow__minimap-mask",d:`M${W-O},${V-O}h${X+O*2}v${G+O*2}h${-X-O*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}ay.displayName="MiniMap";const GC=b.memo(ay),KC=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,QC={[Ar.Line]:"right",[Ar.Handle]:"bottom-right"};function qC({nodeId:e,position:t,variant:n=Ar.Handle,className:r,style:o=void 0,children:i,color:s,minWidth:l=10,minHeight:a=10,maxWidth:u=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:c=!1,resizeDirection:f,autoScale:y=!0,shouldResize:x,onResizeStart:v,onResize:w,onResizeEnd:p}){const m=O0(),h=typeof e=="string"?e:m,S=ye(),_=b.useRef(null),E=n===Ar.Handle,N=oe(b.useCallback(KC(E&&y),[E,y]),ge),P=b.useRef(null),T=t??QC[n];b.useEffect(()=>{if(!(!_.current||!h))return P.current||(P.current=uE({domNode:_.current,nodeId:h,getStoreItems:()=>{const{nodeLookup:L,transform:R,snapGrid:F,snapToGrid:k,nodeOrigin:I,domNode:j}=S.getState();return{nodeLookup:L,transform:R,snapGrid:F,snapToGrid:k,nodeOrigin:I,paneDomNode:j}},onChange:(L,R)=>{const{triggerNodeChanges:F,nodeLookup:k,parentLookup:I,nodeOrigin:j}=S.getState(),$=[],C={x:L.x,y:L.y},M=k.get(h);if(M&&M.expandParent&&M.parentId){const z=M.origin??j,A=L.width??M.measured.width??0,O=L.height??M.measured.height??0,W={id:M.id,parentId:M.parentId,rect:{width:A,height:O,...o0({x:L.x??M.position.x,y:L.y??M.position.y},{width:A,height:O},M.parentId,k,z)}},V=Kc([W],k,I,j);$.push(...V),C.x=L.x?Math.max(z[0]*A,L.x):void 0,C.y=L.y?Math.max(z[1]*O,L.y):void 0}if(C.x!==void 0&&C.y!==void 0){const z={id:h,type:"position",position:{...C}};$.push(z)}if(L.width!==void 0&&L.height!==void 0){const A={id:h,type:"dimensions",resizing:!0,setAttributes:f?f==="horizontal"?"width":"height":!0,dimensions:{width:L.width,height:L.height}};$.push(A)}for(const z of R){const A={...z,type:"position"};$.push(A)}F($)},onEnd:({width:L,height:R})=>{const F={id:h,type:"dimensions",resizing:!1,dimensions:{width:L,height:R}};S.getState().triggerNodeChanges([F])}})),P.current.update({controlPosition:T,boundaries:{minWidth:l,minHeight:a,maxWidth:u,maxHeight:d},keepAspectRatio:c,resizeDirection:f,onResizeStart:v,onResize:w,onResizeEnd:p,shouldResize:x}),()=>{var L;(L=P.current)==null||L.destroy()}},[T,l,a,u,d,c,v,w,p,x]);const D=T.split("-");return g.jsx("div",{className:_e(["react-flow__resize-control","nodrag",...D,n,r]),ref:_,style:{...o,scale:N,...s&&{[E?"backgroundColor":"borderColor"]:s}},children:i})}b.memo(qC);const Nh=e=>{let t;const n=new Set,r=(u,d)=>{const c=typeof u=="function"?u(t):u;if(!Object.is(c,t)){const f=t;t=d??(typeof c!="object"||c===null)?c:Object.assign({},t,c),n.forEach(y=>y(t,f))}},o=()=>t,l={setState:r,getState:o,getInitialState:()=>a,subscribe:u=>(n.add(u),()=>n.delete(u))},a=t=e(r,o,l);return l},ZC=e=>e?Nh(e):Nh,JC=e=>e;function e3(e,t=JC){const n=fo.useSyncExternalStore(e.subscribe,fo.useCallback(()=>t(e.getState()),[e,t]),fo.useCallback(()=>t(e.getInitialState()),[e,t]));return fo.useDebugValue(n),n}const Ch=e=>{const t=ZC(e),n=r=>e3(t,r);return Object.assign(n,t),n},uy=e=>e?Ch(e):Ch;function cy(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=cy(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function t3(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=cy(e))&&(r&&(r+=" "),r+=t);return r}const qc="-",n3=e=>{const t=o3(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const l=s.split(qc);return l[0]===""&&l.length!==1&&l.shift(),dy(l,t)||r3(s)},getConflictingClassGroupIds:(s,l)=>{const a=n[s]||[];return l&&r[s]?[...a,...r[s]]:a}}},dy=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?dy(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(qc);return(s=t.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId},Mh=/^\[(.+)\]$/,r3=e=>{if(Mh.test(e)){const t=Mh.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},o3=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return s3(Object.entries(e.classGroups),n).forEach(([i,s])=>{Pu(s,r,i,t)}),r},Pu=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:Ph(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(i3(o)){Pu(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,s])=>{Pu(s,Ph(t,i),n,r)})})},Ph=(e,t)=>{let n=e;return t.split(qc).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},i3=e=>e.isThemeGetter,s3=(e,t)=>t?e.map(([n,r])=>{const o=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,l])=>[t+s,l])):i);return[n,o]}):e,l3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let s=n.get(i);if(s!==void 0)return s;if((s=r.get(i))!==void 0)return o(i,s),s},set(i,s){n.has(i)?n.set(i,s):o(i,s)}}},fy="!",a3=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],i=t.length,s=l=>{const a=[];let u=0,d=0,c;for(let w=0;w<l.length;w++){let p=l[w];if(u===0){if(p===o&&(r||l.slice(w,w+i)===t)){a.push(l.slice(d,w)),d=w+i;continue}if(p==="/"){c=w;continue}}p==="["?u++:p==="]"&&u--}const f=a.length===0?l:l.substring(d),y=f.startsWith(fy),x=y?f.substring(1):f,v=c&&c>d?c-d:void 0;return{modifiers:a,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:s}):s},u3=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},c3=e=>({cache:l3(e.cacheSize),parseClassName:a3(e),...n3(e)}),d3=/\s+/,f3=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=[],s=e.trim().split(d3);let l="";for(let a=s.length-1;a>=0;a-=1){const u=s[a],{modifiers:d,hasImportantModifier:c,baseClassName:f,maybePostfixModifierPosition:y}=n(u);let x=!!y,v=r(x?f.substring(0,y):f);if(!v){if(!x){l=u+(l.length>0?" "+l:l);continue}if(v=r(f),!v){l=u+(l.length>0?" "+l:l);continue}x=!1}const w=u3(d).join(":"),p=c?w+fy:w,m=p+v;if(i.includes(m))continue;i.push(m);const h=o(v,x);for(let S=0;S<h.length;++S){const _=h[S];i.push(p+_)}l=u+(l.length>0?" "+l:l)}return l};function h3(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=hy(t))&&(r&&(r+=" "),r+=n);return r}const hy=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=hy(e[r]))&&(n&&(n+=" "),n+=t);return n};function p3(e,...t){let n,r,o,i=s;function s(a){const u=t.reduce((d,c)=>c(d),e());return n=c3(u),r=n.cache.get,o=n.cache.set,i=l,l(a)}function l(a){const u=r(a);if(u)return u;const d=f3(a,n);return o(a,d),d}return function(){return i(h3.apply(null,arguments))}}const de=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},py=/^\[(?:([a-z-]+):)?(.+)\]$/i,m3=/^\d+\/\d+$/,g3=new Set(["px","full","screen"]),y3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,x3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,v3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,w3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,S3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dt=e=>_r(e)||g3.has(e)||m3.test(e),on=e=>Yr(e,"length",P3),_r=e=>!!e&&!Number.isNaN(Number(e)),ya=e=>Yr(e,"number",_r),ao=e=>!!e&&Number.isInteger(Number(e)),b3=e=>e.endsWith("%")&&_r(e.slice(0,-1)),ee=e=>py.test(e),sn=e=>y3.test(e),k3=new Set(["length","size","percentage"]),_3=e=>Yr(e,k3,my),E3=e=>Yr(e,"position",my),N3=new Set(["image","url"]),C3=e=>Yr(e,N3,I3),M3=e=>Yr(e,"",j3),uo=()=>!0,Yr=(e,t,n)=>{const r=py.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},P3=e=>x3.test(e)&&!v3.test(e),my=()=>!1,j3=e=>w3.test(e),I3=e=>S3.test(e),R3=()=>{const e=de("colors"),t=de("spacing"),n=de("blur"),r=de("brightness"),o=de("borderColor"),i=de("borderRadius"),s=de("borderSpacing"),l=de("borderWidth"),a=de("contrast"),u=de("grayscale"),d=de("hueRotate"),c=de("invert"),f=de("gap"),y=de("gradientColorStops"),x=de("gradientColorStopPositions"),v=de("inset"),w=de("margin"),p=de("opacity"),m=de("padding"),h=de("saturate"),S=de("scale"),_=de("sepia"),E=de("skew"),N=de("space"),P=de("translate"),T=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",ee,t],R=()=>[ee,t],F=()=>["",Dt,on],k=()=>["auto",_r,ee],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",ee],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[_r,ee];return{cacheSize:500,separator:":",theme:{colors:[uo],spacing:[Dt,on],blur:["none","",sn,ee],brightness:A(),borderColor:[e],borderRadius:["none","","full",sn,ee],borderSpacing:R(),borderWidth:F(),contrast:A(),grayscale:M(),hueRotate:A(),invert:M(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[b3,on],inset:L(),margin:L(),opacity:A(),padding:R(),saturate:A(),scale:A(),sepia:M(),skew:A(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ee]}],container:["container"],columns:[{columns:[sn]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),ee]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ao,ee]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ee]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",ao,ee]}],"grid-cols":[{"grid-cols":[uo]}],"col-start-end":[{col:["auto",{span:["full",ao,ee]},ee]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[uo]}],"row-start-end":[{row:["auto",{span:[ao,ee]},ee]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ee]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ee,t]}],"min-w":[{"min-w":[ee,t,"min","max","fit"]}],"max-w":[{"max-w":[ee,t,"none","full","min","max","fit","prose",{screen:[sn]},sn]}],h:[{h:[ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",sn,on]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ya]}],"font-family":[{font:[uo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ee]}],"line-clamp":[{"line-clamp":["none",_r,ya]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dt,ee]}],"list-image":[{"list-image":["none",ee]}],"list-style-type":[{list:["none","disc","decimal",ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dt,on]}],"underline-offset":[{"underline-offset":["auto",Dt,ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),E3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},C3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:j()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Dt,ee]}],"outline-w":[{outline:[Dt,on]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Dt,on]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sn,M3]}],"shadow-color":[{shadow:[uo]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",sn,ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[c]}],saturate:[{saturate:[h]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[h]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ee]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",ee]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ao,ee]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Dt,on,ya]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},T3=p3(R3);function Mt(...e){return T3(t3(e))}let jh=0;function L3(e){return jh++,`${e}_${Date.now()}_${jh}`}function z3(e,t,n){const r=n?`_${n}`:"";return`e_${e}${r}_${t}`}const $3=new Set(["trigger_start"]),D3=new Set(["action_handoff","utility_note"]);function A3(e,t){return $3.has(e)||t>0?null:{type:"orphan",severity:"error",message:"Bu adima hicbir yerden ulasilamiyor"}}function O3(e,t){return D3.has(e)||t>0?null:{type:"dead_end",severity:"warning",message:"Bu adimdan sonra devam eden bir baglanti yok"}}function F3(e){const t=e.type,n=e.data;switch(t){case"message_text":{const r=n.text;if(!r||r.trim()==="")return{type:"empty_field",severity:"warning",message:"Mesaj metni bos"};break}case"message_menu":{const r=n.options;if(!r||r.length===0)return{type:"empty_field",severity:"warning",message:"Menu secenegi eklenmedi"};break}}return null}function H3(e,t){const n=new Map,r=new Map,o=new Map;for(const i of e)r.set(i.id,0),o.set(i.id,0);for(const i of t)r.set(i.target,(r.get(i.target)??0)+1),o.set(i.source,(o.get(i.source)??0)+1);for(const i of e){const s=[],l=i.type,a=r.get(i.id)??0,u=o.get(i.id)??0,d=A3(l,a);d&&s.push(d);const c=O3(l,u);c&&s.push(c);const f=F3(i);f&&s.push(f),s.length>0&&n.set(i.id,s)}return n}function B3(e){return e.length===0?null:e.some(n=>n.severity==="error")?"#ef4444":"#f97316"}function V3(e){return e.map(t=>t.message).join(`
`)}const Ih=Os(),re=uy((e,t)=>({nodes:[],edges:[],selectedNodeId:null,isDirty:!1,flowMetadata:{...Ih.metadata},flowSettings:{...Ih.settings},validationErrors:new Map,history:[],historyIndex:-1,revalidate:()=>{const n=t(),r=H3(n.nodes,n.edges);e({validationErrors:r})},onNodesChange:n=>{e(r=>({nodes:T0(n,r.nodes),isDirty:!0})),queueMicrotask(()=>t().revalidate())},onEdgesChange:n=>{e(r=>({edges:L0(n,r.edges),isDirty:!0})),queueMicrotask(()=>t().revalidate())},onConnect:n=>{const r=z3(n.source??"",n.target??"",n.sourceHandle??void 0);e(o=>(t().pushHistory(),{edges:c0({...n,id:r},o.edges),isDirty:!0})),queueMicrotask(()=>t().revalidate())},addNode:(n,r)=>{const o=yg(n);if(!o)return;const i=t();if(o.maxInstances&&i.nodes.filter(u=>u.type===n).length>=o.maxInstances)return;t().pushHistory();const s=L3(n),l={id:s,type:n,position:r,data:{...o.defaultData}};e({nodes:[...i.nodes,l],selectedNodeId:s,isDirty:!0}),queueMicrotask(()=>t().revalidate())},deleteNode:n=>{t().pushHistory(),e(r=>({nodes:r.nodes.filter(o=>o.id!==n),edges:r.edges.filter(o=>o.source!==n&&o.target!==n),selectedNodeId:r.selectedNodeId===n?null:r.selectedNodeId,isDirty:!0})),queueMicrotask(()=>t().revalidate())},updateNodeData:(n,r)=>{e(o=>({nodes:o.nodes.map(i=>i.id===n?{...i,data:{...i.data,...r}}:i),isDirty:!0})),queueMicrotask(()=>t().revalidate())},selectNode:n=>{e({selectedNodeId:n})},loadFlow:n=>{const r=Os(),o=(n.nodes??[]).map(s=>({id:s.id,type:s.type,position:s.position,data:s.data})),i=(n.edges??[]).map(s=>({id:s.id,source:s.source,target:s.target,sourceHandle:s.sourceHandle,targetHandle:s.targetHandle}));e({nodes:o,edges:i,selectedNodeId:null,isDirty:!1,flowMetadata:{...r.metadata,...n.metadata},flowSettings:{...r.settings,...n.settings},history:[],historyIndex:-1}),queueMicrotask(()=>t().revalidate())},toFlowConfig:()=>{const n=t();return{version:2,metadata:n.flowMetadata,nodes:n.nodes.map(r=>({id:r.id,type:r.type,position:r.position,data:r.data})),edges:n.edges.map(r=>({id:r.id,source:r.source,target:r.target,sourceHandle:r.sourceHandle??void 0,targetHandle:r.targetHandle??void 0})),settings:n.flowSettings}},newFlow:()=>{const n=Os();t().loadFlow(n),e({isDirty:!1})},setMetadata:n=>{e(r=>({flowMetadata:{...r.flowMetadata,...n},isDirty:!0}))},setSettings:n=>{e(r=>({flowSettings:{...r.flowSettings,...n},isDirty:!0}))},markClean:()=>e({isDirty:!1}),pushHistory:()=>{const n=t(),r={nodes:JSON.parse(JSON.stringify(n.nodes)),edges:JSON.parse(JSON.stringify(n.edges))},o=n.history.slice(0,n.historyIndex+1);o.push(r),o.length>50&&o.shift(),e({history:o,historyIndex:o.length-1})},undo:()=>{const n=t();if(n.historyIndex<0)return;const r=n.history[n.historyIndex];e({nodes:r.nodes,edges:r.edges,historyIndex:n.historyIndex-1,isDirty:!0}),queueMicrotask(()=>t().revalidate())},redo:()=>{const n=t();if(n.historyIndex>=n.history.length-1)return;const r=n.historyIndex+1;if(r+1<n.history.length){const o=n.history[r+1];e({nodes:o.nodes,edges:o.edges,historyIndex:r,isDirty:!0}),queueMicrotask(()=>t().revalidate())}}})),ze=uy((e,t)=>({isOpen:!1,isLoading:!1,sessionId:null,messages:[],currentNodeId:null,variables:{},executionPath:[],status:null,pendingInput:null,error:null,open:()=>e({isOpen:!0}),close:()=>{const{sessionId:n}=t();n&&kf(n).catch(()=>{}),e({isOpen:!1,sessionId:null,messages:[],currentNodeId:null,variables:{},executionPath:[],status:null,pendingInput:null,error:null,isLoading:!1})},start:async(n,r)=>{e({isLoading:!0,error:null,messages:[]});try{const o=await PS(n,r);e({sessionId:o.session_id,messages:o.messages,currentNodeId:o.current_node_id,variables:o.variables,executionPath:o.execution_path,status:o.status,pendingInput:o.pending_input,isLoading:!1,isOpen:!0})}catch(o){const i=o instanceof st?`[${o.errorCode}] ${o.message}`:o instanceof Error?o.message:"Simulasyon baslatma hatasi";e({error:i,isLoading:!1})}},sendMessage:async n=>{const{sessionId:r,messages:o}=t();if(r){e({isLoading:!0,error:null});try{const i=await jS(r,n);e({messages:[...o,...i.messages],currentNodeId:i.current_node_id,variables:i.variables,executionPath:i.execution_path,status:i.status,pendingInput:i.pending_input,isLoading:!1})}catch(i){const s=i instanceof st?`[${i.errorCode}] ${i.message}`:i instanceof Error?i.message:"Simulasyon adim hatasi";e({error:s,isLoading:!1})}}},reset:()=>{const{sessionId:n}=t();n&&kf(n).catch(()=>{}),e({sessionId:null,messages:[],currentNodeId:null,variables:{},executionPath:[],status:null,pendingInput:null,error:null,isLoading:!1})}}));function W3({nodeProps:e,color:t,icon:n,children:r,outputs:o,hasInput:i=!0,hasDefaultOutput:s=!0}){const{id:l,data:a,selected:u}=e,d=re(h=>h.selectNode),c=re(h=>h.validationErrors.get(l)??[]),f=a.label??"",y=ze(h=>h.currentNodeId),v=ze(h=>h.isOpen)&&y===l,w=B3(c),p=V3(c),m=v?"0 0 0 3px #10b98160, 0 0 12px #10b98140":w&&!u?`0 0 0 3px ${w}40, 0 0 8px ${w}30`:void 0;return g.jsxs("div",{className:Mt("min-w-[180px] max-w-[260px] rounded-lg border-2 shadow-lg transition-shadow",u?"shadow-xl ring-2 ring-blue-400/50":"shadow-md",v&&"ring-2 ring-emerald-400/60"),style:{borderColor:v?"#10b981":u?"#60a5fa":t,background:"#ffffff",...m?{boxShadow:m}:{}},onClick:()=>d(l),title:p||void 0,children:[g.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-t-md",style:{background:`${t}20`},children:[g.jsx("span",{className:"flex-shrink-0 w-5 h-5",style:{color:t},children:n}),g.jsx("span",{className:"text-base font-medium truncate text-slate-700",children:f})]}),r&&g.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:r}),i&&g.jsx(Fn,{type:"target",position:Y.Top,className:"!w-3 !h-3 !border-2 !bg-blue-500 !border-blue-300 hover:!bg-blue-300 hover:!border-blue-100 transition-colors"}),s&&!o&&g.jsx(Fn,{type:"source",position:Y.Bottom,className:"!w-3 !h-3 !border-2 !bg-emerald-500 !border-emerald-300 hover:!bg-emerald-300 hover:!border-emerald-100 transition-colors"}),o&&o.length>0&&g.jsx("div",{className:"relative pb-3",children:o.map((h,S)=>{const _=o.length,E=_===1?50:S/(_-1)*80+10;return g.jsxs("div",{children:[g.jsx(Fn,{type:"source",position:Y.Bottom,id:h.id,className:"!w-3 !h-3 !border-2 !bg-emerald-500 !border-emerald-300 hover:!bg-emerald-300 hover:!border-emerald-100 transition-colors",style:{left:`${E}%`}}),h.label&&g.jsx("span",{className:"absolute text-[11px] text-slate-400 whitespace-nowrap",style:{left:`${E}%`,bottom:"2px",transform:"translateX(-50%)"},children:h.label})]},h.id)})})]})}const Ml=b.memo(W3),U3=()=>g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:g.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})});function Y3(e){return g.jsx(Ml,{nodeProps:e,color:"#10b981",icon:g.jsx(U3,{}),hasInput:!1,children:g.jsx("span",{className:"text-emerald-400/70",children:"Musteri mesaj gonderince baslar"})})}const X3=b.memo(Y3),G3=()=>g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:g.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})});function K3(e){const t=e.data,n=t.text?t.text.length>60?t.text.substring(0,60)+"...":t.text:"Mesaj metni girilmedi";return g.jsx(Ml,{nodeProps:e,color:"#3b82f6",icon:g.jsx(G3,{}),children:g.jsx("span",{className:t.text?"text-slate-300":"text-slate-500 italic",children:n})})}const Q3=b.memo(K3),q3=()=>g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[g.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),g.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),g.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),g.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),g.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),g.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]});function Z3(e){const n=e.data.options??[],r=n.map(o=>({id:o.handle_id,label:o.key}));return g.jsx(Ml,{nodeProps:e,color:"#3b82f6",icon:g.jsx(q3,{}),hasDefaultOutput:!1,outputs:r,children:g.jsxs("div",{className:"space-y-1",children:[n.length===0&&g.jsx("span",{className:"text-slate-400 italic",children:"Secenek eklenmedi"}),n.map(o=>g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("span",{className:"w-5 h-5 rounded bg-blue-500/20 text-blue-400 flex items-center justify-center text-xs font-bold flex-shrink-0",children:o.key}),g.jsx("span",{className:"text-slate-600 truncate",children:o.label})]},o.handle_id))]})})}const J3=b.memo(Z3),eM=()=>g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[g.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),g.jsx("polyline",{points:"17 11 19 13 23 9"})]});function tM(e){const t=e.data;return g.jsx(Ml,{nodeProps:e,color:"#ef4444",icon:g.jsx(eM,{}),hasDefaultOutput:!1,children:g.jsxs("div",{className:"space-y-1",children:[g.jsx("span",{className:"text-red-400/70",children:"Terminal - session biter"}),t.summary_template&&g.jsxs("div",{className:"text-slate-400 text-[10px] mt-1 truncate",children:["Ozet: ",t.summary_template]})]})})}const nM=b.memo(tM);function rM(e){const{id:t,data:n,selected:r}=e,o=n,i=re(l=>l.selectNode),s=o.color||"#fef3c7";return g.jsxs("div",{className:"min-w-[160px] max-w-[280px] rounded-lg shadow-md transition-shadow",style:{background:s,border:r?"2px solid #60a5fa":"2px dashed #d4a574",boxShadow:r?"0 0 0 2px rgba(96,165,250,0.3)":void 0},onClick:()=>i(t),children:[g.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 border-b border-amber-300/50",children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#92400e",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 flex-shrink-0",children:[g.jsx("line",{x1:"18",y1:"2",x2:"22",y2:"6"}),g.jsx("path",{d:"M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"})]}),g.jsx("span",{className:"text-xs font-medium text-amber-900 truncate",children:o.label||"Not"})]}),o.text&&g.jsx("div",{className:"px-3 py-2 text-xs text-amber-800 whitespace-pre-wrap break-words",children:o.text.length>120?o.text.substring(0,120)+"...":o.text}),!o.text&&g.jsx("div",{className:"px-3 py-2 text-xs text-amber-600/60 italic",children:"Not metni girilmedi"})]})}const oM=b.memo(rM),iM={trigger_start:X3,message_text:Q3,message_menu:J3,action_handoff:nM,utility_note:oM};function sM({id:e,sourceX:t,sourceY:n,targetX:r,targetY:o,sourcePosition:i,targetPosition:s,style:l={},markerEnd:a,selected:u}){const{setEdges:d}=Nl(),[c,f,y]=Wc({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:o,targetPosition:s}),x=v=>{v.stopPropagation(),d(w=>w.filter(p=>p.id!==e))};return g.jsxs(g.Fragment,{children:[g.jsx(vi,{path:c,markerEnd:a,style:{...l,stroke:u?"#3b82f6":"#94a3b8",strokeWidth:u?3:2}}),g.jsx(kC,{children:g.jsx("div",{className:"nodrag nopan pointer-events-auto group",style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${y}px)`},children:g.jsx("button",{onClick:x,className:"w-5 h-5 rounded-full bg-white border border-slate-300 flex items-center justify-center opacity-0 group-hover:opacity-100 hover:bg-red-500 hover:border-red-400 transition-all duration-150 cursor-pointer shadow-sm",title:"Baglantiyi Sil",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"w-2.5 h-2.5 text-slate-500 hover:text-white",children:[g.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})})]})}const lM={deletable:sM};function aM(){const e=b.useRef(null),t=b.useRef(null),n=re(w=>w.nodes),r=re(w=>w.edges),o=re(w=>w.onNodesChange),i=re(w=>w.onEdgesChange),s=re(w=>w.onConnect),l=re(w=>w.addNode),a=re(w=>w.selectNode),u=re(w=>w.deleteNode),d=b.useCallback(w=>{t.current=w},[]),c=b.useCallback(w=>{w.preventDefault(),w.dataTransfer.dropEffect="move"},[]),f=b.useCallback(w=>{w.preventDefault();const p=w.dataTransfer.getData("application/invekto-node-type");if(!p||!t.current||!e.current)return;const m=e.current.getBoundingClientRect(),h=t.current.screenToFlowPosition({x:w.clientX-m.left,y:w.clientY-m.top});l(p,h)},[l]),y=b.useCallback(w=>w.source!==w.target,[]),x=b.useCallback(()=>{a(null)},[a]),v=b.useCallback(w=>{if(w.key==="Delete"||w.key==="Backspace"){const p=re.getState().selectedNodeId;if(p){const m=re.getState().nodes.find(h=>h.id===p);if((m==null?void 0:m.type)==="trigger_start")return;u(p)}}},[u]);return g.jsx("div",{ref:e,className:"flex-1 min-h-0",onKeyDown:v,tabIndex:0,children:g.jsxs(SC,{nodes:n,edges:r,onNodesChange:o,onEdgesChange:i,onConnect:s,onInit:d,onDrop:f,onDragOver:c,onPaneClick:x,isValidConnection:y,nodeTypes:iM,edgeTypes:lM,fitView:!0,fitViewOptions:{padding:.2},deleteKeyCode:["Delete","Backspace"],defaultEdgeOptions:{type:"deletable",animated:!0,style:{stroke:"#94a3b8",strokeWidth:2},interactionWidth:20},connectionLineStyle:{stroke:"#3b82f6",strokeWidth:2},edgesReconnectable:!0,proOptions:{hideAttribution:!0},children:[g.jsx(MC,{variant:Ut.Dots,gap:20,size:1,color:"#cbd5e1"}),g.jsx(zC,{showInteractive:!1,position:"bottom-right"}),g.jsx(GC,{nodeColor:w=>{switch(w.type){case"trigger_start":return"#10b981";case"message_text":return"#3b82f6";case"message_menu":return"#3b82f6";case"action_handoff":return"#ef4444";case"logic_condition":return"#f59e0b";case"ai_intent":return"#8b5cf6";case"ai_faq":return"#8b5cf6";default:return"#6b7280"}},maskColor:"rgba(241, 245, 249, 0.8)",position:"bottom-left"})]})})}const xa=5;function uM(e){const t=e.data,n=e.type;switch(n){case"trigger_start":return"Musteri mesaj gonderir";case"message_text":{const r=t.text;return!r||r.trim()===""?"Mesaj (bos)":r.length>40?r.substring(0,40)+"...":r}case"message_menu":return`Menu: ${t.text||"Secim yapin"}`;case"action_handoff":return"Temsilciye aktar";case"utility_note":return"";default:return t.label||n}}function cM(e,t){if(e.length===0)return{lines:[],totalSteps:0,hasErrors:!1};const n=e.find(a=>a.type==="trigger_start");if(!n)return{lines:[{text:"Baslangic adimi bulunamadi",indent:0,nodeType:"trigger_start"}],totalSteps:0,hasErrors:!0};const r=new Map;for(const a of t){const u=r.get(a.source)??[];u.push({target:a.target,sourceHandle:a.sourceHandle??void 0}),r.set(a.source,u)}const o=new Map(e.map(a=>[a.id,a])),i=[],s=new Set;function l(a,u){if(s.has(a))return;s.add(a);const d=o.get(a);if(!d)return;const c=d.type;if(c!=="utility_note"){const y=uM(d);y&&i.push({text:y,indent:u,nodeType:c})}if(c==="message_menu"){const y=d.data,x=r.get(a)??[];for(const v of y.options??[]){i.push({text:`${v.key}. ${v.label}`,indent:u+1,nodeType:"message_menu"});const w=x.find(p=>p.sourceHandle===v.handle_id);w&&l(w.target,u+2)}return}const f=r.get(a)??[];for(const y of f)l(y.target,u)}return l(n.id,0),{lines:i,totalSteps:i.length,hasErrors:!1}}function dM(e){return e.lines.length<=xa?{displayLines:e.lines,truncatedCount:0}:{displayLines:e.lines.slice(0,xa),truncatedCount:e.lines.length-xa}}const Rh="invekto_flow_summary_collapsed";function fM(e){switch(e){case"trigger_start":return"";case"message_text":return"";case"message_menu":return"";case"action_handoff":return"";default:return""}}function hM({line:e}){const t=e.indent*16;return g.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-600 leading-5",style:{paddingLeft:t},children:[g.jsx("span",{className:"flex-shrink-0 text-[10px]",children:fM(e.nodeType)}),g.jsx("span",{className:"truncate",children:e.text})]})}function pM(){const e=re(a=>a.nodes),t=re(a=>a.edges),[n,r]=b.useState(()=>{try{return localStorage.getItem(Rh)==="true"}catch(a){return console.warn("FlowSummaryBar: localStorage okunamadi",a),!1}});b.useEffect(()=>{try{localStorage.setItem(Rh,String(n))}catch(a){console.warn("FlowSummaryBar: localStorage yazilamadi",a)}},[n]);const o=b.useMemo(()=>cM(e,t),[e,t]),{displayLines:i,truncatedCount:s}=b.useMemo(()=>dM(o),[o]),l=o.lines.length>0;return g.jsxs("div",{className:"border-t border-slate-200 bg-white flex-shrink-0",children:[g.jsxs("button",{onClick:()=>r(a=>!a),className:"w-full flex items-center justify-between px-4 py-1.5 text-xs font-medium text-slate-500 hover:bg-slate-50 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`w-3 h-3 transition-transform ${n?"":"rotate-180"}`,children:g.jsx("polyline",{points:"6 9 12 15 18 9"})}),g.jsx("span",{children:"Canli Onizleme"}),l&&g.jsxs("span",{className:"text-slate-400",children:["(",o.totalSteps," adim)"]})]}),o.hasErrors&&g.jsx("span",{className:"text-red-500 text-[10px]",children:"Baslangic bulunamadi"})]}),!n&&g.jsxs("div",{className:"px-4 pb-2 space-y-0.5",children:[!l&&!o.hasErrors&&g.jsx("div",{className:"text-xs text-slate-400 italic py-1",children:"Henuz adim eklenmedi"}),i.map((a,u)=>g.jsx(hM,{line:a},u)),s>0&&g.jsxs("div",{className:"text-xs text-slate-400 italic mt-1",children:["... ve ",s," adim daha"]})]})]})}const mM=b.memo(pM),gM={trigger:"Tetikleyici",message:"Mesaj",logic:"Mantik",ai:"Yapay Zeka",action:"Aksiyon",utility:"Araclar"},gy=["trigger","message","logic","ai","action","utility"];function yM(e){const t=new Map;for(const n of gy){const r=e.filter(o=>o.category===n);r.length>0&&t.set(n,r)}return t}function xM({info:e}){const t=(n,r)=>{n.dataTransfer.setData("application/invekto-node-type",r),n.dataTransfer.effectAllowed="move"};return g.jsxs("div",{draggable:!0,onDragStart:n=>t(n,e.type),className:Mt("flex items-center gap-2 px-3 py-2 rounded-md cursor-grab active:cursor-grabbing","border border-transparent hover:border-slate-300 transition-colors","bg-slate-50 hover:bg-slate-100"),children:[g.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:e.color}}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"text-xs font-medium text-slate-700 truncate",children:e.label}),g.jsx("div",{className:"text-[10px] text-slate-400 truncate",children:e.description})]})]})}function vM(){const e=yM(gg);return g.jsxs("div",{className:"w-52 bg-white border-r border-slate-200 overflow-y-auto flex-shrink-0",children:[g.jsxs("div",{className:"p-3 border-b border-slate-200",children:[g.jsx("h2",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Node'lar"}),g.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:"Surukle birak"})]}),g.jsx("div",{className:"p-2 space-y-3",children:gy.map(t=>{const n=e.get(t);return n?g.jsxs("div",{children:[g.jsx("div",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-wider px-1 mb-1",children:gM[t]}),g.jsx("div",{className:"space-y-1",children:n.map(r=>g.jsx(xM,{info:r},r.type))})]},t):null})})]})}function wM({onSave:e,isSaving:t,onBack:n,onTest:r}){const o=re(v=>v.isDirty),i=ze(v=>v.isOpen),s=ze(v=>v.isLoading),l=re(v=>v.flowMetadata),a=re(v=>v.setMetadata),u=re(v=>v.undo),d=re(v=>v.redo),c=re(v=>v.historyIndex),f=re(v=>v.history.length),y=c>=0,x=c<f-1;return g.jsxs("div",{className:"h-12 bg-white border-b border-slate-200 flex items-center px-4 gap-3 flex-shrink-0 shadow-sm",children:[n&&g.jsx("button",{onClick:n,className:"p-1.5 rounded hover:bg-slate-100 transition-colors text-slate-600",title:"Flow Listesine Don",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:g.jsx("polyline",{points:"15 18 9 12 15 6"})})}),g.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[g.jsx("input",{type:"text",value:l.name,onChange:v=>a({name:v.target.value}),className:"bg-transparent text-sm font-medium text-slate-900 border-none outline-none w-40 focus:ring-1 focus:ring-blue-500/50 rounded px-2 py-1",placeholder:"Flow Adi"}),g.jsx("span",{className:"text-slate-300",children:"|"}),g.jsx("input",{type:"text",value:l.description??"",onChange:v=>a({description:v.target.value}),className:"bg-transparent text-xs text-slate-500 border-none outline-none w-56 focus:ring-1 focus:ring-blue-500/50 rounded px-2 py-1",placeholder:"Flow aciklamasi..."})]}),o&&g.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400 flex-shrink-0",title:"Kaydedilmemis degisiklikler"}),g.jsx("div",{className:"flex-1"}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("button",{onClick:u,disabled:!y,className:Mt("p-1.5 rounded hover:bg-slate-100 transition-colors",y?"text-slate-600":"text-slate-300 cursor-not-allowed"),title:"Geri Al (Ctrl+Z)",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[g.jsx("polyline",{points:"1 4 1 10 7 10"}),g.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]})}),g.jsx("button",{onClick:d,disabled:!x,className:Mt("p-1.5 rounded hover:bg-slate-100 transition-colors",x?"text-slate-600":"text-slate-300 cursor-not-allowed"),title:"Ileri Al (Ctrl+Y)",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[g.jsx("polyline",{points:"23 4 23 10 17 10"}),g.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]})})]}),g.jsx("div",{className:"w-px h-6 bg-slate-200"}),g.jsxs("button",{onClick:r,disabled:s||t,className:Mt("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium transition-colors",i?"bg-emerald-100 text-emerald-700 border border-emerald-300":s||t?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-500 text-white"),title:o?"Once flow'u kaydedin":"Tek Tikla Test",children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:g.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),s?"Baslatiliyor...":"Test Et"]}),g.jsxs("button",{onClick:e,disabled:t||!o,className:Mt("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium transition-colors",o&&!t?"bg-blue-600 hover:bg-blue-500 text-white":"bg-slate-100 text-slate-400 cursor-not-allowed"),children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[g.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),g.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),g.jsx("polyline",{points:"7 3 7 8 15 8"})]}),t?"Kaydediliyor...":"Kaydet"]})]})}function SM({role:e,text:t}){if(e==="system")return g.jsx("div",{className:"flex justify-center my-1",children:g.jsx("span",{className:"text-[11px] text-slate-400 bg-slate-100 rounded-full px-3 py-1 max-w-[90%] text-center",children:t})});const n=e==="bot";return g.jsx("div",{className:Mt("flex mb-2",n?"justify-start":"justify-end"),children:g.jsx("div",{className:Mt("max-w-[85%] rounded-lg px-3 py-2 text-sm whitespace-pre-wrap break-words",n?"bg-white text-slate-800 border border-slate-200 rounded-tl-none":"bg-emerald-500 text-white rounded-tr-none"),children:t})})}const bM=b.memo(SM);function kM(){const e=ze(m=>m.isOpen),t=ze(m=>m.isLoading),n=ze(m=>m.messages),r=ze(m=>m.status),o=ze(m=>m.pendingInput),i=ze(m=>m.error),s=ze(m=>m.sendMessage),l=ze(m=>m.close),a=ze(m=>m.reset),[u,d]=b.useState(""),c=b.useRef(null),f=b.useRef(null);b.useEffect(()=>{var m;(m=c.current)==null||m.scrollIntoView({behavior:"smooth"})},[n]),b.useEffect(()=>{var m;e&&!t&&((m=f.current)==null||m.focus())},[e,t]);const y=b.useCallback(()=>{const m=u.trim();!m||t||(d(""),s(m))},[u,t,s]),x=b.useCallback(m=>{t||s(m)},[t,s]),v=b.useCallback(m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),y())},[y]);if(!e)return null;const w=r==="completed"||r==="error"||r==="handed_off",p=(o==null?void 0:o.type)==="menu"&&o.options&&!w;return g.jsxs("div",{className:"w-[280px] flex-shrink-0 border-l border-slate-200 bg-slate-50 flex flex-col",children:[g.jsxs("div",{className:"h-10 bg-emerald-600 flex items-center px-3 gap-2 flex-shrink-0",children:[g.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-400 flex items-center justify-center",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"white",className:"w-3.5 h-3.5",children:g.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),g.jsx("span",{className:"text-white text-xs font-medium flex-1",children:"Simulasyon"}),g.jsx("button",{onClick:a,className:"p-1 rounded hover:bg-emerald-500 transition-colors text-emerald-200 hover:text-white",title:"Yeniden Baslat",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[g.jsx("polyline",{points:"1 4 1 10 7 10"}),g.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]})}),g.jsx("button",{onClick:l,className:"p-1 rounded hover:bg-emerald-500 transition-colors text-emerald-200 hover:text-white",title:"Kapat",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[g.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto px-3 py-3 min-h-0",children:[n.length===0&&!t&&g.jsx("div",{className:"text-xs text-slate-400 text-center mt-8",children:"Simulasyon baslatiliyor..."}),n.map((m,h)=>g.jsx(bM,{role:m.role,text:m.text},h)),t&&g.jsx("div",{className:"flex justify-start mb-2",children:g.jsx("div",{className:"bg-white border border-slate-200 rounded-lg rounded-tl-none px-3 py-2",children:g.jsxs("div",{className:"flex gap-1",children:[g.jsx("span",{className:"w-1.5 h-1.5 bg-slate-300 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),g.jsx("span",{className:"w-1.5 h-1.5 bg-slate-300 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),g.jsx("span",{className:"w-1.5 h-1.5 bg-slate-300 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),g.jsx("div",{ref:c})]}),i&&g.jsx("div",{className:"px-3 py-2 bg-red-50 border-t border-red-200 text-xs text-red-600",children:i}),w&&g.jsxs("div",{className:"px-3 py-2 bg-slate-100 border-t border-slate-200 text-xs text-slate-500 text-center",children:[r==="completed"&&"Akis tamamlandi.",r==="error"&&"Akis hata ile sonlandi.",r==="handed_off"&&"Musteri temsilcisine yonlendirildi.",g.jsx("button",{onClick:a,className:"ml-2 text-blue-600 hover:text-blue-500 underline",children:"Yeniden Baslat"})]}),p&&g.jsx("div",{className:"px-3 py-2 border-t border-slate-200 bg-white flex flex-wrap gap-1.5",children:o.options.map(m=>g.jsx("button",{onClick:()=>x(m),disabled:t,className:Mt("px-2.5 py-1 text-xs rounded-full border transition-colors",t?"border-slate-200 text-slate-300 cursor-not-allowed":"border-emerald-300 text-emerald-700 bg-emerald-50 hover:bg-emerald-100"),children:m},m))}),!w&&g.jsxs("div",{className:"px-3 py-2 border-t border-slate-200 bg-white flex gap-2 flex-shrink-0",children:[g.jsx("input",{ref:f,type:"text",value:u,onChange:m=>d(m.target.value),onKeyDown:v,placeholder:(o==null?void 0:o.type)==="menu"?"Secenek secin veya yazin...":"Mesaj yazin...",disabled:t,className:"flex-1 text-xs border border-slate-200 rounded-full px-3 py-1.5 outline-none focus:border-emerald-400 focus:ring-1 focus:ring-emerald-400/30 disabled:bg-slate-50"}),g.jsx("button",{onClick:y,disabled:t||!u.trim(),className:Mt("w-7 h-7 rounded-full flex items-center justify-center flex-shrink-0 transition-colors",u.trim()&&!t?"bg-emerald-500 hover:bg-emerald-400 text-white":"bg-slate-100 text-slate-300 cursor-not-allowed"),children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-3.5 h-3.5",children:g.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})})})]})]})}function _M(){const e=re(a=>a.selectedNodeId),t=re(a=>a.nodes),n=re(a=>a.updateNodeData),r=re(a=>a.deleteNode),o=e?t.find(a=>a.id===e):null;if(!o)return g.jsx("div",{className:"w-64 bg-white border-l border-slate-200 flex-shrink-0 flex items-center justify-center",children:g.jsx("p",{className:"text-sm text-slate-400 text-center px-4",children:"Ozelliklerini duzenlemek icin bir node secin"})});const i=o.type,s=yg(i),l=a=>{n(o.id,a)};return g.jsxs("div",{className:"w-64 bg-white border-l border-slate-200 flex-shrink-0 overflow-y-auto",children:[g.jsxs("div",{className:"p-3 border-b border-slate-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:(s==null?void 0:s.color)??"#6b7280"}}),g.jsx("span",{className:"text-base font-medium text-slate-700",children:(s==null?void 0:s.label)??i})]}),g.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:s==null?void 0:s.description})]}),g.jsxs("div",{className:"p-3 space-y-3",children:[g.jsx(Qn,{label:"Etiket",children:g.jsx("input",{type:"text",value:o.data.label??"",onChange:a=>l({label:a.target.value}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500"})}),i==="trigger_start"&&g.jsx(EM,{}),i==="message_text"&&g.jsx(NM,{data:o.data,onChange:l}),i==="message_menu"&&g.jsx(CM,{data:o.data,onChange:l}),i==="action_handoff"&&g.jsx(MM,{data:o.data,onChange:l}),i==="utility_note"&&g.jsx(PM,{data:o.data,onChange:l}),i!=="trigger_start"&&g.jsx("div",{className:"pt-3 border-t border-slate-200",children:g.jsx("button",{onClick:()=>r(o.id),className:"w-full px-3 py-1.5 rounded-md text-sm font-medium bg-red-50 text-red-600 hover:bg-red-100 transition-colors",children:"Node'u Sil"})})]})]})}function Qn({label:e,children:t}){return g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-slate-500 uppercase tracking-wider mb-1",children:e}),t]})}function EM(){return g.jsx("p",{className:"text-xs text-slate-400",children:"Baslangic node'u yapilandirma gerektirmez. Musteri mesaj gonderdiginde bu node'dan akis baslar."})}function NM({data:e,onChange:t}){return g.jsx(Qn,{label:"Mesaj Metni",children:g.jsx("textarea",{value:e.text??"",onChange:n=>t({text:n.target.value}),rows:4,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-xs text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Gonderilecek mesaj..."})})}function CM({data:e,onChange:t}){const n=e.options??[],r=(s,l,a)=>{const u=[...n];u[s]={...u[s],[l]:a},t({options:u})},o=()=>{const s=String(n.length+1),l={key:s,label:`Secenek ${s}`,handle_id:`opt_${s}`};t({options:[...n,l]})},i=s=>{t({options:n.filter((l,a)=>a!==s)})};return g.jsxs(g.Fragment,{children:[g.jsx(Qn,{label:"Menu Metni",children:g.jsx("input",{type:"text",value:e.text??"",onChange:s=>t({text:s.target.value}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500",placeholder:"Secim yapin:"})}),g.jsxs(Qn,{label:"Secenekler",children:[g.jsx("div",{className:"space-y-2",children:n.map((s,l)=>g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("input",{type:"text",value:s.key,onChange:a=>r(l,"key",a.target.value),className:"w-8 bg-slate-50 border border-slate-300 rounded px-1 py-1 text-xs text-slate-700 outline-none focus:border-blue-500 text-center"}),g.jsx("input",{type:"text",value:s.label,onChange:a=>r(l,"label",a.target.value),className:"flex-1 bg-slate-50 border border-slate-300 rounded px-2 py-1 text-sm text-slate-700 outline-none focus:border-blue-500"}),g.jsx("button",{onClick:()=>i(l),className:"p-0.5 text-slate-400 hover:text-red-500 transition-colors",title:"Kaldir",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[g.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},s.handle_id))}),g.jsx("button",{onClick:o,className:"mt-2 w-full px-2 py-1 rounded border border-dashed border-slate-300 text-sm text-slate-500 hover:border-blue-500 hover:text-blue-600 transition-colors",children:"+ Secenek Ekle"})]})]})}function MM({data:e,onChange:t}){return g.jsx(Qn,{label:"Ozet Sablonu",children:g.jsx("textarea",{value:e.summary_template??"",onChange:n=>t({summary_template:n.target.value}),rows:3,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-xs text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Temsilciye aktarilacak ozet..."})})}function PM({data:e,onChange:t}){const n=[{label:"Sari",value:"#fef3c7"},{label:"Mavi",value:"#dbeafe"},{label:"Yesil",value:"#dcfce7"},{label:"Kirmizi",value:"#fee2e2"},{label:"Mor",value:"#ede9fe"}];return g.jsxs(g.Fragment,{children:[g.jsx(Qn,{label:"Not Metni",children:g.jsx("textarea",{value:e.text??"",onChange:r=>t({text:r.target.value}),rows:5,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-xs text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Notunuz..."})}),g.jsx(Qn,{label:"Renk",children:g.jsx("div",{className:"flex gap-1.5",children:n.map(r=>g.jsx("button",{onClick:()=>t({color:r.value}),className:"w-6 h-6 rounded border-2 transition-transform hover:scale-110",style:{backgroundColor:r.value,borderColor:(e.color||"#fef3c7")===r.value?"#3b82f6":"transparent"},title:r.label},r.value))})})]})}function jM(){const e=re(n=>n.flowSettings),t=re(n=>n.setSettings);return g.jsxs("div",{className:"w-64 bg-white border-l border-slate-200 flex-shrink-0 overflow-y-auto",children:[g.jsx("div",{className:"p-3 border-b border-slate-200",children:g.jsx("span",{className:"text-base font-medium text-slate-700",children:"Flow Ayarlari"})}),g.jsxs("div",{className:"p-3 space-y-3",children:[g.jsx(co,{label:"Mesai Disi Mesaji",children:g.jsx("textarea",{value:e.off_hours_message??"",onChange:n=>t({off_hours_message:n.target.value}),rows:3,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Mesai saatleri disinda gonderilecek mesaj..."})}),g.jsx(co,{label:"Bilinmeyen Girdi Mesaji",children:g.jsx("textarea",{value:e.unknown_input_message??"",onChange:n=>t({unknown_input_message:n.target.value}),rows:2,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Gecersiz girdi mesaji..."})}),g.jsx(co,{label:"Handoff Guven Esigi",children:g.jsx("input",{type:"number",min:0,max:1,step:.1,value:e.handoff_confidence_threshold,onChange:n=>t({handoff_confidence_threshold:parseFloat(n.target.value)||.5}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500"})}),g.jsx(co,{label:"Session Zaman Asimi (dk)",children:g.jsx("input",{type:"number",min:1,max:1440,value:e.session_timeout_minutes,onChange:n=>t({session_timeout_minutes:parseInt(n.target.value)||30}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500"})}),g.jsx(co,{label:"Maks. Dongu Sayisi",children:g.jsx("input",{type:"number",min:1,max:100,value:e.max_loop_count,onChange:n=>t({max_loop_count:parseInt(n.target.value)||10}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500"})})]})]})}function co({label:e,children:t}){return g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-slate-500 uppercase tracking-wider mb-1",children:e}),t]})}function IM(){const{flowId:e}=C1(),t=di(),{session:n}=Rc(),r=(n==null?void 0:n.tenant_id)??0,o=parseInt(e??"0",10),[i,s]=b.useState("properties"),[l,a]=b.useState(!1),[u,d]=b.useState(null),[c,f]=b.useState(null),[y,x]=b.useState(!0),v=re(S=>S.selectedNodeId),w=re(S=>S.loadFlow);b.useEffect(()=>{if(!o||!r){t("/",{replace:!0});return}let S=!1;return x(!0),d(null),pu(r,o).then(_=>{if(S)return;const E=_.flow_config??{},N={version:E.version??2,metadata:{name:_.flow_name,...E.metadata},nodes:E.nodes??[],edges:E.edges??[],settings:E.settings??{}};w(N),x(!1)}).catch(_=>{S||(_ instanceof st&&_.status===404?d("Flow bulunamadi."):d(_ instanceof Error?_.message:"Flow yuklenemedi"),x(!1))}),()=>{S=!0}},[o,r,w,t]),b.useEffect(()=>{v&&s("properties")},[v]);const p=b.useCallback(async()=>{a(!0),f(null);try{const S=re.getState().toFlowConfig();await ES(r,o,{flow_name:S.metadata.name,flow_config:S}),re.getState().markClean()}catch(S){f(S instanceof Error?S.message:"Kaydetme basarisiz")}finally{a(!1)}},[r,o]),m=b.useCallback(()=>{re.getState().isDirty&&!window.confirm("Kaydedilmemis degisiklikler var. Yine de cikis yapilsin mi?")||(ze.getState().close(),t("/"))},[t]),h=b.useCallback(async()=>{const S=re.getState(),_=ze.getState();if(_.isOpen){_.close();return}if(S.isDirty){f("Once flow'u kaydedin, sonra test edin.");return}await _.start(r,o)},[r,o]);return b.useEffect(()=>()=>{ze.getState().close()},[]),b.useEffect(()=>{const S=_=>{_.ctrlKey&&_.key==="s"&&(_.preventDefault(),p()),_.ctrlKey&&_.key==="z"&&(_.preventDefault(),re.getState().undo()),_.ctrlKey&&_.key==="y"&&(_.preventDefault(),re.getState().redo())};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[p]),y?g.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 text-slate-500",children:"Flow yukleniyor..."}):u?g.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-slate-50 gap-4",children:[g.jsx("p",{className:"text-red-600",children:u}),g.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg",children:"Flow Listesine Don"})]}):g.jsx(iy,{children:g.jsxs("div",{className:"h-screen flex flex-col bg-slate-50",children:[g.jsx(wM,{onSave:p,isSaving:l,onBack:m,onTest:h}),c&&g.jsxs("div",{className:"bg-red-50 border-b border-red-200 px-4 py-2 text-xs text-red-600 flex items-center justify-between",children:[g.jsxs("span",{children:["Kaydetme hatasi: ",c]}),g.jsx("button",{onClick:()=>f(null),className:"text-red-400 hover:text-red-600",children:""})]}),g.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[g.jsx(vM,{}),g.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[g.jsx(aM,{}),g.jsx(mM,{})]}),g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("div",{className:"flex border-b border-slate-200 bg-white",children:[g.jsx("button",{onClick:()=>s("properties"),className:`px-3 py-2 text-xs font-medium transition-colors ${i==="properties"?"text-blue-600 border-b-2 border-blue-600":"text-slate-400 hover:text-slate-700"}`,children:"Ozellikler"}),g.jsx("button",{onClick:()=>s("settings"),className:`px-3 py-2 text-xs font-medium transition-colors ${i==="settings"?"text-blue-600 border-b-2 border-blue-600":"text-slate-400 hover:text-slate-700"}`,children:"Ayarlar"})]}),i==="properties"?g.jsx(_M,{}):g.jsx(jM,{})]}),g.jsx(kM,{})]})]})})}function RM({children:e}){const[t,n]=b.useState(Ic),r=b.useCallback(async(i,s)=>{const l=await kS(i,s),a={token:l.token,tenant_id:l.tenant_id,expires_at:Date.now()+l.expires_in*1e3};bS(a),n(a)},[]),o=b.useCallback(()=>{hu(),n(null)},[]);return g.jsx(pg.Provider,{value:{session:t,login:r,logout:o,isAuthenticated:t!==null},children:e})}function Th({children:e}){return Ic()?g.jsx(g.Fragment,{children:e}):g.jsx(ag,{to:"/login",replace:!0})}function TM(){return g.jsx(fS,{basename:"/flow-builder",children:g.jsx(RM,{children:g.jsxs(B1,{children:[g.jsx(yo,{path:"/login",element:g.jsx(IS,{})}),g.jsx(yo,{path:"/",element:g.jsx(Th,{children:g.jsx(RS,{})})}),g.jsx(yo,{path:"/editor/:flowId",element:g.jsx(Th,{children:g.jsx(IM,{})})}),g.jsx(yo,{path:"*",element:g.jsx(ag,{to:"/",replace:!0})})]})})})}Gm(document.getElementById("root")).render(g.jsx(b.StrictMode,{children:g.jsx(TM,{})}));
