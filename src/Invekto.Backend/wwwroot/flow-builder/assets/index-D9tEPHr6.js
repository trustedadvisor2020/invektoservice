(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function zh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $h={exports:{}},qs={},Dh={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ii=Symbol.for("react.element"),bx=Symbol.for("react.portal"),Sx=Symbol.for("react.fragment"),kx=Symbol.for("react.strict_mode"),Ex=Symbol.for("react.profiler"),_x=Symbol.for("react.provider"),Nx=Symbol.for("react.context"),Cx=Symbol.for("react.forward_ref"),jx=Symbol.for("react.suspense"),Px=Symbol.for("react.memo"),Mx=Symbol.for("react.lazy"),sd=Symbol.iterator;function Ix(e){return e===null||typeof e!="object"?null:(e=sd&&e[sd]||e["@@iterator"],typeof e=="function"?e:null)}var Ah={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oh=Object.assign,Fh={};function Fr(e,t,n){this.props=e,this.context=t,this.refs=Fh,this.updater=n||Ah}Fr.prototype.isReactComponent={};Fr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hh(){}Hh.prototype=Fr.prototype;function Mu(e,t,n){this.props=e,this.context=t,this.refs=Fh,this.updater=n||Ah}var Iu=Mu.prototype=new Hh;Iu.constructor=Mu;Oh(Iu,Fr.prototype);Iu.isPureReactComponent=!0;var ld=Array.isArray,Bh=Object.prototype.hasOwnProperty,Tu={current:null},Vh={key:!0,ref:!0,__self:!0,__source:!0};function Wh(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Bh.call(t,r)&&!Vh.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:ii,type:e,key:i,ref:s,props:o,_owner:Tu.current}}function Tx(e,t){return{$$typeof:ii,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ru(e){return typeof e=="object"&&e!==null&&e.$$typeof===ii}function Rx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ad=/\/+/g;function Tl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rx(""+e.key):t.toString(36)}function Ki(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ii:case bx:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Tl(s,0):r,ld(o)?(n="",e!=null&&(n=e.replace(ad,"$&/")+"/"),Ki(o,t,n,"",function(u){return u})):o!=null&&(Ru(o)&&(o=Tx(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(ad,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",ld(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Tl(i,l);s+=Ki(i,t,n,a,o)}else if(a=Ix(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Tl(i,l++),s+=Ki(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Si(e,t,n){if(e==null)return e;var r=[],o=0;return Ki(e,r,"","",function(i){return t.call(n,i,o++)}),r}function Lx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},Qi={transition:null},zx={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Qi,ReactCurrentOwner:Tu};function Uh(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Si,forEach:function(e,t,n){Si(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Si(e,function(){t++}),t},toArray:function(e){return Si(e,function(t){return t})||[]},only:function(e){if(!Ru(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Fr;re.Fragment=Sx;re.Profiler=Ex;re.PureComponent=Mu;re.StrictMode=kx;re.Suspense=jx;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zx;re.act=Uh;re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Oh({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Tu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Bh.call(t,a)&&!Vh.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ii,type:e.type,key:o,ref:i,props:r,_owner:s}};re.createContext=function(e){return e={$$typeof:Nx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_x,_context:e},e.Consumer=e};re.createElement=Wh;re.createFactory=function(e){var t=Wh.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:Cx,render:e}};re.isValidElement=Ru;re.lazy=function(e){return{$$typeof:Mx,_payload:{_status:-1,_result:e},_init:Lx}};re.memo=function(e,t){return{$$typeof:Px,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=Qi.transition;Qi.transition={};try{e()}finally{Qi.transition=t}};re.unstable_act=Uh;re.useCallback=function(e,t){return He.current.useCallback(e,t)};re.useContext=function(e){return He.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return He.current.useDeferredValue(e)};re.useEffect=function(e,t){return He.current.useEffect(e,t)};re.useId=function(){return He.current.useId()};re.useImperativeHandle=function(e,t,n){return He.current.useImperativeHandle(e,t,n)};re.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return He.current.useMemo(e,t)};re.useReducer=function(e,t,n){return He.current.useReducer(e,t,n)};re.useRef=function(e){return He.current.useRef(e)};re.useState=function(e){return He.current.useState(e)};re.useSyncExternalStore=function(e,t,n){return He.current.useSyncExternalStore(e,t,n)};re.useTransition=function(){return He.current.useTransition()};re.version="18.3.1";Dh.exports=re;var S=Dh.exports;const fo=zh(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x=S,Dx=Symbol.for("react.element"),Ax=Symbol.for("react.fragment"),Ox=Object.prototype.hasOwnProperty,Fx=$x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hx={key:!0,ref:!0,__self:!0,__source:!0};function Yh(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Ox.call(t,r)&&!Hx.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Dx,type:e,key:i,ref:s,props:o,_owner:Fx.current}}qs.Fragment=Ax;qs.jsx=Yh;qs.jsxs=Yh;$h.exports=qs;var p=$h.exports,Xh={exports:{}},tt={},Gh={exports:{}},Kh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,j){var z=C.length;C.push(j);e:for(;0<z;){var A=z-1>>>1,O=C[A];if(0<o(O,j))C[A]=j,C[z]=O,z=A;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var j=C[0],z=C.pop();if(z!==j){C[0]=z;e:for(var A=0,O=C.length,W=O>>>1;A<W;){var V=2*(A+1)-1,X=C[V],G=V+1,K=C[G];if(0>o(X,z))G<O&&0>o(K,X)?(C[A]=K,C[G]=z,A=G):(C[A]=X,C[V]=z,A=V);else if(G<O&&0>o(K,z))C[A]=K,C[G]=z,A=G;else break e}}return j}function o(C,j){var z=C.sortIndex-j.sortIndex;return z!==0?z:C.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],d=1,c=null,f=3,g=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(C){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=C)r(u),j.sortIndex=j.expirationTime,t(a,j);else break;j=n(u)}}function w(C){if(v=!1,h(C),!x)if(n(a)!==null)x=!0,M(k);else{var j=n(u);j!==null&&$(w,j.startTime-C)}}function k(C,j){x=!1,v&&(v=!1,m(P),P=-1),g=!0;var z=f;try{for(h(j),c=n(a);c!==null&&(!(c.expirationTime>j)||C&&!L());){var A=c.callback;if(typeof A=="function"){c.callback=null,f=c.priorityLevel;var O=A(c.expirationTime<=j);j=e.unstable_now(),typeof O=="function"?c.callback=O:c===n(a)&&r(a),h(j)}else r(a);c=n(a)}if(c!==null)var W=!0;else{var V=n(u);V!==null&&$(w,V.startTime-j),W=!1}return W}finally{c=null,f=z,g=!1}}var N=!1,E=null,P=-1,R=5,D=-1;function L(){return!(e.unstable_now()-D<R)}function T(){if(E!==null){var C=e.unstable_now();D=C;var j=!0;try{j=E(!0,C)}finally{j?F():(N=!1,E=null)}}else N=!1}var F;if(typeof y=="function")F=function(){y(T)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,I=_.port2;_.port1.onmessage=T,F=function(){I.postMessage(null)}}else F=function(){b(T,0)};function M(C){E=C,N||(N=!0,F())}function $(C,j){P=b(function(){C(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,M(k))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(C){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var z=f;f=j;try{return C()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,j){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var z=f;f=C;try{return j()}finally{f=z}},e.unstable_scheduleCallback=function(C,j,z){var A=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?A+z:A):z=A,C){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=z+O,C={id:d++,callback:j,priorityLevel:C,startTime:z,expirationTime:O,sortIndex:-1},z>A?(C.sortIndex=z,t(u,C),n(a)===null&&C===n(u)&&(v?(m(P),P=-1):v=!0,$(w,z-A))):(C.sortIndex=O,t(a,C),x||g||(x=!0,M(k))),C},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(C){var j=f;return function(){var z=f;f=j;try{return C.apply(this,arguments)}finally{f=z}}}})(Kh);Gh.exports=Kh;var Bx=Gh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx=S,Je=Bx;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qh=new Set,To={};function qn(e,t){_r(e,t),_r(e+"Capture",t)}function _r(e,t){for(To[e]=t,e=0;e<t.length;e++)Qh.add(t[e])}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=Object.prototype.hasOwnProperty,Wx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ud={},cd={};function Ux(e){return va.call(cd,e)?!0:va.call(ud,e)?!1:Wx.test(e)?cd[e]=!0:(ud[e]=!0,!1)}function Yx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xx(e,t,n,r){if(t===null||typeof t>"u"||Yx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lu=/[\-:]([a-z])/g;function zu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lu,zu);Te[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lu,zu);Te[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lu,zu);Te[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function $u(e,t,n,r){var o=Te.hasOwnProperty(t)?Te[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xx(t,n,o,r)&&(n=null),r||o===null?Ux(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Zt=Vx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ki=Symbol.for("react.element"),nr=Symbol.for("react.portal"),rr=Symbol.for("react.fragment"),Du=Symbol.for("react.strict_mode"),wa=Symbol.for("react.profiler"),qh=Symbol.for("react.provider"),Zh=Symbol.for("react.context"),Au=Symbol.for("react.forward_ref"),ba=Symbol.for("react.suspense"),Sa=Symbol.for("react.suspense_list"),Ou=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),Jh=Symbol.for("react.offscreen"),dd=Symbol.iterator;function qr(e){return e===null||typeof e!="object"?null:(e=dd&&e[dd]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,Rl;function ho(e){if(Rl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Rl=t&&t[1]||""}return`
`+Rl+e}var Ll=!1;function zl(e,t){if(!e||Ll)return"";Ll=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Ll=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ho(e):""}function Gx(e){switch(e.tag){case 5:return ho(e.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 2:case 15:return e=zl(e.type,!1),e;case 11:return e=zl(e.type.render,!1),e;case 1:return e=zl(e.type,!0),e;default:return""}}function ka(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rr:return"Fragment";case nr:return"Portal";case wa:return"Profiler";case Du:return"StrictMode";case ba:return"Suspense";case Sa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zh:return(e.displayName||"Context")+".Consumer";case qh:return(e._context.displayName||"Context")+".Provider";case Au:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ou:return t=e.displayName||null,t!==null?t:ka(e.type)||"Memo";case ln:t=e._payload,e=e._init;try{return ka(e(t))}catch{}}return null}function Kx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ka(t);case 8:return t===Du?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ep(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qx(e){var t=ep(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ei(e){e._valueTracker||(e._valueTracker=Qx(e))}function tp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ep(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ea(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Sn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function np(e,t){t=t.checked,t!=null&&$u(e,"checked",t,!1)}function _a(e,t){np(e,t);var n=Sn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Na(e,t.type,n):t.hasOwnProperty("defaultValue")&&Na(e,t.type,Sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Na(e,t,n){(t!=="number"||ps(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var po=Array.isArray;function gr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ca(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(po(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Sn(n)}}function rp(e,t){var n=Sn(t.value),r=Sn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function md(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function op(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ja(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?op(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _i,ip=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_i=_i||document.createElement("div"),_i.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_i.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ro(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qx=["Webkit","ms","Moz","O"];Object.keys(wo).forEach(function(e){qx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wo[t]=wo[e]})});function sp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wo.hasOwnProperty(e)&&wo[e]?(""+t).trim():t+"px"}function lp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=sp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Zx=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pa(e,t){if(t){if(Zx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Ma(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ia=null;function Fu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ta=null,yr=null,xr=null;function gd(e){if(e=ai(e)){if(typeof Ta!="function")throw Error(H(280));var t=e.stateNode;t&&(t=nl(t),Ta(e.stateNode,e.type,t))}}function ap(e){yr?xr?xr.push(e):xr=[e]:yr=e}function up(){if(yr){var e=yr,t=xr;if(xr=yr=null,gd(e),t)for(e=0;e<t.length;e++)gd(t[e])}}function cp(e,t){return e(t)}function dp(){}var $l=!1;function fp(e,t,n){if($l)return e(t,n);$l=!0;try{return cp(e,t,n)}finally{$l=!1,(yr!==null||xr!==null)&&(dp(),up())}}function Lo(e,t){var n=e.stateNode;if(n===null)return null;var r=nl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Ra=!1;if(Yt)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{Ra=!1}function Jx(e,t,n,r,o,i,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var bo=!1,ms=null,gs=!1,La=null,ev={onError:function(e){bo=!0,ms=e}};function tv(e,t,n,r,o,i,s,l,a){bo=!1,ms=null,Jx.apply(ev,arguments)}function nv(e,t,n,r,o,i,s,l,a){if(tv.apply(this,arguments),bo){if(bo){var u=ms;bo=!1,ms=null}else throw Error(H(198));gs||(gs=!0,La=u)}}function Zn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yd(e){if(Zn(e)!==e)throw Error(H(188))}function rv(e){var t=e.alternate;if(!t){if(t=Zn(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return yd(o),e;if(i===r)return yd(o),t;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function pp(e){return e=rv(e),e!==null?mp(e):null}function mp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mp(e);if(t!==null)return t;e=e.sibling}return null}var gp=Je.unstable_scheduleCallback,xd=Je.unstable_cancelCallback,ov=Je.unstable_shouldYield,iv=Je.unstable_requestPaint,Se=Je.unstable_now,sv=Je.unstable_getCurrentPriorityLevel,Hu=Je.unstable_ImmediatePriority,yp=Je.unstable_UserBlockingPriority,ys=Je.unstable_NormalPriority,lv=Je.unstable_LowPriority,xp=Je.unstable_IdlePriority,Zs=null,Mt=null;function av(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Zs,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:dv,uv=Math.log,cv=Math.LN2;function dv(e){return e>>>=0,e===0?32:31-(uv(e)/cv|0)|0}var Ni=64,Ci=4194304;function mo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=mo(l):(i&=s,i!==0&&(r=mo(i)))}else s=n&~o,s!==0?r=mo(s):i!==0&&(r=mo(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-vt(t),o=1<<n,r|=e[n],t&=~o;return r}function fv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-vt(i),l=1<<s,a=o[s];a===-1?(!(l&n)||l&r)&&(o[s]=fv(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function za(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vp(){var e=Ni;return Ni<<=1,!(Ni&4194240)&&(Ni=64),e}function Dl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function si(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=n}function pv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-vt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Bu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ae=0;function wp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bp,Vu,Sp,kp,Ep,$a=!1,ji=[],pn=null,mn=null,gn=null,zo=new Map,$o=new Map,un=[],mv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vd(e,t){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":zo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(t.pointerId)}}function Jr(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=ai(t),t!==null&&Vu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function gv(e,t,n,r,o){switch(t){case"focusin":return pn=Jr(pn,e,t,n,r,o),!0;case"dragenter":return mn=Jr(mn,e,t,n,r,o),!0;case"mouseover":return gn=Jr(gn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return zo.set(i,Jr(zo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,$o.set(i,Jr($o.get(i)||null,e,t,n,r,o)),!0}return!1}function _p(e){var t=Tn(e.target);if(t!==null){var n=Zn(t);if(n!==null){if(t=n.tag,t===13){if(t=hp(n),t!==null){e.blockedOn=t,Ep(e.priority,function(){Sp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Da(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ia=r,n.target.dispatchEvent(r),Ia=null}else return t=ai(n),t!==null&&Vu(t),e.blockedOn=n,!1;t.shift()}return!0}function wd(e,t,n){qi(e)&&n.delete(t)}function yv(){$a=!1,pn!==null&&qi(pn)&&(pn=null),mn!==null&&qi(mn)&&(mn=null),gn!==null&&qi(gn)&&(gn=null),zo.forEach(wd),$o.forEach(wd)}function eo(e,t){e.blockedOn===t&&(e.blockedOn=null,$a||($a=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,yv)))}function Do(e){function t(o){return eo(o,e)}if(0<ji.length){eo(ji[0],e);for(var n=1;n<ji.length;n++){var r=ji[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pn!==null&&eo(pn,e),mn!==null&&eo(mn,e),gn!==null&&eo(gn,e),zo.forEach(t),$o.forEach(t),n=0;n<un.length;n++)r=un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)_p(n),n.blockedOn===null&&un.shift()}var vr=Zt.ReactCurrentBatchConfig,vs=!0;function xv(e,t,n,r){var o=ae,i=vr.transition;vr.transition=null;try{ae=1,Wu(e,t,n,r)}finally{ae=o,vr.transition=i}}function vv(e,t,n,r){var o=ae,i=vr.transition;vr.transition=null;try{ae=4,Wu(e,t,n,r)}finally{ae=o,vr.transition=i}}function Wu(e,t,n,r){if(vs){var o=Da(e,t,n,r);if(o===null)Xl(e,t,r,ws,n),vd(e,r);else if(gv(o,e,t,n,r))r.stopPropagation();else if(vd(e,r),t&4&&-1<mv.indexOf(e)){for(;o!==null;){var i=ai(o);if(i!==null&&bp(i),i=Da(e,t,n,r),i===null&&Xl(e,t,r,ws,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Xl(e,t,r,null,n)}}var ws=null;function Da(e,t,n,r){if(ws=null,e=Fu(r),e=Tn(e),e!==null)if(t=Zn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=hp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ws=e,null}function Np(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sv()){case Hu:return 1;case yp:return 4;case ys:case lv:return 16;case xp:return 536870912;default:return 16}default:return 16}}var fn=null,Uu=null,Zi=null;function Cp(){if(Zi)return Zi;var e,t=Uu,n=t.length,r,o="value"in fn?fn.value:fn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Zi=o.slice(e,1<r?1-r:void 0)}function Ji(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function bd(){return!1}function nt(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pi:bd,this.isPropagationStopped=bd,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),t}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yu=nt(Hr),li=we({},Hr,{view:0,detail:0}),wv=nt(li),Al,Ol,to,Js=we({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==to&&(to&&e.type==="mousemove"?(Al=e.screenX-to.screenX,Ol=e.screenY-to.screenY):Ol=Al=0,to=e),Al)},movementY:function(e){return"movementY"in e?e.movementY:Ol}}),Sd=nt(Js),bv=we({},Js,{dataTransfer:0}),Sv=nt(bv),kv=we({},li,{relatedTarget:0}),Fl=nt(kv),Ev=we({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),_v=nt(Ev),Nv=we({},Hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cv=nt(Nv),jv=we({},Hr,{data:0}),kd=nt(jv),Pv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Iv[e])?!!t[e]:!1}function Xu(){return Tv}var Rv=we({},li,{key:function(e){if(e.key){var t=Pv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xu,charCode:function(e){return e.type==="keypress"?Ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lv=nt(Rv),zv=we({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ed=nt(zv),$v=we({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xu}),Dv=nt($v),Av=we({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ov=nt(Av),Fv=we({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hv=nt(Fv),Bv=[9,13,27,32],Gu=Yt&&"CompositionEvent"in window,So=null;Yt&&"documentMode"in document&&(So=document.documentMode);var Vv=Yt&&"TextEvent"in window&&!So,jp=Yt&&(!Gu||So&&8<So&&11>=So),_d=" ",Nd=!1;function Pp(e,t){switch(e){case"keyup":return Bv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function Wv(e,t){switch(e){case"compositionend":return Mp(t);case"keypress":return t.which!==32?null:(Nd=!0,_d);case"textInput":return e=t.data,e===_d&&Nd?null:e;default:return null}}function Uv(e,t){if(or)return e==="compositionend"||!Gu&&Pp(e,t)?(e=Cp(),Zi=Uu=fn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jp&&t.locale!=="ko"?null:t.data;default:return null}}var Yv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yv[e.type]:t==="textarea"}function Ip(e,t,n,r){ap(r),t=bs(t,"onChange"),0<t.length&&(n=new Yu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ko=null,Ao=null;function Xv(e){Bp(e,0)}function el(e){var t=lr(e);if(tp(t))return e}function Gv(e,t){if(e==="change")return t}var Tp=!1;if(Yt){var Hl;if(Yt){var Bl="oninput"in document;if(!Bl){var jd=document.createElement("div");jd.setAttribute("oninput","return;"),Bl=typeof jd.oninput=="function"}Hl=Bl}else Hl=!1;Tp=Hl&&(!document.documentMode||9<document.documentMode)}function Pd(){ko&&(ko.detachEvent("onpropertychange",Rp),Ao=ko=null)}function Rp(e){if(e.propertyName==="value"&&el(Ao)){var t=[];Ip(t,Ao,e,Fu(e)),fp(Xv,t)}}function Kv(e,t,n){e==="focusin"?(Pd(),ko=t,Ao=n,ko.attachEvent("onpropertychange",Rp)):e==="focusout"&&Pd()}function Qv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return el(Ao)}function qv(e,t){if(e==="click")return el(t)}function Zv(e,t){if(e==="input"||e==="change")return el(t)}function Jv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:Jv;function Oo(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!va.call(t,o)||!bt(e[o],t[o]))return!1}return!0}function Md(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Id(e,t){var n=Md(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Md(n)}}function Lp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zp(){for(var e=window,t=ps();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ps(e.document)}return t}function Ku(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ew(e){var t=zp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lp(n.ownerDocument.documentElement,n)){if(r!==null&&Ku(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Id(n,i);var s=Id(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tw=Yt&&"documentMode"in document&&11>=document.documentMode,ir=null,Aa=null,Eo=null,Oa=!1;function Td(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oa||ir==null||ir!==ps(r)||(r=ir,"selectionStart"in r&&Ku(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Eo&&Oo(Eo,r)||(Eo=r,r=bs(Aa,"onSelect"),0<r.length&&(t=new Yu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function Mi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var sr={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionend:Mi("Transition","TransitionEnd")},Vl={},$p={};Yt&&($p=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function tl(e){if(Vl[e])return Vl[e];if(!sr[e])return e;var t=sr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $p)return Vl[e]=t[n];return e}var Dp=tl("animationend"),Ap=tl("animationiteration"),Op=tl("animationstart"),Fp=tl("transitionend"),Hp=new Map,Rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){Hp.set(e,t),qn(t,[e])}for(var Wl=0;Wl<Rd.length;Wl++){var Ul=Rd[Wl],nw=Ul.toLowerCase(),rw=Ul[0].toUpperCase()+Ul.slice(1);En(nw,"on"+rw)}En(Dp,"onAnimationEnd");En(Ap,"onAnimationIteration");En(Op,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(Fp,"onTransitionEnd");_r("onMouseEnter",["mouseout","mouseover"]);_r("onMouseLeave",["mouseout","mouseover"]);_r("onPointerEnter",["pointerout","pointerover"]);_r("onPointerLeave",["pointerout","pointerover"]);qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ow=new Set("cancel close invalid load scroll toggle".split(" ").concat(go));function Ld(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nv(r,t,void 0,e),e.currentTarget=null}function Bp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;Ld(o,l,u),i=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;Ld(o,l,u),i=a}}}if(gs)throw e=La,gs=!1,La=null,e}function fe(e,t){var n=t[Wa];n===void 0&&(n=t[Wa]=new Set);var r=e+"__bubble";n.has(r)||(Vp(t,e,2,!1),n.add(r))}function Yl(e,t,n){var r=0;t&&(r|=4),Vp(n,e,r,t)}var Ii="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[Ii]){e[Ii]=!0,Qh.forEach(function(n){n!=="selectionchange"&&(ow.has(n)||Yl(n,!1,e),Yl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ii]||(t[Ii]=!0,Yl("selectionchange",!1,t))}}function Vp(e,t,n,r){switch(Np(t)){case 1:var o=xv;break;case 4:o=vv;break;default:o=Wu}n=o.bind(null,t,n,e),o=void 0,!Ra||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Xl(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=Tn(l),s===null)return;if(a=s.tag,a===5||a===6){r=i=s;continue e}l=l.parentNode}}r=r.return}fp(function(){var u=i,d=Fu(n),c=[];e:{var f=Hp.get(e);if(f!==void 0){var g=Yu,x=e;switch(e){case"keypress":if(Ji(n)===0)break e;case"keydown":case"keyup":g=Lv;break;case"focusin":x="focus",g=Fl;break;case"focusout":x="blur",g=Fl;break;case"beforeblur":case"afterblur":g=Fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Sv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Dv;break;case Dp:case Ap:case Op:g=_v;break;case Fp:g=Ov;break;case"scroll":g=wv;break;case"wheel":g=Hv;break;case"copy":case"cut":case"paste":g=Cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ed}var v=(t&4)!==0,b=!v&&e==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var y=u,h;y!==null;){h=y;var w=h.stateNode;if(h.tag===5&&w!==null&&(h=w,m!==null&&(w=Lo(y,m),w!=null&&v.push(Ho(y,w,h)))),b)break;y=y.return}0<v.length&&(f=new g(f,x,null,n,d),c.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==Ia&&(x=n.relatedTarget||n.fromElement)&&(Tn(x)||x[Xt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?Tn(x):null,x!==null&&(b=Zn(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=Sd,w="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=Ed,w="onPointerLeave",m="onPointerEnter",y="pointer"),b=g==null?f:lr(g),h=x==null?f:lr(x),f=new v(w,y+"leave",g,n,d),f.target=b,f.relatedTarget=h,w=null,Tn(d)===u&&(v=new v(m,y+"enter",x,n,d),v.target=h,v.relatedTarget=b,w=v),b=w,g&&x)t:{for(v=g,m=x,y=0,h=v;h;h=er(h))y++;for(h=0,w=m;w;w=er(w))h++;for(;0<y-h;)v=er(v),y--;for(;0<h-y;)m=er(m),h--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=er(v),m=er(m)}v=null}else v=null;g!==null&&zd(c,f,g,v,!1),x!==null&&b!==null&&zd(c,b,x,v,!0)}}e:{if(f=u?lr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=Gv;else if(Cd(f))if(Tp)k=Zv;else{k=Qv;var N=Kv}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=qv);if(k&&(k=k(e,u))){Ip(c,k,n,d);break e}N&&N(e,f,u),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Na(f,"number",f.value)}switch(N=u?lr(u):window,e){case"focusin":(Cd(N)||N.contentEditable==="true")&&(ir=N,Aa=u,Eo=null);break;case"focusout":Eo=Aa=ir=null;break;case"mousedown":Oa=!0;break;case"contextmenu":case"mouseup":case"dragend":Oa=!1,Td(c,n,d);break;case"selectionchange":if(tw)break;case"keydown":case"keyup":Td(c,n,d)}var E;if(Gu)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else or?Pp(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(jp&&n.locale!=="ko"&&(or||P!=="onCompositionStart"?P==="onCompositionEnd"&&or&&(E=Cp()):(fn=d,Uu="value"in fn?fn.value:fn.textContent,or=!0)),N=bs(u,P),0<N.length&&(P=new kd(P,e,null,n,d),c.push({event:P,listeners:N}),E?P.data=E:(E=Mp(n),E!==null&&(P.data=E)))),(E=Vv?Wv(e,n):Uv(e,n))&&(u=bs(u,"onBeforeInput"),0<u.length&&(d=new kd("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=E))}Bp(c,t)})}function Ho(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bs(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Lo(e,n),i!=null&&r.unshift(Ho(e,i,o)),i=Lo(e,t),i!=null&&r.push(Ho(e,i,o))),e=e.return}return r}function er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zd(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=Lo(n,i),a!=null&&s.unshift(Ho(n,a,l))):o||(a=Lo(n,i),a!=null&&s.push(Ho(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var iw=/\r\n?/g,sw=/\u0000|\uFFFD/g;function $d(e){return(typeof e=="string"?e:""+e).replace(iw,`
`).replace(sw,"")}function Ti(e,t,n){if(t=$d(t),$d(e)!==t&&n)throw Error(H(425))}function Ss(){}var Fa=null,Ha=null;function Ba(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Va=typeof setTimeout=="function"?setTimeout:void 0,lw=typeof clearTimeout=="function"?clearTimeout:void 0,Dd=typeof Promise=="function"?Promise:void 0,aw=typeof queueMicrotask=="function"?queueMicrotask:typeof Dd<"u"?function(e){return Dd.resolve(null).then(e).catch(uw)}:Va;function uw(e){setTimeout(function(){throw e})}function Gl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Do(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Do(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ad(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Br=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Br,Bo="__reactProps$"+Br,Xt="__reactContainer$"+Br,Wa="__reactEvents$"+Br,cw="__reactListeners$"+Br,dw="__reactHandles$"+Br;function Tn(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xt]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ad(e);e!==null;){if(n=e[Pt])return n;e=Ad(e)}return t}e=n,n=e.parentNode}return null}function ai(e){return e=e[Pt]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function nl(e){return e[Bo]||null}var Ua=[],ar=-1;function _n(e){return{current:e}}function he(e){0>ar||(e.current=Ua[ar],Ua[ar]=null,ar--)}function ue(e,t){ar++,Ua[ar]=e.current,e.current=t}var kn={},De=_n(kn),Ye=_n(!1),Hn=kn;function Nr(e,t){var n=e.type.contextTypes;if(!n)return kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Xe(e){return e=e.childContextTypes,e!=null}function ks(){he(Ye),he(De)}function Od(e,t,n){if(De.current!==kn)throw Error(H(168));ue(De,t),ue(Ye,n)}function Wp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(H(108,Kx(e)||"Unknown",o));return we({},n,r)}function Es(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Hn=De.current,ue(De,e),ue(Ye,Ye.current),!0}function Fd(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=Wp(e,t,Hn),r.__reactInternalMemoizedMergedChildContext=e,he(Ye),he(De),ue(De,e)):he(Ye),ue(Ye,n)}var Ot=null,rl=!1,Kl=!1;function Up(e){Ot===null?Ot=[e]:Ot.push(e)}function fw(e){rl=!0,Up(e)}function Nn(){if(!Kl&&Ot!==null){Kl=!0;var e=0,t=ae;try{var n=Ot;for(ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ot=null,rl=!1}catch(o){throw Ot!==null&&(Ot=Ot.slice(e+1)),gp(Hu,Nn),o}finally{ae=t,Kl=!1}}return null}var ur=[],cr=0,_s=null,Ns=0,ot=[],it=0,Bn=null,Ft=1,Ht="";function Pn(e,t){ur[cr++]=Ns,ur[cr++]=_s,_s=e,Ns=t}function Yp(e,t,n){ot[it++]=Ft,ot[it++]=Ht,ot[it++]=Bn,Bn=e;var r=Ft;e=Ht;var o=32-vt(r)-1;r&=~(1<<o),n+=1;var i=32-vt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Ft=1<<32-vt(t)+o|n<<o|r,Ht=i+e}else Ft=1<<i|n<<o|r,Ht=e}function Qu(e){e.return!==null&&(Pn(e,1),Yp(e,1,0))}function qu(e){for(;e===_s;)_s=ur[--cr],ur[cr]=null,Ns=ur[--cr],ur[cr]=null;for(;e===Bn;)Bn=ot[--it],ot[it]=null,Ht=ot[--it],ot[it]=null,Ft=ot[--it],ot[it]=null}var Ze=null,qe=null,pe=!1,mt=null;function Xp(e,t){var n=st(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,qe=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bn!==null?{id:Ft,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=st(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ze=e,qe=null,!0):!1;default:return!1}}function Ya(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xa(e){if(pe){var t=qe;if(t){var n=t;if(!Hd(e,t)){if(Ya(e))throw Error(H(418));t=yn(n.nextSibling);var r=Ze;t&&Hd(e,t)?Xp(r,n):(e.flags=e.flags&-4097|2,pe=!1,Ze=e)}}else{if(Ya(e))throw Error(H(418));e.flags=e.flags&-4097|2,pe=!1,Ze=e}}}function Bd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function Ri(e){if(e!==Ze)return!1;if(!pe)return Bd(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ba(e.type,e.memoizedProps)),t&&(t=qe)){if(Ya(e))throw Gp(),Error(H(418));for(;t;)Xp(e,t),t=yn(t.nextSibling)}if(Bd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qe=yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qe=null}}else qe=Ze?yn(e.stateNode.nextSibling):null;return!0}function Gp(){for(var e=qe;e;)e=yn(e.nextSibling)}function Cr(){qe=Ze=null,pe=!1}function Zu(e){mt===null?mt=[e]:mt.push(e)}var hw=Zt.ReactCurrentBatchConfig;function no(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Li(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vd(e){var t=e._init;return t(e._payload)}function Kp(e){function t(m,y){if(e){var h=m.deletions;h===null?(m.deletions=[y],m.flags|=16):h.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function o(m,y){return m=bn(m,y),m.index=0,m.sibling=null,m}function i(m,y,h){return m.index=h,e?(h=m.alternate,h!==null?(h=h.index,h<y?(m.flags|=2,y):h):(m.flags|=2,y)):(m.flags|=1048576,y)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,y,h,w){return y===null||y.tag!==6?(y=na(h,m.mode,w),y.return=m,y):(y=o(y,h),y.return=m,y)}function a(m,y,h,w){var k=h.type;return k===rr?d(m,y,h.props.children,w,h.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ln&&Vd(k)===y.type)?(w=o(y,h.props),w.ref=no(m,y,h),w.return=m,w):(w=ss(h.type,h.key,h.props,null,m.mode,w),w.ref=no(m,y,h),w.return=m,w)}function u(m,y,h,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==h.containerInfo||y.stateNode.implementation!==h.implementation?(y=ra(h,m.mode,w),y.return=m,y):(y=o(y,h.children||[]),y.return=m,y)}function d(m,y,h,w,k){return y===null||y.tag!==7?(y=Dn(h,m.mode,w,k),y.return=m,y):(y=o(y,h),y.return=m,y)}function c(m,y,h){if(typeof y=="string"&&y!==""||typeof y=="number")return y=na(""+y,m.mode,h),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ki:return h=ss(y.type,y.key,y.props,null,m.mode,h),h.ref=no(m,null,y),h.return=m,h;case nr:return y=ra(y,m.mode,h),y.return=m,y;case ln:var w=y._init;return c(m,w(y._payload),h)}if(po(y)||qr(y))return y=Dn(y,m.mode,h,null),y.return=m,y;Li(m,y)}return null}function f(m,y,h,w){var k=y!==null?y.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return k!==null?null:l(m,y,""+h,w);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ki:return h.key===k?a(m,y,h,w):null;case nr:return h.key===k?u(m,y,h,w):null;case ln:return k=h._init,f(m,y,k(h._payload),w)}if(po(h)||qr(h))return k!==null?null:d(m,y,h,w,null);Li(m,h)}return null}function g(m,y,h,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(h)||null,l(y,m,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ki:return m=m.get(w.key===null?h:w.key)||null,a(y,m,w,k);case nr:return m=m.get(w.key===null?h:w.key)||null,u(y,m,w,k);case ln:var N=w._init;return g(m,y,h,N(w._payload),k)}if(po(w)||qr(w))return m=m.get(h)||null,d(y,m,w,k,null);Li(y,w)}return null}function x(m,y,h,w){for(var k=null,N=null,E=y,P=y=0,R=null;E!==null&&P<h.length;P++){E.index>P?(R=E,E=null):R=E.sibling;var D=f(m,E,h[P],w);if(D===null){E===null&&(E=R);break}e&&E&&D.alternate===null&&t(m,E),y=i(D,y,P),N===null?k=D:N.sibling=D,N=D,E=R}if(P===h.length)return n(m,E),pe&&Pn(m,P),k;if(E===null){for(;P<h.length;P++)E=c(m,h[P],w),E!==null&&(y=i(E,y,P),N===null?k=E:N.sibling=E,N=E);return pe&&Pn(m,P),k}for(E=r(m,E);P<h.length;P++)R=g(E,m,P,h[P],w),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?P:R.key),y=i(R,y,P),N===null?k=R:N.sibling=R,N=R);return e&&E.forEach(function(L){return t(m,L)}),pe&&Pn(m,P),k}function v(m,y,h,w){var k=qr(h);if(typeof k!="function")throw Error(H(150));if(h=k.call(h),h==null)throw Error(H(151));for(var N=k=null,E=y,P=y=0,R=null,D=h.next();E!==null&&!D.done;P++,D=h.next()){E.index>P?(R=E,E=null):R=E.sibling;var L=f(m,E,D.value,w);if(L===null){E===null&&(E=R);break}e&&E&&L.alternate===null&&t(m,E),y=i(L,y,P),N===null?k=L:N.sibling=L,N=L,E=R}if(D.done)return n(m,E),pe&&Pn(m,P),k;if(E===null){for(;!D.done;P++,D=h.next())D=c(m,D.value,w),D!==null&&(y=i(D,y,P),N===null?k=D:N.sibling=D,N=D);return pe&&Pn(m,P),k}for(E=r(m,E);!D.done;P++,D=h.next())D=g(E,m,P,D.value,w),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?P:D.key),y=i(D,y,P),N===null?k=D:N.sibling=D,N=D);return e&&E.forEach(function(T){return t(m,T)}),pe&&Pn(m,P),k}function b(m,y,h,w){if(typeof h=="object"&&h!==null&&h.type===rr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case ki:e:{for(var k=h.key,N=y;N!==null;){if(N.key===k){if(k=h.type,k===rr){if(N.tag===7){n(m,N.sibling),y=o(N,h.props.children),y.return=m,m=y;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ln&&Vd(k)===N.type){n(m,N.sibling),y=o(N,h.props),y.ref=no(m,N,h),y.return=m,m=y;break e}n(m,N);break}else t(m,N);N=N.sibling}h.type===rr?(y=Dn(h.props.children,m.mode,w,h.key),y.return=m,m=y):(w=ss(h.type,h.key,h.props,null,m.mode,w),w.ref=no(m,y,h),w.return=m,m=w)}return s(m);case nr:e:{for(N=h.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===h.containerInfo&&y.stateNode.implementation===h.implementation){n(m,y.sibling),y=o(y,h.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=ra(h,m.mode,w),y.return=m,m=y}return s(m);case ln:return N=h._init,b(m,y,N(h._payload),w)}if(po(h))return x(m,y,h,w);if(qr(h))return v(m,y,h,w);Li(m,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,y!==null&&y.tag===6?(n(m,y.sibling),y=o(y,h),y.return=m,m=y):(n(m,y),y=na(h,m.mode,w),y.return=m,m=y),s(m)):n(m,y)}return b}var jr=Kp(!0),Qp=Kp(!1),Cs=_n(null),js=null,dr=null,Ju=null;function ec(){Ju=dr=js=null}function tc(e){var t=Cs.current;he(Cs),e._currentValue=t}function Ga(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wr(e,t){js=e,Ju=dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(Ju!==e)if(e={context:e,memoizedValue:t,next:null},dr===null){if(js===null)throw Error(H(308));dr=e,js.dependencies={lanes:0,firstContext:e}}else dr=dr.next=e;return t}var Rn=null;function nc(e){Rn===null?Rn=[e]:Rn.push(e)}function qp(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,nc(t)):(n.next=o.next,o.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var an=!1;function rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Gt(e,n)}return o=r.interleaved,o===null?(t.next=t,nc(r)):(t.next=o.next,o.next=t),r.interleaved=t,Gt(e,n)}function es(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bu(e,n)}}function Wd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ps(e,t,n,r){var o=e.updateQueue;an=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?i=u:s.next=u,s=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var c=o.baseState;s=0,d=u=a=null,l=i;do{var f=l.lane,g=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(f=t,g=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){c=x.call(g,c,f);break e}c=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,f=typeof x=="function"?x.call(g,c,f):x,f==null)break e;c=we({},c,f);break e;case 2:an=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,a=c):d=d.next=g,s|=f;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;f=l,l=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(d===null&&(a=c),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Wn|=s,e.lanes=s,e.memoizedState=c}}function Ud(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(H(191,o));o.call(r)}}}var ui={},It=_n(ui),Vo=_n(ui),Wo=_n(ui);function Ln(e){if(e===ui)throw Error(H(174));return e}function oc(e,t){switch(ue(Wo,t),ue(Vo,e),ue(It,ui),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ja(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ja(t,e)}he(It),ue(It,t)}function Pr(){he(It),he(Vo),he(Wo)}function Jp(e){Ln(Wo.current);var t=Ln(It.current),n=ja(t,e.type);t!==n&&(ue(Vo,e),ue(It,n))}function ic(e){Vo.current===e&&(he(It),he(Vo))}var xe=_n(0);function Ms(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ql=[];function sc(){for(var e=0;e<Ql.length;e++)Ql[e]._workInProgressVersionPrimary=null;Ql.length=0}var ts=Zt.ReactCurrentDispatcher,ql=Zt.ReactCurrentBatchConfig,Vn=0,ve=null,_e=null,je=null,Is=!1,_o=!1,Uo=0,pw=0;function Le(){throw Error(H(321))}function lc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bt(e[n],t[n]))return!1;return!0}function ac(e,t,n,r,o,i){if(Vn=i,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ts.current=e===null||e.memoizedState===null?xw:vw,e=n(r,o),_o){i=0;do{if(_o=!1,Uo=0,25<=i)throw Error(H(301));i+=1,je=_e=null,t.updateQueue=null,ts.current=ww,e=n(r,o)}while(_o)}if(ts.current=Ts,t=_e!==null&&_e.next!==null,Vn=0,je=_e=ve=null,Is=!1,t)throw Error(H(300));return e}function uc(){var e=Uo!==0;return Uo=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ve.memoizedState=je=e:je=je.next=e,je}function ct(){if(_e===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=je===null?ve.memoizedState:je.next;if(t!==null)je=t,_e=e;else{if(e===null)throw Error(H(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},je===null?ve.memoizedState=je=e:je=je.next=e}return je}function Yo(e,t){return typeof t=="function"?t(e):t}function Zl(e){var t=ct(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=_e,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,a=null,u=i;do{var d=u.lane;if((Vn&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,s=r):a=a.next=c,ve.lanes|=d,Wn|=d}u=u.next}while(u!==null&&u!==i);a===null?s=r:a.next=l,bt(r,t.memoizedState)||(We=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,ve.lanes|=i,Wn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Jl(e){var t=ct(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);bt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function em(){}function tm(e,t){var n=ve,r=ct(),o=t(),i=!bt(r.memoizedState,o);if(i&&(r.memoizedState=o,We=!0),r=r.queue,cc(om.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Xo(9,rm.bind(null,n,r,o,t),void 0,null),Pe===null)throw Error(H(349));Vn&30||nm(n,t,o)}return o}function nm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rm(e,t,n,r){t.value=n,t.getSnapshot=r,im(t)&&sm(e)}function om(e,t,n){return n(function(){im(t)&&sm(e)})}function im(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bt(e,n)}catch{return!0}}function sm(e){var t=Gt(e,1);t!==null&&wt(t,e,1,-1)}function Yd(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:e},t.queue=e,e=e.dispatch=yw.bind(null,ve,e),[t.memoizedState,e]}function Xo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function lm(){return ct().memoizedState}function ns(e,t,n,r){var o=Ct();ve.flags|=e,o.memoizedState=Xo(1|t,n,void 0,r===void 0?null:r)}function ol(e,t,n,r){var o=ct();r=r===void 0?null:r;var i=void 0;if(_e!==null){var s=_e.memoizedState;if(i=s.destroy,r!==null&&lc(r,s.deps)){o.memoizedState=Xo(t,n,i,r);return}}ve.flags|=e,o.memoizedState=Xo(1|t,n,i,r)}function Xd(e,t){return ns(8390656,8,e,t)}function cc(e,t){return ol(2048,8,e,t)}function am(e,t){return ol(4,2,e,t)}function um(e,t){return ol(4,4,e,t)}function cm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dm(e,t,n){return n=n!=null?n.concat([e]):null,ol(4,4,cm.bind(null,t,e),n)}function dc(){}function fm(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hm(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pm(e,t,n){return Vn&21?(bt(n,t)||(n=vp(),ve.lanes|=n,Wn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function mw(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var r=ql.transition;ql.transition={};try{e(!1),t()}finally{ae=n,ql.transition=r}}function mm(){return ct().memoizedState}function gw(e,t,n){var r=wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gm(e))ym(t,n);else if(n=qp(e,t,n,r),n!==null){var o=Fe();wt(n,e,r,o),xm(n,t,r)}}function yw(e,t,n){var r=wn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gm(e))ym(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,bt(l,s)){var a=t.interleaved;a===null?(o.next=o,nc(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=qp(e,t,o,r),n!==null&&(o=Fe(),wt(n,e,r,o),xm(n,t,r))}}function gm(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function ym(e,t){_o=Is=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bu(e,n)}}var Ts={readContext:ut,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},xw={readContext:ut,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Xd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ns(4194308,4,cm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return ns(4,2,e,t)},useMemo:function(e,t){var n=Ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ct();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gw.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:Yd,useDebugValue:dc,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=Yd(!1),t=e[0];return e=mw.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,o=Ct();if(pe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Pe===null)throw Error(H(349));Vn&30||nm(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Xd(om.bind(null,r,i,e),[e]),r.flags|=2048,Xo(9,rm.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ct(),t=Pe.identifierPrefix;if(pe){var n=Ht,r=Ft;n=(r&~(1<<32-vt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Uo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vw={readContext:ut,useCallback:fm,useContext:ut,useEffect:cc,useImperativeHandle:dm,useInsertionEffect:am,useLayoutEffect:um,useMemo:hm,useReducer:Zl,useRef:lm,useState:function(){return Zl(Yo)},useDebugValue:dc,useDeferredValue:function(e){var t=ct();return pm(t,_e.memoizedState,e)},useTransition:function(){var e=Zl(Yo)[0],t=ct().memoizedState;return[e,t]},useMutableSource:em,useSyncExternalStore:tm,useId:mm,unstable_isNewReconciler:!1},ww={readContext:ut,useCallback:fm,useContext:ut,useEffect:cc,useImperativeHandle:dm,useInsertionEffect:am,useLayoutEffect:um,useMemo:hm,useReducer:Jl,useRef:lm,useState:function(){return Jl(Yo)},useDebugValue:dc,useDeferredValue:function(e){var t=ct();return _e===null?t.memoizedState=e:pm(t,_e.memoizedState,e)},useTransition:function(){var e=Jl(Yo)[0],t=ct().memoizedState;return[e,t]},useMutableSource:em,useSyncExternalStore:tm,useId:mm,unstable_isNewReconciler:!1};function ft(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ka(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var il={isMounted:function(e){return(e=e._reactInternals)?Zn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fe(),o=wn(e),i=Vt(r,o);i.payload=t,n!=null&&(i.callback=n),t=xn(e,i,o),t!==null&&(wt(t,e,o,r),es(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fe(),o=wn(e),i=Vt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=xn(e,i,o),t!==null&&(wt(t,e,o,r),es(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fe(),r=wn(e),o=Vt(n,r);o.tag=2,t!=null&&(o.callback=t),t=xn(e,o,r),t!==null&&(wt(t,e,r,n),es(t,e,r))}};function Gd(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Oo(n,r)||!Oo(o,i):!0}function vm(e,t,n){var r=!1,o=kn,i=t.contextType;return typeof i=="object"&&i!==null?i=ut(i):(o=Xe(t)?Hn:De.current,r=t.contextTypes,i=(r=r!=null)?Nr(e,o):kn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=il,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Kd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&il.enqueueReplaceState(t,t.state,null)}function Qa(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},rc(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=ut(i):(i=Xe(t)?Hn:De.current,o.context=Nr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ka(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&il.enqueueReplaceState(o,o.state,null),Ps(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Mr(e,t){try{var n="",r=t;do n+=Gx(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function ea(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bw=typeof WeakMap=="function"?WeakMap:Map;function wm(e,t,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ls||(Ls=!0,lu=r),qa(e,t)},n}function bm(e,t,n){n=Vt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){qa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qa(e,t),typeof r!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Qd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new bw;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=zw.bind(null,e,t,n),t.then(e,e))}function qd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vt(-1,1),t.tag=2,xn(n,t,1))),n.lanes|=1),e)}var Sw=Zt.ReactCurrentOwner,We=!1;function Ae(e,t,n,r){t.child=e===null?Qp(t,null,n,r):jr(t,e.child,n,r)}function Jd(e,t,n,r,o){n=n.render;var i=t.ref;return wr(t,o),r=ac(e,t,n,r,i,o),n=uc(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Kt(e,t,o)):(pe&&n&&Qu(t),t.flags|=1,Ae(e,t,r,o),t.child)}function ef(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!vc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Sm(e,t,i,r,o)):(e=ss(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Oo,n(s,r)&&e.ref===t.ref)return Kt(e,t,o)}return t.flags|=1,e=bn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Sm(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Oo(i,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Kt(e,t,o)}return Za(e,t,n,r,o)}function km(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(hr,Ke),Ke|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(hr,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ue(hr,Ke),Ke|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ue(hr,Ke),Ke|=r;return Ae(e,t,o,n),t.child}function Em(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Za(e,t,n,r,o){var i=Xe(n)?Hn:De.current;return i=Nr(t,i),wr(t,o),n=ac(e,t,n,r,i,o),r=uc(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Kt(e,t,o)):(pe&&r&&Qu(t),t.flags|=1,Ae(e,t,n,o),t.child)}function tf(e,t,n,r,o){if(Xe(n)){var i=!0;Es(t)}else i=!1;if(wr(t,o),t.stateNode===null)rs(e,t),vm(t,n,r),Qa(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ut(u):(u=Xe(n)?Hn:De.current,u=Nr(t,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Kd(t,s,r,u),an=!1;var f=t.memoizedState;s.state=f,Ps(t,r,s,o),a=t.memoizedState,l!==r||f!==a||Ye.current||an?(typeof d=="function"&&(Ka(t,n,d,r),a=t.memoizedState),(l=an||Gd(t,n,l,r,f,a,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Zp(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ft(t.type,l),s.props=u,c=t.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=ut(a):(a=Xe(n)?Hn:De.current,a=Nr(t,a));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==c||f!==a)&&Kd(t,s,r,a),an=!1,f=t.memoizedState,s.state=f,Ps(t,r,s,o);var x=t.memoizedState;l!==c||f!==x||Ye.current||an?(typeof g=="function"&&(Ka(t,n,g,r),x=t.memoizedState),(u=an||Gd(t,n,u,r,f,x,a)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ja(e,t,n,r,i,o)}function Ja(e,t,n,r,o,i){Em(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Fd(t,n,!1),Kt(e,t,i);r=t.stateNode,Sw.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=jr(t,e.child,null,i),t.child=jr(t,null,l,i)):Ae(e,t,l,i),t.memoizedState=r.state,o&&Fd(t,n,!0),t.child}function _m(e){var t=e.stateNode;t.pendingContext?Od(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Od(e,t.context,!1),oc(e,t.containerInfo)}function nf(e,t,n,r,o){return Cr(),Zu(o),t.flags|=256,Ae(e,t,n,r),t.child}var eu={dehydrated:null,treeContext:null,retryLane:0};function tu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nm(e,t,n){var r=t.pendingProps,o=xe.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ue(xe,o&1),e===null)return Xa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=al(s,r,0,null),e=Dn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=tu(n),t.memoizedState=eu,e):fc(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return kw(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=bn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=bn(l,i):(i=Dn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?tu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=eu,r}return i=e.child,e=i.sibling,r=bn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function fc(e,t){return t=al({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zi(e,t,n,r){return r!==null&&Zu(r),jr(t,e.child,null,n),e=fc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kw(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=ea(Error(H(422))),zi(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=al({mode:"visible",children:r.children},o,0,null),i=Dn(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&jr(t,e.child,null,s),t.child.memoizedState=tu(s),t.memoizedState=eu,i);if(!(t.mode&1))return zi(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(H(419)),r=ea(i,r,void 0),zi(e,t,s,r)}if(l=(s&e.childLanes)!==0,We||l){if(r=Pe,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Gt(e,o),wt(r,e,o,-1))}return xc(),r=ea(Error(H(421))),zi(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=$w.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,qe=yn(o.nextSibling),Ze=t,pe=!0,mt=null,e!==null&&(ot[it++]=Ft,ot[it++]=Ht,ot[it++]=Bn,Ft=e.id,Ht=e.overflow,Bn=t),t=fc(t,r.children),t.flags|=4096,t)}function rf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ga(e.return,t,n)}function ta(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Cm(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ae(e,t,r.children,n),r=xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rf(e,n,t);else if(e.tag===19)rf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(xe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ms(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ta(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ms(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ta(t,!0,n,null,i);break;case"together":ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=bn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=bn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ew(e,t,n){switch(t.tag){case 3:_m(t),Cr();break;case 5:Jp(t);break;case 1:Xe(t.type)&&Es(t);break;case 4:oc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ue(Cs,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?Nm(e,t,n):(ue(xe,xe.current&1),e=Kt(e,t,n),e!==null?e.sibling:null);ue(xe,xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Cm(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ue(xe,xe.current),r)break;return null;case 22:case 23:return t.lanes=0,km(e,t,n)}return Kt(e,t,n)}var jm,nu,Pm,Mm;jm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nu=function(){};Pm=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ln(It.current);var i=null;switch(n){case"input":o=Ea(e,o),r=Ea(e,r),i=[];break;case"select":o=we({},o,{value:void 0}),r=we({},r,{value:void 0}),i=[];break;case"textarea":o=Ca(e,o),r=Ca(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ss)}Pa(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(To.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(To.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&fe("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Mm=function(e,t,n,r){n!==r&&(t.flags|=4)};function ro(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _w(e,t,n){var r=t.pendingProps;switch(qu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Xe(t.type)&&ks(),ze(t),null;case 3:return r=t.stateNode,Pr(),he(Ye),he(De),sc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ri(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(cu(mt),mt=null))),nu(e,t),ze(t),null;case 5:ic(t);var o=Ln(Wo.current);if(n=t.type,e!==null&&t.stateNode!=null)Pm(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return ze(t),null}if(e=Ln(It.current),Ri(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Pt]=t,r[Bo]=i,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(o=0;o<go.length;o++)fe(go[o],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":fd(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":pd(r,i),fe("invalid",r)}Pa(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ti(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ti(r.textContent,l,e),o=["children",""+l]):To.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&fe("scroll",r)}switch(n){case"input":Ei(r),hd(r,i,!0);break;case"textarea":Ei(r),md(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ss)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=op(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Pt]=t,e[Bo]=r,jm(e,t,!1,!1),t.stateNode=e;e:{switch(s=Ma(n,r),n){case"dialog":fe("cancel",e),fe("close",e),o=r;break;case"iframe":case"object":case"embed":fe("load",e),o=r;break;case"video":case"audio":for(o=0;o<go.length;o++)fe(go[o],e);o=r;break;case"source":fe("error",e),o=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),o=r;break;case"details":fe("toggle",e),o=r;break;case"input":fd(e,r),o=Ea(e,r),fe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=we({},r,{value:void 0}),fe("invalid",e);break;case"textarea":pd(e,r),o=Ca(e,r),fe("invalid",e);break;default:o=r}Pa(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?lp(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&ip(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ro(e,a):typeof a=="number"&&Ro(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(To.hasOwnProperty(i)?a!=null&&i==="onScroll"&&fe("scroll",e):a!=null&&$u(e,i,a,s))}switch(n){case"input":Ei(e),hd(e,r,!1);break;case"textarea":Ei(e),md(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Sn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?gr(e,!!r.multiple,i,!1):r.defaultValue!=null&&gr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ss)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Mm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=Ln(Wo.current),Ln(It.current),Ri(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pt]=t,(i=r.nodeValue!==n)&&(e=Ze,e!==null))switch(e.tag){case 3:Ti(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ti(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pt]=t,t.stateNode=r}return ze(t),null;case 13:if(he(xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&qe!==null&&t.mode&1&&!(t.flags&128))Gp(),Cr(),t.flags|=98560,i=!1;else if(i=Ri(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(H(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Pt]=t}else Cr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),i=!1}else mt!==null&&(cu(mt),mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Ne===0&&(Ne=3):xc())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return Pr(),nu(e,t),e===null&&Fo(t.stateNode.containerInfo),ze(t),null;case 10:return tc(t.type._context),ze(t),null;case 17:return Xe(t.type)&&ks(),ze(t),null;case 19:if(he(xe),i=t.memoizedState,i===null)return ze(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)ro(i,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ms(e),s!==null){for(t.flags|=128,ro(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(xe,xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Se()>Ir&&(t.flags|=128,r=!0,ro(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ms(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ro(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!pe)return ze(t),null}else 2*Se()-i.renderingStartTime>Ir&&n!==1073741824&&(t.flags|=128,r=!0,ro(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Se(),t.sibling=null,n=xe.current,ue(xe,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return yc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ke&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function Nw(e,t){switch(qu(t),t.tag){case 1:return Xe(t.type)&&ks(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pr(),he(Ye),he(De),sc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ic(t),null;case 13:if(he(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(xe),null;case 4:return Pr(),null;case 10:return tc(t.type._context),null;case 22:case 23:return yc(),null;case 24:return null;default:return null}}var $i=!1,$e=!1,Cw=typeof WeakSet=="function"?WeakSet:Set,U=null;function fr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(e,t,r)}else n.current=null}function ru(e,t,n){try{n()}catch(r){be(e,t,r)}}var of=!1;function jw(e,t){if(Fa=vs,e=zp(),Ku(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,d=0,c=e,f=null;t:for(;;){for(var g;c!==n||o!==0&&c.nodeType!==3||(l=s+o),c!==i||r!==0&&c.nodeType!==3||(a=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(g=c.firstChild)!==null;)f=c,c=g;for(;;){if(c===e)break t;if(f===n&&++u===o&&(l=s),f===i&&++d===r&&(a=s),(g=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ha={focusedElem:e,selectionRange:n},vs=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,b=x.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:ft(t.type,v),b);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(w){be(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return x=of,of=!1,x}function No(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&ru(t,n,i)}o=o.next}while(o!==r)}}function sl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Im(e){var t=e.alternate;t!==null&&(e.alternate=null,Im(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[Bo],delete t[Wa],delete t[cw],delete t[dw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tm(e){return e.tag===5||e.tag===3||e.tag===4}function sf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ss));else if(r!==4&&(e=e.child,e!==null))for(iu(e,t,n),e=e.sibling;e!==null;)iu(e,t,n),e=e.sibling}function su(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(su(e,t,n),e=e.sibling;e!==null;)su(e,t,n),e=e.sibling}var Me=null,ht=!1;function tn(e,t,n){for(n=n.child;n!==null;)Rm(e,t,n),n=n.sibling}function Rm(e,t,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Zs,n)}catch{}switch(n.tag){case 5:$e||fr(n,t);case 6:var r=Me,o=ht;Me=null,tn(e,t,n),Me=r,ht=o,Me!==null&&(ht?(e=Me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(ht?(e=Me,n=n.stateNode,e.nodeType===8?Gl(e.parentNode,n):e.nodeType===1&&Gl(e,n),Do(e)):Gl(Me,n.stateNode));break;case 4:r=Me,o=ht,Me=n.stateNode.containerInfo,ht=!0,tn(e,t,n),Me=r,ht=o;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&ru(n,t,s),o=o.next}while(o!==r)}tn(e,t,n);break;case 1:if(!$e&&(fr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){be(n,t,l)}tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,tn(e,t,n),$e=r):tn(e,t,n);break;default:tn(e,t,n)}}function lf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Cw),t.forEach(function(r){var o=Dw.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Me=l.stateNode,ht=!1;break e;case 3:Me=l.stateNode.containerInfo,ht=!0;break e;case 4:Me=l.stateNode.containerInfo,ht=!0;break e}l=l.return}if(Me===null)throw Error(H(160));Rm(i,s,o),Me=null,ht=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){be(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lm(t,e),t=t.sibling}function Lm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dt(t,e),Nt(e),r&4){try{No(3,e,e.return),sl(3,e)}catch(v){be(e,e.return,v)}try{No(5,e,e.return)}catch(v){be(e,e.return,v)}}break;case 1:dt(t,e),Nt(e),r&512&&n!==null&&fr(n,n.return);break;case 5:if(dt(t,e),Nt(e),r&512&&n!==null&&fr(n,n.return),e.flags&32){var o=e.stateNode;try{Ro(o,"")}catch(v){be(e,e.return,v)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&np(o,i),Ma(l,s);var u=Ma(l,i);for(s=0;s<a.length;s+=2){var d=a[s],c=a[s+1];d==="style"?lp(o,c):d==="dangerouslySetInnerHTML"?ip(o,c):d==="children"?Ro(o,c):$u(o,d,c,u)}switch(l){case"input":_a(o,i);break;case"textarea":rp(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?gr(o,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?gr(o,!!i.multiple,i.defaultValue,!0):gr(o,!!i.multiple,i.multiple?[]:"",!1))}o[Bo]=i}catch(v){be(e,e.return,v)}}break;case 6:if(dt(t,e),Nt(e),r&4){if(e.stateNode===null)throw Error(H(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(v){be(e,e.return,v)}}break;case 3:if(dt(t,e),Nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Do(t.containerInfo)}catch(v){be(e,e.return,v)}break;case 4:dt(t,e),Nt(e);break;case 13:dt(t,e),Nt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(mc=Se())),r&4&&lf(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?($e=(u=$e)||d,dt(t,e),$e=u):dt(t,e),Nt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(U=e,d=e.child;d!==null;){for(c=U=d;U!==null;){switch(f=U,g=f.child,f.tag){case 0:case 11:case 14:case 15:No(4,f,f.return);break;case 1:fr(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){be(r,n,v)}}break;case 5:fr(f,f.return);break;case 22:if(f.memoizedState!==null){uf(c);continue}}g!==null?(g.return=f,U=g):uf(c)}d=d.sibling}e:for(d=null,c=e;;){if(c.tag===5){if(d===null){d=c;try{o=c.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=c.stateNode,a=c.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=sp("display",s))}catch(v){be(e,e.return,v)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){be(e,e.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:dt(t,e),Nt(e),r&4&&lf(e);break;case 21:break;default:dt(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Tm(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ro(o,""),r.flags&=-33);var i=sf(e);su(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=sf(e);iu(e,l,s);break;default:throw Error(H(161))}}catch(a){be(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pw(e,t,n){U=e,zm(e)}function zm(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var o=U,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||$i;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||$e;l=$i;var u=$e;if($i=s,($e=a)&&!u)for(U=o;U!==null;)s=U,a=s.child,s.tag===22&&s.memoizedState!==null?cf(o):a!==null?(a.return=s,U=a):cf(o);for(;i!==null;)U=i,zm(i),i=i.sibling;U=o,$i=l,$e=u}af(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,U=i):af(e)}}function af(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||sl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$e)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ft(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ud(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ud(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Do(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}$e||t.flags&512&&ou(t)}catch(f){be(t,t.return,f)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function uf(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function cf(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(a){be(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){be(t,o,a)}}var i=t.return;try{ou(t)}catch(a){be(t,i,a)}break;case 5:var s=t.return;try{ou(t)}catch(a){be(t,s,a)}}}catch(a){be(t,t.return,a)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var Mw=Math.ceil,Rs=Zt.ReactCurrentDispatcher,hc=Zt.ReactCurrentOwner,at=Zt.ReactCurrentBatchConfig,ie=0,Pe=null,ke=null,Ie=0,Ke=0,hr=_n(0),Ne=0,Go=null,Wn=0,ll=0,pc=0,Co=null,Ve=null,mc=0,Ir=1/0,At=null,Ls=!1,lu=null,vn=null,Di=!1,hn=null,zs=0,jo=0,au=null,os=-1,is=0;function Fe(){return ie&6?Se():os!==-1?os:os=Se()}function wn(e){return e.mode&1?ie&2&&Ie!==0?Ie&-Ie:hw.transition!==null?(is===0&&(is=vp()),is):(e=ae,e!==0||(e=window.event,e=e===void 0?16:Np(e.type)),e):1}function wt(e,t,n,r){if(50<jo)throw jo=0,au=null,Error(H(185));si(e,n,r),(!(ie&2)||e!==Pe)&&(e===Pe&&(!(ie&2)&&(ll|=n),Ne===4&&cn(e,Ie)),Ge(e,r),n===1&&ie===0&&!(t.mode&1)&&(Ir=Se()+500,rl&&Nn()))}function Ge(e,t){var n=e.callbackNode;hv(e,t);var r=xs(e,e===Pe?Ie:0);if(r===0)n!==null&&xd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xd(n),t===1)e.tag===0?fw(df.bind(null,e)):Up(df.bind(null,e)),aw(function(){!(ie&6)&&Nn()}),n=null;else{switch(wp(r)){case 1:n=Hu;break;case 4:n=yp;break;case 16:n=ys;break;case 536870912:n=xp;break;default:n=ys}n=Vm(n,$m.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $m(e,t){if(os=-1,is=0,ie&6)throw Error(H(327));var n=e.callbackNode;if(br()&&e.callbackNode!==n)return null;var r=xs(e,e===Pe?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$s(e,r);else{t=r;var o=ie;ie|=2;var i=Am();(Pe!==e||Ie!==t)&&(At=null,Ir=Se()+500,$n(e,t));do try{Rw();break}catch(l){Dm(e,l)}while(!0);ec(),Rs.current=i,ie=o,ke!==null?t=0:(Pe=null,Ie=0,t=Ne)}if(t!==0){if(t===2&&(o=za(e),o!==0&&(r=o,t=uu(e,o))),t===1)throw n=Go,$n(e,0),cn(e,r),Ge(e,Se()),n;if(t===6)cn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Iw(o)&&(t=$s(e,r),t===2&&(i=za(e),i!==0&&(r=i,t=uu(e,i))),t===1))throw n=Go,$n(e,0),cn(e,r),Ge(e,Se()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:Mn(e,Ve,At);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=mc+500-Se(),10<t)){if(xs(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Fe(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Va(Mn.bind(null,e,Ve,At),t);break}Mn(e,Ve,At);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-vt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mw(r/1960))-r,10<r){e.timeoutHandle=Va(Mn.bind(null,e,Ve,At),r);break}Mn(e,Ve,At);break;case 5:Mn(e,Ve,At);break;default:throw Error(H(329))}}}return Ge(e,Se()),e.callbackNode===n?$m.bind(null,e):null}function uu(e,t){var n=Co;return e.current.memoizedState.isDehydrated&&($n(e,t).flags|=256),e=$s(e,t),e!==2&&(t=Ve,Ve=n,t!==null&&cu(t)),e}function cu(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function Iw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!bt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~pc,t&=~ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vt(t),r=1<<n;e[n]=-1,t&=~r}}function df(e){if(ie&6)throw Error(H(327));br();var t=xs(e,0);if(!(t&1))return Ge(e,Se()),null;var n=$s(e,t);if(e.tag!==0&&n===2){var r=za(e);r!==0&&(t=r,n=uu(e,r))}if(n===1)throw n=Go,$n(e,0),cn(e,t),Ge(e,Se()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mn(e,Ve,At),Ge(e,Se()),null}function gc(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(Ir=Se()+500,rl&&Nn())}}function Un(e){hn!==null&&hn.tag===0&&!(ie&6)&&br();var t=ie;ie|=1;var n=at.transition,r=ae;try{if(at.transition=null,ae=1,e)return e()}finally{ae=r,at.transition=n,ie=t,!(ie&6)&&Nn()}}function yc(){Ke=hr.current,he(hr)}function $n(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lw(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(qu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ks();break;case 3:Pr(),he(Ye),he(De),sc();break;case 5:ic(r);break;case 4:Pr();break;case 13:he(xe);break;case 19:he(xe);break;case 10:tc(r.type._context);break;case 22:case 23:yc()}n=n.return}if(Pe=e,ke=e=bn(e.current,null),Ie=Ke=t,Ne=0,Go=null,pc=ll=Wn=0,Ve=Co=null,Rn!==null){for(t=0;t<Rn.length;t++)if(n=Rn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Rn=null}return e}function Dm(e,t){do{var n=ke;try{if(ec(),ts.current=Ts,Is){for(var r=ve.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Is=!1}if(Vn=0,je=_e=ve=null,_o=!1,Uo=0,hc.current=null,n===null||n.return===null){Ne=1,Go=t,ke=null;break}e:{var i=e,s=n.return,l=n,a=t;if(t=Ie,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=qd(s);if(g!==null){g.flags&=-257,Zd(g,s,l,i,t),g.mode&1&&Qd(i,u,t),t=g,a=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(a),t.updateQueue=v}else x.add(a);break e}else{if(!(t&1)){Qd(i,u,t),xc();break e}a=Error(H(426))}}else if(pe&&l.mode&1){var b=qd(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Zd(b,s,l,i,t),Zu(Mr(a,l));break e}}i=a=Mr(a,l),Ne!==4&&(Ne=2),Co===null?Co=[i]:Co.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=wm(i,a,t);Wd(i,m);break e;case 1:l=a;var y=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(vn===null||!vn.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=bm(i,l,t);Wd(i,w);break e}}i=i.return}while(i!==null)}Fm(n)}catch(k){t=k,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function Am(){var e=Rs.current;return Rs.current=Ts,e===null?Ts:e}function xc(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Pe===null||!(Wn&268435455)&&!(ll&268435455)||cn(Pe,Ie)}function $s(e,t){var n=ie;ie|=2;var r=Am();(Pe!==e||Ie!==t)&&(At=null,$n(e,t));do try{Tw();break}catch(o){Dm(e,o)}while(!0);if(ec(),ie=n,Rs.current=r,ke!==null)throw Error(H(261));return Pe=null,Ie=0,Ne}function Tw(){for(;ke!==null;)Om(ke)}function Rw(){for(;ke!==null&&!ov();)Om(ke)}function Om(e){var t=Bm(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?Fm(e):ke=t,hc.current=null}function Fm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Nw(n,t),n!==null){n.flags&=32767,ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,ke=null;return}}else if(n=_w(n,t,Ke),n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);Ne===0&&(Ne=5)}function Mn(e,t,n){var r=ae,o=at.transition;try{at.transition=null,ae=1,Lw(e,t,n,r)}finally{at.transition=o,ae=r}return null}function Lw(e,t,n,r){do br();while(hn!==null);if(ie&6)throw Error(H(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(pv(e,i),e===Pe&&(ke=Pe=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Di||(Di=!0,Vm(ys,function(){return br(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=at.transition,at.transition=null;var s=ae;ae=1;var l=ie;ie|=4,hc.current=null,jw(e,n),Lm(n,e),ew(Ha),vs=!!Fa,Ha=Fa=null,e.current=n,Pw(n),iv(),ie=l,ae=s,at.transition=i}else e.current=n;if(Di&&(Di=!1,hn=e,zs=o),i=e.pendingLanes,i===0&&(vn=null),av(n.stateNode),Ge(e,Se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ls)throw Ls=!1,e=lu,lu=null,e;return zs&1&&e.tag!==0&&br(),i=e.pendingLanes,i&1?e===au?jo++:(jo=0,au=e):jo=0,Nn(),null}function br(){if(hn!==null){var e=wp(zs),t=at.transition,n=ae;try{if(at.transition=null,ae=16>e?16:e,hn===null)var r=!1;else{if(e=hn,hn=null,zs=0,ie&6)throw Error(H(331));var o=ie;for(ie|=4,U=e.current;U!==null;){var i=U,s=i.child;if(U.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(U=u;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:No(8,d,i)}var c=d.child;if(c!==null)c.return=d,U=c;else for(;U!==null;){d=U;var f=d.sibling,g=d.return;if(Im(d),d===u){U=null;break}if(f!==null){f.return=g,U=f;break}U=g}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}U=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,U=s;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:No(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,U=m;break e}U=i.return}}var y=e.current;for(U=y;U!==null;){s=U;var h=s.child;if(s.subtreeFlags&2064&&h!==null)h.return=s,U=h;else e:for(s=y;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(k){be(l,l.return,k)}if(l===s){U=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,U=w;break e}U=l.return}}if(ie=o,Nn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Zs,e)}catch{}r=!0}return r}finally{ae=n,at.transition=t}}return!1}function ff(e,t,n){t=Mr(n,t),t=wm(e,t,1),e=xn(e,t,1),t=Fe(),e!==null&&(si(e,1,t),Ge(e,t))}function be(e,t,n){if(e.tag===3)ff(e,e,n);else for(;t!==null;){if(t.tag===3){ff(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vn===null||!vn.has(r))){e=Mr(n,e),e=bm(t,e,1),t=xn(t,e,1),e=Fe(),t!==null&&(si(t,1,e),Ge(t,e));break}}t=t.return}}function zw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Ie&n)===n&&(Ne===4||Ne===3&&(Ie&130023424)===Ie&&500>Se()-mc?$n(e,0):pc|=n),Ge(e,t)}function Hm(e,t){t===0&&(e.mode&1?(t=Ci,Ci<<=1,!(Ci&130023424)&&(Ci=4194304)):t=1);var n=Fe();e=Gt(e,t),e!==null&&(si(e,t,n),Ge(e,n))}function $w(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hm(e,n)}function Dw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),Hm(e,n)}var Bm;Bm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,Ew(e,t,n);We=!!(e.flags&131072)}else We=!1,pe&&t.flags&1048576&&Yp(t,Ns,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rs(e,t),e=t.pendingProps;var o=Nr(t,De.current);wr(t,n),o=ac(null,t,r,e,o,n);var i=uc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(r)?(i=!0,Es(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,rc(t),o.updater=il,t.stateNode=o,o._reactInternals=t,Qa(t,r,e,n),t=Ja(null,t,r,!0,i,n)):(t.tag=0,pe&&i&&Qu(t),Ae(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(rs(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Ow(r),e=ft(r,e),o){case 0:t=Za(null,t,r,e,n);break e;case 1:t=tf(null,t,r,e,n);break e;case 11:t=Jd(null,t,r,e,n);break e;case 14:t=ef(null,t,r,ft(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ft(r,o),Za(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ft(r,o),tf(e,t,r,o,n);case 3:e:{if(_m(t),e===null)throw Error(H(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Zp(e,t),Ps(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Mr(Error(H(423)),t),t=nf(e,t,r,n,o);break e}else if(r!==o){o=Mr(Error(H(424)),t),t=nf(e,t,r,n,o);break e}else for(qe=yn(t.stateNode.containerInfo.firstChild),Ze=t,pe=!0,mt=null,n=Qp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cr(),r===o){t=Kt(e,t,n);break e}Ae(e,t,r,n)}t=t.child}return t;case 5:return Jp(t),e===null&&Xa(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Ba(r,o)?s=null:i!==null&&Ba(r,i)&&(t.flags|=32),Em(e,t),Ae(e,t,s,n),t.child;case 6:return e===null&&Xa(t),null;case 13:return Nm(e,t,n);case 4:return oc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=jr(t,null,r,n):Ae(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ft(r,o),Jd(e,t,r,o,n);case 7:return Ae(e,t,t.pendingProps,n),t.child;case 8:return Ae(e,t,t.pendingProps.children,n),t.child;case 12:return Ae(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ue(Cs,r._currentValue),r._currentValue=s,i!==null)if(bt(i.value,s)){if(i.children===o.children&&!Ye.current){t=Kt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Vt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ga(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(H(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ga(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ae(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,wr(t,n),o=ut(o),r=r(o),t.flags|=1,Ae(e,t,r,n),t.child;case 14:return r=t.type,o=ft(r,t.pendingProps),o=ft(r.type,o),ef(e,t,r,o,n);case 15:return Sm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ft(r,o),rs(e,t),t.tag=1,Xe(r)?(e=!0,Es(t)):e=!1,wr(t,n),vm(t,r,o),Qa(t,r,o,n),Ja(null,t,r,!0,e,n);case 19:return Cm(e,t,n);case 22:return km(e,t,n)}throw Error(H(156,t.tag))};function Vm(e,t){return gp(e,t)}function Aw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,n,r){return new Aw(e,t,n,r)}function vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ow(e){if(typeof e=="function")return vc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Au)return 11;if(e===Ou)return 14}return 2}function bn(e,t){var n=e.alternate;return n===null?(n=st(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ss(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")vc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case rr:return Dn(n.children,o,i,t);case Du:s=8,o|=8;break;case wa:return e=st(12,n,t,o|2),e.elementType=wa,e.lanes=i,e;case ba:return e=st(13,n,t,o),e.elementType=ba,e.lanes=i,e;case Sa:return e=st(19,n,t,o),e.elementType=Sa,e.lanes=i,e;case Jh:return al(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qh:s=10;break e;case Zh:s=9;break e;case Au:s=11;break e;case Ou:s=14;break e;case ln:s=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=st(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Dn(e,t,n,r){return e=st(7,e,r,t),e.lanes=n,e}function al(e,t,n,r){return e=st(22,e,r,t),e.elementType=Jh,e.lanes=n,e.stateNode={isHidden:!1},e}function na(e,t,n){return e=st(6,e,null,t),e.lanes=n,e}function ra(e,t,n){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fw(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dl(0),this.expirationTimes=Dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function wc(e,t,n,r,o,i,s,l,a){return e=new Fw(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=st(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rc(i),e}function Hw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Wm(e){if(!e)return kn;e=e._reactInternals;e:{if(Zn(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(Xe(n))return Wp(e,n,t)}return t}function Um(e,t,n,r,o,i,s,l,a){return e=wc(n,r,!0,e,o,i,s,l,a),e.context=Wm(null),n=e.current,r=Fe(),o=wn(n),i=Vt(r,o),i.callback=t??null,xn(n,i,o),e.current.lanes=o,si(e,o,r),Ge(e,r),e}function ul(e,t,n,r){var o=t.current,i=Fe(),s=wn(o);return n=Wm(n),t.context===null?t.context=n:t.pendingContext=n,t=Vt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xn(o,t,s),e!==null&&(wt(e,o,s,i),es(e,o,s)),s}function Ds(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bc(e,t){hf(e,t),(e=e.alternate)&&hf(e,t)}function Bw(){return null}var Ym=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sc(e){this._internalRoot=e}cl.prototype.render=Sc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));ul(e,t,null,null)};cl.prototype.unmount=Sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Un(function(){ul(null,e,null,null)}),t[Xt]=null}};function cl(e){this._internalRoot=e}cl.prototype.unstable_scheduleHydration=function(e){if(e){var t=kp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<un.length&&t!==0&&t<un[n].priority;n++);un.splice(n,0,e),n===0&&_p(e)}};function kc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pf(){}function Vw(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=Ds(s);i.call(u)}}var s=Um(t,r,e,0,null,!1,!1,"",pf);return e._reactRootContainer=s,e[Xt]=s.current,Fo(e.nodeType===8?e.parentNode:e),Un(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=Ds(a);l.call(u)}}var a=wc(e,0,!1,null,null,!1,!1,"",pf);return e._reactRootContainer=a,e[Xt]=a.current,Fo(e.nodeType===8?e.parentNode:e),Un(function(){ul(t,a,n,r)}),a}function fl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=Ds(s);l.call(a)}}ul(t,s,e,o)}else s=Vw(n,t,e,o,r);return Ds(s)}bp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mo(t.pendingLanes);n!==0&&(Bu(t,n|1),Ge(t,Se()),!(ie&6)&&(Ir=Se()+500,Nn()))}break;case 13:Un(function(){var r=Gt(e,1);if(r!==null){var o=Fe();wt(r,e,1,o)}}),bc(e,1)}};Vu=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=Fe();wt(t,e,134217728,n)}bc(e,134217728)}};Sp=function(e){if(e.tag===13){var t=wn(e),n=Gt(e,t);if(n!==null){var r=Fe();wt(n,e,t,r)}bc(e,t)}};kp=function(){return ae};Ep=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};Ta=function(e,t,n){switch(t){case"input":if(_a(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=nl(r);if(!o)throw Error(H(90));tp(r),_a(r,o)}}}break;case"textarea":rp(e,n);break;case"select":t=n.value,t!=null&&gr(e,!!n.multiple,t,!1)}};cp=gc;dp=Un;var Ww={usingClientEntryPoint:!1,Events:[ai,lr,nl,ap,up,gc]},oo={findFiberByHostInstance:Tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uw={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pp(e),e===null?null:e.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||Bw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ai=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ai.isDisabled&&Ai.supportsFiber)try{Zs=Ai.inject(Uw),Mt=Ai}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ww;tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kc(t))throw Error(H(200));return Hw(e,t,null,n)};tt.createRoot=function(e,t){if(!kc(e))throw Error(H(299));var n=!1,r="",o=Ym;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=wc(e,1,!1,null,null,n,!1,r,o),e[Xt]=t.current,Fo(e.nodeType===8?e.parentNode:e),new Sc(t)};tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=pp(t),e=e===null?null:e.stateNode,e};tt.flushSync=function(e){return Un(e)};tt.hydrate=function(e,t,n){if(!dl(t))throw Error(H(200));return fl(null,e,t,!0,n)};tt.hydrateRoot=function(e,t,n){if(!kc(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Ym;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Um(t,null,e,1,n??null,o,!1,i,s),e[Xt]=t.current,Fo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new cl(t)};tt.render=function(e,t,n){if(!dl(t))throw Error(H(200));return fl(null,e,t,!1,n)};tt.unmountComponentAtNode=function(e){if(!dl(e))throw Error(H(40));return e._reactRootContainer?(Un(function(){fl(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};tt.unstable_batchedUpdates=gc;tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!dl(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return fl(e,t,n,!1,r)};tt.version="18.3.1-next-f1338f8080-20240426";function Xm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xm)}catch(e){console.error(e)}}Xm(),Xh.exports=tt;var Gm=Xh.exports,Km,mf=Gm;Km=mf.createRoot,mf.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gf="popstate";function Yw(e={}){function t(r,o){let{pathname:i,search:s,hash:l}=r.location;return du("",{pathname:i,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Ko(o)}return Gw(t,n,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function St(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Xw(){return Math.random().toString(36).substring(2,10)}function yf(e,t){return{usr:e.state,key:e.key,idx:t}}function du(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Vr(t):t,state:n,key:t&&t.key||r||Xw()}}function Ko({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Vr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Gw(e,t,n,r={}){let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,l="POP",a=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function c(){l="POP";let b=d(),m=b==null?null:b-u;u=b,a&&a({action:l,location:v.location,delta:m})}function f(b,m){l="PUSH";let y=du(v.location,b,m);u=d()+1;let h=yf(y,u),w=v.createHref(y);try{s.pushState(h,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign(w)}i&&a&&a({action:l,location:v.location,delta:1})}function g(b,m){l="REPLACE";let y=du(v.location,b,m);u=d();let h=yf(y,u),w=v.createHref(y);s.replaceState(h,"",w),i&&a&&a({action:l,location:v.location,delta:0})}function x(b){return Kw(b)}let v={get action(){return l},get location(){return e(o,s)},listen(b){if(a)throw new Error("A history only accepts one active listener");return o.addEventListener(gf,c),a=b,()=>{o.removeEventListener(gf,c),a=null}},createHref(b){return t(o,b)},createURL:x,encodeLocation(b){let m=x(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(b){return s.go(b)}};return v}function Kw(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),me(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Ko(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Qm(e,t,n="/"){return Qw(e,t,n,!1)}function Qw(e,t,n,r){let o=typeof t=="string"?Vr(t):t,i=Qt(o.pathname||"/",n);if(i==null)return null;let s=qm(e);qw(s);let l=null;for(let a=0;l==null&&a<s.length;++a){let u=a1(i);l=s1(s[a],u,r)}return l}function qm(e,t=[],n=[],r="",o=!1){let i=(s,l,a=o,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&a)return;me(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let c=Wt([r,d.relativePath]),f=n.concat(d);s.children&&s.children.length>0&&(me(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),qm(s.children,t,f,c,a)),!(s.path==null&&!s.index)&&t.push({path:c,score:o1(c,s.index),routesMeta:f})};return e.forEach((s,l)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,l);else for(let u of Zm(s.path))i(s,l,!0,u)}),t}function Zm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=Zm(r.join("/")),l=[];return l.push(...s.map(a=>a===""?i:[i,a].join("/"))),o&&l.push(...s),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function qw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:i1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Zw=/^:[\w-]+$/,Jw=3,e1=2,t1=1,n1=10,r1=-2,xf=e=>e==="*";function o1(e,t){let n=e.split("/"),r=n.length;return n.some(xf)&&(r+=r1),t&&(r+=e1),n.filter(o=>!xf(o)).reduce((o,i)=>o+(Zw.test(i)?Jw:i===""?t1:n1),r)}function i1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function s1(e,t,n=!1){let{routesMeta:r}=e,o={},i="/",s=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",c=As({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},d),f=a.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=As({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},d)),!c)return null;Object.assign(o,c.params),s.push({params:o,pathname:Wt([i,c.pathname]),pathnameBase:f1(Wt([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Wt([i,c.pathnameBase]))}return s}function As(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=l1(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:c},f)=>{if(d==="*"){let x=l[f]||"";s=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[f];return c&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function l1(e,t=!1,n=!0){St(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function a1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return St(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Qt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var u1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function c1(e,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Vr(e):e,i;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?i=vf(n.substring(1),"/"):i=vf(n,t)):i=t,{pathname:i,search:h1(r),hash:p1(o)}}function vf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function oa(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ec(e){let t=d1(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function _c(e,t,n,r=!1){let o;typeof e=="string"?o=Vr(e):(o={...e},me(!o.pathname||!o.pathname.includes("?"),oa("?","pathname","search",o)),me(!o.pathname||!o.pathname.includes("#"),oa("#","pathname","hash",o)),me(!o.search||!o.search.includes("#"),oa("#","search","hash",o)));let i=e===""||o.pathname==="",s=i?"/":o.pathname,l;if(s==null)l=n;else{let c=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),c-=1;o.pathname=f.join("/")}l=c>=0?t[c]:"/"}let a=c1(o,l),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||d)&&(a.pathname+="/"),a}var Wt=e=>e.join("/").replace(/\/\/+/g,"/"),f1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),h1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,m1=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function g1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function y1(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Jm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function eg(e,t){let n=e;if(typeof n!="string"||!u1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(Jm)try{let i=new URL(window.location.href),s=n.startsWith("//")?new URL(i.protocol+n):new URL(n),l=Qt(s.pathname,t);s.origin===i.origin&&l!=null?n=l+s.search+s.hash:o=!0}catch{St(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tg=["POST","PUT","PATCH","DELETE"];new Set(tg);var x1=["GET",...tg];new Set(x1);var Wr=S.createContext(null);Wr.displayName="DataRouter";var hl=S.createContext(null);hl.displayName="DataRouterState";var v1=S.createContext(!1),ng=S.createContext({isTransitioning:!1});ng.displayName="ViewTransition";var w1=S.createContext(new Map);w1.displayName="Fetchers";var b1=S.createContext(null);b1.displayName="Await";var rt=S.createContext(null);rt.displayName="Navigation";var ci=S.createContext(null);ci.displayName="Location";var kt=S.createContext({outlet:null,matches:[],isDataRoute:!1});kt.displayName="Route";var Nc=S.createContext(null);Nc.displayName="RouteError";var rg="REACT_ROUTER_ERROR",S1="REDIRECT",k1="ROUTE_ERROR_RESPONSE";function E1(e){if(e.startsWith(`${rg}:${S1}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function _1(e){if(e.startsWith(`${rg}:${k1}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new m1(t.status,t.statusText,t.data)}catch{}}function N1(e,{relative:t}={}){me(Ur(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(rt),{hash:o,pathname:i,search:s}=fi(e,{relative:t}),l=i;return n!=="/"&&(l=i==="/"?n:Wt([n,i])),r.createHref({pathname:l,search:s,hash:o})}function Ur(){return S.useContext(ci)!=null}function Cn(){return me(Ur(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(ci).location}var og="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ig(e){S.useContext(rt).static||S.useLayoutEffect(e)}function di(){let{isDataRoute:e}=S.useContext(kt);return e?F1():C1()}function C1(){me(Ur(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Wr),{basename:t,navigator:n}=S.useContext(rt),{matches:r}=S.useContext(kt),{pathname:o}=Cn(),i=JSON.stringify(Ec(r)),s=S.useRef(!1);return ig(()=>{s.current=!0}),S.useCallback((a,u={})=>{if(St(s.current,og),!s.current)return;if(typeof a=="number"){n.go(a);return}let d=_c(a,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Wt([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,i,o,e])}S.createContext(null);function j1(){let{matches:e}=S.useContext(kt),t=e[e.length-1];return t?t.params:{}}function fi(e,{relative:t}={}){let{matches:n}=S.useContext(kt),{pathname:r}=Cn(),o=JSON.stringify(Ec(n));return S.useMemo(()=>_c(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function P1(e,t){return sg(e,t)}function sg(e,t,n,r,o){var y;me(Ur(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(rt),{matches:s}=S.useContext(kt),l=s[s.length-1],a=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",c=l&&l.route;{let h=c&&c.path||"";ag(u,!c||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let f=Cn(),g;if(t){let h=typeof t=="string"?Vr(t):t;me(d==="/"||((y=h.pathname)==null?void 0:y.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${h.pathname}" was given in the \`location\` prop.`),g=h}else g=f;let x=g.pathname||"/",v=x;if(d!=="/"){let h=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(h.length).join("/")}let b=Qm(e,{pathname:v});St(c||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),St(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=L1(b&&b.map(h=>Object.assign({},h,{params:Object.assign({},a,h.params),pathname:Wt([d,i.encodeLocation?i.encodeLocation(h.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?d:Wt([d,i.encodeLocation?i.encodeLocation(h.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathnameBase])})),s,n,r,o);return t&&m?S.createElement(ci.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},m):m}function M1(){let e=O1(),t=g1(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:o},n):null,s)}var I1=S.createElement(M1,null),lg=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=_1(e.digest);n&&(e=n)}let t=e!==void 0?S.createElement(kt.Provider,{value:this.props.routeContext},S.createElement(Nc.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?S.createElement(T1,{error:e},t):t}};lg.contextType=v1;var ia=new WeakMap;function T1({children:e,error:t}){let{basename:n}=S.useContext(rt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=E1(t.digest);if(r){let o=ia.get(t);if(o)throw o;let i=eg(r.location,n);if(Jm&&!ia.get(t))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw ia.set(t,s),s}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function R1({routeContext:e,match:t,children:n}){let r=S.useContext(Wr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(kt.Provider,{value:e},n)}function L1(e,t=[],n=null,r=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let d=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);me(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,a=-1;if(n)for(let d=0;d<i.length;d++){let c=i[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=d),c.route.id){let{loaderData:f,errors:g}=n,x=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!g||g[c.route.id]===void 0);if(c.route.lazy||x){l=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}let u=n&&r?(d,c)=>{var f,g;r(d,{location:n.location,params:((g=(f=n.matches)==null?void 0:f[0])==null?void 0:g.params)??{},unstable_pattern:y1(n.matches),errorInfo:c})}:void 0;return i.reduceRight((d,c,f)=>{let g,x=!1,v=null,b=null;n&&(g=s&&c.route.id?s[c.route.id]:void 0,v=c.route.errorElement||I1,l&&(a<0&&f===0?(ag("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,b=null):a===f&&(x=!0,b=c.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,f+1)),y=()=>{let h;return g?h=v:x?h=b:c.route.Component?h=S.createElement(c.route.Component,null):c.route.element?h=c.route.element:h=d,S.createElement(R1,{match:c,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:h})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?S.createElement(lg,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:u}):y()},null)}function Cc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(e){let t=S.useContext(Wr);return me(t,Cc(e)),t}function $1(e){let t=S.useContext(hl);return me(t,Cc(e)),t}function D1(e){let t=S.useContext(kt);return me(t,Cc(e)),t}function jc(e){let t=D1(e),n=t.matches[t.matches.length-1];return me(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function A1(){return jc("useRouteId")}function O1(){var r;let e=S.useContext(Nc),t=$1("useRouteError"),n=jc("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function F1(){let{router:e}=z1("useNavigate"),t=jc("useNavigate"),n=S.useRef(!1);return ig(()=>{n.current=!0}),S.useCallback(async(o,i={})=>{St(n.current,og),n.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...i}))},[e,t])}var wf={};function ag(e,t,n){!t&&!wf[e]&&(wf[e]=!0,St(!1,n))}S.memo(H1);function H1({routes:e,future:t,state:n,onError:r}){return sg(e,void 0,n,r,t)}function ug({to:e,replace:t,state:n,relative:r}){me(Ur(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=S.useContext(rt);St(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=S.useContext(kt),{pathname:s}=Cn(),l=di(),a=_c(e,Ec(i),s,r==="path"),u=JSON.stringify(a);return S.useEffect(()=>{l(JSON.parse(u),{replace:t,state:n,relative:r})},[l,u,r,t,n]),null}function yo(e){me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function B1({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:i=!1,unstable_useTransitions:s}){me(!Ur(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),a=S.useMemo(()=>({basename:l,navigator:o,static:i,unstable_useTransitions:s,future:{}}),[l,o,i,s]);typeof n=="string"&&(n=Vr(n));let{pathname:u="/",search:d="",hash:c="",state:f=null,key:g="default"}=n,x=S.useMemo(()=>{let v=Qt(u,l);return v==null?null:{location:{pathname:v,search:d,hash:c,state:f,key:g},navigationType:r}},[l,u,d,c,f,g,r]);return St(x!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${c}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:S.createElement(rt.Provider,{value:a},S.createElement(ci.Provider,{children:t,value:x}))}function V1({children:e,location:t}){return P1(fu(e),t)}function fu(e,t=[]){let n=[];return S.Children.forEach(e,(r,o)=>{if(!S.isValidElement(r))return;let i=[...t,o];if(r.type===S.Fragment){n.push.apply(n,fu(r.props.children,i));return}me(r.type===yo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),me(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=fu(r.props.children,i)),n.push(s)}),n}var ls="get",as="application/x-www-form-urlencoded";function pl(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function W1(e){return pl(e)&&e.tagName.toLowerCase()==="button"}function U1(e){return pl(e)&&e.tagName.toLowerCase()==="form"}function Y1(e){return pl(e)&&e.tagName.toLowerCase()==="input"}function X1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function G1(e,t){return e.button===0&&(!t||t==="_self")&&!X1(e)}var Oi=null;function K1(){if(Oi===null)try{new FormData(document.createElement("form"),0),Oi=!1}catch{Oi=!0}return Oi}var Q1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sa(e){return e!=null&&!Q1.has(e)?(St(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${as}"`),null):e}function q1(e,t){let n,r,o,i,s;if(U1(e)){let l=e.getAttribute("action");r=l?Qt(l,t):null,n=e.getAttribute("method")||ls,o=sa(e.getAttribute("enctype"))||as,i=new FormData(e)}else if(W1(e)||Y1(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||l.getAttribute("action");if(r=a?Qt(a,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||ls,o=sa(e.getAttribute("formenctype"))||sa(l.getAttribute("enctype"))||as,i=new FormData(l,e),!K1()){let{name:u,type:d,value:c}=e;if(d==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,c)}}else{if(pl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ls,r=null,o=as,s=e}return i&&o==="text/plain"&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Z1(e,t,n,r){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:t&&Qt(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function J1(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eb(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function tb(e,t,n){let r=await Promise.all(e.map(async o=>{let i=t.routes[o.route.id];if(i){let s=await J1(i,n);return s.links?s.links():[]}return[]}));return ib(r.flat(1).filter(eb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bf(e,t,n,r,o,i){let s=(a,u)=>n[u]?a.route.id!==n[u].route.id:!0,l=(a,u)=>{var d;return n[u].pathname!==a.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==a.params["*"]};return i==="assets"?t.filter((a,u)=>s(a,u)||l(a,u)):i==="data"?t.filter((a,u)=>{var c;let d=r.routes[a.route.id];if(!d||!d.hasLoader)return!1;if(s(a,u)||l(a,u))return!0;if(a.route.shouldRevalidate){let f=a.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((c=n[0])==null?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function nb(e,t,{includeHydrateFallback:n}={}){return rb(e.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let i=[o.module];return o.clientActionModule&&(i=i.concat(o.clientActionModule)),o.clientLoaderModule&&(i=i.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(i=i.concat(o.hydrateFallbackModule)),o.imports&&(i=i.concat(o.imports)),i}).flat(1))}function rb(e){return[...new Set(e)]}function ob(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function ib(e,t){let n=new Set;return new Set(t),e.reduce((r,o)=>{let i=JSON.stringify(ob(o));return n.has(i)||(n.add(i),r.push({key:i,link:o})),r},[])}function cg(){let e=S.useContext(Wr);return Pc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function sb(){let e=S.useContext(hl);return Pc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Mc=S.createContext(void 0);Mc.displayName="FrameworkContext";function dg(){let e=S.useContext(Mc);return Pc(e,"You must render this element inside a <HydratedRouter> element"),e}function lb(e,t){let n=S.useContext(Mc),[r,o]=S.useState(!1),[i,s]=S.useState(!1),{onFocus:l,onBlur:a,onMouseEnter:u,onMouseLeave:d,onTouchStart:c}=t,f=S.useRef(null);S.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let v=m=>{m.forEach(y=>{s(y.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[e]),S.useEffect(()=>{if(r){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[r]);let g=()=>{o(!0)},x=()=>{o(!1),s(!1)};return n?e!=="intent"?[i,f,{}]:[i,f,{onFocus:io(l,g),onBlur:io(a,x),onMouseEnter:io(u,g),onMouseLeave:io(d,x),onTouchStart:io(c,g)}]:[!1,f,{}]}function io(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ab({page:e,...t}){let{router:n}=cg(),r=S.useMemo(()=>Qm(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?S.createElement(cb,{page:e,matches:r,...t}):null}function ub(e){let{manifest:t,routeModules:n}=dg(),[r,o]=S.useState([]);return S.useEffect(()=>{let i=!1;return tb(e,t,n).then(s=>{i||o(s)}),()=>{i=!0}},[e,t,n]),r}function cb({page:e,matches:t,...n}){let r=Cn(),{future:o,manifest:i,routeModules:s}=dg(),{basename:l}=cg(),{loaderData:a,matches:u}=sb(),d=S.useMemo(()=>bf(e,t,u,i,r,"data"),[e,t,u,i,r]),c=S.useMemo(()=>bf(e,t,u,i,r,"assets"),[e,t,u,i,r]),f=S.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,b=!1;if(t.forEach(y=>{var w;let h=i.routes[y.route.id];!h||!h.hasLoader||(!d.some(k=>k.route.id===y.route.id)&&y.route.id in a&&((w=s[y.route.id])!=null&&w.shouldRevalidate)||h.hasClientLoader?b=!0:v.add(y.route.id))}),v.size===0)return[];let m=Z1(e,l,o.unstable_trailingSlashAwareDataRequests,"data");return b&&v.size>0&&m.searchParams.set("_routes",t.filter(y=>v.has(y.route.id)).map(y=>y.route.id).join(",")),[m.pathname+m.search]},[l,o.unstable_trailingSlashAwareDataRequests,a,r,i,d,t,e,s]),g=S.useMemo(()=>nb(c,i),[c,i]),x=ub(c);return S.createElement(S.Fragment,null,f.map(v=>S.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),g.map(v=>S.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),x.map(({key:v,link:b})=>S.createElement("link",{key:v,nonce:n.nonce,...b,crossOrigin:b.crossOrigin??n.crossOrigin})))}function db(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var fb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fb&&(window.__reactRouterVersion="7.13.0")}catch{}function hb({basename:e,children:t,unstable_useTransitions:n,window:r}){let o=S.useRef();o.current==null&&(o.current=Yw({window:r,v5Compat:!0}));let i=o.current,[s,l]=S.useState({action:i.action,location:i.location}),a=S.useCallback(u=>{n===!1?l(u):S.startTransition(()=>l(u))},[n]);return S.useLayoutEffect(()=>i.listen(a),[i,a]),S.createElement(B1,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:n})}var fg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hg=S.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:i,replace:s,state:l,target:a,to:u,preventScrollReset:d,viewTransition:c,unstable_defaultShouldRevalidate:f,...g},x){let{basename:v,unstable_useTransitions:b}=S.useContext(rt),m=typeof u=="string"&&fg.test(u),y=eg(u,v);u=y.to;let h=N1(u,{relative:o}),[w,k,N]=lb(r,g),E=yb(u,{replace:s,state:l,target:a,preventScrollReset:d,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:b});function P(D){t&&t(D),D.defaultPrevented||E(D)}let R=S.createElement("a",{...g,...N,href:y.absoluteURL||h,onClick:y.isExternal||i?t:P,ref:db(x,k),target:a,"data-discover":!m&&n==="render"?"true":void 0});return w&&!m?S.createElement(S.Fragment,null,R,S.createElement(ab,{page:h})):R});hg.displayName="Link";var pb=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:i,to:s,viewTransition:l,children:a,...u},d){let c=fi(s,{relative:u.relative}),f=Cn(),g=S.useContext(hl),{navigator:x,basename:v}=S.useContext(rt),b=g!=null&&Sb(c)&&l===!0,m=x.encodeLocation?x.encodeLocation(c).pathname:c.pathname,y=f.pathname,h=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(y=y.toLowerCase(),h=h?h.toLowerCase():null,m=m.toLowerCase()),h&&v&&(h=Qt(h,v)||h);const w=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let k=y===m||!o&&y.startsWith(m)&&y.charAt(w)==="/",N=h!=null&&(h===m||!o&&h.startsWith(m)&&h.charAt(m.length)==="/"),E={isActive:k,isPending:N,isTransitioning:b},P=k?t:void 0,R;typeof r=="function"?R=r(E):R=[r,k?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof i=="function"?i(E):i;return S.createElement(hg,{...u,"aria-current":P,className:R,ref:d,style:D,to:s,viewTransition:l},typeof a=="function"?a(E):a)});pb.displayName="NavLink";var mb=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:i,method:s=ls,action:l,onSubmit:a,relative:u,preventScrollReset:d,viewTransition:c,unstable_defaultShouldRevalidate:f,...g},x)=>{let{unstable_useTransitions:v}=S.useContext(rt),b=wb(),m=bb(l,{relative:u}),y=s.toLowerCase()==="get"?"get":"post",h=typeof l=="string"&&fg.test(l),w=k=>{if(a&&a(k),k.defaultPrevented)return;k.preventDefault();let N=k.nativeEvent.submitter,E=(N==null?void 0:N.getAttribute("formmethod"))||s,P=()=>b(N||k.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:o,state:i,relative:u,preventScrollReset:d,viewTransition:c,unstable_defaultShouldRevalidate:f});v&&n!==!1?S.startTransition(()=>P()):P()};return S.createElement("form",{ref:x,method:y,action:m,onSubmit:r?a:w,...g,"data-discover":!h&&e==="render"?"true":void 0})});mb.displayName="Form";function gb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pg(e){let t=S.useContext(Wr);return me(t,gb(e)),t}function yb(e,{target:t,replace:n,state:r,preventScrollReset:o,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:a}={}){let u=di(),d=Cn(),c=fi(e,{relative:i});return S.useCallback(f=>{if(G1(f,t)){f.preventDefault();let g=n!==void 0?n:Ko(d)===Ko(c),x=()=>u(e,{replace:g,state:r,preventScrollReset:o,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l});a?S.startTransition(()=>x()):x()}},[d,u,c,n,r,t,e,o,i,s,l,a])}var xb=0,vb=()=>`__${String(++xb)}__`;function wb(){let{router:e}=pg("useSubmit"),{basename:t}=S.useContext(rt),n=A1(),r=e.fetch,o=e.navigate;return S.useCallback(async(i,s={})=>{let{action:l,method:a,encType:u,formData:d,body:c}=q1(i,t);if(s.navigate===!1){let f=s.fetcherKey||vb();await r(f,n,s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:c,formMethod:s.method||a,formEncType:s.encType||u,flushSync:s.flushSync})}else await o(s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:c,formMethod:s.method||a,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,o,t,n])}function bb(e,{relative:t}={}){let{basename:n}=S.useContext(rt),r=S.useContext(kt);me(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),i={...fi(e||".",{relative:t})},s=Cn();if(e==null){i.search=s.search;let l=new URLSearchParams(i.search),a=l.getAll("index");if(a.some(d=>d==="")){l.delete("index"),a.filter(c=>c).forEach(c=>l.append("index",c));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Wt([n,i.pathname])),Ko(i)}function Sb(e,{relative:t}={}){let n=S.useContext(ng);me(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pg("useViewTransitionState"),o=fi(e,{relative:t});if(!n.isTransitioning)return!1;let i=Qt(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Qt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return As(o.pathname,s)!=null||As(o.pathname,i)!=null}const Po="fb_session";function Ic(){try{const e=sessionStorage.getItem(Po);if(!e)return null;const t=JSON.parse(e);return Date.now()>=t.expires_at?(sessionStorage.removeItem(Po),null):t}catch{return sessionStorage.removeItem(Po),null}}function kb(e){sessionStorage.setItem(Po,JSON.stringify(e))}function hu(){sessionStorage.removeItem(Po)}const mg=S.createContext({session:null,login:async()=>{},logout:()=>{},isAuthenticated:!1});function Tc(){return S.useContext(mg)}const gg="/api/v1/flow-builder";class lt extends Error{constructor(t,n,r,o){super(r),this.status=t,this.errorCode=n,this.requestId=o,this.name="ApiClientError"}}async function Et(e,t,n){const r=Ic();if(!r)throw hu(),window.location.replace("/flow-builder/login"),new lt(401,"NO_SESSION","Oturum bulunamadi");const o={Authorization:`Bearer ${r.token}`};let i={method:e,headers:o};n!==void 0&&(o["Content-Type"]="application/json",i={...i,body:JSON.stringify(n)});let s;try{s=await fetch(`${gg}${t}`,i)}catch{throw new lt(0,"NETWORK_ERROR","Sunucuya baglanilamadi. Internet baglantinizi kontrol edin.")}if(s.status===401)throw hu(),window.location.replace("/flow-builder/login"),new lt(401,"UNAUTHORIZED","Oturum suresi doldu");if(!s.ok){let l=null;try{l=await s.json()}catch{}throw new lt(s.status,(l==null?void 0:l.error_code)??"UNKNOWN",(l==null?void 0:l.message)??`HTTP ${s.status}`,l==null?void 0:l.request_id)}if(s.status!==204)return s.json()}async function Eb(e,t){let n;try{n=await fetch(`${gg}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenant_id:e,api_key:t})})}catch{throw new lt(0,"NETWORK_ERROR","Sunucuya baglanilamadi. Internet baglantinizi kontrol edin.")}if(!n.ok){let r=null;try{r=await n.json()}catch{}throw new lt(n.status,(r==null?void 0:r.error_code)??"UNKNOWN",(r==null?void 0:r.message)??`Giris basarisiz (HTTP ${n.status})`,r==null?void 0:r.request_id)}return n.json()}function _b(e){return Et("GET",`/flows/${e}`)}function pu(e,t){return Et("GET",`/flows/${e}/${t}`)}function Sf(e,t){return Et("POST",`/flows/${e}`,t)}function Nb(e,t,n){return Et("PUT",`/flows/${e}/${t}`,n)}function Cb(e,t){return Et("DELETE",`/flows/${e}/${t}`)}function jb(e,t){return Et("POST",`/flows/${e}/${t}/activate`)}function Pb(e,t){return Et("POST",`/flows/${e}/${t}/deactivate`)}function Mb(e){return Et("POST","/flows/validate",{flow_config:e})}function Ib(e,t){return Et("POST","/simulation/start",{tenant_id:e,flow_id:t})}function Tb(e,t){return Et("POST","/simulation/step",{session_id:e,message:t})}function kf(e){return Et("DELETE",`/simulation/${e}`)}function Rb(){const[e,t]=S.useState(""),[n,r]=S.useState(""),[o,i]=S.useState(null),[s,l]=S.useState(!1),{login:a}=Tc(),u=di(),d=async c=>{c.preventDefault(),i(null);const f=parseInt(e,10);if(!f||f<=0){i("Gecerli bir Tenant ID girin.");return}if(!n.trim()){i("API Key bos olamaz.");return}l(!0);try{await a(f,n.trim()),u("/",{replace:!0})}catch(g){i(g instanceof Error?g.message:"Giris basarisiz")}finally{l(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:p.jsxs("div",{className:"w-full max-w-sm",children:[p.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-8 shadow-sm",children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Flow Builder"}),p.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Giris yapmak icin tenant bilgilerinizi girin."}),p.jsxs("form",{onSubmit:d,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"tenantId",className:"block text-sm text-slate-700 mb-1",children:"Tenant ID"}),p.jsx("input",{id:"tenantId",type:"number",min:"1",value:e,onChange:c=>t(c.target.value),className:"w-full px-3 py-2 bg-white border border-slate-300 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition",placeholder:"ornek: 1",required:!0,disabled:s})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"apiKey",className:"block text-sm text-slate-700 mb-1",children:"API Key"}),p.jsx("input",{id:"apiKey",type:"password",value:n,onChange:c=>r(c.target.value),className:"w-full px-3 py-2 bg-white border border-slate-300 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition",placeholder:"flow_builder_api_key",required:!0,disabled:s})]}),o&&p.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg px-3 py-2",children:o}),p.jsx("button",{type:"submit",disabled:s,className:"w-full py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 disabled:opacity-50 text-white font-medium rounded-lg transition",children:s?"Giris yapiliyor...":"Giris Yap"})]})]}),p.jsx("p",{className:"text-center text-xs text-slate-400 mt-4",children:"Invekto Flow Builder v2"})]})})}const yg=[{type:"trigger_start",category:"trigger",label:"Baslangic",description:"Flow giris noktasi",color:"#10b981",maxInstances:1,defaultData:{label:"Baslangic"}},{type:"message_text",category:"message",label:"Mesaj",description:"Metin mesaj gonder",color:"#3b82f6",defaultData:{label:"Mesaj",text:""}},{type:"message_menu",category:"message",label:"Menu",description:"Secenekli menu goster",color:"#3b82f6",defaultData:{label:"Menu",text:"Secim yapin:",options:[{key:"1",label:"Secenek 1",handle_id:"opt_1"}]}},{type:"logic_condition",category:"logic",label:"Kosul",description:"If/else dallanma",color:"#f59e0b",defaultData:{label:"Kosul",variable:"",operator:"equals",value:""}},{type:"logic_switch",category:"logic",label:"Switch",description:"Coklu dallanma",color:"#f59e0b",defaultData:{label:"Switch",variable:"",cases:[{value:"",handle_id:"case_1"}],default_handle_id:"default"}},{type:"ai_intent",category:"ai",label:"Intent Algilama",description:"Claude AI ile niyet tespiti",color:"#8b5cf6",defaultData:{label:"Intent",confidence_threshold:.5}},{type:"ai_faq",category:"ai",label:"FAQ Arama",description:"SSS veritabaninda ara",color:"#8b5cf6",defaultData:{label:"FAQ",min_confidence:.3}},{type:"action_handoff",category:"action",label:"Temsilciye Aktar",description:"Insana yonlendir (terminal)",color:"#ef4444",defaultData:{label:"Temsilciye Aktar"}},{type:"action_api_call",category:"action",label:"API Cagrisi",description:"Harici API endpoint cagir",color:"#ef4444",defaultData:{label:"API",method:"POST",url:"",timeout_ms:5e3}},{type:"action_delay",category:"action",label:"Bekle",description:"N saniye bekle",color:"#ef4444",defaultData:{label:"Bekle",seconds:5}},{type:"utility_set_variable",category:"utility",label:"Degisken Ata",description:"Session degiskeni ayarla",color:"#6b7280",defaultData:{label:"Degisken",variable_name:"",value_expression:""}},{type:"utility_note",category:"utility",label:"Not",description:"Gorsel yorum (calistirilmaz)",color:"#6b7280",defaultData:{label:"Not",text:""}}];function xg(e){return yg.find(t=>t.type===e)}function Os(){return{version:2,metadata:{name:"Yeni Flow",canvas_viewport:{x:0,y:0,zoom:1}},nodes:[{id:"trigger_start_1",type:"trigger_start",position:{x:300,y:50},data:{label:"Baslangic"}}],edges:[],settings:{off_hours_message:"Su anda mesai saatleri disindayiz.",unknown_input_message:"Anlayamadim. Lutfen gecerli bir secenek girin.",handoff_confidence_threshold:.5,session_timeout_minutes:30,max_loop_count:10}}}function Lb(){const{session:e,logout:t}=Tc(),n=di(),r=(e==null?void 0:e.tenant_id)??0,[o,i]=S.useState([]),[s,l]=S.useState(!0),[a,u]=S.useState(null),[d,c]=S.useState(null),[f,g]=S.useState(!1),[x,v]=S.useState(""),[b,m]=S.useState(null),[y,h]=S.useState(!1),[w,k]=S.useState(null),N=S.useCallback(async()=>{if(r){l(!0),u(null);try{const _=await _b(r);i(_)}catch(_){u(_ instanceof Error?_.message:"Flow listesi alinamadi")}finally{l(!1)}}},[r]);S.useEffect(()=>{N()},[N]);const E=async()=>{if(!x.trim()){m("Flow adi bos olamaz.");return}h(!0),m(null);try{const _=Os();_.metadata.name=x.trim();const I=await Sf(r,{flow_name:x.trim(),flow_config:_});g(!1),v(""),n(`/editor/${I.flow_id}`)}catch(_){_ instanceof lt&&_.status===409?m("Bu isimde bir flow zaten mevcut."):m(_ instanceof Error?_.message:"Olusturma basarisiz")}finally{h(!1)}},P=async _=>{k(null),c(_.flow_id);try{await Cb(r,_.flow_id),i(I=>I.filter(M=>M.flow_id!==_.flow_id))}catch(I){I instanceof lt&&I.status===409?u("Aktif flow silinemez. Once deaktif edin."):u(I instanceof Error?I.message:"Silme basarisiz")}finally{c(null)}},R=async _=>{c(_),u(null);try{await jb(r,_),await N()}catch(I){u(I instanceof Error?I.message:"Aktivasyon basarisiz")}finally{c(null)}},D=async _=>{c(_),u(null);try{await Pb(r,_),await N()}catch(I){u(I instanceof Error?I.message:"Deaktivasyon basarisiz")}finally{c(null)}},L=async _=>{c(_.flow_id),u(null);try{const M=(await pu(r,_.flow_id)).flow_config,$=_.flow_name,C=new Set(o.map(O=>O.flow_name));let j=`${$} - Kopya`;if(C.has(j)){let O=2;for(;C.has(`${$} - Kopya (${O})`);)O++;j=`${$} - Kopya (${O})`}const z={...M,metadata:{...M.metadata,name:j}},A=await Sf(r,{flow_name:j,flow_config:z});n(`/editor/${A.flow_id}`)}catch(I){I instanceof lt&&I.status===409?u("Bu isimde bir flow zaten mevcut. Lutfen tekrar deneyin."):u(I instanceof Error?I.message:"Kopyalama basarisiz")}finally{c(null)}},T=async _=>{c(_.flow_id);try{const I=await pu(r,_.flow_id);await navigator.clipboard.writeText(JSON.stringify(I.flow_config,null,2)),u(null)}catch(I){u(I instanceof Error?I.message:"Kopyalama basarisiz")}finally{c(null)}},F=_=>new Date(_).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return p.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-800",children:[p.jsxs("header",{className:"bg-white border-b border-slate-200 px-6 py-3 flex items-center justify-between shadow-sm",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Flow Builder"}),p.jsxs("span",{className:"text-xs text-slate-500",children:["Tenant #",r]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{onClick:()=>{v(""),m(null),g(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition",children:"+ Yeni Flow"}),p.jsx("button",{onClick:t,className:"px-3 py-2 text-sm text-slate-500 hover:text-slate-900 transition",children:"Cikis"})]})]}),p.jsxs("main",{className:"max-w-5xl mx-auto px-6 py-8",children:[a&&p.jsxs("div",{className:"mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg px-4 py-3 flex items-center justify-between",children:[p.jsx("span",{children:a}),p.jsx("button",{onClick:()=>u(null),className:"text-red-400 hover:text-red-600 ml-4",children:""})]}),s?p.jsx("div",{className:"text-center py-20 text-slate-500",children:"Yukleniyor..."}):o.length===0?p.jsxs("div",{className:"text-center py-20",children:[p.jsx("p",{className:"text-slate-500 mb-4",children:"Henuz bir flow olusturulmamis."}),p.jsx("button",{onClick:()=>{v(""),m(null),g(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition",children:"Ilk Flow'u Olustur"})]}):p.jsx("div",{className:"space-y-3",children:o.map(_=>p.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl px-5 py-4 flex items-center justify-between hover:border-slate-300 hover:shadow-sm transition",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:"font-semibold text-slate-900 truncate",children:_.flow_name}),_.is_active&&p.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-50 text-green-700 border border-green-200 rounded-full",children:"Aktif"}),_.health_score!=null&&p.jsx(zb,{score:_.health_score,issues:_.health_issues})]}),p.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[p.jsxs("span",{children:["v",_.config_version]}),p.jsxs("span",{children:[_.node_count," node / ",_.edge_count," edge"]}),p.jsxs("span",{children:["Guncelleme: ",F(_.updated_at)]})]})]}),p.jsxs("div",{className:"flex items-center gap-2 ml-4 flex-shrink-0",children:[p.jsx("button",{onClick:()=>n(`/editor/${_.flow_id}`),className:"px-3 py-1.5 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:"Duzenle"}),_.is_active?p.jsx("button",{onClick:()=>D(_.flow_id),disabled:d===_.flow_id,className:"px-3 py-1.5 text-xs bg-amber-50 hover:bg-amber-100 text-amber-700 border border-amber-200 rounded-lg transition disabled:opacity-50",children:"Deaktif Et"}):p.jsx("button",{onClick:()=>R(_.flow_id),disabled:d===_.flow_id,className:"px-3 py-1.5 text-xs bg-green-50 hover:bg-green-100 text-green-700 border border-green-200 rounded-lg transition disabled:opacity-50",children:"Aktif Et"}),p.jsx("button",{onClick:()=>L(_),disabled:d===_.flow_id,className:"px-3 py-1.5 text-xs bg-indigo-50 hover:bg-indigo-100 text-indigo-600 border border-indigo-200 rounded-lg transition disabled:opacity-50",title:"Flow'un kopyasini olustur",children:"Kopyala"}),p.jsx("button",{onClick:()=>T(_),disabled:d===_.flow_id,className:"px-3 py-1.5 text-xs bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-lg transition disabled:opacity-50",title:"Flow JSON'u panoya kopyala",children:"JSON"}),p.jsx("button",{onClick:()=>k(_),disabled:d===_.flow_id||_.is_active,className:"px-3 py-1.5 text-xs bg-red-50 hover:bg-red-100 text-red-600 border border-red-200 rounded-lg transition disabled:opacity-30 disabled:cursor-not-allowed",title:_.is_active?"Aktif flow silinemez":"Flow sil",children:"Sil"})]})]},_.flow_id))})]}),f&&p.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl w-full max-w-md p-6 shadow-xl",children:[p.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Yeni Flow Olustur"}),p.jsx("input",{type:"text",value:x,onChange:_=>v(_.target.value),onKeyDown:_=>_.key==="Enter"&&E(),placeholder:"Flow adi (ornek: Satis Chatbot)",className:"w-full px-3 py-2 bg-white border border-slate-300 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition mb-3",autoFocus:!0,disabled:y}),b&&p.jsx("p",{className:"text-sm text-red-600 mb-3",children:b}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{onClick:()=>g(!1),disabled:y,className:"px-4 py-2 text-sm text-slate-500 hover:text-slate-900 transition",children:"Iptal"}),p.jsx("button",{onClick:E,disabled:y,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 disabled:opacity-50 text-white font-medium rounded-lg transition",children:y?"Olusturuluyor...":"Olustur"})]})]})}),w&&p.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl w-full max-w-sm p-6 shadow-xl",children:[p.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Flow'u Sil"}),p.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:[p.jsx("strong",{className:"text-slate-900",children:w.flow_name})," flow'u kalici olarak silinecek. Bu islem geri alinamaz."]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{onClick:()=>k(null),className:"px-4 py-2 text-sm text-slate-500 hover:text-slate-900 transition",children:"Iptal"}),p.jsx("button",{onClick:()=>P(w),className:"px-4 py-2 text-sm bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition",children:"Evet, Sil"})]})]})})]})}function zb({score:e,issues:t}){let n,r,o,i;e>=80?(n="bg-green-50",r="text-green-700",o="border-green-200",i="Saglikli"):e>=50?(n="bg-amber-50",r="text-amber-700",o="border-amber-200",i="Dikkat"):(n="bg-red-50",r="text-red-700",o="border-red-200",i="Sorunlu");const s=t&&t.length>0?t.join(" | "):`Skor: ${e}`;return p.jsxs("span",{className:`px-2 py-0.5 text-xs ${n} ${r} border ${o} rounded-full cursor-default`,title:s,children:[e," - ",i]})}function Ee(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ee(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var $b={value:()=>{}};function ml(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new us(n)}function us(e){this._=e}function Db(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}us.prototype=ml.prototype={constructor:us,on:function(e,t){var n=this._,r=Db(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=Ab(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=Ef(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Ef(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new us(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Ab(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Ef(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=$b,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var mu="http://www.w3.org/1999/xhtml";const _f={svg:"http://www.w3.org/2000/svg",xhtml:mu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_f.hasOwnProperty(t)?{space:_f[t],local:e}:e}function Ob(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===mu&&t.documentElement.namespaceURI===mu?t.createElement(e):t.createElementNS(n,e)}}function Fb(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function vg(e){var t=gl(e);return(t.local?Fb:Ob)(t)}function Hb(){}function Rc(e){return e==null?Hb:function(){return this.querySelector(e)}}function Bb(e){typeof e!="function"&&(e=Rc(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=new Array(s),a,u,d=0;d<s;++d)(a=i[d])&&(u=e.call(a,a.__data__,d,i))&&("__data__"in a&&(u.__data__=a.__data__),l[d]=u);return new et(r,this._parents)}function Vb(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Wb(){return[]}function wg(e){return e==null?Wb:function(){return this.querySelectorAll(e)}}function Ub(e){return function(){return Vb(e.apply(this,arguments))}}function Yb(e){typeof e=="function"?e=Ub(e):e=wg(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),o.push(a));return new et(r,o)}function bg(e){return function(){return this.matches(e)}}function Sg(e){return function(t){return t.matches(e)}}var Xb=Array.prototype.find;function Gb(e){return function(){return Xb.call(this.children,e)}}function Kb(){return this.firstElementChild}function Qb(e){return this.select(e==null?Kb:Gb(typeof e=="function"?e:Sg(e)))}var qb=Array.prototype.filter;function Zb(){return Array.from(this.children)}function Jb(e){return function(){return qb.call(this.children,e)}}function eS(e){return this.selectAll(e==null?Zb:Jb(typeof e=="function"?e:Sg(e)))}function tS(e){typeof e!="function"&&(e=bg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new et(r,this._parents)}function kg(e){return new Array(e.length)}function nS(){return new et(this._enter||this._groups.map(kg),this._parents)}function Fs(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Fs.prototype={constructor:Fs,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function rS(e){return function(){return e}}function oS(e,t,n,r,o,i){for(var s=0,l,a=t.length,u=i.length;s<u;++s)(l=t[s])?(l.__data__=i[s],r[s]=l):n[s]=new Fs(e,i[s]);for(;s<a;++s)(l=t[s])&&(o[s]=l)}function iS(e,t,n,r,o,i,s){var l,a,u=new Map,d=t.length,c=i.length,f=new Array(d),g;for(l=0;l<d;++l)(a=t[l])&&(f[l]=g=s.call(a,a.__data__,l,t)+"",u.has(g)?o[l]=a:u.set(g,a));for(l=0;l<c;++l)g=s.call(e,i[l],l,i)+"",(a=u.get(g))?(r[l]=a,a.__data__=i[l],u.delete(g)):n[l]=new Fs(e,i[l]);for(l=0;l<d;++l)(a=t[l])&&u.get(f[l])===a&&(o[l]=a)}function sS(e){return e.__data__}function lS(e,t){if(!arguments.length)return Array.from(this,sS);var n=t?iS:oS,r=this._parents,o=this._groups;typeof e!="function"&&(e=rS(e));for(var i=o.length,s=new Array(i),l=new Array(i),a=new Array(i),u=0;u<i;++u){var d=r[u],c=o[u],f=c.length,g=aS(e.call(d,d&&d.__data__,u,r)),x=g.length,v=l[u]=new Array(x),b=s[u]=new Array(x),m=a[u]=new Array(f);n(d,c,v,b,m,g,t);for(var y=0,h=0,w,k;y<x;++y)if(w=v[y]){for(y>=h&&(h=y+1);!(k=b[h])&&++h<x;);w._next=k||null}}return s=new et(s,r),s._enter=l,s._exit=a,s}function aS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function uS(){return new et(this._exit||this._groups.map(kg),this._parents)}function cS(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function dS(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),l=new Array(o),a=0;a<s;++a)for(var u=n[a],d=r[a],c=u.length,f=l[a]=new Array(c),g,x=0;x<c;++x)(g=u[x]||d[x])&&(f[x]=g);for(;a<o;++a)l[a]=n[a];return new et(l,this._parents)}function fS(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function hS(e){e||(e=pS);function t(c,f){return c&&f?e(c.__data__,f.__data__):!c-!f}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],l=s.length,a=o[i]=new Array(l),u,d=0;d<l;++d)(u=s[d])&&(a[d]=u);a.sort(t)}return new et(o,this._parents).order()}function pS(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function mS(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function gS(){return Array.from(this)}function yS(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function xS(){let e=0;for(const t of this)++e;return e}function vS(){return!this.node()}function wS(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,l;i<s;++i)(l=o[i])&&e.call(l,l.__data__,i,o);return this}function bS(e){return function(){this.removeAttribute(e)}}function SS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kS(e,t){return function(){this.setAttribute(e,t)}}function ES(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _S(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function NS(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function CS(e,t){var n=gl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?SS:bS:typeof t=="function"?n.local?NS:_S:n.local?ES:kS)(n,t))}function Eg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function jS(e){return function(){this.style.removeProperty(e)}}function PS(e,t,n){return function(){this.style.setProperty(e,t,n)}}function MS(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function IS(e,t,n){return arguments.length>1?this.each((t==null?jS:typeof t=="function"?MS:PS)(e,t,n??"")):Tr(this.node(),e)}function Tr(e,t){return e.style.getPropertyValue(t)||Eg(e).getComputedStyle(e,null).getPropertyValue(t)}function TS(e){return function(){delete this[e]}}function RS(e,t){return function(){this[e]=t}}function LS(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function zS(e,t){return arguments.length>1?this.each((t==null?TS:typeof t=="function"?LS:RS)(e,t)):this.node()[e]}function _g(e){return e.trim().split(/^|\s+/)}function Lc(e){return e.classList||new Ng(e)}function Ng(e){this._node=e,this._names=_g(e.getAttribute("class")||"")}Ng.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Cg(e,t){for(var n=Lc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function jg(e,t){for(var n=Lc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function $S(e){return function(){Cg(this,e)}}function DS(e){return function(){jg(this,e)}}function AS(e,t){return function(){(t.apply(this,arguments)?Cg:jg)(this,e)}}function OS(e,t){var n=_g(e+"");if(arguments.length<2){for(var r=Lc(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?AS:t?$S:DS)(n,t))}function FS(){this.textContent=""}function HS(e){return function(){this.textContent=e}}function BS(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function VS(e){return arguments.length?this.each(e==null?FS:(typeof e=="function"?BS:HS)(e)):this.node().textContent}function WS(){this.innerHTML=""}function US(e){return function(){this.innerHTML=e}}function YS(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function XS(e){return arguments.length?this.each(e==null?WS:(typeof e=="function"?YS:US)(e)):this.node().innerHTML}function GS(){this.nextSibling&&this.parentNode.appendChild(this)}function KS(){return this.each(GS)}function QS(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qS(){return this.each(QS)}function ZS(e){var t=typeof e=="function"?e:vg(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function JS(){return null}function ek(e,t){var n=typeof e=="function"?e:vg(e),r=t==null?JS:typeof t=="function"?t:Rc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function tk(){var e=this.parentNode;e&&e.removeChild(this)}function nk(){return this.each(tk)}function rk(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ok(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ik(e){return this.select(e?ok:rk)}function sk(e){return arguments.length?this.property("__data__",e):this.node().__data__}function lk(e){return function(t){e.call(this,t,this.__data__)}}function ak(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function uk(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function ck(e,t,n){return function(){var r=this.__on,o,i=lk(t);if(r){for(var s=0,l=r.length;s<l;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function dk(e,t,n){var r=ak(e+""),o,i=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,d;a<u;++a)for(o=0,d=l[a];o<i;++o)if((s=r[o]).type===d.type&&s.name===d.name)return d.value}return}for(l=t?ck:uk,o=0;o<i;++o)this.each(l(r[o],t,n));return this}function Pg(e,t,n){var r=Eg(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function fk(e,t){return function(){return Pg(this,e,t)}}function hk(e,t){return function(){return Pg(this,e,t.apply(this,arguments))}}function pk(e,t){return this.each((typeof t=="function"?hk:fk)(e,t))}function*mk(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var Mg=[null];function et(e,t){this._groups=e,this._parents=t}function hi(){return new et([[document.documentElement]],Mg)}function gk(){return this}et.prototype=hi.prototype={constructor:et,select:Bb,selectAll:Yb,selectChild:Qb,selectChildren:eS,filter:tS,data:lS,enter:nS,exit:uS,join:cS,merge:dS,selection:gk,order:fS,sort:hS,call:mS,nodes:gS,node:yS,size:xS,empty:vS,each:wS,attr:CS,style:IS,property:zS,classed:OS,text:VS,html:XS,raise:KS,lower:qS,append:ZS,insert:ek,remove:nk,clone:ik,datum:sk,on:dk,dispatch:pk,[Symbol.iterator]:mk};function Qe(e){return typeof e=="string"?new et([[document.querySelector(e)]],[document.documentElement]):new et([[e]],Mg)}function yk(e){let t;for(;t=e.sourceEvent;)e=t;return e}function pt(e,t){if(e=yk(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const xk={passive:!1},Qo={capture:!0,passive:!1};function la(e){e.stopImmediatePropagation()}function Sr(e){e.preventDefault(),e.stopImmediatePropagation()}function Ig(e){var t=e.document.documentElement,n=Qe(e).on("dragstart.drag",Sr,Qo);"onselectstart"in t?n.on("selectstart.drag",Sr,Qo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Tg(e,t){var n=e.document.documentElement,r=Qe(e).on("dragstart.drag",null);t&&(r.on("click.drag",Sr,Qo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Fi=e=>()=>e;function gu(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:l,dx:a,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}gu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function vk(e){return!e.ctrlKey&&!e.button}function wk(){return this.parentNode}function bk(e,t){return t??{x:e.x,y:e.y}}function Sk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Rg(){var e=vk,t=wk,n=bk,r=Sk,o={},i=ml("start","drag","end"),s=0,l,a,u,d,c=0;function f(w){w.on("mousedown.drag",g).filter(r).on("touchstart.drag",b).on("touchmove.drag",m,xk).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(w,k){if(!(d||!e.call(this,w,k))){var N=h(this,t.call(this,w,k),w,k,"mouse");N&&(Qe(w.view).on("mousemove.drag",x,Qo).on("mouseup.drag",v,Qo),Ig(w.view),la(w),u=!1,l=w.clientX,a=w.clientY,N("start",w))}}function x(w){if(Sr(w),!u){var k=w.clientX-l,N=w.clientY-a;u=k*k+N*N>c}o.mouse("drag",w)}function v(w){Qe(w.view).on("mousemove.drag mouseup.drag",null),Tg(w.view,u),Sr(w),o.mouse("end",w)}function b(w,k){if(e.call(this,w,k)){var N=w.changedTouches,E=t.call(this,w,k),P=N.length,R,D;for(R=0;R<P;++R)(D=h(this,E,w,k,N[R].identifier,N[R]))&&(la(w),D("start",w,N[R]))}}function m(w){var k=w.changedTouches,N=k.length,E,P;for(E=0;E<N;++E)(P=o[k[E].identifier])&&(Sr(w),P("drag",w,k[E]))}function y(w){var k=w.changedTouches,N=k.length,E,P;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),E=0;E<N;++E)(P=o[k[E].identifier])&&(la(w),P("end",w,k[E]))}function h(w,k,N,E,P,R){var D=i.copy(),L=pt(R||N,k),T,F,_;if((_=n.call(w,new gu("beforestart",{sourceEvent:N,target:f,identifier:P,active:s,x:L[0],y:L[1],dx:0,dy:0,dispatch:D}),E))!=null)return T=_.x-L[0]||0,F=_.y-L[1]||0,function I(M,$,C){var j=L,z;switch(M){case"start":o[P]=I,z=s++;break;case"end":delete o[P],--s;case"drag":L=pt(C||$,k),z=s;break}D.call(M,w,new gu(M,{sourceEvent:$,subject:_,target:f,identifier:P,active:z,x:L[0]+T,y:L[1]+F,dx:L[0]-j[0],dy:L[1]-j[1],dispatch:D}),E)}}return f.filter=function(w){return arguments.length?(e=typeof w=="function"?w:Fi(!!w),f):e},f.container=function(w){return arguments.length?(t=typeof w=="function"?w:Fi(w),f):t},f.subject=function(w){return arguments.length?(n=typeof w=="function"?w:Fi(w),f):n},f.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:Fi(!!w),f):r},f.on=function(){var w=i.on.apply(i,arguments);return w===i?f:w},f.clickDistance=function(w){return arguments.length?(c=(w=+w)*w,f):Math.sqrt(c)},f}function zc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Lg(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function pi(){}var qo=.7,Hs=1/qo,kr="\\s*([+-]?\\d+)\\s*",Zo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kk=/^#([0-9a-f]{3,8})$/,Ek=new RegExp(`^rgb\\(${kr},${kr},${kr}\\)$`),_k=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),Nk=new RegExp(`^rgba\\(${kr},${kr},${kr},${Zo}\\)$`),Ck=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${Zo}\\)$`),jk=new RegExp(`^hsl\\(${Zo},${Tt},${Tt}\\)$`),Pk=new RegExp(`^hsla\\(${Zo},${Tt},${Tt},${Zo}\\)$`),Nf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zc(pi,Yn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Cf,formatHex:Cf,formatHex8:Mk,formatHsl:Ik,formatRgb:jf,toString:jf});function Cf(){return this.rgb().formatHex()}function Mk(){return this.rgb().formatHex8()}function Ik(){return zg(this).formatHsl()}function jf(){return this.rgb().formatRgb()}function Yn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=kk.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Pf(t):n===3?new Ue(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Hi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Hi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ek.exec(e))?new Ue(t[1],t[2],t[3],1):(t=_k.exec(e))?new Ue(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Nk.exec(e))?Hi(t[1],t[2],t[3],t[4]):(t=Ck.exec(e))?Hi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=jk.exec(e))?Tf(t[1],t[2]/100,t[3]/100,1):(t=Pk.exec(e))?Tf(t[1],t[2]/100,t[3]/100,t[4]):Nf.hasOwnProperty(e)?Pf(Nf[e]):e==="transparent"?new Ue(NaN,NaN,NaN,0):null}function Pf(e){return new Ue(e>>16&255,e>>8&255,e&255,1)}function Hi(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ue(e,t,n,r)}function Tk(e){return e instanceof pi||(e=Yn(e)),e?(e=e.rgb(),new Ue(e.r,e.g,e.b,e.opacity)):new Ue}function yu(e,t,n,r){return arguments.length===1?Tk(e):new Ue(e,t,n,r??1)}function Ue(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}zc(Ue,yu,Lg(pi,{brighter(e){return e=e==null?Hs:Math.pow(Hs,e),new Ue(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qo:Math.pow(qo,e),new Ue(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ue(An(this.r),An(this.g),An(this.b),Bs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mf,formatHex:Mf,formatHex8:Rk,formatRgb:If,toString:If}));function Mf(){return`#${zn(this.r)}${zn(this.g)}${zn(this.b)}`}function Rk(){return`#${zn(this.r)}${zn(this.g)}${zn(this.b)}${zn((isNaN(this.opacity)?1:this.opacity)*255)}`}function If(){const e=Bs(this.opacity);return`${e===1?"rgb(":"rgba("}${An(this.r)}, ${An(this.g)}, ${An(this.b)}${e===1?")":`, ${e})`}`}function Bs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function An(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zn(e){return e=An(e),(e<16?"0":"")+e.toString(16)}function Tf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new gt(e,t,n,r)}function zg(e){if(e instanceof gt)return new gt(e.h,e.s,e.l,e.opacity);if(e instanceof pi||(e=Yn(e)),!e)return new gt;if(e instanceof gt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,l=i-o,a=(i+o)/2;return l?(t===i?s=(n-r)/l+(n<r)*6:n===i?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?i+o:2-i-o,s*=60):l=a>0&&a<1?0:s,new gt(s,l,a,e.opacity)}function Lk(e,t,n,r){return arguments.length===1?zg(e):new gt(e,t,n,r??1)}function gt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}zc(gt,Lk,Lg(pi,{brighter(e){return e=e==null?Hs:Math.pow(Hs,e),new gt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qo:Math.pow(qo,e),new gt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ue(aa(e>=240?e-240:e+120,o,r),aa(e,o,r),aa(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new gt(Rf(this.h),Bi(this.s),Bi(this.l),Bs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bs(this.opacity);return`${e===1?"hsl(":"hsla("}${Rf(this.h)}, ${Bi(this.s)*100}%, ${Bi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Rf(e){return e=(e||0)%360,e<0?e+360:e}function Bi(e){return Math.max(0,Math.min(1,e||0))}function aa(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const $c=e=>()=>e;function zk(e,t){return function(n){return e+n*t}}function $k(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Dk(e){return(e=+e)==1?$g:function(t,n){return n-t?$k(t,n,e):$c(isNaN(t)?n:t)}}function $g(e,t){var n=t-e;return n?zk(e,n):$c(isNaN(e)?t:e)}const Vs=function e(t){var n=Dk(t);function r(o,i){var s=n((o=yu(o)).r,(i=yu(i)).r),l=n(o.g,i.g),a=n(o.b,i.b),u=$g(o.opacity,i.opacity);return function(d){return o.r=s(d),o.g=l(d),o.b=a(d),o.opacity=u(d),o+""}}return r.gamma=e,r}(1);function Ak(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function Ok(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Fk(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)o[s]=Mo(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(l){for(s=0;s<r;++s)i[s]=o[s](l);return i}}function Hk(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function jt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Bk(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Mo(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var xu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ua=new RegExp(xu.source,"g");function Vk(e){return function(){return e}}function Wk(e){return function(t){return e(t)+""}}function Dg(e,t){var n=xu.lastIndex=ua.lastIndex=0,r,o,i,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=xu.exec(e))&&(o=ua.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[s]?l[s]+=i:l[++s]=i),(r=r[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:jt(r,o)})),n=ua.lastIndex;return n<t.length&&(i=t.slice(n),l[s]?l[s]+=i:l[++s]=i),l.length<2?a[0]?Wk(a[0].x):Vk(t):(t=a.length,function(u){for(var d=0,c;d<t;++d)l[(c=a[d]).i]=c.x(u);return l.join("")})}function Mo(e,t){var n=typeof t,r;return t==null||n==="boolean"?$c(t):(n==="number"?jt:n==="string"?(r=Yn(t))?(t=r,Vs):Dg:t instanceof Yn?Vs:t instanceof Date?Hk:Ok(t)?Ak:Array.isArray(t)?Fk:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Bk:jt)(e,t)}var Lf=180/Math.PI,vu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ag(e,t,n,r,o,i){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Lf,skewX:Math.atan(a)*Lf,scaleX:s,scaleY:l}}var Vi;function Uk(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?vu:Ag(t.a,t.b,t.c,t.d,t.e,t.f)}function Yk(e){return e==null||(Vi||(Vi=document.createElementNS("http://www.w3.org/2000/svg","g")),Vi.setAttribute("transform",e),!(e=Vi.transform.baseVal.consolidate()))?vu:(e=e.matrix,Ag(e.a,e.b,e.c,e.d,e.e,e.f))}function Og(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,d,c,f,g,x){if(u!==c||d!==f){var v=g.push("translate(",null,t,null,n);x.push({i:v-4,x:jt(u,c)},{i:v-2,x:jt(d,f)})}else(c||f)&&g.push("translate("+c+t+f+n)}function s(u,d,c,f){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),f.push({i:c.push(o(c)+"rotate(",null,r)-2,x:jt(u,d)})):d&&c.push(o(c)+"rotate("+d+r)}function l(u,d,c,f){u!==d?f.push({i:c.push(o(c)+"skewX(",null,r)-2,x:jt(u,d)}):d&&c.push(o(c)+"skewX("+d+r)}function a(u,d,c,f,g,x){if(u!==c||d!==f){var v=g.push(o(g)+"scale(",null,",",null,")");x.push({i:v-4,x:jt(u,c)},{i:v-2,x:jt(d,f)})}else(c!==1||f!==1)&&g.push(o(g)+"scale("+c+","+f+")")}return function(u,d){var c=[],f=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,c,f),s(u.rotate,d.rotate,c,f),l(u.skewX,d.skewX,c,f),a(u.scaleX,u.scaleY,d.scaleX,d.scaleY,c,f),u=d=null,function(g){for(var x=-1,v=f.length,b;++x<v;)c[(b=f[x]).i]=b.x(g);return c.join("")}}}var Xk=Og(Uk,"px, ","px)","deg)"),Gk=Og(Yk,", ",")",")"),Kk=1e-12;function zf(e){return((e=Math.exp(e))+1/e)/2}function Qk(e){return((e=Math.exp(e))-1/e)/2}function qk(e){return((e=Math.exp(2*e))-1)/(e+1)}const cs=function e(t,n,r){function o(i,s){var l=i[0],a=i[1],u=i[2],d=s[0],c=s[1],f=s[2],g=d-l,x=c-a,v=g*g+x*x,b,m;if(v<Kk)m=Math.log(f/u)/t,b=function(E){return[l+E*g,a+E*x,u*Math.exp(t*E*m)]};else{var y=Math.sqrt(v),h=(f*f-u*u+r*v)/(2*u*n*y),w=(f*f-u*u-r*v)/(2*f*n*y),k=Math.log(Math.sqrt(h*h+1)-h),N=Math.log(Math.sqrt(w*w+1)-w);m=(N-k)/t,b=function(E){var P=E*m,R=zf(k),D=u/(n*y)*(R*qk(t*P+k)-Qk(k));return[l+D*g,a+D*x,u*R/zf(t*P+k)]}}return b.duration=m*1e3*t/Math.SQRT2,b}return o.rho=function(i){var s=Math.max(.001,+i),l=s*s,a=l*l;return e(s,l,a)},o}(Math.SQRT2,2,4);var Rr=0,xo=0,so=0,Fg=1e3,Ws,vo,Us=0,Xn=0,yl=0,Jo=typeof performance=="object"&&performance.now?performance:Date,Hg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Dc(){return Xn||(Hg(Zk),Xn=Jo.now()+yl)}function Zk(){Xn=0}function Ys(){this._call=this._time=this._next=null}Ys.prototype=Bg.prototype={constructor:Ys,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Dc():+n)+(t==null?0:+t),!this._next&&vo!==this&&(vo?vo._next=this:Ws=this,vo=this),this._call=e,this._time=n,wu()},stop:function(){this._call&&(this._call=null,this._time=1/0,wu())}};function Bg(e,t,n){var r=new Ys;return r.restart(e,t,n),r}function Jk(){Dc(),++Rr;for(var e=Ws,t;e;)(t=Xn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Rr}function $f(){Xn=(Us=Jo.now())+yl,Rr=xo=0;try{Jk()}finally{Rr=0,t2(),Xn=0}}function e2(){var e=Jo.now(),t=e-Us;t>Fg&&(yl-=t,Us=e)}function t2(){for(var e,t=Ws,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ws=n);vo=e,wu(r)}function wu(e){if(!Rr){xo&&(xo=clearTimeout(xo));var t=e-Xn;t>24?(e<1/0&&(xo=setTimeout($f,e-Jo.now()-yl)),so&&(so=clearInterval(so))):(so||(Us=Jo.now(),so=setInterval(e2,Fg)),Rr=1,Hg($f))}}function Df(e,t,n){var r=new Ys;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var n2=ml("start","end","cancel","interrupt"),r2=[],Vg=0,Af=1,bu=2,ds=3,Of=4,Su=5,fs=6;function xl(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;o2(e,n,{name:t,index:r,group:o,on:n2,tween:r2,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Vg})}function Ac(e,t){var n=_t(e,t);if(n.state>Vg)throw new Error("too late; already scheduled");return n}function Lt(e,t){var n=_t(e,t);if(n.state>ds)throw new Error("too late; already running");return n}function _t(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function o2(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Bg(i,0,n.time);function i(u){n.state=Af,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var d,c,f,g;if(n.state!==Af)return a();for(d in r)if(g=r[d],g.name===n.name){if(g.state===ds)return Df(s);g.state===Of?(g.state=fs,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[d]):+d<t&&(g.state=fs,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[d])}if(Df(function(){n.state===ds&&(n.state=Of,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=bu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===bu){for(n.state=ds,o=new Array(f=n.tween.length),d=0,c=-1;d<f;++d)(g=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(o[++c]=g);o.length=c+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Su,1),c=-1,f=o.length;++c<f;)o[c].call(e,d);n.state===Su&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=fs,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function hs(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>bu&&r.state<Su,r.state=fs,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function i2(e){return this.each(function(){hs(this,e)})}function s2(e,t){var n,r;return function(){var o=Lt(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function l2(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Lt(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}i.tween=o}}function a2(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=_t(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?s2:l2)(n,e,t))}function Oc(e,t,n){var r=e._id;return e.each(function(){var o=Lt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return _t(o,r).value[t]}}function Wg(e,t){var n;return(typeof t=="number"?jt:t instanceof Yn?Vs:(n=Yn(t))?(t=n,Vs):Dg)(e,t)}function u2(e){return function(){this.removeAttribute(e)}}function c2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function d2(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function f2(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function h2(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function p2(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function m2(e,t){var n=gl(e),r=n==="transform"?Gk:Wg;return this.attrTween(e,typeof t=="function"?(n.local?p2:h2)(n,r,Oc(this,"attr."+e,t)):t==null?(n.local?c2:u2)(n):(n.local?f2:d2)(n,r,t))}function g2(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function y2(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function x2(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&y2(e,i)),n}return o._value=t,o}function v2(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&g2(e,i)),n}return o._value=t,o}function w2(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=gl(e);return this.tween(n,(r.local?x2:v2)(r,t))}function b2(e,t){return function(){Ac(this,e).delay=+t.apply(this,arguments)}}function S2(e,t){return t=+t,function(){Ac(this,e).delay=t}}function k2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?b2:S2)(t,e)):_t(this.node(),t).delay}function E2(e,t){return function(){Lt(this,e).duration=+t.apply(this,arguments)}}function _2(e,t){return t=+t,function(){Lt(this,e).duration=t}}function N2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?E2:_2)(t,e)):_t(this.node(),t).duration}function C2(e,t){if(typeof t!="function")throw new Error;return function(){Lt(this,e).ease=t}}function j2(e){var t=this._id;return arguments.length?this.each(C2(t,e)):_t(this.node(),t).ease}function P2(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Lt(this,e).ease=n}}function M2(e){if(typeof e!="function")throw new Error;return this.each(P2(this._id,e))}function I2(e){typeof e!="function"&&(e=bg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new qt(r,this._parents,this._name,this._id)}function T2(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),l=0;l<i;++l)for(var a=t[l],u=n[l],d=a.length,c=s[l]=new Array(d),f,g=0;g<d;++g)(f=a[g]||u[g])&&(c[g]=f);for(;l<r;++l)s[l]=t[l];return new qt(s,this._parents,this._name,this._id)}function R2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function L2(e,t,n){var r,o,i=R2(t)?Ac:Lt;return function(){var s=i(this,e),l=s.on;l!==r&&(o=(r=l).copy()).on(t,n),s.on=o}}function z2(e,t){var n=this._id;return arguments.length<2?_t(this.node(),n).on.on(e):this.each(L2(n,e,t))}function $2(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function D2(){return this.on("end.remove",$2(this._id))}function A2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Rc(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var l=r[s],a=l.length,u=i[s]=new Array(a),d,c,f=0;f<a;++f)(d=l[f])&&(c=e.call(d,d.__data__,f,l))&&("__data__"in d&&(c.__data__=d.__data__),u[f]=c,xl(u[f],t,n,f,u,_t(d,n)));return new qt(i,this._parents,t,n)}function O2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=wg(e));for(var r=this._groups,o=r.length,i=[],s=[],l=0;l<o;++l)for(var a=r[l],u=a.length,d,c=0;c<u;++c)if(d=a[c]){for(var f=e.call(d,d.__data__,c,a),g,x=_t(d,n),v=0,b=f.length;v<b;++v)(g=f[v])&&xl(g,t,n,v,f,x);i.push(f),s.push(d)}return new qt(i,s,t,n)}var F2=hi.prototype.constructor;function H2(){return new F2(this._groups,this._parents)}function B2(e,t){var n,r,o;return function(){var i=Tr(this,e),s=(this.style.removeProperty(e),Tr(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function Ug(e){return function(){this.style.removeProperty(e)}}function V2(e,t,n){var r,o=n+"",i;return function(){var s=Tr(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function W2(e,t,n){var r,o,i;return function(){var s=Tr(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Tr(this,e))),s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l))}}function U2(e,t){var n,r,o,i="style."+t,s="end."+i,l;return function(){var a=Lt(this,e),u=a.on,d=a.value[i]==null?l||(l=Ug(t)):void 0;(u!==n||o!==d)&&(r=(n=u).copy()).on(s,o=d),a.on=r}}function Y2(e,t,n){var r=(e+="")=="transform"?Xk:Wg;return t==null?this.styleTween(e,B2(e,r)).on("end.style."+e,Ug(e)):typeof t=="function"?this.styleTween(e,W2(e,r,Oc(this,"style."+e,t))).each(U2(this._id,e)):this.styleTween(e,V2(e,r,t),n).on("end.style."+e,null)}function X2(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function G2(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&X2(e,s,n)),r}return i._value=t,i}function K2(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,G2(e,t,n??""))}function Q2(e){return function(){this.textContent=e}}function q2(e){return function(){var t=e(this);this.textContent=t??""}}function Z2(e){return this.tween("text",typeof e=="function"?q2(Oc(this,"text",e)):Q2(e==null?"":e+""))}function J2(e){return function(t){this.textContent=e.call(this,t)}}function eE(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&J2(o)),t}return r._value=e,r}function tE(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,eE(e))}function nE(){for(var e=this._name,t=this._id,n=Yg(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var d=_t(a,t);xl(a,e,n,u,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new qt(r,this._parents,e,n)}function rE(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var l={value:s},a={value:function(){--o===0&&i()}};n.each(function(){var u=Lt(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&i()})}var oE=0;function qt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Yg(){return++oE}var $t=hi.prototype;qt.prototype={constructor:qt,select:A2,selectAll:O2,selectChild:$t.selectChild,selectChildren:$t.selectChildren,filter:I2,merge:T2,selection:H2,transition:nE,call:$t.call,nodes:$t.nodes,node:$t.node,size:$t.size,empty:$t.empty,each:$t.each,on:z2,attr:m2,attrTween:w2,style:Y2,styleTween:K2,text:Z2,textTween:tE,remove:D2,tween:a2,delay:k2,duration:N2,ease:j2,easeVarying:M2,end:rE,[Symbol.iterator]:$t[Symbol.iterator]};function iE(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var sE={time:null,delay:0,duration:250,ease:iE};function lE(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function aE(e){var t,n;e instanceof qt?(t=e._id,e=e._name):(t=Yg(),(n=sE).time=Dc(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&xl(a,e,t,u,s,n||lE(a,t));return new qt(r,this._parents,e,t)}hi.prototype.interrupt=i2;hi.prototype.transition=aE;const Wi=e=>()=>e;function uE(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Bt(e,t,n){this.k=e,this.x=t,this.y=n}Bt.prototype={constructor:Bt,scale:function(e){return e===1?this:new Bt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Bt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var vl=new Bt(1,0,0);Xg.prototype=Bt.prototype;function Xg(e){for(;!e.__zoom;)if(!(e=e.parentNode))return vl;return e.__zoom}function ca(e){e.stopImmediatePropagation()}function lo(e){e.preventDefault(),e.stopImmediatePropagation()}function cE(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function dE(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ff(){return this.__zoom||vl}function fE(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function hE(){return navigator.maxTouchPoints||"ontouchstart"in this}function pE(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function Gg(){var e=cE,t=dE,n=pE,r=fE,o=hE,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=cs,u=ml("start","zoom","end"),d,c,f,g=500,x=150,v=0,b=10;function m(_){_.property("__zoom",Ff).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",D).filter(o).on("touchstart.zoom",L).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(_,I,M,$){var C=_.selection?_.selection():_;C.property("__zoom",Ff),_!==C?k(_,I,M,$):C.interrupt().each(function(){N(this,arguments).event($).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},m.scaleBy=function(_,I,M,$){m.scaleTo(_,function(){var C=this.__zoom.k,j=typeof I=="function"?I.apply(this,arguments):I;return C*j},M,$)},m.scaleTo=function(_,I,M,$){m.transform(_,function(){var C=t.apply(this,arguments),j=this.__zoom,z=M==null?w(C):typeof M=="function"?M.apply(this,arguments):M,A=j.invert(z),O=typeof I=="function"?I.apply(this,arguments):I;return n(h(y(j,O),z,A),C,s)},M,$)},m.translateBy=function(_,I,M,$){m.transform(_,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),s)},null,$)},m.translateTo=function(_,I,M,$,C){m.transform(_,function(){var j=t.apply(this,arguments),z=this.__zoom,A=$==null?w(j):typeof $=="function"?$.apply(this,arguments):$;return n(vl.translate(A[0],A[1]).scale(z.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof M=="function"?-M.apply(this,arguments):-M),j,s)},$,C)};function y(_,I){return I=Math.max(i[0],Math.min(i[1],I)),I===_.k?_:new Bt(I,_.x,_.y)}function h(_,I,M){var $=I[0]-M[0]*_.k,C=I[1]-M[1]*_.k;return $===_.x&&C===_.y?_:new Bt(_.k,$,C)}function w(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function k(_,I,M,$){_.on("start.zoom",function(){N(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event($).end()}).tween("zoom",function(){var C=this,j=arguments,z=N(C,j).event($),A=t.apply(C,j),O=M==null?w(A):typeof M=="function"?M.apply(C,j):M,W=Math.max(A[1][0]-A[0][0],A[1][1]-A[0][1]),V=C.__zoom,X=typeof I=="function"?I.apply(C,j):I,G=a(V.invert(O).concat(W/V.k),X.invert(O).concat(W/X.k));return function(K){if(K===1)K=X;else{var B=G(K),Q=W/B[2];K=new Bt(Q,O[0]-B[0]*Q,O[1]-B[1]*Q)}z.zoom(null,K)}})}function N(_,I,M){return!M&&_.__zooming||new E(_,I)}function E(_,I){this.that=_,this.args=I,this.active=0,this.sourceEvent=null,this.extent=t.apply(_,I),this.taps=0}E.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,I){return this.mouse&&_!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var I=Qe(this.that).datum();u.call(_,this.that,new uE(_,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),I)}};function P(_,...I){if(!e.apply(this,arguments))return;var M=N(this,I).event(_),$=this.__zoom,C=Math.max(i[0],Math.min(i[1],$.k*Math.pow(2,r.apply(this,arguments)))),j=pt(_);if(M.wheel)(M.mouse[0][0]!==j[0]||M.mouse[0][1]!==j[1])&&(M.mouse[1]=$.invert(M.mouse[0]=j)),clearTimeout(M.wheel);else{if($.k===C)return;M.mouse=[j,$.invert(j)],hs(this),M.start()}lo(_),M.wheel=setTimeout(z,x),M.zoom("mouse",n(h(y($,C),M.mouse[0],M.mouse[1]),M.extent,s));function z(){M.wheel=null,M.end()}}function R(_,...I){if(f||!e.apply(this,arguments))return;var M=_.currentTarget,$=N(this,I,!0).event(_),C=Qe(_.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",W,!0),j=pt(_,M),z=_.clientX,A=_.clientY;Ig(_.view),ca(_),$.mouse=[j,this.__zoom.invert(j)],hs(this),$.start();function O(V){if(lo(V),!$.moved){var X=V.clientX-z,G=V.clientY-A;$.moved=X*X+G*G>v}$.event(V).zoom("mouse",n(h($.that.__zoom,$.mouse[0]=pt(V,M),$.mouse[1]),$.extent,s))}function W(V){C.on("mousemove.zoom mouseup.zoom",null),Tg(V.view,$.moved),lo(V),$.event(V).end()}}function D(_,...I){if(e.apply(this,arguments)){var M=this.__zoom,$=pt(_.changedTouches?_.changedTouches[0]:_,this),C=M.invert($),j=M.k*(_.shiftKey?.5:2),z=n(h(y(M,j),$,C),t.apply(this,I),s);lo(_),l>0?Qe(this).transition().duration(l).call(k,z,$,_):Qe(this).call(m.transform,z,$,_)}}function L(_,...I){if(e.apply(this,arguments)){var M=_.touches,$=M.length,C=N(this,I,_.changedTouches.length===$).event(_),j,z,A,O;for(ca(_),z=0;z<$;++z)A=M[z],O=pt(A,this),O=[O,this.__zoom.invert(O),A.identifier],C.touch0?!C.touch1&&C.touch0[2]!==O[2]&&(C.touch1=O,C.taps=0):(C.touch0=O,j=!0,C.taps=1+!!d);d&&(d=clearTimeout(d)),j&&(C.taps<2&&(c=O[0],d=setTimeout(function(){d=null},g)),hs(this),C.start())}}function T(_,...I){if(this.__zooming){var M=N(this,I).event(_),$=_.changedTouches,C=$.length,j,z,A,O;for(lo(_),j=0;j<C;++j)z=$[j],A=pt(z,this),M.touch0&&M.touch0[2]===z.identifier?M.touch0[0]=A:M.touch1&&M.touch1[2]===z.identifier&&(M.touch1[0]=A);if(z=M.that.__zoom,M.touch1){var W=M.touch0[0],V=M.touch0[1],X=M.touch1[0],G=M.touch1[1],K=(K=X[0]-W[0])*K+(K=X[1]-W[1])*K,B=(B=G[0]-V[0])*B+(B=G[1]-V[1])*B;z=y(z,Math.sqrt(K/B)),A=[(W[0]+X[0])/2,(W[1]+X[1])/2],O=[(V[0]+G[0])/2,(V[1]+G[1])/2]}else if(M.touch0)A=M.touch0[0],O=M.touch0[1];else return;M.zoom("touch",n(h(z,A,O),M.extent,s))}}function F(_,...I){if(this.__zooming){var M=N(this,I).event(_),$=_.changedTouches,C=$.length,j,z;for(ca(_),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),j=0;j<C;++j)z=$[j],M.touch0&&M.touch0[2]===z.identifier?delete M.touch0:M.touch1&&M.touch1[2]===z.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(z=pt(z,this),Math.hypot(c[0]-z[0],c[1]-z[1])<b)){var A=Qe(this).on("dblclick.zoom");A&&A.apply(this,arguments)}}}return m.wheelDelta=function(_){return arguments.length?(r=typeof _=="function"?_:Wi(+_),m):r},m.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Wi(!!_),m):e},m.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:Wi(!!_),m):o},m.extent=function(_){return arguments.length?(t=typeof _=="function"?_:Wi([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),m):t},m.scaleExtent=function(_){return arguments.length?(i[0]=+_[0],i[1]=+_[1],m):[i[0],i[1]]},m.translateExtent=function(_){return arguments.length?(s[0][0]=+_[0][0],s[1][0]=+_[1][0],s[0][1]=+_[0][1],s[1][1]=+_[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(_){return arguments.length?(n=_,m):n},m.duration=function(_){return arguments.length?(l=+_,m):l},m.interpolate=function(_){return arguments.length?(a=_,m):a},m.on=function(){var _=u.on.apply(u,arguments);return _===u?m:_},m.clickDistance=function(_){return arguments.length?(v=(_=+_)*_,m):Math.sqrt(v)},m.tapDistance=function(_){return arguments.length?(b=+_,m):b},m}const Rt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},ei=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Kg=["Enter"," ","Escape"],Qg={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Lr;(function(e){e.Strict="strict",e.Loose="loose"})(Lr||(Lr={}));var On;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(On||(On={}));var ti;(function(e){e.Partial="partial",e.Full="full"})(ti||(ti={}));const qg={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var dn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(dn||(dn={}));var Xs;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Xs||(Xs={}));var Y;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Y||(Y={}));const Hf={[Y.Left]:Y.Right,[Y.Right]:Y.Left,[Y.Top]:Y.Bottom,[Y.Bottom]:Y.Top};function Zg(e){return e===null?null:e?"valid":"invalid"}const Jg=e=>"id"in e&&"source"in e&&"target"in e,mE=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Fc=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),mi=(e,t=[0,0])=>{const{width:n,height:r}=Jt(e),o=e.origin??t,i=n*o[0],s=r*o[1];return{x:e.position.x-i,y:e.position.y-s}},gE=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let s=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(o):Fc(o)?o:t.nodeLookup.get(o.id));const l=s?Gs(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return wl(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return bl(n)},gi=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=wl(n,Gs(o)),r=!0)}),r?bl(n):{x:0,y:0,width:0,height:0}},Hc=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1)=>{const l={...xi(t,[n,r,o]),width:t.width/o,height:t.height/o},a=[];for(const u of e.values()){const{measured:d,selectable:c=!0,hidden:f=!1}=u;if(s&&!c||f)continue;const g=d.width??u.width??u.initialWidth??null,x=d.height??u.height??u.initialHeight??null,v=ni(l,$r(u)),b=(g??0)*(x??0),m=i&&v>0;(!u.internals.handleBounds||m||v>=b||u.dragging)&&a.push(u)}return a},yE=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function xE(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function vE({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const l=xE(e,s),a=gi(l),u=Bc(a,t,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await r.setViewport(u,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function e0({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const s=n.get(e),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},d=s.origin??r;let c=s.extent||o;if(s.extent==="parent"&&!s.expandParent)if(!l)i==null||i("005",Rt.error005());else{const g=l.measured.width,x=l.measured.height;g&&x&&(c=[[a,u],[a+g,u+x]])}else l&&Dr(s.extent)&&(c=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const f=Dr(c)?Gn(t,c,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",Rt.error015())),{position:{x:f.x-a+(s.measured.width??0)*d[0],y:f.y-u+(s.measured.height??0)*d[1]},positionAbsolute:f}}async function wE({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(f=>f.id)),s=[];for(const f of n){if(f.deletable===!1)continue;const g=i.has(f.id),x=!g&&f.parentId&&s.find(v=>v.id===f.parentId);(g||x)&&s.push(f)}const l=new Set(t.map(f=>f.id)),a=r.filter(f=>f.deletable!==!1),d=yE(s,a);for(const f of a)l.has(f.id)&&!d.find(x=>x.id===f.id)&&d.push(f);if(!o)return{edges:d,nodes:s};const c=await o({nodes:s,edges:d});return typeof c=="boolean"?c?{edges:d,nodes:s}:{edges:[],nodes:[]}:c}const zr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Gn=(e={x:0,y:0},t,n)=>({x:zr(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:zr(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function t0(e,t,n){const{width:r,height:o}=Jt(n),{x:i,y:s}=n.internals.positionAbsolute;return Gn(e,[[i,s],[i+r,s+o]],t)}const Bf=(e,t,n)=>e<t?zr(Math.abs(e-t),1,t)/t:e>n?-zr(Math.abs(e-n),1,t)/t:0,n0=(e,t,n=15,r=40)=>{const o=Bf(e.x,r,t.width-r)*n,i=Bf(e.y,r,t.height-r)*n;return[o,i]},wl=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ku=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),bl=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),$r=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Fc(e)?e.internals.positionAbsolute:mi(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Gs=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Fc(e)?e.internals.positionAbsolute:mi(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},r0=(e,t)=>bl(wl(ku(e),ku(t))),ni=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Vf=e=>yt(e.width)&&yt(e.height)&&yt(e.x)&&yt(e.y),yt=e=>!isNaN(e)&&isFinite(e),bE=(e,t)=>{},yi=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),xi=({x:e,y:t},[n,r,o],i=!1,s=[1,1])=>{const l={x:(e-n)/o,y:(t-r)/o};return i?yi(l,s):l},Ks=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function tr(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function SE(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=tr(e,n),o=tr(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=tr(e.top??e.y??0,n),o=tr(e.bottom??e.y??0,n),i=tr(e.left??e.x??0,t),s=tr(e.right??e.x??0,t);return{top:r,right:s,bottom:o,left:i,x:i+s,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function kE(e,t,n,r,o,i){const{x:s,y:l}=Ks(e,[t,n,r]),{x:a,y:u}=Ks({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=o-a,c=i-u;return{left:Math.floor(s),top:Math.floor(l),right:Math.floor(d),bottom:Math.floor(c)}}const Bc=(e,t,n,r,o,i)=>{const s=SE(i,t,n),l=(t-s.x)/e.width,a=(n-s.y)/e.height,u=Math.min(l,a),d=zr(u,r,o),c=e.x+e.width/2,f=e.y+e.height/2,g=t/2-c*d,x=n/2-f*d,v=kE(e,g,x,d,t,n),b={left:Math.min(v.left-s.left,0),top:Math.min(v.top-s.top,0),right:Math.min(v.right-s.right,0),bottom:Math.min(v.bottom-s.bottom,0)};return{x:g-b.left+b.right,y:x-b.top+b.bottom,zoom:d}},ri=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Dr(e){return e!=null&&e!=="parent"}function Jt(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function o0(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function i0(e,t={width:0,height:0},n,r,o){const i={...e},s=r.get(n);if(s){const l=s.origin||o;i.x+=s.internals.positionAbsolute.x-(t.width??0)*l[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*l[1]}return i}function Wf(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function EE(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function _E(e){return{...Qg,...e||{}}}function Io(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:s}=xt(e),l=xi({x:i-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},r),{x:a,y:u}=n?yi(l,t):l;return{xSnapped:a,ySnapped:u,...l}}const Vc=e=>({width:e.offsetWidth,height:e.offsetHeight}),s0=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},NE=["INPUT","SELECT","TEXTAREA"];function l0(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:NE.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const a0=e=>"clientX"in e,xt=(e,t)=>{var i,s;const n=a0(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Uf=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...Vc(s)}})};function u0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}){const a=e*.125+o*.375+s*.375+n*.125,u=t*.125+i*.375+l*.375+r*.125,d=Math.abs(a-e),c=Math.abs(u-t);return[a,u,d,c]}function Ui(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Yf({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case Y.Left:return[t-Ui(t-r,i),n];case Y.Right:return[t+Ui(r-t,i),n];case Y.Top:return[t,n-Ui(n-o,i)];case Y.Bottom:return[t,n+Ui(o-n,i)]}}function Wc({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top,curvature:s=.25}){const[l,a]=Yf({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[u,d]=Yf({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[c,f,g,x]=u0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${a} ${u},${d} ${r},${o}`,c,f,g,x]}function c0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[i,l,o,s]}function CE({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const s=o&&n?r+1e3:r,l=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return s+l}function jE({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=wl(Gs(e),Gs(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return ni(s,bl(i))>0}const PE=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,ME=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),d0=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||PE;let o;return Jg(e)?o={...e}:o={...e,id:r(e)},ME(o,t)?t:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,t.concat(o))};function f0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,l]=c0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,l]}const Xf={[Y.Left]:{x:-1,y:0},[Y.Right]:{x:1,y:0},[Y.Top]:{x:0,y:-1},[Y.Bottom]:{x:0,y:1}},IE=({source:e,sourcePosition:t=Y.Bottom,target:n})=>t===Y.Left||t===Y.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Gf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function TE({source:e,sourcePosition:t=Y.Bottom,target:n,targetPosition:r=Y.Top,center:o,offset:i,stepPosition:s}){const l=Xf[t],a=Xf[r],u={x:e.x+l.x*i,y:e.y+l.y*i},d={x:n.x+a.x*i,y:n.y+a.y*i},c=IE({source:u,sourcePosition:t,target:d}),f=c.x!==0?"x":"y",g=c[f];let x=[],v,b;const m={x:0,y:0},y={x:0,y:0},[,,h,w]=c0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[f]*a[f]===-1){f==="x"?(v=o.x??u.x+(d.x-u.x)*s,b=o.y??(u.y+d.y)/2):(v=o.x??(u.x+d.x)/2,b=o.y??u.y+(d.y-u.y)*s);const N=[{x:v,y:u.y},{x:v,y:d.y}],E=[{x:u.x,y:b},{x:d.x,y:b}];l[f]===g?x=f==="x"?N:E:x=f==="x"?E:N}else{const N=[{x:u.x,y:d.y}],E=[{x:d.x,y:u.y}];if(f==="x"?x=l.x===g?E:N:x=l.y===g?N:E,t===r){const T=Math.abs(e[f]-n[f]);if(T<=i){const F=Math.min(i-1,i-T);l[f]===g?m[f]=(u[f]>e[f]?-1:1)*F:y[f]=(d[f]>n[f]?-1:1)*F}}if(t!==r){const T=f==="x"?"y":"x",F=l[f]===a[T],_=u[T]>d[T],I=u[T]<d[T];(l[f]===1&&(!F&&_||F&&I)||l[f]!==1&&(!F&&I||F&&_))&&(x=f==="x"?N:E)}const P={x:u.x+m.x,y:u.y+m.y},R={x:d.x+y.x,y:d.y+y.y},D=Math.max(Math.abs(P.x-x[0].x),Math.abs(R.x-x[0].x)),L=Math.max(Math.abs(P.y-x[0].y),Math.abs(R.y-x[0].y));D>=L?(v=(P.x+R.x)/2,b=x[0].y):(v=x[0].x,b=(P.y+R.y)/2)}return[[e,{x:u.x+m.x,y:u.y+m.y},...x,{x:d.x+y.x,y:d.y+y.y},n],v,b,h,w]}function RE(e,t,n,r){const o=Math.min(Gf(e,t)/2,Gf(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+o*u},${s}Q ${i},${s} ${i},${s+o*d}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${s+o*a}Q ${i},${s} ${i+o*l},${s}`}function Eu({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20,stepPosition:d=.5}){const[c,f,g,x,v]=TE({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:l,y:a},offset:u,stepPosition:d});return[c.reduce((m,y,h)=>{let w="";return h>0&&h<c.length-1?w=RE(c[h-1],y,c[h+1],s):w=`${h===0?"M":"L"}${y.x} ${y.y}`,m+=w,m},""),f,g,x,v]}function Kf(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function LE(e){var c;const{sourceNode:t,targetNode:n}=e;if(!Kf(t)||!Kf(n))return null;const r=t.internals.handleBounds||Qf(t.handles),o=n.internals.handleBounds||Qf(n.handles),i=qf((r==null?void 0:r.source)??[],e.sourceHandle),s=qf(e.connectionMode===Lr.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!s)return(c=e.onError)==null||c.call(e,"008",Rt.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(i==null?void 0:i.position)||Y.Bottom,a=(s==null?void 0:s.position)||Y.Top,u=Kn(t,i,l),d=Kn(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:l,targetPosition:a}}function Qf(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Kn(e,t,n=Y.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:l}=t??Jt(e);if(r)return{x:o+s/2,y:i+l/2};switch((t==null?void 0:t.position)??n){case Y.Top:return{x:o+s/2,y:i};case Y.Right:return{x:o+s,y:i+l/2};case Y.Bottom:return{x:o+s/2,y:i+l};case Y.Left:return{x:o,y:i+l/2}}}function qf(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function _u(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function zE(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((s,l)=>([l.markerStart||r,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=_u(a,t);i.has(u)||(s.push({id:u,color:a.color||n,...a}),i.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const h0=1e3,$E=10,Uc={nodeOrigin:[0,0],nodeExtent:ei,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},DE={...Uc,checkEquality:!0};function Yc(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function AE(e,t,n){const r=Yc(Uc,n);for(const o of e.values())if(o.parentId)Gc(o,e,t,r);else{const i=mi(o,r.nodeOrigin),s=Dr(o.extent)?o.extent:r.nodeExtent,l=Gn(i,s,Jt(o));o.internals.positionAbsolute=l}}function OE(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const o of e.handles){const i={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(i):o.type==="target"&&r.push(i)}return{source:n,target:r}}function Xc(e){return e==="manual"}function Nu(e,t,n,r={}){var u,d;const o=Yc(DE,r),i={i:0},s=new Map(t),l=o!=null&&o.elevateNodesOnSelect&&!Xc(o.zIndexMode)?h0:0;let a=e.length>0;t.clear(),n.clear();for(const c of e){let f=s.get(c.id);if(o.checkEquality&&c===(f==null?void 0:f.internals.userNode))t.set(c.id,f);else{const g=mi(c,o.nodeOrigin),x=Dr(c.extent)?c.extent:o.nodeExtent,v=Gn(g,x,Jt(c));f={...o.defaults,...c,measured:{width:(u=c.measured)==null?void 0:u.width,height:(d=c.measured)==null?void 0:d.height},internals:{positionAbsolute:v,handleBounds:OE(c,f),z:p0(c,l,o.zIndexMode),userNode:c}},t.set(c.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(a=!1),c.parentId&&Gc(f,t,n,r,i)}return a}function FE(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Gc(e,t,n,r,o){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:l,zIndexMode:a}=Yc(Uc,r),u=e.parentId,d=t.get(u);if(!d){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}FE(e,n),o&&!d.parentId&&d.internals.rootParentIndex===void 0&&a==="auto"&&(d.internals.rootParentIndex=++o.i,d.internals.z=d.internals.z+o.i*$E),o&&d.internals.rootParentIndex!==void 0&&(o.i=d.internals.rootParentIndex);const c=i&&!Xc(a)?h0:0,{x:f,y:g,z:x}=HE(e,d,s,l,c,a),{positionAbsolute:v}=e.internals,b=f!==v.x||g!==v.y;(b||x!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:b?{x:f,y:g}:v,z:x}})}function p0(e,t,n){const r=yt(e.zIndex)?e.zIndex:0;return Xc(n)?r:r+(e.selected?t:0)}function HE(e,t,n,r,o,i){const{x:s,y:l}=t.internals.positionAbsolute,a=Jt(e),u=mi(e,n),d=Dr(e.extent)?Gn(u,e.extent,a):u;let c=Gn({x:s+d.x,y:l+d.y},r,a);e.extent==="parent"&&(c=t0(c,a,t));const f=p0(e,o,i),g=t.internals.z??0;return{x:c.x,y:c.y,z:g>=f?g+1:f}}function Kc(e,t,n,r=[0,0]){var s;const o=[],i=new Map;for(const l of e){const a=t.get(l.parentId);if(!a)continue;const u=((s=i.get(l.parentId))==null?void 0:s.expandedRect)??$r(a),d=r0(u,l.rect);i.set(l.parentId,{expandedRect:d,parent:a})}return i.size>0&&i.forEach(({expandedRect:l,parent:a},u)=>{var h;const d=a.internals.positionAbsolute,c=Jt(a),f=a.origin??r,g=l.x<d.x?Math.round(Math.abs(d.x-l.x)):0,x=l.y<d.y?Math.round(Math.abs(d.y-l.y)):0,v=Math.max(c.width,Math.round(l.width)),b=Math.max(c.height,Math.round(l.height)),m=(v-c.width)*f[0],y=(b-c.height)*f[1];(g>0||x>0||m||y)&&(o.push({id:u,type:"position",position:{x:a.position.x-g+m,y:a.position.y-x+y}}),(h=n.get(u))==null||h.forEach(w=>{e.some(k=>k.id===w.id)||o.push({id:w.id,type:"position",position:{x:w.position.x+g,y:w.position.y+x}})})),(c.width<l.width||c.height<l.height||g||x)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:v+(g?f[0]*g-m:0),height:b+(x?f[1]*x-y:0)}})}),o}function BE(e,t,n,r,o,i,s){const l=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!l)return{changes:[],updatedInternals:a};const u=[],d=window.getComputedStyle(l),{m22:c}=new window.DOMMatrixReadOnly(d.transform),f=[];for(const g of e.values()){const x=t.get(g.id);if(!x)continue;if(x.hidden){t.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),a=!0;continue}const v=Vc(g.nodeElement),b=x.measured.width!==v.width||x.measured.height!==v.height;if(!!(v.width&&v.height&&(b||!x.internals.handleBounds||g.force))){const y=g.nodeElement.getBoundingClientRect(),h=Dr(x.extent)?x.extent:i;let{positionAbsolute:w}=x.internals;x.parentId&&x.extent==="parent"?w=t0(w,v,t.get(x.parentId)):h&&(w=Gn(w,h,v));const k={...x,measured:v,internals:{...x.internals,positionAbsolute:w,handleBounds:{source:Uf("source",g.nodeElement,y,c,x.id),target:Uf("target",g.nodeElement,y,c,x.id)}}};t.set(x.id,k),x.parentId&&Gc(k,t,n,{nodeOrigin:o,zIndexMode:s}),a=!0,b&&(u.push({id:x.id,type:"dimensions",dimensions:v}),x.expandParent&&x.parentId&&f.push({id:x.id,parentId:x.parentId,rect:$r(k,o)}))}}if(f.length>0){const g=Kc(f,t,n,o);u.push(...g)}return{changes:u,updatedInternals:a}}async function VE({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function Zf(e,t,n,r,o,i){let s=o;const l=r.get(s)||new Map;r.set(s,l.set(n,t)),s=`${o}-${e}`;const a=r.get(s)||new Map;if(r.set(s,a.set(n,t)),i){s=`${o}-${e}-${i}`;const u=r.get(s)||new Map;r.set(s,u.set(n,t))}}function m0(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:s=null,targetHandle:l=null}=r,a={edgeId:r.id,source:o,target:i,sourceHandle:s,targetHandle:l},u=`${o}-${s}--${i}-${l}`,d=`${i}-${l}--${o}-${s}`;Zf("source",a,d,e,o,s),Zf("target",a,u,e,i,l),t.set(r.id,r)}}function g0(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:g0(n,t):!1}function Jf(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function WE(e,t,n,r){const o=new Map;for(const[i,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!g0(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const l=e.get(i);l&&o.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function da({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,l,a;const o=[];for(const[u,d]of t){const c=(s=n.get(u))==null?void 0:s.internals.userNode;c&&o.push({...c,position:d.position,dragging:r})}if(!e)return[o[0],o];const i=(l=n.get(e))==null?void 0:l.internals.userNode;return[i?{...i,position:((a=t.get(e))==null?void 0:a.position)||i.position,dragging:r}:o[0],o]}function UE({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const i={x:n-o.distance.x,y:r-o.distance.y},s=yi(i,t);return{x:s.x-i.x,y:s.y-i.y}}function YE({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},d=null,c=!1,f=null,g=!1,x=!1,v=null;function b({noDragClassName:y,handleSelector:h,domNode:w,isSelectable:k,nodeId:N,nodeClickDistance:E=0}){f=Qe(w);function P({x:T,y:F}){const{nodeLookup:_,nodeExtent:I,snapGrid:M,snapToGrid:$,nodeOrigin:C,onNodeDrag:j,onSelectionDrag:z,onError:A,updateNodePositions:O}=t();i={x:T,y:F};let W=!1;const V=l.size>1,X=V&&I?ku(gi(l)):null,G=V&&$?UE({dragItems:l,snapGrid:M,x:T,y:F}):null;for(const[K,B]of l){if(!_.has(K))continue;let Q={x:T-B.distance.x,y:F-B.distance.y};$&&(Q=G?{x:Math.round(Q.x+G.x),y:Math.round(Q.y+G.y)}:yi(Q,M));let ne=null;if(V&&I&&!B.extent&&X){const{positionAbsolute:q}=B.internals,le=q.x-X.x+I[0][0],ce=q.x+B.measured.width-X.x2+I[1][0],se=q.y-X.y+I[0][1],Re=q.y+B.measured.height-X.y2+I[1][1];ne=[[le,se],[ce,Re]]}const{position:J,positionAbsolute:Z}=e0({nodeId:K,nextPosition:Q,nodeLookup:_,nodeExtent:ne||I,nodeOrigin:C,onError:A});W=W||B.position.x!==J.x||B.position.y!==J.y,B.position=J,B.internals.positionAbsolute=Z}if(x=x||W,!!W&&(O(l,!0),v&&(r||j||!N&&z))){const[K,B]=da({nodeId:N,dragItems:l,nodeLookup:_});r==null||r(v,l,K,B),j==null||j(v,K,B),N||z==null||z(v,B)}}async function R(){if(!d)return;const{transform:T,panBy:F,autoPanSpeed:_,autoPanOnNodeDrag:I}=t();if(!I){a=!1,cancelAnimationFrame(s);return}const[M,$]=n0(u,d,_);(M!==0||$!==0)&&(i.x=(i.x??0)-M/T[2],i.y=(i.y??0)-$/T[2],await F({x:M,y:$})&&P(i)),s=requestAnimationFrame(R)}function D(T){var V;const{nodeLookup:F,multiSelectionActive:_,nodesDraggable:I,transform:M,snapGrid:$,snapToGrid:C,selectNodesOnDrag:j,onNodeDragStart:z,onSelectionDragStart:A,unselectNodesAndEdges:O}=t();c=!0,(!j||!k)&&!_&&N&&((V=F.get(N))!=null&&V.selected||O()),k&&j&&N&&(e==null||e(N));const W=Io(T.sourceEvent,{transform:M,snapGrid:$,snapToGrid:C,containerBounds:d});if(i=W,l=WE(F,I,W,N),l.size>0&&(n||z||!N&&A)){const[X,G]=da({nodeId:N,dragItems:l,nodeLookup:F});n==null||n(T.sourceEvent,l,X,G),z==null||z(T.sourceEvent,X,G),N||A==null||A(T.sourceEvent,G)}}const L=Rg().clickDistance(E).on("start",T=>{const{domNode:F,nodeDragThreshold:_,transform:I,snapGrid:M,snapToGrid:$}=t();d=(F==null?void 0:F.getBoundingClientRect())||null,g=!1,x=!1,v=T.sourceEvent,_===0&&D(T),i=Io(T.sourceEvent,{transform:I,snapGrid:M,snapToGrid:$,containerBounds:d}),u=xt(T.sourceEvent,d)}).on("drag",T=>{const{autoPanOnNodeDrag:F,transform:_,snapGrid:I,snapToGrid:M,nodeDragThreshold:$,nodeLookup:C}=t(),j=Io(T.sourceEvent,{transform:_,snapGrid:I,snapToGrid:M,containerBounds:d});if(v=T.sourceEvent,(T.sourceEvent.type==="touchmove"&&T.sourceEvent.touches.length>1||N&&!C.has(N))&&(g=!0),!g){if(!a&&F&&c&&(a=!0,R()),!c){const z=xt(T.sourceEvent,d),A=z.x-u.x,O=z.y-u.y;Math.sqrt(A*A+O*O)>$&&D(T)}(i.x!==j.xSnapped||i.y!==j.ySnapped)&&l&&c&&(u=xt(T.sourceEvent,d),P(j))}}).on("end",T=>{if(!(!c||g)&&(a=!1,c=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:F,updateNodePositions:_,onNodeDragStop:I,onSelectionDragStop:M}=t();if(x&&(_(l,!1),x=!1),o||I||!N&&M){const[$,C]=da({nodeId:N,dragItems:l,nodeLookup:F,dragging:!1});o==null||o(T.sourceEvent,l,$,C),I==null||I(T.sourceEvent,$,C),N||M==null||M(T.sourceEvent,C)}}}).filter(T=>{const F=T.target;return!T.button&&(!y||!Jf(F,`.${y}`,w))&&(!h||Jf(F,h,w))});f.call(L)}function m(){f==null||f.on(".drag",null)}return{update:b,destroy:m}}function XE(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())ni(o,$r(i))>0&&r.push(i);return r}const GE=250;function KE(e,t,n,r){var l,a;let o=[],i=1/0;const s=XE(e,n,t+GE);for(const u of s){const d=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const c of d){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:f,y:g}=Kn(u,c,c.position,!0),x=Math.sqrt(Math.pow(f-e.x,2)+Math.pow(g-e.y,2));x>t||(x<i?(o=[{...c,x:f,y:g}],i=x):x===i&&o.push({...c,x:f,y:g}))}}if(!o.length)return null;if(o.length>1){const u=r.type==="source"?"target":"source";return o.find(d=>d.type===u)??o[0]}return o[0]}function y0(e,t,n,r,o,i=!1){var u,d,c;const s=r.get(e);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((d=s.internals.handleBounds)==null?void 0:d.source)??[],...((c=s.internals.handleBounds)==null?void 0:c.target)??[]],a=(n?l==null?void 0:l.find(f=>f.id===n):l==null?void 0:l[0])??null;return a&&i?{...a,...Kn(s,a,a.position,!0)}:a}function x0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function QE(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const v0=()=>!0;function qE(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:d,flowId:c,panBy:f,cancelConnection:g,onConnectStart:x,onConnect:v,onConnectEnd:b,isValidConnection:m=v0,onReconnectEnd:y,updateConnection:h,getTransform:w,getFromHandle:k,autoPanSpeed:N,dragThreshold:E=1,handleDomNode:P}){const R=s0(e.target);let D=0,L;const{x:T,y:F}=xt(e),_=x0(i,P),I=l==null?void 0:l.getBoundingClientRect();let M=!1;if(!I||!_)return;const $=y0(o,_,r,a,t);if(!$)return;let C=xt(e,I),j=!1,z=null,A=!1,O=null;function W(){if(!d||!I)return;const[J,Z]=n0(C,I,N);f({x:J,y:Z}),D=requestAnimationFrame(W)}const V={...$,nodeId:o,type:_,position:$.position},X=a.get(o);let K={inProgress:!0,isValid:null,from:Kn(X,V,Y.Left,!0),fromHandle:V,fromPosition:V.position,fromNode:X,to:C,toHandle:null,toPosition:Hf[V.position],toNode:null,pointer:C};function B(){M=!0,h(K),x==null||x(e,{nodeId:o,handleId:r,handleType:_})}E===0&&B();function Q(J){if(!M){const{x:Re,y:en}=xt(J),zt=Re-T,jn=en-F;if(!(zt*zt+jn*jn>E*E))return;B()}if(!k()||!V){ne(J);return}const Z=w();C=xt(J,I),L=KE(xi(C,Z,!1,[1,1]),n,a,V),j||(W(),j=!0);const q=w0(J,{handle:L,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:s?"target":"source",isValidConnection:m,doc:R,lib:u,flowId:c,nodeLookup:a});O=q.handleDomNode,z=q.connection,A=QE(!!L,q.isValid);const le=a.get(o),ce=le?Kn(le,V,Y.Left,!0):K.from,se={...K,from:ce,isValid:A,to:q.toHandle&&A?Ks({x:q.toHandle.x,y:q.toHandle.y},Z):C,toHandle:q.toHandle,toPosition:A&&q.toHandle?q.toHandle.position:Hf[V.position],toNode:q.toHandle?a.get(q.toHandle.nodeId):null,pointer:C};h(se),K=se}function ne(J){if(!("touches"in J&&J.touches.length>0)){if(M){(L||O)&&z&&A&&(v==null||v(z));const{inProgress:Z,...q}=K,le={...q,toPosition:K.toHandle?K.toPosition:null};b==null||b(J,le),i&&(y==null||y(J,le))}g(),cancelAnimationFrame(D),j=!1,A=!1,z=null,O=null,R.removeEventListener("mousemove",Q),R.removeEventListener("mouseup",ne),R.removeEventListener("touchmove",Q),R.removeEventListener("touchend",ne)}}R.addEventListener("mousemove",Q),R.addEventListener("mouseup",ne),R.addEventListener("touchmove",Q),R.addEventListener("touchend",ne)}function w0(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:s,lib:l,flowId:a,isValidConnection:u=v0,nodeLookup:d}){const c=i==="target",f=t?s.querySelector(`.${l}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y:x}=xt(e),v=s.elementFromPoint(g,x),b=v!=null&&v.classList.contains(`${l}-flow__handle`)?v:f,m={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const y=x0(void 0,b),h=b.getAttribute("data-nodeid"),w=b.getAttribute("data-handleid"),k=b.classList.contains("connectable"),N=b.classList.contains("connectableend");if(!h||!y)return m;const E={source:c?h:r,sourceHandle:c?w:o,target:c?r:h,targetHandle:c?o:w};m.connection=E;const R=k&&N&&(n===Lr.Strict?c&&y==="source"||!c&&y==="target":h!==r||w!==o);m.isValid=R&&u(E),m.toHandle=y0(h,y,w,d,n,!0)}return m}const Cu={onPointerDown:qE,isValid:w0};function ZE({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=Qe(e);function i({translateExtent:l,width:a,height:u,zoomStep:d=1,pannable:c=!0,zoomable:f=!0,inversePan:g=!1}){const x=h=>{if(h.sourceEvent.type!=="wheel"||!t)return;const w=n(),k=h.sourceEvent.ctrlKey&&ri()?10:1,N=-h.sourceEvent.deltaY*(h.sourceEvent.deltaMode===1?.05:h.sourceEvent.deltaMode?1:.002)*d,E=w[2]*Math.pow(2,N*k);t.scaleTo(E)};let v=[0,0];const b=h=>{(h.sourceEvent.type==="mousedown"||h.sourceEvent.type==="touchstart")&&(v=[h.sourceEvent.clientX??h.sourceEvent.touches[0].clientX,h.sourceEvent.clientY??h.sourceEvent.touches[0].clientY])},m=h=>{const w=n();if(h.sourceEvent.type!=="mousemove"&&h.sourceEvent.type!=="touchmove"||!t)return;const k=[h.sourceEvent.clientX??h.sourceEvent.touches[0].clientX,h.sourceEvent.clientY??h.sourceEvent.touches[0].clientY],N=[k[0]-v[0],k[1]-v[1]];v=k;const E=r()*Math.max(w[2],Math.log(w[2]))*(g?-1:1),P={x:w[0]-N[0]*E,y:w[1]-N[1]*E},R=[[0,0],[a,u]];t.setViewportConstrained({x:P.x,y:P.y,zoom:w[2]},R,l)},y=Gg().on("start",b).on("zoom",c?m:null).on("zoom.wheel",f?x:null);o.call(y,{})}function s(){o.on("zoom",null)}return{update:i,destroy:s,pointer:pt}}const Sl=e=>({x:e.x,y:e.y,zoom:e.k}),fa=({x:e,y:t,zoom:n})=>vl.translate(e,t).scale(n),pr=(e,t)=>e.target.closest(`.${t}`),b0=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),JE=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,ha=(e,t=0,n=JE,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},S0=e=>{const t=e.ctrlKey&&ri()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function e_({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return d=>{if(pr(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const c=n.property("__zoom").k||1;if(d.ctrlKey&&s){const b=pt(d),m=S0(d),y=c*Math.pow(2,m);r.scaleTo(n,y,b,d);return}const f=d.deltaMode===1?20:1;let g=o===On.Vertical?0:d.deltaX*f,x=o===On.Horizontal?0:d.deltaY*f;!ri()&&d.shiftKey&&o!==On.Vertical&&(g=d.deltaY*f,x=0),r.translateBy(n,-(g/c)*i,-(x/c)*i,{internal:!0});const v=Sl(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(a==null||a(d,v),e.panScrollTimeout=setTimeout(()=>{u==null||u(d,v),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(d,v))}}function t_({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",s=!t&&i&&!r.ctrlKey,l=pr(r,e);if(r.ctrlKey&&i&&l&&r.preventDefault(),s||l)return null;r.preventDefault(),n.call(this,r,o)}}function n_({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,s,l;if((i=r.sourceEvent)!=null&&i.internal)return;const o=Sl(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function r_({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var s,l;e.usedRightMouseButton=!!(n&&b0(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((l=i.sourceEvent)!=null&&l.internal)&&(o==null||o(i.sourceEvent,Sl(i.transform)))}}function o_({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,i&&b0(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const a=Sl(s.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function i_({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u,connectionInProgress:d}){return c=>{var b;const f=e||t,g=n&&c.ctrlKey,x=c.type==="wheel";if(c.button===1&&c.type==="mousedown"&&(pr(c,`${u}-flow__node`)||pr(c,`${u}-flow__edge`)))return!0;if(!r&&!f&&!o&&!i&&!n||s||d&&!x||pr(c,l)&&x||pr(c,a)&&(!x||o&&x&&!e)||!n&&c.ctrlKey&&x)return!1;if(!n&&c.type==="touchstart"&&((b=c.touches)==null?void 0:b.length)>1)return c.preventDefault(),!1;if(!f&&!o&&!g&&x||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const v=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||x)&&v}}function s_({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:o,onPanZoom:i,onPanZoomStart:s,onPanZoomEnd:l,onDraggingChange:a}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),c=Gg().scaleExtent([t,n]).translateExtent(r),f=Qe(e).call(c);y({x:o.x,y:o.y,zoom:zr(o.zoom,t,n)},[[0,0],[d.width,d.height]],r);const g=f.on("wheel.zoom"),x=f.on("dblclick.zoom");c.wheelDelta(S0);function v(L,T){return f?new Promise(F=>{c==null||c.interpolate((T==null?void 0:T.interpolate)==="linear"?Mo:cs).transform(ha(f,T==null?void 0:T.duration,T==null?void 0:T.ease,()=>F(!0)),L)}):Promise.resolve(!1)}function b({noWheelClassName:L,noPanClassName:T,onPaneContextMenu:F,userSelectionActive:_,panOnScroll:I,panOnDrag:M,panOnScrollMode:$,panOnScrollSpeed:C,preventScrolling:j,zoomOnPinch:z,zoomOnScroll:A,zoomOnDoubleClick:O,zoomActivationKeyPressed:W,lib:V,onTransformChange:X,connectionInProgress:G,paneClickDistance:K,selectionOnDrag:B}){_&&!u.isZoomingOrPanning&&m();const Q=I&&!W&&!_;c.clickDistance(B?1/0:!yt(K)||K<0?0:K);const ne=Q?e_({zoomPanValues:u,noWheelClassName:L,d3Selection:f,d3Zoom:c,panOnScrollMode:$,panOnScrollSpeed:C,zoomOnPinch:z,onPanZoomStart:s,onPanZoom:i,onPanZoomEnd:l}):t_({noWheelClassName:L,preventScrolling:j,d3ZoomHandler:g});if(f.on("wheel.zoom",ne,{passive:!1}),!_){const Z=n_({zoomPanValues:u,onDraggingChange:a,onPanZoomStart:s});c.on("start",Z);const q=r_({zoomPanValues:u,panOnDrag:M,onPaneContextMenu:!!F,onPanZoom:i,onTransformChange:X});c.on("zoom",q);const le=o_({zoomPanValues:u,panOnDrag:M,panOnScroll:I,onPaneContextMenu:F,onPanZoomEnd:l,onDraggingChange:a});c.on("end",le)}const J=i_({zoomActivationKeyPressed:W,panOnDrag:M,zoomOnScroll:A,panOnScroll:I,zoomOnDoubleClick:O,zoomOnPinch:z,userSelectionActive:_,noPanClassName:T,noWheelClassName:L,lib:V,connectionInProgress:G});c.filter(J),O?f.on("dblclick.zoom",x):f.on("dblclick.zoom",null)}function m(){c.on("zoom",null)}async function y(L,T,F){const _=fa(L),I=c==null?void 0:c.constrain()(_,T,F);return I&&await v(I),new Promise(M=>M(I))}async function h(L,T){const F=fa(L);return await v(F,T),new Promise(_=>_(F))}function w(L){if(f){const T=fa(L),F=f.property("__zoom");(F.k!==L.zoom||F.x!==L.x||F.y!==L.y)&&(c==null||c.transform(f,T,null,{sync:!0}))}}function k(){const L=f?Xg(f.node()):{x:0,y:0,k:1};return{x:L.x,y:L.y,zoom:L.k}}function N(L,T){return f?new Promise(F=>{c==null||c.interpolate((T==null?void 0:T.interpolate)==="linear"?Mo:cs).scaleTo(ha(f,T==null?void 0:T.duration,T==null?void 0:T.ease,()=>F(!0)),L)}):Promise.resolve(!1)}function E(L,T){return f?new Promise(F=>{c==null||c.interpolate((T==null?void 0:T.interpolate)==="linear"?Mo:cs).scaleBy(ha(f,T==null?void 0:T.duration,T==null?void 0:T.ease,()=>F(!0)),L)}):Promise.resolve(!1)}function P(L){c==null||c.scaleExtent(L)}function R(L){c==null||c.translateExtent(L)}function D(L){const T=!yt(L)||L<0?0:L;c==null||c.clickDistance(T)}return{update:b,destroy:m,setViewport:h,setViewportConstrained:y,getViewport:k,scaleTo:N,scaleBy:E,setScaleExtent:P,setTranslateExtent:R,syncViewport:w,setClickDistance:D}}var Ar;(function(e){e.Line="line",e.Handle="handle"})(Ar||(Ar={}));function l_({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const s=e-t,l=n-r,a=[s>0?1:s<0?-1:0,l>0?1:l<0?-1:0];return s&&o&&(a[0]=a[0]*-1),l&&i&&(a[1]=a[1]*-1),a}function eh(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function nn(e,t){return Math.max(0,t-e)}function rn(e,t){return Math.max(0,e-t)}function Yi(e,t,n){return Math.max(0,t-e,e-n)}function th(e,t){return e?!t:t}function a_(e,t,n,r,o,i,s,l){let{affectsX:a,affectsY:u}=t;const{isHorizontal:d,isVertical:c}=t,f=d&&c,{xSnapped:g,ySnapped:x}=n,{minWidth:v,maxWidth:b,minHeight:m,maxHeight:y}=r,{x:h,y:w,width:k,height:N,aspectRatio:E}=e;let P=Math.floor(d?g-e.pointerX:0),R=Math.floor(c?x-e.pointerY:0);const D=k+(a?-P:P),L=N+(u?-R:R),T=-i[0]*k,F=-i[1]*N;let _=Yi(D,v,b),I=Yi(L,m,y);if(s){let C=0,j=0;a&&P<0?C=nn(h+P+T,s[0][0]):!a&&P>0&&(C=rn(h+D+T,s[1][0])),u&&R<0?j=nn(w+R+F,s[0][1]):!u&&R>0&&(j=rn(w+L+F,s[1][1])),_=Math.max(_,C),I=Math.max(I,j)}if(l){let C=0,j=0;a&&P>0?C=rn(h+P,l[0][0]):!a&&P<0&&(C=nn(h+D,l[1][0])),u&&R>0?j=rn(w+R,l[0][1]):!u&&R<0&&(j=nn(w+L,l[1][1])),_=Math.max(_,C),I=Math.max(I,j)}if(o){if(d){const C=Yi(D/E,m,y)*E;if(_=Math.max(_,C),s){let j=0;!a&&!u||a&&!u&&f?j=rn(w+F+D/E,s[1][1])*E:j=nn(w+F+(a?P:-P)/E,s[0][1])*E,_=Math.max(_,j)}if(l){let j=0;!a&&!u||a&&!u&&f?j=nn(w+D/E,l[1][1])*E:j=rn(w+(a?P:-P)/E,l[0][1])*E,_=Math.max(_,j)}}if(c){const C=Yi(L*E,v,b)/E;if(I=Math.max(I,C),s){let j=0;!a&&!u||u&&!a&&f?j=rn(h+L*E+T,s[1][0])/E:j=nn(h+(u?R:-R)*E+T,s[0][0])/E,I=Math.max(I,j)}if(l){let j=0;!a&&!u||u&&!a&&f?j=nn(h+L*E,l[1][0])/E:j=rn(h+(u?R:-R)*E,l[0][0])/E,I=Math.max(I,j)}}}R=R+(R<0?I:-I),P=P+(P<0?_:-_),o&&(f?D>L*E?R=(th(a,u)?-P:P)/E:P=(th(a,u)?-R:R)*E:d?(R=P/E,u=a):(P=R*E,a=u));const M=a?h+P:h,$=u?w+R:w;return{width:k+(a?-P:P),height:N+(u?-R:R),x:i[0]*P*(a?-1:1)+M,y:i[1]*R*(u?-1:1)+$}}const k0={width:0,height:0,x:0,y:0},u_={...k0,pointerX:0,pointerY:0,aspectRatio:1};function c_(e){return[[0,0],[e.measured.width,e.measured.height]]}function d_(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,l=n[0]*i,a=n[1]*s;return[[r-l,o-a],[r+i-l,o+s-a]]}function f_({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=Qe(e);let s={controlDirection:eh("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:u,boundaries:d,keepAspectRatio:c,resizeDirection:f,onResizeStart:g,onResize:x,onResizeEnd:v,shouldResize:b}){let m={...k0},y={...u_};s={boundaries:d,resizeDirection:f,keepAspectRatio:c,controlDirection:eh(u)};let h,w=null,k=[],N,E,P,R=!1;const D=Rg().on("start",L=>{const{nodeLookup:T,transform:F,snapGrid:_,snapToGrid:I,nodeOrigin:M,paneDomNode:$}=n();if(h=T.get(t),!h)return;w=($==null?void 0:$.getBoundingClientRect())??null;const{xSnapped:C,ySnapped:j}=Io(L.sourceEvent,{transform:F,snapGrid:_,snapToGrid:I,containerBounds:w});m={width:h.measured.width??0,height:h.measured.height??0,x:h.position.x??0,y:h.position.y??0},y={...m,pointerX:C,pointerY:j,aspectRatio:m.width/m.height},N=void 0,h.parentId&&(h.extent==="parent"||h.expandParent)&&(N=T.get(h.parentId),E=N&&h.extent==="parent"?c_(N):void 0),k=[],P=void 0;for(const[z,A]of T)if(A.parentId===t&&(k.push({id:z,position:{...A.position},extent:A.extent}),A.extent==="parent"||A.expandParent)){const O=d_(A,h,A.origin??M);P?P=[[Math.min(O[0][0],P[0][0]),Math.min(O[0][1],P[0][1])],[Math.max(O[1][0],P[1][0]),Math.max(O[1][1],P[1][1])]]:P=O}g==null||g(L,{...m})}).on("drag",L=>{const{transform:T,snapGrid:F,snapToGrid:_,nodeOrigin:I}=n(),M=Io(L.sourceEvent,{transform:T,snapGrid:F,snapToGrid:_,containerBounds:w}),$=[];if(!h)return;const{x:C,y:j,width:z,height:A}=m,O={},W=h.origin??I,{width:V,height:X,x:G,y:K}=a_(y,s.controlDirection,M,s.boundaries,s.keepAspectRatio,W,E,P),B=V!==z,Q=X!==A,ne=G!==C&&B,J=K!==j&&Q;if(!ne&&!J&&!B&&!Q)return;if((ne||J||W[0]===1||W[1]===1)&&(O.x=ne?G:m.x,O.y=J?K:m.y,m.x=O.x,m.y=O.y,k.length>0)){const ce=G-C,se=K-j;for(const Re of k)Re.position={x:Re.position.x-ce+W[0]*(V-z),y:Re.position.y-se+W[1]*(X-A)},$.push(Re)}if((B||Q)&&(O.width=B&&(!s.resizeDirection||s.resizeDirection==="horizontal")?V:m.width,O.height=Q&&(!s.resizeDirection||s.resizeDirection==="vertical")?X:m.height,m.width=O.width,m.height=O.height),N&&h.expandParent){const ce=W[0]*(O.width??0);O.x&&O.x<ce&&(m.x=ce,y.x=y.x-(O.x-ce));const se=W[1]*(O.height??0);O.y&&O.y<se&&(m.y=se,y.y=y.y-(O.y-se))}const Z=l_({width:m.width,prevWidth:z,height:m.height,prevHeight:A,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),q={...m,direction:Z};(b==null?void 0:b(L,q))!==!1&&(R=!0,x==null||x(L,q),r(O,$))}).on("end",L=>{R&&(v==null||v(L,{...m}),o==null||o({...m}),R=!1)});i.call(D)}function a(){i.on(".drag",null)}return{update:l,destroy:a}}var E0={exports:{}},_0={},N0={exports:{}},C0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or=S;function h_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var p_=typeof Object.is=="function"?Object.is:h_,m_=Or.useState,g_=Or.useEffect,y_=Or.useLayoutEffect,x_=Or.useDebugValue;function v_(e,t){var n=t(),r=m_({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return y_(function(){o.value=n,o.getSnapshot=t,pa(o)&&i({inst:o})},[e,n,t]),g_(function(){return pa(o)&&i({inst:o}),e(function(){pa(o)&&i({inst:o})})},[e]),x_(n),n}function pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!p_(e,n)}catch{return!0}}function w_(e,t){return t()}var b_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?w_:v_;C0.useSyncExternalStore=Or.useSyncExternalStore!==void 0?Or.useSyncExternalStore:b_;N0.exports=C0;var S_=N0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=S,k_=S_;function E_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var __=typeof Object.is=="function"?Object.is:E_,N_=k_.useSyncExternalStore,C_=kl.useRef,j_=kl.useEffect,P_=kl.useMemo,M_=kl.useDebugValue;_0.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=C_(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=P_(function(){function a(g){if(!u){if(u=!0,d=g,g=r(g),o!==void 0&&s.hasValue){var x=s.value;if(o(x,g))return c=x}return c=g}if(x=c,__(d,g))return x;var v=r(g);return o!==void 0&&o(x,v)?(d=g,x):(d=g,c=v)}var u=!1,d,c,f=n===void 0?null:n;return[function(){return a(t())},f===null?void 0:function(){return a(f())}]},[t,n,r,o]);var l=N_(e,i[0],i[1]);return j_(function(){s.hasValue=!0,s.value=l},[l]),M_(l),l};E0.exports=_0;var I_=E0.exports;const T_=zh(I_),R_={},nh=e=>{let t;const n=new Set,r=(d,c)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const g=t;t=c??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(x=>x(t,g))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(R_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,a);return a},L_=e=>e?nh(e):nh,{useDebugValue:z_}=fo,{useSyncExternalStoreWithSelector:$_}=T_,D_=e=>e;function j0(e,t=D_,n){const r=$_(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return z_(r),r}const rh=(e,t)=>{const n=L_(e),r=(o,i=t)=>j0(n,o,i);return Object.assign(r,n),r},A_=(e,t)=>e?rh(e,t):rh;function ge(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const El=S.createContext(null),O_=El.Provider,P0=Rt.error001();function oe(e,t){const n=S.useContext(El);if(n===null)throw new Error(P0);return j0(n,e,t)}function ye(){const e=S.useContext(El);if(e===null)throw new Error(P0);return S.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const oh={display:"none"},F_={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},M0="react-flow__node-desc",I0="react-flow__edge-desc",H_="react-flow__aria-live",B_=e=>e.ariaLiveMessage,V_=e=>e.ariaLabelConfig;function W_({rfId:e}){const t=oe(B_);return p.jsx("div",{id:`${H_}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:F_,children:t})}function U_({rfId:e,disableKeyboardA11y:t}){const n=oe(V_);return p.jsxs(p.Fragment,{children:[p.jsx("div",{id:`${M0}-${e}`,style:oh,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),p.jsx("div",{id:`${I0}-${e}`,style:oh,children:n["edge.a11yDescription.default"]}),!t&&p.jsx(W_,{rfId:e})]})}const _l=S.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const s=`${e}`.split("-");return p.jsx("div",{className:Ee(["react-flow__panel",n,...s]),style:r,ref:i,...o,children:t})});_l.displayName="Panel";function Y_({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:p.jsx(_l,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:p.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const X_=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Xi=e=>e.id;function G_(e,t){return ge(e.selectedNodes.map(Xi),t.selectedNodes.map(Xi))&&ge(e.selectedEdges.map(Xi),t.selectedEdges.map(Xi))}function K_({onSelectionChange:e}){const t=ye(),{selectedNodes:n,selectedEdges:r}=oe(X_,G_);return S.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const Q_=e=>!!e.onSelectionChangeHandlers;function q_({onSelectionChange:e}){const t=oe(Q_);return e||t?p.jsx(K_,{onSelectionChange:e}):null}const T0=[0,0],Z_={x:0,y:0,zoom:1},J_=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],ih=[...J_,"rfId"],eN=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),sh={translateExtent:ei,nodeOrigin:T0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function tN(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:a}=oe(eN,ge),u=ye();S.useEffect(()=>(a(e.defaultNodes,e.defaultEdges),()=>{d.current=sh,l()}),[]);const d=S.useRef(sh);return S.useEffect(()=>{for(const c of ih){const f=e[c],g=d.current[c];f!==g&&(typeof e[c]>"u"||(c==="nodes"?t(f):c==="edges"?n(f):c==="minZoom"?r(f):c==="maxZoom"?o(f):c==="translateExtent"?i(f):c==="nodeExtent"?s(f):c==="ariaLabelConfig"?u.setState({ariaLabelConfig:_E(f)}):c==="fitView"?u.setState({fitViewQueued:f}):c==="fitViewOptions"?u.setState({fitViewOptions:f}):u.setState({[c]:f})))}d.current=e},ih.map(c=>e[c])),null}function lh(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function nN(e){var r;const[t,n]=S.useState(e==="system"?null:e);return S.useEffect(()=>{if(e!=="system"){n(e);return}const o=lh(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=lh())!=null&&r.matches?"dark":"light"}const ah=typeof document<"u"?document:null;function oi(e=null,t={target:ah,actInsideInputWithModifier:!0}){const[n,r]=S.useState(!1),o=S.useRef(!1),i=S.useRef(new Set([])),[s,l]=S.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(c=>typeof c=="string").map(c=>c.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=u.reduce((c,f)=>c.concat(...f),[]);return[u,d]}return[[],[]]},[e]);return S.useEffect(()=>{const a=(t==null?void 0:t.target)??ah,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=g=>{var b,m;if(o.current=g.ctrlKey||g.metaKey||g.shiftKey||g.altKey,(!o.current||o.current&&!u)&&l0(g))return!1;const v=ch(g.code,l);if(i.current.add(g[v]),uh(s,i.current,!1)){const y=((m=(b=g.composedPath)==null?void 0:b.call(g))==null?void 0:m[0])||g.target,h=(y==null?void 0:y.nodeName)==="BUTTON"||(y==null?void 0:y.nodeName)==="A";t.preventDefault!==!1&&(o.current||!h)&&g.preventDefault(),r(!0)}},c=g=>{const x=ch(g.code,l);uh(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(g[x]),g.key==="Meta"&&i.current.clear(),o.current=!1},f=()=>{i.current.clear(),r(!1)};return a==null||a.addEventListener("keydown",d),a==null||a.addEventListener("keyup",c),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{a==null||a.removeEventListener("keydown",d),a==null||a.removeEventListener("keyup",c),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[e,r]),n}function uh(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function ch(e,t){return t.includes(e)?"code":"key"}const rN=()=>{const e=ye();return S.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:s,panZoom:l}=e.getState(),a=Bc(t,r,o,i,s,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(a,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:l,y:a}=s.getBoundingClientRect(),u={x:t.x-l,y:t.y-a},d=n.snapGrid??o,c=n.snapToGrid??i;return xi(u,r,c,d)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),s=Ks(t,n);return{x:s.x+o,y:s.y+i}}}),[])};function R0(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const s=r.get(i.id);s?s.push(i):r.set(i.id,[i])}for(const i of t){const s=r.get(i.id);if(!s){n.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const l={...i};for(const a of s)oN(a,l);n.push(l)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function oN(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function L0(e,t){return R0(e,t)}function z0(e,t){return R0(e,t)}function In(e,t){return{id:e,type:"select",selected:t}}function mr(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const s=t.has(o);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),r.push(In(i.id,s)))}return r}function dh({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const l=t.get(s.id),a=((o=l==null?void 0:l.internals)==null?void 0:o.userNode)??l;a!==void 0&&a!==s&&n.push({id:s.id,item:s,type:"replace"}),a===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function fh(e){return{id:e.id,type:"remove"}}const hh=e=>mE(e),iN=e=>Jg(e);function $0(e){return S.forwardRef(e)}const sN=typeof window<"u"?S.useLayoutEffect:S.useEffect;function ph(e){const[t,n]=S.useState(BigInt(0)),[r]=S.useState(()=>lN(()=>n(o=>o+BigInt(1))));return sN(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function lN(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const D0=S.createContext(null);function aN({children:e}){const t=ye(),n=S.useCallback(l=>{const{nodes:a=[],setNodes:u,hasDefaultNodes:d,onNodesChange:c,nodeLookup:f,fitViewQueued:g,onNodesChangeMiddlewareMap:x}=t.getState();let v=a;for(const m of l)v=typeof m=="function"?m(v):m;let b=dh({items:v,lookup:f});for(const m of x.values())b=m(b);d&&u(v),b.length>0?c==null||c(b):g&&window.requestAnimationFrame(()=>{const{fitViewQueued:m,nodes:y,setNodes:h}=t.getState();m&&h(y)})},[]),r=ph(n),o=S.useCallback(l=>{const{edges:a=[],setEdges:u,hasDefaultEdges:d,onEdgesChange:c,edgeLookup:f}=t.getState();let g=a;for(const x of l)g=typeof x=="function"?x(g):x;d?u(g):c&&c(dh({items:g,lookup:f}))},[]),i=ph(o),s=S.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return p.jsx(D0.Provider,{value:s,children:e})}function uN(){const e=S.useContext(D0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const cN=e=>!!e.panZoom;function Nl(){const e=rN(),t=ye(),n=uN(),r=oe(cN),o=S.useMemo(()=>{const i=c=>t.getState().nodeLookup.get(c),s=c=>{n.nodeQueue.push(c)},l=c=>{n.edgeQueue.push(c)},a=c=>{var m,y;const{nodeLookup:f,nodeOrigin:g}=t.getState(),x=hh(c)?c:f.get(c.id),v=x.parentId?i0(x.position,x.measured,x.parentId,f,g):x.position,b={...x,position:v,width:((m=x.measured)==null?void 0:m.width)??x.width,height:((y=x.measured)==null?void 0:y.height)??x.height};return $r(b)},u=(c,f,g={replace:!1})=>{s(x=>x.map(v=>{if(v.id===c){const b=typeof f=="function"?f(v):f;return g.replace&&hh(b)?b:{...v,...b}}return v}))},d=(c,f,g={replace:!1})=>{l(x=>x.map(v=>{if(v.id===c){const b=typeof f=="function"?f(v):f;return g.replace&&iN(b)?b:{...v,...b}}return v}))};return{getNodes:()=>t.getState().nodes.map(c=>({...c})),getNode:c=>{var f;return(f=i(c))==null?void 0:f.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:c=[]}=t.getState();return c.map(f=>({...f}))},getEdge:c=>t.getState().edgeLookup.get(c),setNodes:s,setEdges:l,addNodes:c=>{const f=Array.isArray(c)?c:[c];n.nodeQueue.push(g=>[...g,...f])},addEdges:c=>{const f=Array.isArray(c)?c:[c];n.edgeQueue.push(g=>[...g,...f])},toObject:()=>{const{nodes:c=[],edges:f=[],transform:g}=t.getState(),[x,v,b]=g;return{nodes:c.map(m=>({...m})),edges:f.map(m=>({...m})),viewport:{x,y:v,zoom:b}}},deleteElements:async({nodes:c=[],edges:f=[]})=>{const{nodes:g,edges:x,onNodesDelete:v,onEdgesDelete:b,triggerNodeChanges:m,triggerEdgeChanges:y,onDelete:h,onBeforeDelete:w}=t.getState(),{nodes:k,edges:N}=await wE({nodesToRemove:c,edgesToRemove:f,nodes:g,edges:x,onBeforeDelete:w}),E=N.length>0,P=k.length>0;if(E){const R=N.map(fh);b==null||b(N),y(R)}if(P){const R=k.map(fh);v==null||v(k),m(R)}return(P||E)&&(h==null||h({nodes:k,edges:N})),{deletedNodes:k,deletedEdges:N}},getIntersectingNodes:(c,f=!0,g)=>{const x=Vf(c),v=x?c:a(c),b=g!==void 0;return v?(g||t.getState().nodes).filter(m=>{const y=t.getState().nodeLookup.get(m.id);if(y&&!x&&(m.id===c.id||!y.internals.positionAbsolute))return!1;const h=$r(b?m:y),w=ni(h,v);return f&&w>0||w>=h.width*h.height||w>=v.width*v.height}):[]},isNodeIntersecting:(c,f,g=!0)=>{const v=Vf(c)?c:a(c);if(!v)return!1;const b=ni(v,f);return g&&b>0||b>=f.width*f.height||b>=v.width*v.height},updateNode:u,updateNodeData:(c,f,g={replace:!1})=>{u(c,x=>{const v=typeof f=="function"?f(x):f;return g.replace?{...x,data:v}:{...x,data:{...x.data,...v}}},g)},updateEdge:d,updateEdgeData:(c,f,g={replace:!1})=>{d(c,x=>{const v=typeof f=="function"?f(x):f;return g.replace?{...x,data:v}:{...x,data:{...x.data,...v}}},g)},getNodesBounds:c=>{const{nodeLookup:f,nodeOrigin:g}=t.getState();return gE(c,{nodeLookup:f,nodeOrigin:g})},getHandleConnections:({type:c,id:f,nodeId:g})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${g}-${c}${f?`-${f}`:""}`))==null?void 0:x.values())??[])},getNodeConnections:({type:c,handleId:f,nodeId:g})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${g}${c?f?`-${c}-${f}`:`-${c}`:""}`))==null?void 0:x.values())??[])},fitView:async c=>{const f=t.getState().fitViewResolver??EE();return t.setState({fitViewQueued:!0,fitViewOptions:c,fitViewResolver:f}),n.nodeQueue.push(g=>[...g]),f.promise}}},[]);return S.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const mh=e=>e.selected,dN=typeof window<"u"?window:void 0;function fN({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=ye(),{deleteElements:r}=Nl(),o=oi(e,{actInsideInputWithModifier:!1}),i=oi(t,{target:dN});S.useEffect(()=>{if(o){const{edges:s,nodes:l}=n.getState();r({nodes:l.filter(mh),edges:s.filter(mh)}),n.setState({nodesSelectionActive:!1})}},[o]),S.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function hN(e){const t=ye();S.useEffect(()=>{const n=()=>{var o,i,s,l;if(!e.current||!(((i=(o=e.current).checkVisibility)==null?void 0:i.call(o))??!0))return!1;const r=Vc(e.current);(r.height===0||r.width===0)&&((l=(s=t.getState()).onError)==null||l.call(s,"004",Rt.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Cl={position:"absolute",width:"100%",height:"100%",top:0,left:0},pN=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function mN({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=On.Free,zoomOnDoubleClick:s=!0,panOnDrag:l=!0,defaultViewport:a,translateExtent:u,minZoom:d,maxZoom:c,zoomActivationKeyCode:f,preventScrolling:g=!0,children:x,noWheelClassName:v,noPanClassName:b,onViewportChange:m,isControlledViewport:y,paneClickDistance:h,selectionOnDrag:w}){const k=ye(),N=S.useRef(null),{userSelectionActive:E,lib:P,connectionInProgress:R}=oe(pN,ge),D=oi(f),L=S.useRef();hN(N);const T=S.useCallback(F=>{m==null||m({x:F[0],y:F[1],zoom:F[2]}),y||k.setState({transform:F})},[m,y]);return S.useEffect(()=>{if(N.current){L.current=s_({domNode:N.current,minZoom:d,maxZoom:c,translateExtent:u,viewport:a,onDraggingChange:M=>k.setState({paneDragging:M}),onPanZoomStart:(M,$)=>{const{onViewportChangeStart:C,onMoveStart:j}=k.getState();j==null||j(M,$),C==null||C($)},onPanZoom:(M,$)=>{const{onViewportChange:C,onMove:j}=k.getState();j==null||j(M,$),C==null||C($)},onPanZoomEnd:(M,$)=>{const{onViewportChangeEnd:C,onMoveEnd:j}=k.getState();j==null||j(M,$),C==null||C($)}});const{x:F,y:_,zoom:I}=L.current.getViewport();return k.setState({panZoom:L.current,transform:[F,_,I],domNode:N.current.closest(".react-flow")}),()=>{var M;(M=L.current)==null||M.destroy()}}},[]),S.useEffect(()=>{var F;(F=L.current)==null||F.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:l,zoomActivationKeyPressed:D,preventScrolling:g,noPanClassName:b,userSelectionActive:E,noWheelClassName:v,lib:P,onTransformChange:T,connectionInProgress:R,selectionOnDrag:w,paneClickDistance:h})},[e,t,n,r,o,i,s,l,D,g,b,E,v,P,T,R,w,h]),p.jsx("div",{className:"react-flow__renderer",ref:N,style:Cl,children:x})}const gN=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function yN(){const{userSelectionActive:e,userSelectionRect:t}=oe(gN,ge);return e&&t?p.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const ma=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},xN=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function vN({isSelecting:e,selectionKeyPressed:t,selectionMode:n=ti.Full,panOnDrag:r,paneClickDistance:o,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:l,onPaneClick:a,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:c,onPaneMouseMove:f,onPaneMouseLeave:g,children:x}){const v=ye(),{userSelectionActive:b,elementsSelectable:m,dragging:y,connectionInProgress:h}=oe(xN,ge),w=m&&(e||b),k=S.useRef(null),N=S.useRef(),E=S.useRef(new Set),P=S.useRef(new Set),R=S.useRef(!1),D=C=>{if(R.current||h){R.current=!1;return}a==null||a(C),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},L=C=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){C.preventDefault();return}u==null||u(C)},T=d?C=>d(C):void 0,F=C=>{R.current&&(C.stopPropagation(),R.current=!1)},_=C=>{var X,G;const{domNode:j}=v.getState();if(N.current=j==null?void 0:j.getBoundingClientRect(),!N.current)return;const z=C.target===k.current;if(!z&&!!C.target.closest(".nokey")||!e||!(i&&z||t)||C.button!==0||!C.isPrimary)return;(G=(X=C.target)==null?void 0:X.setPointerCapture)==null||G.call(X,C.pointerId),R.current=!1;const{x:W,y:V}=xt(C.nativeEvent,N.current);v.setState({userSelectionRect:{width:0,height:0,startX:W,startY:V,x:W,y:V}}),z||(C.stopPropagation(),C.preventDefault())},I=C=>{const{userSelectionRect:j,transform:z,nodeLookup:A,edgeLookup:O,connectionLookup:W,triggerNodeChanges:V,triggerEdgeChanges:X,defaultEdgeOptions:G,resetSelectedElements:K}=v.getState();if(!N.current||!j)return;const{x:B,y:Q}=xt(C.nativeEvent,N.current),{startX:ne,startY:J}=j;if(!R.current){const se=t?0:o;if(Math.hypot(B-ne,Q-J)<=se)return;K(),s==null||s(C)}R.current=!0;const Z={startX:ne,startY:J,x:B<ne?B:ne,y:Q<J?Q:J,width:Math.abs(B-ne),height:Math.abs(Q-J)},q=E.current,le=P.current;E.current=new Set(Hc(A,Z,z,n===ti.Partial,!0).map(se=>se.id)),P.current=new Set;const ce=(G==null?void 0:G.selectable)??!0;for(const se of E.current){const Re=W.get(se);if(Re)for(const{edgeId:en}of Re.values()){const zt=O.get(en);zt&&(zt.selectable??ce)&&P.current.add(en)}}if(!Wf(q,E.current)){const se=mr(A,E.current,!0);V(se)}if(!Wf(le,P.current)){const se=mr(O,P.current);X(se)}v.setState({userSelectionRect:Z,userSelectionActive:!0,nodesSelectionActive:!1})},M=C=>{var j,z;C.button===0&&((z=(j=C.target)==null?void 0:j.releasePointerCapture)==null||z.call(j,C.pointerId),!b&&C.target===k.current&&v.getState().userSelectionRect&&(D==null||D(C)),v.setState({userSelectionActive:!1,userSelectionRect:null}),R.current&&(l==null||l(C),v.setState({nodesSelectionActive:E.current.size>0})))},$=r===!0||Array.isArray(r)&&r.includes(0);return p.jsxs("div",{className:Ee(["react-flow__pane",{draggable:$,dragging:y,selection:e}]),onClick:w?void 0:ma(D,k),onContextMenu:ma(L,k),onWheel:ma(T,k),onPointerEnter:w?void 0:c,onPointerMove:w?I:f,onPointerUp:w?M:void 0,onPointerDownCapture:w?_:void 0,onClickCapture:w?F:void 0,onPointerLeave:g,ref:k,style:Cl,children:[x,p.jsx(yN,{})]})}function ju({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",Rt.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):o([e])}function A0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:s}){const l=ye(),[a,u]=S.useState(!1),d=S.useRef();return S.useEffect(()=>{d.current=YE({getStoreItems:()=>l.getState(),onNodeMouseDown:c=>{ju({id:c,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),S.useEffect(()=>{var c,f;if(t)(c=d.current)==null||c.destroy();else if(e.current)return(f=d.current)==null||f.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:s}),()=>{var g;(g=d.current)==null||g.destroy()}},[n,r,t,i,e,o]),a}const wN=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function O0(){const e=ye();return S.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:s,onError:l,updateNodePositions:a,nodeLookup:u,nodeOrigin:d}=e.getState(),c=new Map,f=wN(s),g=o?i[0]:5,x=o?i[1]:5,v=n.direction.x*g*n.factor,b=n.direction.y*x*n.factor;for(const[,m]of u){if(!f(m))continue;let y={x:m.internals.positionAbsolute.x+v,y:m.internals.positionAbsolute.y+b};o&&(y=yi(y,i));const{position:h,positionAbsolute:w}=e0({nodeId:m.id,nextPosition:y,nodeLookup:u,nodeExtent:r,nodeOrigin:d,onError:l});m.position=h,m.internals.positionAbsolute=w,c.set(m.id,m)}a(c)},[])}const Qc=S.createContext(null),bN=Qc.Provider;Qc.Consumer;const F0=()=>S.useContext(Qc),SN=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),kN=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:s}=r,{fromHandle:l,toHandle:a,isValid:u}=s,d=(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:d,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===Lr.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!o,valid:d&&u}};function EN({type:e="source",position:t=Y.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:d,onTouchStart:c,...f},g){var I,M;const x=s||null,v=e==="target",b=ye(),m=F0(),{connectOnClick:y,noPanClassName:h,rfId:w}=oe(SN,ge),{connectingFrom:k,connectingTo:N,clickConnecting:E,isPossibleEndHandle:P,connectionInProcess:R,clickConnectionInProcess:D,valid:L}=oe(kN(m,x,e),ge);m||(M=(I=b.getState()).onError)==null||M.call(I,"010",Rt.error010());const T=$=>{const{defaultEdgeOptions:C,onConnect:j,hasDefaultEdges:z}=b.getState(),A={...C,...$};if(z){const{edges:O,setEdges:W}=b.getState();W(d0(A,O))}j==null||j(A),l==null||l(A)},F=$=>{if(!m)return;const C=a0($.nativeEvent);if(o&&(C&&$.button===0||!C)){const j=b.getState();Cu.onPointerDown($.nativeEvent,{handleDomNode:$.currentTarget,autoPanOnConnect:j.autoPanOnConnect,connectionMode:j.connectionMode,connectionRadius:j.connectionRadius,domNode:j.domNode,nodeLookup:j.nodeLookup,lib:j.lib,isTarget:v,handleId:x,nodeId:m,flowId:j.rfId,panBy:j.panBy,cancelConnection:j.cancelConnection,onConnectStart:j.onConnectStart,onConnectEnd:j.onConnectEnd,updateConnection:j.updateConnection,onConnect:T,isValidConnection:n||j.isValidConnection,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,autoPanSpeed:j.autoPanSpeed,dragThreshold:j.connectionDragThreshold})}C?d==null||d($):c==null||c($)},_=$=>{const{onClickConnectStart:C,onClickConnectEnd:j,connectionClickStartHandle:z,connectionMode:A,isValidConnection:O,lib:W,rfId:V,nodeLookup:X,connection:G}=b.getState();if(!m||!z&&!o)return;if(!z){C==null||C($.nativeEvent,{nodeId:m,handleId:x,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:m,type:e,id:x}});return}const K=s0($.target),B=n||O,{connection:Q,isValid:ne}=Cu.isValid($.nativeEvent,{handle:{nodeId:m,id:x,type:e},connectionMode:A,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:B,flowId:V,doc:K,lib:W,nodeLookup:X});ne&&Q&&T(Q);const J=structuredClone(G);delete J.inProgress,J.toPosition=J.toHandle?J.toHandle.position:null,j==null||j($,J),b.setState({connectionClickStartHandle:null})};return p.jsx("div",{"data-handleid":x,"data-nodeid":m,"data-handlepos":t,"data-id":`${w}-${m}-${x}-${e}`,className:Ee(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",h,u,{source:!v,target:v,connectable:r,connectablestart:o,connectableend:i,clickconnecting:E,connectingfrom:k,connectingto:N,valid:L,connectionindicator:r&&(!R||P)&&(R||D?i:o)}]),onMouseDown:F,onTouchStart:F,onClick:y?_:void 0,ref:g,...f,children:a})}const Fn=S.memo($0(EN));function _N({data:e,isConnectable:t,sourcePosition:n=Y.Bottom}){return p.jsxs(p.Fragment,{children:[e==null?void 0:e.label,p.jsx(Fn,{type:"source",position:n,isConnectable:t})]})}function NN({data:e,isConnectable:t,targetPosition:n=Y.Top,sourcePosition:r=Y.Bottom}){return p.jsxs(p.Fragment,{children:[p.jsx(Fn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,p.jsx(Fn,{type:"source",position:r,isConnectable:t})]})}function CN(){return null}function jN({data:e,isConnectable:t,targetPosition:n=Y.Top}){return p.jsxs(p.Fragment,{children:[p.jsx(Fn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Qs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},gh={input:_N,default:NN,output:jN,group:CN};function PN(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const MN=e=>{const{width:t,height:n,x:r,y:o}=gi(e.nodeLookup,{filter:i=>!!i.selected});return{width:yt(t)?t:null,height:yt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function IN({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ye(),{width:o,height:i,transformString:s,userSelectionActive:l}=oe(MN,ge),a=O0(),u=S.useRef(null);if(S.useEffect(()=>{var f;n||(f=u.current)==null||f.focus({preventScroll:!0})},[n]),A0({nodeRef:u}),l||!o||!i)return null;const d=e?f=>{const g=r.getState().nodes.filter(x=>x.selected);e(f,g)}:void 0,c=f=>{Object.prototype.hasOwnProperty.call(Qs,f.key)&&(f.preventDefault(),a({direction:Qs[f.key],factor:f.shiftKey?4:1}))};return p.jsx("div",{className:Ee(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:p.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:c,style:{width:o,height:i}})})}const yh=typeof window<"u"?window:void 0,TN=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function H0({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:l,deleteKeyCode:a,selectionKeyCode:u,selectionOnDrag:d,selectionMode:c,onSelectionStart:f,onSelectionEnd:g,multiSelectionKeyCode:x,panActivationKeyCode:v,zoomActivationKeyCode:b,elementsSelectable:m,zoomOnScroll:y,zoomOnPinch:h,panOnScroll:w,panOnScrollSpeed:k,panOnScrollMode:N,zoomOnDoubleClick:E,panOnDrag:P,defaultViewport:R,translateExtent:D,minZoom:L,maxZoom:T,preventScrolling:F,onSelectionContextMenu:_,noWheelClassName:I,noPanClassName:M,disableKeyboardA11y:$,onViewportChange:C,isControlledViewport:j}){const{nodesSelectionActive:z,userSelectionActive:A}=oe(TN,ge),O=oi(u,{target:yh}),W=oi(v,{target:yh}),V=W||P,X=W||w,G=d&&V!==!0,K=O||A||G;return fN({deleteKeyCode:a,multiSelectionKeyCode:x}),p.jsx(mN,{onPaneContextMenu:i,elementsSelectable:m,zoomOnScroll:y,zoomOnPinch:h,panOnScroll:X,panOnScrollSpeed:k,panOnScrollMode:N,zoomOnDoubleClick:E,panOnDrag:!O&&V,defaultViewport:R,translateExtent:D,minZoom:L,maxZoom:T,zoomActivationKeyCode:b,preventScrolling:F,noWheelClassName:I,noPanClassName:M,onViewportChange:C,isControlledViewport:j,paneClickDistance:l,selectionOnDrag:G,children:p.jsxs(vN,{onSelectionStart:f,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:V,isSelecting:!!K,selectionMode:c,selectionKeyPressed:O,paneClickDistance:l,selectionOnDrag:G,children:[e,z&&p.jsx(IN,{onSelectionContextMenu:_,noPanClassName:M,disableKeyboardA11y:$})]})})}H0.displayName="FlowRenderer";const RN=S.memo(H0),LN=e=>t=>e?Hc(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function zN(e){return oe(S.useCallback(LN(e),[e]),ge)}const $N=e=>e.updateNodeInternals;function DN(){const e=oe($N),[t]=S.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return S.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function AN({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=ye(),i=S.useRef(null),s=S.useRef(null),l=S.useRef(e.sourcePosition),a=S.useRef(e.targetPosition),u=S.useRef(t),d=n&&!!e.internals.handleBounds;return S.useEffect(()=>{i.current&&!e.hidden&&(!d||s.current!==i.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(i.current),s.current=i.current)},[d,e.hidden]),S.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),S.useEffect(()=>{if(i.current){const c=u.current!==t,f=l.current!==e.sourcePosition,g=a.current!==e.targetPosition;(c||f||g)&&(u.current=t,l.current=e.sourcePosition,a.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function ON({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:s,nodesDraggable:l,elementsSelectable:a,nodesConnectable:u,nodesFocusable:d,resizeObserver:c,noDragClassName:f,noPanClassName:g,disableKeyboardA11y:x,rfId:v,nodeTypes:b,nodeClickDistance:m,onError:y}){const{node:h,internals:w,isParent:k}=oe(B=>{const Q=B.nodeLookup.get(e),ne=B.parentLookup.has(e);return{node:Q,internals:Q.internals,isParent:ne}},ge);let N=h.type||"default",E=(b==null?void 0:b[N])||gh[N];E===void 0&&(y==null||y("003",Rt.error003(N)),N="default",E=(b==null?void 0:b.default)||gh.default);const P=!!(h.draggable||l&&typeof h.draggable>"u"),R=!!(h.selectable||a&&typeof h.selectable>"u"),D=!!(h.connectable||u&&typeof h.connectable>"u"),L=!!(h.focusable||d&&typeof h.focusable>"u"),T=ye(),F=o0(h),_=AN({node:h,nodeType:N,hasDimensions:F,resizeObserver:c}),I=A0({nodeRef:_,disabled:h.hidden||!P,noDragClassName:f,handleSelector:h.dragHandle,nodeId:e,isSelectable:R,nodeClickDistance:m}),M=O0();if(h.hidden)return null;const $=Jt(h),C=PN(h),j=R||P||t||n||r||o,z=n?B=>n(B,{...w.userNode}):void 0,A=r?B=>r(B,{...w.userNode}):void 0,O=o?B=>o(B,{...w.userNode}):void 0,W=i?B=>i(B,{...w.userNode}):void 0,V=s?B=>s(B,{...w.userNode}):void 0,X=B=>{const{selectNodesOnDrag:Q,nodeDragThreshold:ne}=T.getState();R&&(!Q||!P||ne>0)&&ju({id:e,store:T,nodeRef:_}),t&&t(B,{...w.userNode})},G=B=>{if(!(l0(B.nativeEvent)||x)){if(Kg.includes(B.key)&&R){const Q=B.key==="Escape";ju({id:e,store:T,unselect:Q,nodeRef:_})}else if(P&&h.selected&&Object.prototype.hasOwnProperty.call(Qs,B.key)){B.preventDefault();const{ariaLabelConfig:Q}=T.getState();T.setState({ariaLiveMessage:Q["node.a11yDescription.ariaLiveMessage"]({direction:B.key.replace("Arrow","").toLowerCase(),x:~~w.positionAbsolute.x,y:~~w.positionAbsolute.y})}),M({direction:Qs[B.key],factor:B.shiftKey?4:1})}}},K=()=>{var le;if(x||!((le=_.current)!=null&&le.matches(":focus-visible")))return;const{transform:B,width:Q,height:ne,autoPanOnNodeFocus:J,setCenter:Z}=T.getState();if(!J)return;Hc(new Map([[e,h]]),{x:0,y:0,width:Q,height:ne},B,!0).length>0||Z(h.position.x+$.width/2,h.position.y+$.height/2,{zoom:B[2]})};return p.jsx("div",{className:Ee(["react-flow__node",`react-flow__node-${N}`,{[g]:P},h.className,{selected:h.selected,selectable:R,parent:k,draggable:P,dragging:I}]),ref:_,style:{zIndex:w.z,transform:`translate(${w.positionAbsolute.x}px,${w.positionAbsolute.y}px)`,pointerEvents:j?"all":"none",visibility:F?"visible":"hidden",...h.style,...C},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:z,onMouseMove:A,onMouseLeave:O,onContextMenu:W,onClick:X,onDoubleClick:V,onKeyDown:L?G:void 0,tabIndex:L?0:void 0,onFocus:L?K:void 0,role:h.ariaRole??(L?"group":void 0),"aria-roledescription":"node","aria-describedby":x?void 0:`${M0}-${v}`,"aria-label":h.ariaLabel,...h.domAttributes,children:p.jsx(bN,{value:e,children:p.jsx(E,{id:e,data:h.data,type:N,positionAbsoluteX:w.positionAbsolute.x,positionAbsoluteY:w.positionAbsolute.y,selected:h.selected??!1,selectable:R,draggable:P,deletable:h.deletable??!0,isConnectable:D,sourcePosition:h.sourcePosition,targetPosition:h.targetPosition,dragging:I,dragHandle:h.dragHandle,zIndex:w.z,parentId:h.parentId,...$})})})}var FN=S.memo(ON);const HN=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function B0(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=oe(HN,ge),s=zN(e.onlyRenderVisibleElements),l=DN();return p.jsx("div",{className:"react-flow__nodes",style:Cl,children:s.map(a=>p.jsx(FN,{id:a,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},a))})}B0.displayName="NodeRenderer";const BN=S.memo(B0);function VN(e){return oe(S.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),s=n.nodeLookup.get(o.target);i&&s&&jE({sourceNode:i,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),ge)}const WN=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return p.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},UN=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return p.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},xh={[Xs.Arrow]:WN,[Xs.ArrowClosed]:UN};function YN(e){const t=ye();return S.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(xh,e)?xh[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",Rt.error009(e)),null)},[e])}const XN=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=YN(t);return a?p.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:p.jsx(a,{color:n,strokeWidth:s})}):null},V0=({defaultColor:e,rfId:t})=>{const n=oe(i=>i.edges),r=oe(i=>i.defaultEdgeOptions),o=S.useMemo(()=>zE(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?p.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:p.jsx("defs",{children:o.map(i=>p.jsx(XN,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};V0.displayName="MarkerDefinitions";var GN=S.memo(V0);function W0({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...d}){const[c,f]=S.useState({x:1,y:0,width:0,height:0}),g=Ee(["react-flow__edge-textwrapper",u]),x=S.useRef(null);return S.useEffect(()=>{if(x.current){const v=x.current.getBBox();f({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?p.jsxs("g",{transform:`translate(${e-c.width/2} ${t-c.height/2})`,className:g,visibility:c.width?"visible":"hidden",...d,children:[o&&p.jsx("rect",{width:c.width+2*s[0],x:-s[0],y:-s[1],height:c.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),p.jsx("text",{className:"react-flow__edge-text",y:c.height/2,dy:"0.3em",ref:x,style:r,children:n}),a]}):null}W0.displayName="EdgeText";const KN=S.memo(W0);function vi({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a,interactionWidth:u=20,...d}){return p.jsxs(p.Fragment,{children:[p.jsx("path",{...d,d:e,fill:"none",className:Ee(["react-flow__edge-path",d.className])}),u?p.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&yt(t)&&yt(n)?p.jsx(KN,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a}):null]})}function vh({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Y.Left||e===Y.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function U0({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top}){const[s,l]=vh({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=vh({pos:i,x1:r,y1:o,x2:e,y2:t}),[d,c,f,g]=u0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${o}`,d,c,f,g]}function Y0(e){return S.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s,targetPosition:l,label:a,labelStyle:u,labelShowBg:d,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:g,style:x,markerEnd:v,markerStart:b,interactionWidth:m})=>{const[y,h,w]=U0({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:l}),k=e.isInternal?void 0:t;return p.jsx(vi,{id:k,path:y,labelX:h,labelY:w,label:a,labelStyle:u,labelShowBg:d,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:g,style:x,markerEnd:v,markerStart:b,interactionWidth:m})})}const QN=Y0({isInternal:!1}),X0=Y0({isInternal:!0});QN.displayName="SimpleBezierEdge";X0.displayName="SimpleBezierEdgeInternal";function G0(e){return S.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:c,style:f,sourcePosition:g=Y.Bottom,targetPosition:x=Y.Top,markerEnd:v,markerStart:b,pathOptions:m,interactionWidth:y})=>{const[h,w,k]=Eu({sourceX:n,sourceY:r,sourcePosition:g,targetX:o,targetY:i,targetPosition:x,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset,stepPosition:m==null?void 0:m.stepPosition}),N=e.isInternal?void 0:t;return p.jsx(vi,{id:N,path:h,labelX:w,labelY:k,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:c,style:f,markerEnd:v,markerStart:b,interactionWidth:y})})}const K0=G0({isInternal:!1}),Q0=G0({isInternal:!0});K0.displayName="SmoothStepEdge";Q0.displayName="SmoothStepEdgeInternal";function q0(e){return S.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return p.jsx(K0,{...n,id:r,pathOptions:S.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const qN=q0({isInternal:!1}),Z0=q0({isInternal:!0});qN.displayName="StepEdge";Z0.displayName="StepEdgeInternal";function J0(e){return S.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:c,style:f,markerEnd:g,markerStart:x,interactionWidth:v})=>{const[b,m,y]=f0({sourceX:n,sourceY:r,targetX:o,targetY:i}),h=e.isInternal?void 0:t;return p.jsx(vi,{id:h,path:b,labelX:m,labelY:y,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:c,style:f,markerEnd:g,markerStart:x,interactionWidth:v})})}const ZN=J0({isInternal:!1}),ey=J0({isInternal:!0});ZN.displayName="StraightEdge";ey.displayName="StraightEdgeInternal";function ty(e){return S.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=Y.Bottom,targetPosition:l=Y.Top,label:a,labelStyle:u,labelShowBg:d,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:g,style:x,markerEnd:v,markerStart:b,pathOptions:m,interactionWidth:y})=>{const[h,w,k]=Wc({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:l,curvature:m==null?void 0:m.curvature}),N=e.isInternal?void 0:t;return p.jsx(vi,{id:N,path:h,labelX:w,labelY:k,label:a,labelStyle:u,labelShowBg:d,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:g,style:x,markerEnd:v,markerStart:b,interactionWidth:y})})}const JN=ty({isInternal:!1}),ny=ty({isInternal:!0});JN.displayName="BezierEdge";ny.displayName="BezierEdgeInternal";const wh={default:ny,straight:ey,step:Z0,smoothstep:Q0,simplebezier:X0},bh={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},eC=(e,t,n)=>n===Y.Left?e-t:n===Y.Right?e+t:e,tC=(e,t,n)=>n===Y.Top?e-t:n===Y.Bottom?e+t:e,Sh="react-flow__edgeupdater";function kh({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:l}){return p.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:Ee([Sh,`${Sh}-${l}`]),cx:eC(t,r,e),cy:tC(n,r,e),r,stroke:"transparent",fill:"transparent"})}function nC({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:s,sourcePosition:l,targetPosition:a,onReconnect:u,onReconnectStart:d,onReconnectEnd:c,setReconnecting:f,setUpdateHover:g}){const x=ye(),v=(w,k)=>{if(w.button!==0)return;const{autoPanOnConnect:N,domNode:E,isValidConnection:P,connectionMode:R,connectionRadius:D,lib:L,onConnectStart:T,onConnectEnd:F,cancelConnection:_,nodeLookup:I,rfId:M,panBy:$,updateConnection:C}=x.getState(),j=k.type==="target",z=(W,V)=>{f(!1),c==null||c(W,n,k.type,V)},A=W=>u==null?void 0:u(n,W),O=(W,V)=>{f(!0),d==null||d(w,n,k.type),T==null||T(W,V)};Cu.onPointerDown(w.nativeEvent,{autoPanOnConnect:N,connectionMode:R,connectionRadius:D,domNode:E,handleId:k.id,nodeId:k.nodeId,nodeLookup:I,isTarget:j,edgeUpdaterType:k.type,lib:L,flowId:M,cancelConnection:_,panBy:$,isValidConnection:P,onConnect:A,onConnectStart:O,onConnectEnd:F,onReconnectEnd:z,updateConnection:C,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,dragThreshold:x.getState().connectionDragThreshold,handleDomNode:w.currentTarget})},b=w=>v(w,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),m=w=>v(w,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),y=()=>g(!0),h=()=>g(!1);return p.jsxs(p.Fragment,{children:[(e===!0||e==="source")&&p.jsx(kh,{position:l,centerX:r,centerY:o,radius:t,onMouseDown:b,onMouseEnter:y,onMouseOut:h,type:"source"}),(e===!0||e==="target")&&p.jsx(kh,{position:a,centerX:i,centerY:s,radius:t,onMouseDown:m,onMouseEnter:y,onMouseOut:h,type:"target"})]})}function rC({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,reconnectRadius:d,onReconnect:c,onReconnectStart:f,onReconnectEnd:g,rfId:x,edgeTypes:v,noPanClassName:b,onError:m,disableKeyboardA11y:y}){let h=oe(Z=>Z.edgeLookup.get(e));const w=oe(Z=>Z.defaultEdgeOptions);h=w?{...w,...h}:h;let k=h.type||"default",N=(v==null?void 0:v[k])||wh[k];N===void 0&&(m==null||m("011",Rt.error011(k)),k="default",N=(v==null?void 0:v.default)||wh.default);const E=!!(h.focusable||t&&typeof h.focusable>"u"),P=typeof c<"u"&&(h.reconnectable||n&&typeof h.reconnectable>"u"),R=!!(h.selectable||r&&typeof h.selectable>"u"),D=S.useRef(null),[L,T]=S.useState(!1),[F,_]=S.useState(!1),I=ye(),{zIndex:M,sourceX:$,sourceY:C,targetX:j,targetY:z,sourcePosition:A,targetPosition:O}=oe(S.useCallback(Z=>{const q=Z.nodeLookup.get(h.source),le=Z.nodeLookup.get(h.target);if(!q||!le)return{zIndex:h.zIndex,...bh};const ce=LE({id:e,sourceNode:q,targetNode:le,sourceHandle:h.sourceHandle||null,targetHandle:h.targetHandle||null,connectionMode:Z.connectionMode,onError:m});return{zIndex:CE({selected:h.selected,zIndex:h.zIndex,sourceNode:q,targetNode:le,elevateOnSelect:Z.elevateEdgesOnSelect,zIndexMode:Z.zIndexMode}),...ce||bh}},[h.source,h.target,h.sourceHandle,h.targetHandle,h.selected,h.zIndex]),ge),W=S.useMemo(()=>h.markerStart?`url('#${_u(h.markerStart,x)}')`:void 0,[h.markerStart,x]),V=S.useMemo(()=>h.markerEnd?`url('#${_u(h.markerEnd,x)}')`:void 0,[h.markerEnd,x]);if(h.hidden||$===null||C===null||j===null||z===null)return null;const X=Z=>{var se;const{addSelectedEdges:q,unselectNodesAndEdges:le,multiSelectionActive:ce}=I.getState();R&&(I.setState({nodesSelectionActive:!1}),h.selected&&ce?(le({nodes:[],edges:[h]}),(se=D.current)==null||se.blur()):q([e])),o&&o(Z,h)},G=i?Z=>{i(Z,{...h})}:void 0,K=s?Z=>{s(Z,{...h})}:void 0,B=l?Z=>{l(Z,{...h})}:void 0,Q=a?Z=>{a(Z,{...h})}:void 0,ne=u?Z=>{u(Z,{...h})}:void 0,J=Z=>{var q;if(!y&&Kg.includes(Z.key)&&R){const{unselectNodesAndEdges:le,addSelectedEdges:ce}=I.getState();Z.key==="Escape"?((q=D.current)==null||q.blur(),le({edges:[h]})):ce([e])}};return p.jsx("svg",{style:{zIndex:M},children:p.jsxs("g",{className:Ee(["react-flow__edge",`react-flow__edge-${k}`,h.className,b,{selected:h.selected,animated:h.animated,inactive:!R&&!o,updating:L,selectable:R}]),onClick:X,onDoubleClick:G,onContextMenu:K,onMouseEnter:B,onMouseMove:Q,onMouseLeave:ne,onKeyDown:E?J:void 0,tabIndex:E?0:void 0,role:h.ariaRole??(E?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":h.ariaLabel===null?void 0:h.ariaLabel||`Edge from ${h.source} to ${h.target}`,"aria-describedby":E?`${I0}-${x}`:void 0,ref:D,...h.domAttributes,children:[!F&&p.jsx(N,{id:e,source:h.source,target:h.target,type:h.type,selected:h.selected,animated:h.animated,selectable:R,deletable:h.deletable??!0,label:h.label,labelStyle:h.labelStyle,labelShowBg:h.labelShowBg,labelBgStyle:h.labelBgStyle,labelBgPadding:h.labelBgPadding,labelBgBorderRadius:h.labelBgBorderRadius,sourceX:$,sourceY:C,targetX:j,targetY:z,sourcePosition:A,targetPosition:O,data:h.data,style:h.style,sourceHandleId:h.sourceHandle,targetHandleId:h.targetHandle,markerStart:W,markerEnd:V,pathOptions:"pathOptions"in h?h.pathOptions:void 0,interactionWidth:h.interactionWidth}),P&&p.jsx(nC,{edge:h,isReconnectable:P,reconnectRadius:d,onReconnect:c,onReconnectStart:f,onReconnectEnd:g,sourceX:$,sourceY:C,targetX:j,targetY:z,sourcePosition:A,targetPosition:O,setUpdateHover:T,setReconnecting:_})]})})}var oC=S.memo(rC);const iC=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function ry({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:d,reconnectRadius:c,onEdgeDoubleClick:f,onReconnectStart:g,onReconnectEnd:x,disableKeyboardA11y:v}){const{edgesFocusable:b,edgesReconnectable:m,elementsSelectable:y,onError:h}=oe(iC,ge),w=VN(t);return p.jsxs("div",{className:"react-flow__edges",children:[p.jsx(GN,{defaultColor:e,rfId:n}),w.map(k=>p.jsx(oC,{id:k,edgesFocusable:b,edgesReconnectable:m,elementsSelectable:y,noPanClassName:o,onReconnect:i,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:d,reconnectRadius:c,onDoubleClick:f,onReconnectStart:g,onReconnectEnd:x,rfId:n,onError:h,edgeTypes:r,disableKeyboardA11y:v},k))]})}ry.displayName="EdgeRenderer";const sC=S.memo(ry),lC=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function aC({children:e}){const t=oe(lC);return p.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function uC(e){const t=Nl(),n=S.useRef(!1);S.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const cC=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function dC(e){const t=oe(cC),n=ye();return S.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function fC(e){return e.connection.inProgress?{...e.connection,to:xi(e.connection.to,e.transform)}:{...e.connection}}function hC(e){return fC}function pC(e){const t=hC();return oe(t,ge)}const mC=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function gC({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:s,isValid:l,inProgress:a}=oe(mC,ge);return!(i&&o&&a)?null:p.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:p.jsx("g",{className:Ee(["react-flow__connection",Zg(l)]),children:p.jsx(oy,{style:t,type:n,CustomComponent:r,isValid:l})})})}const oy=({style:e,type:t=dn.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:s,fromHandle:l,fromPosition:a,to:u,toNode:d,toHandle:c,toPosition:f,pointer:g}=pC();if(!o)return;if(n)return p.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:l,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:a,toPosition:f,connectionStatus:Zg(r),toNode:d,toHandle:c,pointer:g});let x="";const v={sourceX:i.x,sourceY:i.y,sourcePosition:a,targetX:u.x,targetY:u.y,targetPosition:f};switch(t){case dn.Bezier:[x]=Wc(v);break;case dn.SimpleBezier:[x]=U0(v);break;case dn.Step:[x]=Eu({...v,borderRadius:0});break;case dn.SmoothStep:[x]=Eu(v);break;default:[x]=f0(v)}return p.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:e})};oy.displayName="ConnectionLine";const yC={};function Eh(e=yC){S.useRef(e),ye(),S.useEffect(()=>{},[e])}function xC(){ye(),S.useRef(!1),S.useEffect(()=>{},[])}function iy({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:d,onSelectionContextMenu:c,onSelectionStart:f,onSelectionEnd:g,connectionLineType:x,connectionLineStyle:v,connectionLineComponent:b,connectionLineContainerStyle:m,selectionKeyCode:y,selectionOnDrag:h,selectionMode:w,multiSelectionKeyCode:k,panActivationKeyCode:N,zoomActivationKeyCode:E,deleteKeyCode:P,onlyRenderVisibleElements:R,elementsSelectable:D,defaultViewport:L,translateExtent:T,minZoom:F,maxZoom:_,preventScrolling:I,defaultMarkerColor:M,zoomOnScroll:$,zoomOnPinch:C,panOnScroll:j,panOnScrollSpeed:z,panOnScrollMode:A,zoomOnDoubleClick:O,panOnDrag:W,onPaneClick:V,onPaneMouseEnter:X,onPaneMouseMove:G,onPaneMouseLeave:K,onPaneScroll:B,onPaneContextMenu:Q,paneClickDistance:ne,nodeClickDistance:J,onEdgeContextMenu:Z,onEdgeMouseEnter:q,onEdgeMouseMove:le,onEdgeMouseLeave:ce,reconnectRadius:se,onReconnect:Re,onReconnectStart:en,onReconnectEnd:zt,noDragClassName:jn,noWheelClassName:Xr,noPanClassName:Gr,disableKeyboardA11y:Kr,nodeExtent:Pl,rfId:wi,viewport:Jn,onViewportChange:Qr}){return Eh(e),Eh(t),xC(),uC(n),dC(Jn),p.jsx(RN,{onPaneClick:V,onPaneMouseEnter:X,onPaneMouseMove:G,onPaneMouseLeave:K,onPaneContextMenu:Q,onPaneScroll:B,paneClickDistance:ne,deleteKeyCode:P,selectionKeyCode:y,selectionOnDrag:h,selectionMode:w,onSelectionStart:f,onSelectionEnd:g,multiSelectionKeyCode:k,panActivationKeyCode:N,zoomActivationKeyCode:E,elementsSelectable:D,zoomOnScroll:$,zoomOnPinch:C,zoomOnDoubleClick:O,panOnScroll:j,panOnScrollSpeed:z,panOnScrollMode:A,panOnDrag:W,defaultViewport:L,translateExtent:T,minZoom:F,maxZoom:_,onSelectionContextMenu:c,preventScrolling:I,noDragClassName:jn,noWheelClassName:Xr,noPanClassName:Gr,disableKeyboardA11y:Kr,onViewportChange:Qr,isControlledViewport:!!Jn,children:p.jsxs(aC,{children:[p.jsx(sC,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:s,onReconnect:Re,onReconnectStart:en,onReconnectEnd:zt,onlyRenderVisibleElements:R,onEdgeContextMenu:Z,onEdgeMouseEnter:q,onEdgeMouseMove:le,onEdgeMouseLeave:ce,reconnectRadius:se,defaultMarkerColor:M,noPanClassName:Gr,disableKeyboardA11y:Kr,rfId:wi}),p.jsx(gC,{style:v,type:x,component:b,containerStyle:m}),p.jsx("div",{className:"react-flow__edgelabel-renderer"}),p.jsx(BN,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:d,nodeClickDistance:J,onlyRenderVisibleElements:R,noPanClassName:Gr,noDragClassName:jn,disableKeyboardA11y:Kr,nodeExtent:Pl,rfId:wi}),p.jsx("div",{className:"react-flow__viewport-portal"})]})})}iy.displayName="GraphView";const vC=S.memo(iy),_h=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a=.5,maxZoom:u=2,nodeOrigin:d,nodeExtent:c,zIndexMode:f="basic"}={})=>{const g=new Map,x=new Map,v=new Map,b=new Map,m=r??t??[],y=n??e??[],h=d??[0,0],w=c??ei;m0(v,b,m);const k=Nu(y,g,x,{nodeOrigin:h,nodeExtent:w,zIndexMode:f});let N=[0,0,1];if(s&&o&&i){const E=gi(g,{filter:L=>!!((L.width||L.initialWidth)&&(L.height||L.initialHeight))}),{x:P,y:R,zoom:D}=Bc(E,o,i,a,u,(l==null?void 0:l.padding)??.1);N=[P,R,D]}return{rfId:"1",width:o??0,height:i??0,transform:N,nodes:y,nodesInitialized:k,nodeLookup:g,parentLookup:x,edges:m,edgeLookup:b,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:a,maxZoom:u,translateExtent:ei,nodeExtent:w,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Lr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:h,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:l,fitViewResolver:null,connection:{...qg},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:bE,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Qg,zIndexMode:f,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},wC=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:d,nodeExtent:c,zIndexMode:f})=>A_((g,x)=>{async function v(){const{nodeLookup:b,panZoom:m,fitViewOptions:y,fitViewResolver:h,width:w,height:k,minZoom:N,maxZoom:E}=x();m&&(await vE({nodes:b,width:w,height:k,panZoom:m,minZoom:N,maxZoom:E},y),h==null||h.resolve(!0),g({fitViewResolver:null}))}return{..._h({nodes:e,edges:t,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:d,nodeExtent:c,defaultNodes:n,defaultEdges:r,zIndexMode:f}),setNodes:b=>{const{nodeLookup:m,parentLookup:y,nodeOrigin:h,elevateNodesOnSelect:w,fitViewQueued:k,zIndexMode:N}=x(),E=Nu(b,m,y,{nodeOrigin:h,nodeExtent:c,elevateNodesOnSelect:w,checkEquality:!0,zIndexMode:N});k&&E?(v(),g({nodes:b,nodesInitialized:E,fitViewQueued:!1,fitViewOptions:void 0})):g({nodes:b,nodesInitialized:E})},setEdges:b=>{const{connectionLookup:m,edgeLookup:y}=x();m0(m,y,b),g({edges:b})},setDefaultNodesAndEdges:(b,m)=>{if(b){const{setNodes:y}=x();y(b),g({hasDefaultNodes:!0})}if(m){const{setEdges:y}=x();y(m),g({hasDefaultEdges:!0})}},updateNodeInternals:b=>{const{triggerNodeChanges:m,nodeLookup:y,parentLookup:h,domNode:w,nodeOrigin:k,nodeExtent:N,debug:E,fitViewQueued:P,zIndexMode:R}=x(),{changes:D,updatedInternals:L}=BE(b,y,h,w,k,N,R);L&&(AE(y,h,{nodeOrigin:k,nodeExtent:N,zIndexMode:R}),P?(v(),g({fitViewQueued:!1,fitViewOptions:void 0})):g({}),(D==null?void 0:D.length)>0&&(E&&console.log("React Flow: trigger node changes",D),m==null||m(D)))},updateNodePositions:(b,m=!1)=>{const y=[];let h=[];const{nodeLookup:w,triggerNodeChanges:k,connection:N,updateConnection:E,onNodesChangeMiddlewareMap:P}=x();for(const[R,D]of b){const L=w.get(R),T=!!(L!=null&&L.expandParent&&(L!=null&&L.parentId)&&(D!=null&&D.position)),F={id:R,type:"position",position:T?{x:Math.max(0,D.position.x),y:Math.max(0,D.position.y)}:D.position,dragging:m};if(L&&N.inProgress&&N.fromNode.id===L.id){const _=Kn(L,N.fromHandle,Y.Left,!0);E({...N,from:_})}T&&L.parentId&&y.push({id:R,parentId:L.parentId,rect:{...D.internals.positionAbsolute,width:D.measured.width??0,height:D.measured.height??0}}),h.push(F)}if(y.length>0){const{parentLookup:R,nodeOrigin:D}=x(),L=Kc(y,w,R,D);h.push(...L)}for(const R of P.values())h=R(h);k(h)},triggerNodeChanges:b=>{const{onNodesChange:m,setNodes:y,nodes:h,hasDefaultNodes:w,debug:k}=x();if(b!=null&&b.length){if(w){const N=L0(b,h);y(N)}k&&console.log("React Flow: trigger node changes",b),m==null||m(b)}},triggerEdgeChanges:b=>{const{onEdgesChange:m,setEdges:y,edges:h,hasDefaultEdges:w,debug:k}=x();if(b!=null&&b.length){if(w){const N=z0(b,h);y(N)}k&&console.log("React Flow: trigger edge changes",b),m==null||m(b)}},addSelectedNodes:b=>{const{multiSelectionActive:m,edgeLookup:y,nodeLookup:h,triggerNodeChanges:w,triggerEdgeChanges:k}=x();if(m){const N=b.map(E=>In(E,!0));w(N);return}w(mr(h,new Set([...b]),!0)),k(mr(y))},addSelectedEdges:b=>{const{multiSelectionActive:m,edgeLookup:y,nodeLookup:h,triggerNodeChanges:w,triggerEdgeChanges:k}=x();if(m){const N=b.map(E=>In(E,!0));k(N);return}k(mr(y,new Set([...b]))),w(mr(h,new Set,!0))},unselectNodesAndEdges:({nodes:b,edges:m}={})=>{const{edges:y,nodes:h,nodeLookup:w,triggerNodeChanges:k,triggerEdgeChanges:N}=x(),E=b||h,P=m||y,R=E.map(L=>{const T=w.get(L.id);return T&&(T.selected=!1),In(L.id,!1)}),D=P.map(L=>In(L.id,!1));k(R),N(D)},setMinZoom:b=>{const{panZoom:m,maxZoom:y}=x();m==null||m.setScaleExtent([b,y]),g({minZoom:b})},setMaxZoom:b=>{const{panZoom:m,minZoom:y}=x();m==null||m.setScaleExtent([y,b]),g({maxZoom:b})},setTranslateExtent:b=>{var m;(m=x().panZoom)==null||m.setTranslateExtent(b),g({translateExtent:b})},resetSelectedElements:()=>{const{edges:b,nodes:m,triggerNodeChanges:y,triggerEdgeChanges:h,elementsSelectable:w}=x();if(!w)return;const k=m.reduce((E,P)=>P.selected?[...E,In(P.id,!1)]:E,[]),N=b.reduce((E,P)=>P.selected?[...E,In(P.id,!1)]:E,[]);y(k),h(N)},setNodeExtent:b=>{const{nodes:m,nodeLookup:y,parentLookup:h,nodeOrigin:w,elevateNodesOnSelect:k,nodeExtent:N,zIndexMode:E}=x();b[0][0]===N[0][0]&&b[0][1]===N[0][1]&&b[1][0]===N[1][0]&&b[1][1]===N[1][1]||(Nu(m,y,h,{nodeOrigin:w,nodeExtent:b,elevateNodesOnSelect:k,checkEquality:!1,zIndexMode:E}),g({nodeExtent:b}))},panBy:b=>{const{transform:m,width:y,height:h,panZoom:w,translateExtent:k}=x();return VE({delta:b,panZoom:w,transform:m,translateExtent:k,width:y,height:h})},setCenter:async(b,m,y)=>{const{width:h,height:w,maxZoom:k,panZoom:N}=x();if(!N)return Promise.resolve(!1);const E=typeof(y==null?void 0:y.zoom)<"u"?y.zoom:k;return await N.setViewport({x:h/2-b*E,y:w/2-m*E,zoom:E},{duration:y==null?void 0:y.duration,ease:y==null?void 0:y.ease,interpolate:y==null?void 0:y.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{g({connection:{...qg}})},updateConnection:b=>{g({connection:b})},reset:()=>g({..._h()})}},Object.is);function sy({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:s,initialMaxZoom:l,initialFitViewOptions:a,fitView:u,nodeOrigin:d,nodeExtent:c,zIndexMode:f,children:g}){const[x]=S.useState(()=>wC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:u,minZoom:s,maxZoom:l,fitViewOptions:a,nodeOrigin:d,nodeExtent:c,zIndexMode:f}));return p.jsx(O_,{value:x,children:p.jsx(aN,{children:g})})}function bC({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:s,fitView:l,fitViewOptions:a,minZoom:u,maxZoom:d,nodeOrigin:c,nodeExtent:f,zIndexMode:g}){return S.useContext(El)?p.jsx(p.Fragment,{children:e}):p.jsx(sy,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:s,fitView:l,initialFitViewOptions:a,initialMinZoom:u,initialMaxZoom:d,nodeOrigin:c,nodeExtent:f,zIndexMode:g,children:e})}const SC={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function kC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:s,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:d,onMoveStart:c,onMoveEnd:f,onConnect:g,onConnectStart:x,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:m,onNodeMouseEnter:y,onNodeMouseMove:h,onNodeMouseLeave:w,onNodeContextMenu:k,onNodeDoubleClick:N,onNodeDragStart:E,onNodeDrag:P,onNodeDragStop:R,onNodesDelete:D,onEdgesDelete:L,onDelete:T,onSelectionChange:F,onSelectionDragStart:_,onSelectionDrag:I,onSelectionDragStop:M,onSelectionContextMenu:$,onSelectionStart:C,onSelectionEnd:j,onBeforeDelete:z,connectionMode:A,connectionLineType:O=dn.Bezier,connectionLineStyle:W,connectionLineComponent:V,connectionLineContainerStyle:X,deleteKeyCode:G="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:B=!1,selectionMode:Q=ti.Full,panActivationKeyCode:ne="Space",multiSelectionKeyCode:J=ri()?"Meta":"Control",zoomActivationKeyCode:Z=ri()?"Meta":"Control",snapToGrid:q,snapGrid:le,onlyRenderVisibleElements:ce=!1,selectNodesOnDrag:se,nodesDraggable:Re,autoPanOnNodeFocus:en,nodesConnectable:zt,nodesFocusable:jn,nodeOrigin:Xr=T0,edgesFocusable:Gr,edgesReconnectable:Kr,elementsSelectable:Pl=!0,defaultViewport:wi=Z_,minZoom:Jn=.5,maxZoom:Qr=2,translateExtent:Zc=ei,preventScrolling:xy=!0,nodeExtent:Ml,defaultMarkerColor:vy="#b1b1b7",zoomOnScroll:wy=!0,zoomOnPinch:by=!0,panOnScroll:Sy=!1,panOnScrollSpeed:ky=.5,panOnScrollMode:Ey=On.Free,zoomOnDoubleClick:_y=!0,panOnDrag:Ny=!0,onPaneClick:Cy,onPaneMouseEnter:jy,onPaneMouseMove:Py,onPaneMouseLeave:My,onPaneScroll:Iy,onPaneContextMenu:Ty,paneClickDistance:Ry=1,nodeClickDistance:Ly=0,children:zy,onReconnect:$y,onReconnectStart:Dy,onReconnectEnd:Ay,onEdgeContextMenu:Oy,onEdgeDoubleClick:Fy,onEdgeMouseEnter:Hy,onEdgeMouseMove:By,onEdgeMouseLeave:Vy,reconnectRadius:Wy=10,onNodesChange:Uy,onEdgesChange:Yy,noDragClassName:Xy="nodrag",noWheelClassName:Gy="nowheel",noPanClassName:Jc="nopan",fitView:ed,fitViewOptions:td,connectOnClick:Ky,attributionPosition:Qy,proOptions:qy,defaultEdgeOptions:Zy,elevateNodesOnSelect:Jy=!0,elevateEdgesOnSelect:ex=!1,disableKeyboardA11y:nd=!1,autoPanOnConnect:tx,autoPanOnNodeDrag:nx,autoPanSpeed:rx,connectionRadius:ox,isValidConnection:ix,onError:sx,style:lx,id:rd,nodeDragThreshold:ax,connectionDragThreshold:ux,viewport:cx,onViewportChange:dx,width:fx,height:hx,colorMode:px="light",debug:mx,onScroll:bi,ariaLabelConfig:gx,zIndexMode:od="basic",...yx},xx){const Il=rd||"1",vx=nN(px),wx=S.useCallback(id=>{id.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),bi==null||bi(id)},[bi]);return p.jsx("div",{"data-testid":"rf__wrapper",...yx,onScroll:wx,style:{...lx,...SC},ref:xx,className:Ee(["react-flow",o,vx]),id:rd,role:"application",children:p.jsxs(bC,{nodes:e,edges:t,width:fx,height:hx,fitView:ed,fitViewOptions:td,minZoom:Jn,maxZoom:Qr,nodeOrigin:Xr,nodeExtent:Ml,zIndexMode:od,children:[p.jsx(vC,{onInit:u,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:y,onNodeMouseMove:h,onNodeMouseLeave:w,onNodeContextMenu:k,onNodeDoubleClick:N,nodeTypes:i,edgeTypes:s,connectionLineType:O,connectionLineStyle:W,connectionLineComponent:V,connectionLineContainerStyle:X,selectionKeyCode:K,selectionOnDrag:B,selectionMode:Q,deleteKeyCode:G,multiSelectionKeyCode:J,panActivationKeyCode:ne,zoomActivationKeyCode:Z,onlyRenderVisibleElements:ce,defaultViewport:wi,translateExtent:Zc,minZoom:Jn,maxZoom:Qr,preventScrolling:xy,zoomOnScroll:wy,zoomOnPinch:by,zoomOnDoubleClick:_y,panOnScroll:Sy,panOnScrollSpeed:ky,panOnScrollMode:Ey,panOnDrag:Ny,onPaneClick:Cy,onPaneMouseEnter:jy,onPaneMouseMove:Py,onPaneMouseLeave:My,onPaneScroll:Iy,onPaneContextMenu:Ty,paneClickDistance:Ry,nodeClickDistance:Ly,onSelectionContextMenu:$,onSelectionStart:C,onSelectionEnd:j,onReconnect:$y,onReconnectStart:Dy,onReconnectEnd:Ay,onEdgeContextMenu:Oy,onEdgeDoubleClick:Fy,onEdgeMouseEnter:Hy,onEdgeMouseMove:By,onEdgeMouseLeave:Vy,reconnectRadius:Wy,defaultMarkerColor:vy,noDragClassName:Xy,noWheelClassName:Gy,noPanClassName:Jc,rfId:Il,disableKeyboardA11y:nd,nodeExtent:Ml,viewport:cx,onViewportChange:dx}),p.jsx(tN,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:x,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:m,nodesDraggable:Re,autoPanOnNodeFocus:en,nodesConnectable:zt,nodesFocusable:jn,edgesFocusable:Gr,edgesReconnectable:Kr,elementsSelectable:Pl,elevateNodesOnSelect:Jy,elevateEdgesOnSelect:ex,minZoom:Jn,maxZoom:Qr,nodeExtent:Ml,onNodesChange:Uy,onEdgesChange:Yy,snapToGrid:q,snapGrid:le,connectionMode:A,translateExtent:Zc,connectOnClick:Ky,defaultEdgeOptions:Zy,fitView:ed,fitViewOptions:td,onNodesDelete:D,onEdgesDelete:L,onDelete:T,onNodeDragStart:E,onNodeDrag:P,onNodeDragStop:R,onSelectionDrag:I,onSelectionDragStart:_,onSelectionDragStop:M,onMove:d,onMoveStart:c,onMoveEnd:f,noPanClassName:Jc,nodeOrigin:Xr,rfId:Il,autoPanOnConnect:tx,autoPanOnNodeDrag:nx,autoPanSpeed:rx,onError:sx,connectionRadius:ox,isValidConnection:ix,selectNodesOnDrag:se,nodeDragThreshold:ax,connectionDragThreshold:ux,onBeforeDelete:z,debug:mx,ariaLabelConfig:gx,zIndexMode:od}),p.jsx(q_,{onSelectionChange:F}),zy,p.jsx(Y_,{proOptions:qy,position:Qy}),p.jsx(U_,{rfId:Il,disableKeyboardA11y:nd})]})})}var EC=$0(kC);const _C=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function NC({children:e}){const t=oe(_C);return t?Gm.createPortal(e,t):null}function CC({dimensions:e,lineWidth:t,variant:n,className:r}){return p.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ee(["react-flow__background-pattern",n,r])})}function jC({radius:e,className:t}){return p.jsx("circle",{cx:e,cy:e,r:e,className:Ee(["react-flow__background-pattern","dots",t])})}var Ut;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ut||(Ut={}));const PC={[Ut.Dots]:1,[Ut.Lines]:1,[Ut.Cross]:6},MC=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function ly({id:e,variant:t=Ut.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:s,bgColor:l,style:a,className:u,patternClassName:d}){const c=S.useRef(null),{transform:f,patternId:g}=oe(MC,ge),x=r||PC[t],v=t===Ut.Dots,b=t===Ut.Cross,m=Array.isArray(n)?n:[n,n],y=[m[0]*f[2]||1,m[1]*f[2]||1],h=x*f[2],w=Array.isArray(i)?i:[i,i],k=b?[h,h]:y,N=[w[0]*f[2]||1+k[0]/2,w[1]*f[2]||1+k[1]/2],E=`${g}${e||""}`;return p.jsxs("svg",{className:Ee(["react-flow__background",u]),style:{...a,...Cl,"--xy-background-color-props":l,"--xy-background-pattern-color-props":s},ref:c,"data-testid":"rf__background",children:[p.jsx("pattern",{id:E,x:f[0]%y[0],y:f[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:v?p.jsx(jC,{radius:h/2,className:d}):p.jsx(CC,{dimensions:k,lineWidth:o,variant:t,className:d})}),p.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E})`})]})}ly.displayName="Background";const IC=S.memo(ly);function TC(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:p.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function RC(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:p.jsx("path",{d:"M0 0h32v4.2H0z"})})}function LC(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:p.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function zC(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function $C(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Gi({children:e,className:t,...n}){return p.jsx("button",{type:"button",className:Ee(["react-flow__controls-button",t]),...n,children:e})}const DC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function ay({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:a,className:u,children:d,position:c="bottom-left",orientation:f="vertical","aria-label":g}){const x=ye(),{isInteractive:v,minZoomReached:b,maxZoomReached:m,ariaLabelConfig:y}=oe(DC,ge),{zoomIn:h,zoomOut:w,fitView:k}=Nl(),N=()=>{h(),i==null||i()},E=()=>{w(),s==null||s()},P=()=>{k(o),l==null||l()},R=()=>{x.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),a==null||a(!v)},D=f==="horizontal"?"horizontal":"vertical";return p.jsxs(_l,{className:Ee(["react-flow__controls",D,u]),position:c,style:e,"data-testid":"rf__controls","aria-label":g??y["controls.ariaLabel"],children:[t&&p.jsxs(p.Fragment,{children:[p.jsx(Gi,{onClick:N,className:"react-flow__controls-zoomin",title:y["controls.zoomIn.ariaLabel"],"aria-label":y["controls.zoomIn.ariaLabel"],disabled:m,children:p.jsx(TC,{})}),p.jsx(Gi,{onClick:E,className:"react-flow__controls-zoomout",title:y["controls.zoomOut.ariaLabel"],"aria-label":y["controls.zoomOut.ariaLabel"],disabled:b,children:p.jsx(RC,{})})]}),n&&p.jsx(Gi,{className:"react-flow__controls-fitview",onClick:P,title:y["controls.fitView.ariaLabel"],"aria-label":y["controls.fitView.ariaLabel"],children:p.jsx(LC,{})}),r&&p.jsx(Gi,{className:"react-flow__controls-interactive",onClick:R,title:y["controls.interactive.ariaLabel"],"aria-label":y["controls.interactive.ariaLabel"],children:v?p.jsx($C,{}):p.jsx(zC,{})}),d]})}ay.displayName="Controls";const AC=S.memo(ay);function OC({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:l,strokeWidth:a,className:u,borderRadius:d,shapeRendering:c,selected:f,onClick:g}){const{background:x,backgroundColor:v}=i||{},b=s||x||v;return p.jsx("rect",{className:Ee(["react-flow__minimap-node",{selected:f},u]),x:t,y:n,rx:d,ry:d,width:r,height:o,style:{fill:b,stroke:l,strokeWidth:a},shapeRendering:c,onClick:g?m=>g(m,e):void 0})}const FC=S.memo(OC),HC=e=>e.nodes.map(t=>t.id),ga=e=>e instanceof Function?e:()=>e;function BC({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=FC,onClick:s}){const l=oe(HC,ge),a=ga(t),u=ga(e),d=ga(n),c=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return p.jsx(p.Fragment,{children:l.map(f=>p.jsx(WC,{id:f,nodeColorFunc:a,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:s,shapeRendering:c},f))})}function VC({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:l,onClick:a}){const{node:u,x:d,y:c,width:f,height:g}=oe(x=>{const{internals:v}=x.nodeLookup.get(e),b=v.userNode,{x:m,y}=v.positionAbsolute,{width:h,height:w}=Jt(b);return{node:b,x:m,y,width:h,height:w}},ge);return!u||u.hidden||!o0(u)?null:p.jsx(l,{x:d,y:c,width:f,height:g,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:o,strokeColor:n(u),strokeWidth:i,shapeRendering:s,onClick:a,id:u.id})}const WC=S.memo(VC);var UC=S.memo(BC);const YC=200,XC=150,GC=e=>!e.hidden,KC=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?r0(gi(e.nodeLookup,{filter:GC}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},QC="react-flow__minimap-desc";function uy({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:l,bgColor:a,maskColor:u,maskStrokeColor:d,maskStrokeWidth:c,position:f="bottom-right",onClick:g,onNodeClick:x,pannable:v=!1,zoomable:b=!1,ariaLabel:m,inversePan:y,zoomStep:h=1,offsetScale:w=5}){const k=ye(),N=S.useRef(null),{boundingRect:E,viewBB:P,rfId:R,panZoom:D,translateExtent:L,flowWidth:T,flowHeight:F,ariaLabelConfig:_}=oe(KC,ge),I=(e==null?void 0:e.width)??YC,M=(e==null?void 0:e.height)??XC,$=E.width/I,C=E.height/M,j=Math.max($,C),z=j*I,A=j*M,O=w*j,W=E.x-(z-E.width)/2-O,V=E.y-(A-E.height)/2-O,X=z+O*2,G=A+O*2,K=`${QC}-${R}`,B=S.useRef(0),Q=S.useRef();B.current=j,S.useEffect(()=>{if(N.current&&D)return Q.current=ZE({domNode:N.current,panZoom:D,getTransform:()=>k.getState().transform,getViewScale:()=>B.current}),()=>{var q;(q=Q.current)==null||q.destroy()}},[D]),S.useEffect(()=>{var q;(q=Q.current)==null||q.update({translateExtent:L,width:T,height:F,inversePan:y,pannable:v,zoomStep:h,zoomable:b})},[v,b,y,h,L,T,F]);const ne=g?q=>{var se;const[le,ce]=((se=Q.current)==null?void 0:se.pointer(q))||[0,0];g(q,{x:le,y:ce})}:void 0,J=x?S.useCallback((q,le)=>{const ce=k.getState().nodeLookup.get(le).internals.userNode;x(q,ce)},[]):void 0,Z=m??_["minimap.ariaLabel"];return p.jsx(_l,{position:f,style:{...e,"--xy-minimap-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof c=="number"?c*j:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:Ee(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:p.jsxs("svg",{width:I,height:M,viewBox:`${W} ${V} ${X} ${G}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":K,ref:N,onClick:ne,children:[Z&&p.jsx("title",{id:K,children:Z}),p.jsx(UC,{onClick:J,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:l}),p.jsx("path",{className:"react-flow__minimap-mask",d:`M${W-O},${V-O}h${X+O*2}v${G+O*2}h${-X-O*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}uy.displayName="MiniMap";const qC=S.memo(uy),ZC=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,JC={[Ar.Line]:"right",[Ar.Handle]:"bottom-right"};function e3({nodeId:e,position:t,variant:n=Ar.Handle,className:r,style:o=void 0,children:i,color:s,minWidth:l=10,minHeight:a=10,maxWidth:u=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:c=!1,resizeDirection:f,autoScale:g=!0,shouldResize:x,onResizeStart:v,onResize:b,onResizeEnd:m}){const y=F0(),h=typeof e=="string"?e:y,w=ye(),k=S.useRef(null),N=n===Ar.Handle,E=oe(S.useCallback(ZC(N&&g),[N,g]),ge),P=S.useRef(null),R=t??JC[n];S.useEffect(()=>{if(!(!k.current||!h))return P.current||(P.current=f_({domNode:k.current,nodeId:h,getStoreItems:()=>{const{nodeLookup:L,transform:T,snapGrid:F,snapToGrid:_,nodeOrigin:I,domNode:M}=w.getState();return{nodeLookup:L,transform:T,snapGrid:F,snapToGrid:_,nodeOrigin:I,paneDomNode:M}},onChange:(L,T)=>{const{triggerNodeChanges:F,nodeLookup:_,parentLookup:I,nodeOrigin:M}=w.getState(),$=[],C={x:L.x,y:L.y},j=_.get(h);if(j&&j.expandParent&&j.parentId){const z=j.origin??M,A=L.width??j.measured.width??0,O=L.height??j.measured.height??0,W={id:j.id,parentId:j.parentId,rect:{width:A,height:O,...i0({x:L.x??j.position.x,y:L.y??j.position.y},{width:A,height:O},j.parentId,_,z)}},V=Kc([W],_,I,M);$.push(...V),C.x=L.x?Math.max(z[0]*A,L.x):void 0,C.y=L.y?Math.max(z[1]*O,L.y):void 0}if(C.x!==void 0&&C.y!==void 0){const z={id:h,type:"position",position:{...C}};$.push(z)}if(L.width!==void 0&&L.height!==void 0){const A={id:h,type:"dimensions",resizing:!0,setAttributes:f?f==="horizontal"?"width":"height":!0,dimensions:{width:L.width,height:L.height}};$.push(A)}for(const z of T){const A={...z,type:"position"};$.push(A)}F($)},onEnd:({width:L,height:T})=>{const F={id:h,type:"dimensions",resizing:!1,dimensions:{width:L,height:T}};w.getState().triggerNodeChanges([F])}})),P.current.update({controlPosition:R,boundaries:{minWidth:l,minHeight:a,maxWidth:u,maxHeight:d},keepAspectRatio:c,resizeDirection:f,onResizeStart:v,onResize:b,onResizeEnd:m,shouldResize:x}),()=>{var L;(L=P.current)==null||L.destroy()}},[R,l,a,u,d,c,v,b,m,x]);const D=R.split("-");return p.jsx("div",{className:Ee(["react-flow__resize-control","nodrag",...D,n,r]),ref:k,style:{...o,scale:E,...s&&{[N?"backgroundColor":"borderColor"]:s}},children:i})}S.memo(e3);const Nh=e=>{let t;const n=new Set,r=(u,d)=>{const c=typeof u=="function"?u(t):u;if(!Object.is(c,t)){const f=t;t=d??(typeof c!="object"||c===null)?c:Object.assign({},t,c),n.forEach(g=>g(t,f))}},o=()=>t,l={setState:r,getState:o,getInitialState:()=>a,subscribe:u=>(n.add(u),()=>n.delete(u))},a=t=e(r,o,l);return l},t3=e=>e?Nh(e):Nh,n3=e=>e;function r3(e,t=n3){const n=fo.useSyncExternalStore(e.subscribe,fo.useCallback(()=>t(e.getState()),[e,t]),fo.useCallback(()=>t(e.getInitialState()),[e,t]));return fo.useDebugValue(n),n}const Ch=e=>{const t=t3(e),n=r=>r3(t,r);return Object.assign(n,t),n},cy=e=>e?Ch(e):Ch;function dy(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=dy(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function o3(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=dy(e))&&(r&&(r+=" "),r+=t);return r}const qc="-",i3=e=>{const t=l3(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const l=s.split(qc);return l[0]===""&&l.length!==1&&l.shift(),fy(l,t)||s3(s)},getConflictingClassGroupIds:(s,l)=>{const a=n[s]||[];return l&&r[s]?[...a,...r[s]]:a}}},fy=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?fy(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(qc);return(s=t.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId},jh=/^\[(.+)\]$/,s3=e=>{if(jh.test(e)){const t=jh.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},l3=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return u3(Object.entries(e.classGroups),n).forEach(([i,s])=>{Pu(s,r,i,t)}),r},Pu=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:Ph(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(a3(o)){Pu(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,s])=>{Pu(s,Ph(t,i),n,r)})})},Ph=(e,t)=>{let n=e;return t.split(qc).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},a3=e=>e.isThemeGetter,u3=(e,t)=>t?e.map(([n,r])=>{const o=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,l])=>[t+s,l])):i);return[n,o]}):e,c3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let s=n.get(i);if(s!==void 0)return s;if((s=r.get(i))!==void 0)return o(i,s),s},set(i,s){n.has(i)?n.set(i,s):o(i,s)}}},hy="!",d3=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],i=t.length,s=l=>{const a=[];let u=0,d=0,c;for(let b=0;b<l.length;b++){let m=l[b];if(u===0){if(m===o&&(r||l.slice(b,b+i)===t)){a.push(l.slice(d,b)),d=b+i;continue}if(m==="/"){c=b;continue}}m==="["?u++:m==="]"&&u--}const f=a.length===0?l:l.substring(d),g=f.startsWith(hy),x=g?f.substring(1):f,v=c&&c>d?c-d:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:s}):s},f3=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},h3=e=>({cache:c3(e.cacheSize),parseClassName:d3(e),...i3(e)}),p3=/\s+/,m3=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=[],s=e.trim().split(p3);let l="";for(let a=s.length-1;a>=0;a-=1){const u=s[a],{modifiers:d,hasImportantModifier:c,baseClassName:f,maybePostfixModifierPosition:g}=n(u);let x=!!g,v=r(x?f.substring(0,g):f);if(!v){if(!x){l=u+(l.length>0?" "+l:l);continue}if(v=r(f),!v){l=u+(l.length>0?" "+l:l);continue}x=!1}const b=f3(d).join(":"),m=c?b+hy:b,y=m+v;if(i.includes(y))continue;i.push(y);const h=o(v,x);for(let w=0;w<h.length;++w){const k=h[w];i.push(m+k)}l=u+(l.length>0?" "+l:l)}return l};function g3(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=py(t))&&(r&&(r+=" "),r+=n);return r}const py=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=py(e[r]))&&(n&&(n+=" "),n+=t);return n};function y3(e,...t){let n,r,o,i=s;function s(a){const u=t.reduce((d,c)=>c(d),e());return n=h3(u),r=n.cache.get,o=n.cache.set,i=l,l(a)}function l(a){const u=r(a);if(u)return u;const d=m3(a,n);return o(a,d),d}return function(){return i(g3.apply(null,arguments))}}const de=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},my=/^\[(?:([a-z-]+):)?(.+)\]$/i,x3=/^\d+\/\d+$/,v3=new Set(["px","full","screen"]),w3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,b3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,k3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,E3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dt=e=>Er(e)||v3.has(e)||x3.test(e),on=e=>Yr(e,"length",T3),Er=e=>!!e&&!Number.isNaN(Number(e)),ya=e=>Yr(e,"number",Er),ao=e=>!!e&&Number.isInteger(Number(e)),_3=e=>e.endsWith("%")&&Er(e.slice(0,-1)),te=e=>my.test(e),sn=e=>w3.test(e),N3=new Set(["length","size","percentage"]),C3=e=>Yr(e,N3,gy),j3=e=>Yr(e,"position",gy),P3=new Set(["image","url"]),M3=e=>Yr(e,P3,L3),I3=e=>Yr(e,"",R3),uo=()=>!0,Yr=(e,t,n)=>{const r=my.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},T3=e=>b3.test(e)&&!S3.test(e),gy=()=>!1,R3=e=>k3.test(e),L3=e=>E3.test(e),z3=()=>{const e=de("colors"),t=de("spacing"),n=de("blur"),r=de("brightness"),o=de("borderColor"),i=de("borderRadius"),s=de("borderSpacing"),l=de("borderWidth"),a=de("contrast"),u=de("grayscale"),d=de("hueRotate"),c=de("invert"),f=de("gap"),g=de("gradientColorStops"),x=de("gradientColorStopPositions"),v=de("inset"),b=de("margin"),m=de("opacity"),y=de("padding"),h=de("saturate"),w=de("scale"),k=de("sepia"),N=de("skew"),E=de("space"),P=de("translate"),R=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",te,t],T=()=>[te,t],F=()=>["",Dt,on],_=()=>["auto",Er,te],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",te],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[Er,te];return{cacheSize:500,separator:":",theme:{colors:[uo],spacing:[Dt,on],blur:["none","",sn,te],brightness:A(),borderColor:[e],borderRadius:["none","","full",sn,te],borderSpacing:T(),borderWidth:F(),contrast:A(),grayscale:j(),hueRotate:A(),invert:j(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[_3,on],inset:L(),margin:L(),opacity:A(),padding:T(),saturate:A(),scale:A(),sepia:j(),skew:A(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",te]}],container:["container"],columns:[{columns:[sn]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),te]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ao,te]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",te]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",ao,te]}],"grid-cols":[{"grid-cols":[uo]}],"col-start-end":[{col:["auto",{span:["full",ao,te]},te]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[uo]}],"row-start-end":[{row:["auto",{span:[ao,te]},te]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",te]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",te,t]}],"min-w":[{"min-w":[te,t,"min","max","fit"]}],"max-w":[{"max-w":[te,t,"none","full","min","max","fit","prose",{screen:[sn]},sn]}],h:[{h:[te,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[te,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[te,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[te,t,"auto","min","max","fit"]}],"font-size":[{text:["base",sn,on]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ya]}],"font-family":[{font:[uo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",te]}],"line-clamp":[{"line-clamp":["none",Er,ya]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dt,te]}],"list-image":[{"list-image":["none",te]}],"list-style-type":[{list:["none","disc","decimal",te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dt,on]}],"underline-offset":[{"underline-offset":["auto",Dt,te]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),j3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",C3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},M3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:M()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Dt,te]}],"outline-w":[{outline:[Dt,on]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Dt,on]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sn,I3]}],"shadow-color":[{shadow:[uo]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",sn,te]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[c]}],saturate:[{saturate:[h]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[h]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",te]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",te]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[ao,te]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",te]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",te]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",te]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Dt,on,ya]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$3=y3(z3);function Oe(...e){return $3(o3(e))}let Mh=0;function D3(e){return Mh++,`${e}_${Date.now()}_${Mh}`}function A3(e,t,n){const r=n?`_${n}`:"";return`e_${e}${r}_${t}`}const O3=new Set(["trigger_start"]),F3=new Set(["action_handoff","utility_note"]);function H3(e,t){return O3.has(e)||t>0?null:{type:"orphan",severity:"error",message:"Bu adima hicbir yerden ulasilamiyor"}}function B3(e,t){return F3.has(e)||t>0?null:{type:"dead_end",severity:"warning",message:"Bu adimdan sonra devam eden bir baglanti yok"}}function V3(e){const t=e.type,n=e.data;switch(t){case"message_text":{const r=n.text;if(!r||r.trim()==="")return{type:"empty_field",severity:"warning",message:"Mesaj metni bos"};break}case"message_menu":{const r=n.options;if(!r||r.length===0)return{type:"empty_field",severity:"warning",message:"Menu secenegi eklenmedi"};break}}return null}function W3(e,t){const n=new Map,r=new Map,o=new Map;for(const i of e)r.set(i.id,0),o.set(i.id,0);for(const i of t)r.set(i.target,(r.get(i.target)??0)+1),o.set(i.source,(o.get(i.source)??0)+1);for(const i of e){const s=[],l=i.type,a=r.get(i.id)??0,u=o.get(i.id)??0,d=H3(l,a);d&&s.push(d);const c=B3(l,u);c&&s.push(c);const f=V3(i);f&&s.push(f),s.length>0&&n.set(i.id,s)}return n}function U3(e){return e.length===0?null:e.some(n=>n.severity==="error")?"#ef4444":"#f97316"}function Y3(e){return e.map(t=>t.message).join(`
`)}const X3=10;function Ih(e,t){const n={paths:[],reachableNodeIds:new Set,reachableEdgeIds:new Set},r=new Map;for(const c of t)r.has(c.source)||r.set(c.source,[]),r.get(c.source).push({target:c.target,edgeId:c.id});const o=e.find(c=>c.type==="trigger_start");if(!o)return n;const i=new Set(["action_handoff"]),s=new Map;for(const c of e)s.set(c.id,c.type??"");const l=[],a=[],u=new Set;function d(c){if(n.paths.length>=X3)return;l.push(c),u.add(c),n.reachableNodeIds.add(c);const f=r.get(c)??[];if(i.has(s.get(c)??"")||f.length===0){n.paths.push([...l]);for(const x of a)n.reachableEdgeIds.add(x)}else for(const{target:x,edgeId:v}of f)u.has(x)||(n.reachableEdgeIds.add(v),n.reachableNodeIds.add(x),a.push(v),d(x),a.pop());l.pop(),u.delete(c)}return d(o.id),n}const Th=Os(),ee=cy((e,t)=>({nodes:[],edges:[],selectedNodeId:null,isDirty:!1,flowMetadata:{...Th.metadata},flowSettings:{...Th.settings},validationErrors:new Map,ghostPathEnabled:!1,ghostPathNodeIds:new Set,ghostPathEdgeIds:new Set,history:[],historyIndex:-1,revalidate:()=>{const n=t(),o={validationErrors:W3(n.nodes,n.edges)};if(n.ghostPathEnabled){const i=Ih(n.nodes,n.edges);o.ghostPathNodeIds=i.reachableNodeIds,o.ghostPathEdgeIds=i.reachableEdgeIds}e(o)},toggleGhostPath:()=>{const n=t();if(!n.ghostPathEnabled){const o=Ih(n.nodes,n.edges);e({ghostPathEnabled:!0,ghostPathNodeIds:o.reachableNodeIds,ghostPathEdgeIds:o.reachableEdgeIds})}else e({ghostPathEnabled:!1,ghostPathNodeIds:new Set,ghostPathEdgeIds:new Set})},onNodesChange:n=>{e(r=>({nodes:L0(n,r.nodes),isDirty:!0})),queueMicrotask(()=>t().revalidate())},onEdgesChange:n=>{e(r=>({edges:z0(n,r.edges),isDirty:!0})),queueMicrotask(()=>t().revalidate())},onConnect:n=>{const r=A3(n.source??"",n.target??"",n.sourceHandle??void 0);e(o=>(t().pushHistory(),{edges:d0({...n,id:r},o.edges),isDirty:!0})),queueMicrotask(()=>t().revalidate())},addNode:(n,r)=>{const o=xg(n);if(!o)return;const i=t();if(o.maxInstances&&i.nodes.filter(u=>u.type===n).length>=o.maxInstances)return;t().pushHistory();const s=D3(n),l={id:s,type:n,position:r,data:{...o.defaultData}};e({nodes:[...i.nodes,l],selectedNodeId:s,isDirty:!0}),queueMicrotask(()=>t().revalidate())},deleteNode:n=>{t().pushHistory(),e(r=>({nodes:r.nodes.filter(o=>o.id!==n),edges:r.edges.filter(o=>o.source!==n&&o.target!==n),selectedNodeId:r.selectedNodeId===n?null:r.selectedNodeId,isDirty:!0})),queueMicrotask(()=>t().revalidate())},updateNodeData:(n,r)=>{e(o=>({nodes:o.nodes.map(i=>i.id===n?{...i,data:{...i.data,...r}}:i),isDirty:!0})),queueMicrotask(()=>t().revalidate())},selectNode:n=>{e({selectedNodeId:n})},loadFlow:n=>{const r=Os(),o=(n.nodes??[]).map(s=>({id:s.id,type:s.type,position:s.position,data:s.data})),i=(n.edges??[]).map(s=>({id:s.id,source:s.source,target:s.target,sourceHandle:s.sourceHandle,targetHandle:s.targetHandle}));e({nodes:o,edges:i,selectedNodeId:null,isDirty:!1,flowMetadata:{...r.metadata,...n.metadata},flowSettings:{...r.settings,...n.settings},history:[],historyIndex:-1}),queueMicrotask(()=>t().revalidate())},toFlowConfig:()=>{const n=t();return{version:2,metadata:n.flowMetadata,nodes:n.nodes.map(r=>({id:r.id,type:r.type,position:r.position,data:r.data})),edges:n.edges.map(r=>({id:r.id,source:r.source,target:r.target,sourceHandle:r.sourceHandle??void 0,targetHandle:r.targetHandle??void 0})),settings:n.flowSettings}},newFlow:()=>{const n=Os();t().loadFlow(n),e({isDirty:!1})},setMetadata:n=>{e(r=>({flowMetadata:{...r.flowMetadata,...n},isDirty:!0}))},setSettings:n=>{e(r=>({flowSettings:{...r.flowSettings,...n},isDirty:!0}))},markClean:()=>e({isDirty:!1}),pushHistory:()=>{const n=t(),r={nodes:JSON.parse(JSON.stringify(n.nodes)),edges:JSON.parse(JSON.stringify(n.edges))},o=n.history.slice(0,n.historyIndex+1);o.push(r),o.length>50&&o.shift(),e({history:o,historyIndex:o.length-1})},undo:()=>{const n=t();if(n.historyIndex<0)return;const r=n.history[n.historyIndex];e({nodes:r.nodes,edges:r.edges,historyIndex:n.historyIndex-1,isDirty:!0}),queueMicrotask(()=>t().revalidate())},redo:()=>{const n=t();if(n.historyIndex>=n.history.length-1)return;const r=n.historyIndex+1;if(r+1<n.history.length){const o=n.history[r+1];e({nodes:o.nodes,edges:o.edges,historyIndex:r,isDirty:!0}),queueMicrotask(()=>t().revalidate())}}})),Ce=cy((e,t)=>({isOpen:!1,isLoading:!1,sessionId:null,messages:[],currentNodeId:null,variables:{},executionPath:[],status:null,pendingInput:null,error:null,open:()=>e({isOpen:!0}),close:()=>{const{sessionId:n}=t();n&&kf(n).catch(r=>{console.warn("[SimulationStore] cleanup failed (session will expire via TTL):",r)}),e({isOpen:!1,sessionId:null,messages:[],currentNodeId:null,variables:{},executionPath:[],status:null,pendingInput:null,error:null,isLoading:!1})},start:async(n,r)=>{e({isLoading:!0,error:null,messages:[]});try{const o=await Ib(n,r);e({sessionId:o.session_id,messages:o.messages,currentNodeId:o.current_node_id,variables:o.variables,executionPath:o.execution_path,status:o.status,pendingInput:o.pending_input,isLoading:!1,isOpen:!0})}catch(o){const i=o instanceof lt?`[${o.errorCode}] ${o.message}`:o instanceof Error?o.message:"Simulasyon baslatma hatasi";e({error:i,isLoading:!1})}},sendMessage:async n=>{const{sessionId:r,messages:o}=t();if(!r){console.warn("[SimulationStore] sendMessage called without active session");return}e({isLoading:!0,error:null});try{const i=await Tb(r,n);e({messages:[...o,...i.messages],currentNodeId:i.current_node_id,variables:i.variables,executionPath:i.execution_path,status:i.status,pendingInput:i.pending_input,isLoading:!1})}catch(i){const s=i instanceof lt?`[${i.errorCode}] ${i.message}`:i instanceof Error?i.message:"Simulasyon adim hatasi";e({error:s,isLoading:!1})}},reset:()=>{const{sessionId:n}=t();n&&kf(n).catch(r=>{console.warn("[SimulationStore] reset cleanup failed (session will expire via TTL):",r)}),e({sessionId:null,messages:[],currentNodeId:null,variables:{},executionPath:[],status:null,pendingInput:null,error:null,isLoading:!1})}}));function G3({nodeProps:e,color:t,icon:n,children:r,outputs:o,hasInput:i=!0,hasDefaultOutput:s=!0}){const{id:l,data:a,selected:u}=e,d=ee(N=>N.selectNode),c=ee(N=>N.validationErrors.get(l)??[]),f=a.label??"",g=Ce(N=>N.currentNodeId),v=Ce(N=>N.isOpen)&&g===l,b=ee(N=>N.ghostPathEnabled),m=ee(N=>N.ghostPathNodeIds.has(l)),y=b&&!m,h=U3(c),w=Y3(c),k=v?"0 0 0 3px #10b98160, 0 0 12px #10b98140":h&&!u?`0 0 0 3px ${h}40, 0 0 8px ${h}30`:void 0;return p.jsxs("div",{className:Oe("min-w-[180px] max-w-[260px] rounded-lg border-2 shadow-lg transition-all",u?"shadow-xl ring-2 ring-blue-400/50":"shadow-md",v&&"ring-2 ring-emerald-400/60"),style:{borderColor:v?"#10b981":u?"#60a5fa":t,background:"#ffffff",opacity:y?.3:1,...k?{boxShadow:k}:{}},onClick:()=>d(l),title:w||void 0,children:[p.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-t-md",style:{background:`${t}20`},children:[p.jsx("span",{className:"flex-shrink-0 w-5 h-5",style:{color:t},children:n}),p.jsx("span",{className:"text-base font-medium truncate text-slate-700",children:f})]}),r&&p.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:r}),i&&p.jsx(Fn,{type:"target",position:Y.Top,className:"!w-3 !h-3 !border-2 !bg-blue-500 !border-blue-300 hover:!bg-blue-300 hover:!border-blue-100 transition-colors"}),s&&!o&&p.jsx(Fn,{type:"source",position:Y.Bottom,className:"!w-3 !h-3 !border-2 !bg-emerald-500 !border-emerald-300 hover:!bg-emerald-300 hover:!border-emerald-100 transition-colors"}),o&&o.length>0&&p.jsx("div",{className:"relative pb-3",children:o.map((N,E)=>{const P=o.length,R=P===1?50:E/(P-1)*80+10;return p.jsxs("div",{children:[p.jsx(Fn,{type:"source",position:Y.Bottom,id:N.id,className:"!w-3 !h-3 !border-2 !bg-emerald-500 !border-emerald-300 hover:!bg-emerald-300 hover:!border-emerald-100 transition-colors",style:{left:`${R}%`}}),N.label&&p.jsx("span",{className:"absolute text-[11px] text-slate-400 whitespace-nowrap",style:{left:`${R}%`,bottom:"2px",transform:"translateX(-50%)"},children:N.label})]},N.id)})})]})}const jl=S.memo(G3),K3=()=>p.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:p.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})});function Q3(e){return p.jsx(jl,{nodeProps:e,color:"#10b981",icon:p.jsx(K3,{}),hasInput:!1,children:p.jsx("span",{className:"text-emerald-400/70",children:"Musteri mesaj gonderince baslar"})})}const q3=S.memo(Q3),Z3=()=>p.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:p.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})});function J3(e){const t=e.data,n=t.text?t.text.length>60?t.text.substring(0,60)+"...":t.text:"Mesaj metni girilmedi";return p.jsx(jl,{nodeProps:e,color:"#3b82f6",icon:p.jsx(Z3,{}),children:p.jsx("span",{className:t.text?"text-slate-300":"text-slate-500 italic",children:n})})}const ej=S.memo(J3),tj=()=>p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[p.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),p.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),p.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),p.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),p.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),p.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]});function nj(e){const n=e.data.options??[],r=n.map(o=>({id:o.handle_id,label:o.key}));return p.jsx(jl,{nodeProps:e,color:"#3b82f6",icon:p.jsx(tj,{}),hasDefaultOutput:!1,outputs:r,children:p.jsxs("div",{className:"space-y-1",children:[n.length===0&&p.jsx("span",{className:"text-slate-400 italic",children:"Secenek eklenmedi"}),n.map(o=>p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("span",{className:"w-5 h-5 rounded bg-blue-500/20 text-blue-400 flex items-center justify-center text-xs font-bold flex-shrink-0",children:o.key}),p.jsx("span",{className:"text-slate-600 truncate",children:o.label})]},o.handle_id))]})})}const rj=S.memo(nj),oj=()=>p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),p.jsx("polyline",{points:"17 11 19 13 23 9"})]});function ij(e){const t=e.data;return p.jsx(jl,{nodeProps:e,color:"#ef4444",icon:p.jsx(oj,{}),hasDefaultOutput:!1,children:p.jsxs("div",{className:"space-y-1",children:[p.jsx("span",{className:"text-red-400/70",children:"Terminal - session biter"}),t.summary_template&&p.jsxs("div",{className:"text-slate-400 text-[10px] mt-1 truncate",children:["Ozet: ",t.summary_template]})]})})}const sj=S.memo(ij);function lj(e){const{id:t,data:n,selected:r}=e,o=n,i=ee(l=>l.selectNode),s=o.color||"#fef3c7";return p.jsxs("div",{className:"min-w-[160px] max-w-[280px] rounded-lg shadow-md transition-shadow",style:{background:s,border:r?"2px solid #60a5fa":"2px dashed #d4a574",boxShadow:r?"0 0 0 2px rgba(96,165,250,0.3)":void 0},onClick:()=>i(t),children:[p.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 border-b border-amber-300/50",children:[p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#92400e",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 flex-shrink-0",children:[p.jsx("line",{x1:"18",y1:"2",x2:"22",y2:"6"}),p.jsx("path",{d:"M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"})]}),p.jsx("span",{className:"text-xs font-medium text-amber-900 truncate",children:o.label||"Not"})]}),o.text&&p.jsx("div",{className:"px-3 py-2 text-xs text-amber-800 whitespace-pre-wrap break-words",children:o.text.length>120?o.text.substring(0,120)+"...":o.text}),!o.text&&p.jsx("div",{className:"px-3 py-2 text-xs text-amber-600/60 italic",children:"Not metni girilmedi"})]})}const aj=S.memo(lj),uj={trigger_start:q3,message_text:ej,message_menu:rj,action_handoff:sj,utility_note:aj};function cj({id:e,sourceX:t,sourceY:n,targetX:r,targetY:o,sourcePosition:i,targetPosition:s,style:l={},markerEnd:a,selected:u}){const{setEdges:d}=Nl(),[c,f,g]=Wc({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:o,targetPosition:s}),x=v=>{v.stopPropagation(),d(b=>b.filter(m=>m.id!==e))};return p.jsxs(p.Fragment,{children:[p.jsx(vi,{path:c,markerEnd:a,style:{...l,stroke:u?"#3b82f6":"#94a3b8",strokeWidth:u?3:2}}),p.jsx(NC,{children:p.jsx("div",{className:"nodrag nopan pointer-events-auto group",style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${g}px)`},children:p.jsx("button",{onClick:x,className:"w-5 h-5 rounded-full bg-white border border-slate-300 flex items-center justify-center opacity-0 group-hover:opacity-100 hover:bg-red-500 hover:border-red-400 transition-all duration-150 cursor-pointer shadow-sm",title:"Baglantiyi Sil",children:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"w-2.5 h-2.5 text-slate-500 hover:text-white",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})})]})}const dj={deletable:cj};function fj(){const e=S.useRef(null),t=S.useRef(null),n=ee(h=>h.nodes),r=ee(h=>h.edges),o=ee(h=>h.onNodesChange),i=ee(h=>h.onEdgesChange),s=ee(h=>h.onConnect),l=ee(h=>h.addNode),a=ee(h=>h.selectNode),u=ee(h=>h.deleteNode),d=ee(h=>h.ghostPathEnabled),c=ee(h=>h.ghostPathEdgeIds),f=S.useMemo(()=>d?r.map(h=>{const w=c.has(h.id);return{...h,style:w?{stroke:"#a855f7",strokeWidth:3}:{stroke:"#94a3b8",strokeWidth:2,opacity:.3},animated:w}}):r,[r,d,c]),g=S.useCallback(h=>{t.current=h},[]),x=S.useCallback(h=>{h.preventDefault(),h.dataTransfer.dropEffect="move"},[]),v=S.useCallback(h=>{h.preventDefault();const w=h.dataTransfer.getData("application/invekto-node-type");if(!w||!t.current||!e.current)return;const k=e.current.getBoundingClientRect(),N=t.current.screenToFlowPosition({x:h.clientX-k.left,y:h.clientY-k.top});l(w,N)},[l]),b=S.useCallback(h=>h.source!==h.target,[]),m=S.useCallback(()=>{a(null)},[a]),y=S.useCallback(h=>{if(h.key==="Delete"||h.key==="Backspace"){const w=ee.getState().selectedNodeId;if(w){const k=ee.getState().nodes.find(N=>N.id===w);if((k==null?void 0:k.type)==="trigger_start")return;u(w)}}},[u]);return p.jsx("div",{ref:e,className:"flex-1 min-h-0",onKeyDown:y,tabIndex:0,children:p.jsxs(EC,{nodes:n,edges:f,onNodesChange:o,onEdgesChange:i,onConnect:s,onInit:g,onDrop:v,onDragOver:x,onPaneClick:m,isValidConnection:b,nodeTypes:uj,edgeTypes:dj,fitView:!0,fitViewOptions:{padding:.2},deleteKeyCode:["Delete","Backspace"],defaultEdgeOptions:{type:"deletable",animated:!0,style:{stroke:"#94a3b8",strokeWidth:2},interactionWidth:20},connectionLineStyle:{stroke:"#3b82f6",strokeWidth:2},edgesReconnectable:!0,proOptions:{hideAttribution:!0},children:[p.jsx(IC,{variant:Ut.Dots,gap:20,size:1,color:"#cbd5e1"}),p.jsx(AC,{showInteractive:!1,position:"bottom-right"}),p.jsx(qC,{nodeColor:h=>{switch(h.type){case"trigger_start":return"#10b981";case"message_text":return"#3b82f6";case"message_menu":return"#3b82f6";case"action_handoff":return"#ef4444";case"logic_condition":return"#f59e0b";case"ai_intent":return"#8b5cf6";case"ai_faq":return"#8b5cf6";default:return"#6b7280"}},maskColor:"rgba(241, 245, 249, 0.8)",position:"bottom-left"})]})})}const xa=5;function hj(e){const t=e.data,n=e.type;switch(n){case"trigger_start":return"Musteri mesaj gonderir";case"message_text":{const r=t.text;return!r||r.trim()===""?"Mesaj (bos)":r.length>40?r.substring(0,40)+"...":r}case"message_menu":return`Menu: ${t.text||"Secim yapin"}`;case"action_handoff":return"Temsilciye aktar";case"utility_note":return"";default:return t.label||n}}function pj(e,t){if(e.length===0)return{lines:[],totalSteps:0,hasErrors:!1};const n=e.find(a=>a.type==="trigger_start");if(!n)return{lines:[{text:"Baslangic adimi bulunamadi",indent:0,nodeType:"trigger_start"}],totalSteps:0,hasErrors:!0};const r=new Map;for(const a of t){const u=r.get(a.source)??[];u.push({target:a.target,sourceHandle:a.sourceHandle??void 0}),r.set(a.source,u)}const o=new Map(e.map(a=>[a.id,a])),i=[],s=new Set;function l(a,u){if(s.has(a))return;s.add(a);const d=o.get(a);if(!d)return;const c=d.type;if(c!=="utility_note"){const g=hj(d);g&&i.push({text:g,indent:u,nodeType:c})}if(c==="message_menu"){const g=d.data,x=r.get(a)??[];for(const v of g.options??[]){i.push({text:`${v.key}. ${v.label}`,indent:u+1,nodeType:"message_menu"});const b=x.find(m=>m.sourceHandle===v.handle_id);b&&l(b.target,u+2)}return}const f=r.get(a)??[];for(const g of f)l(g.target,u)}return l(n.id,0),{lines:i,totalSteps:i.length,hasErrors:!1}}function mj(e){return e.lines.length<=xa?{displayLines:e.lines,truncatedCount:0}:{displayLines:e.lines.slice(0,xa),truncatedCount:e.lines.length-xa}}const Rh="invekto_flow_summary_collapsed";function gj(e){switch(e){case"trigger_start":return"";case"message_text":return"";case"message_menu":return"";case"action_handoff":return"";default:return""}}function yj({line:e}){const t=e.indent*16;return p.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-600 leading-5",style:{paddingLeft:t},children:[p.jsx("span",{className:"flex-shrink-0 text-[10px]",children:gj(e.nodeType)}),p.jsx("span",{className:"truncate",children:e.text})]})}function xj(){const e=ee(a=>a.nodes),t=ee(a=>a.edges),[n,r]=S.useState(()=>{try{return localStorage.getItem(Rh)==="true"}catch(a){return console.warn("FlowSummaryBar: localStorage okunamadi",a),!1}});S.useEffect(()=>{try{localStorage.setItem(Rh,String(n))}catch(a){console.warn("FlowSummaryBar: localStorage yazilamadi",a)}},[n]);const o=S.useMemo(()=>pj(e,t),[e,t]),{displayLines:i,truncatedCount:s}=S.useMemo(()=>mj(o),[o]),l=o.lines.length>0;return p.jsxs("div",{className:"border-t border-slate-200 bg-white flex-shrink-0",children:[p.jsxs("button",{onClick:()=>r(a=>!a),className:"w-full flex items-center justify-between px-4 py-1.5 text-xs font-medium text-slate-500 hover:bg-slate-50 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`w-3 h-3 transition-transform ${n?"":"rotate-180"}`,children:p.jsx("polyline",{points:"6 9 12 15 18 9"})}),p.jsx("span",{children:"Canli Onizleme"}),l&&p.jsxs("span",{className:"text-slate-400",children:["(",o.totalSteps," adim)"]})]}),o.hasErrors&&p.jsx("span",{className:"text-red-500 text-[10px]",children:"Baslangic bulunamadi"})]}),!n&&p.jsxs("div",{className:"px-4 pb-2 space-y-0.5",children:[!l&&!o.hasErrors&&p.jsx("div",{className:"text-xs text-slate-400 italic py-1",children:"Henuz adim eklenmedi"}),i.map((a,u)=>p.jsx(yj,{line:a},u)),s>0&&p.jsxs("div",{className:"text-xs text-slate-400 italic mt-1",children:["... ve ",s," adim daha"]})]})]})}const vj=S.memo(xj),wj={trigger:"Tetikleyici",message:"Mesaj",logic:"Mantik",ai:"Yapay Zeka",action:"Aksiyon",utility:"Araclar"},yy=["trigger","message","logic","ai","action","utility"];function bj(e){const t=new Map;for(const n of yy){const r=e.filter(o=>o.category===n);r.length>0&&t.set(n,r)}return t}function Sj({info:e}){const t=(n,r)=>{n.dataTransfer.setData("application/invekto-node-type",r),n.dataTransfer.effectAllowed="move"};return p.jsxs("div",{draggable:!0,onDragStart:n=>t(n,e.type),className:Oe("flex items-center gap-2 px-3 py-2 rounded-md cursor-grab active:cursor-grabbing","border border-transparent hover:border-slate-300 transition-colors","bg-slate-50 hover:bg-slate-100"),children:[p.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:e.color}}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("div",{className:"text-xs font-medium text-slate-700 truncate",children:e.label}),p.jsx("div",{className:"text-[10px] text-slate-400 truncate",children:e.description})]})]})}function kj(){const e=bj(yg);return p.jsxs("div",{className:"w-52 bg-white border-r border-slate-200 overflow-y-auto flex-shrink-0",children:[p.jsxs("div",{className:"p-3 border-b border-slate-200",children:[p.jsx("h2",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Node'lar"}),p.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:"Surukle birak"})]}),p.jsx("div",{className:"p-2 space-y-3",children:yy.map(t=>{const n=e.get(t);return n?p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-wider px-1 mb-1",children:wj[t]}),p.jsx("div",{className:"space-y-1",children:n.map(r=>p.jsx(Sj,{info:r},r.type))})]},t):null})})]})}function Ej({onSave:e,isSaving:t,onBack:n,onTest:r}){const o=ee(v=>v.isDirty),i=Ce(v=>v.isOpen),s=Ce(v=>v.isLoading),l=ee(v=>v.flowMetadata),a=ee(v=>v.setMetadata),u=ee(v=>v.undo),d=ee(v=>v.redo),c=ee(v=>v.historyIndex),f=ee(v=>v.history.length),g=c>=0,x=c<f-1;return p.jsxs("div",{className:"h-12 bg-white border-b border-slate-200 flex items-center px-4 gap-3 flex-shrink-0 shadow-sm",children:[n&&p.jsx("button",{onClick:n,className:"p-1.5 rounded hover:bg-slate-100 transition-colors text-slate-600",title:"Flow Listesine Don",children:p.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:p.jsx("polyline",{points:"15 18 9 12 15 6"})})}),p.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p.jsx("input",{type:"text",value:l.name,onChange:v=>a({name:v.target.value}),className:"bg-transparent text-sm font-medium text-slate-900 border-none outline-none w-40 focus:ring-1 focus:ring-blue-500/50 rounded px-2 py-1",placeholder:"Flow Adi"}),p.jsx("span",{className:"text-slate-300",children:"|"}),p.jsx("input",{type:"text",value:l.description??"",onChange:v=>a({description:v.target.value}),className:"bg-transparent text-xs text-slate-500 border-none outline-none w-56 focus:ring-1 focus:ring-blue-500/50 rounded px-2 py-1",placeholder:"Flow aciklamasi..."})]}),o&&p.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400 flex-shrink-0",title:"Kaydedilmemis degisiklikler"}),p.jsx("div",{className:"flex-1"}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{onClick:u,disabled:!g,className:Oe("p-1.5 rounded hover:bg-slate-100 transition-colors",g?"text-slate-600":"text-slate-300 cursor-not-allowed"),title:"Geri Al (Ctrl+Z)",children:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[p.jsx("polyline",{points:"1 4 1 10 7 10"}),p.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]})}),p.jsx("button",{onClick:d,disabled:!x,className:Oe("p-1.5 rounded hover:bg-slate-100 transition-colors",x?"text-slate-600":"text-slate-300 cursor-not-allowed"),title:"Ileri Al (Ctrl+Y)",children:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[p.jsx("polyline",{points:"23 4 23 10 17 10"}),p.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]})})]}),p.jsx("div",{className:"w-px h-6 bg-slate-200"}),p.jsx(_j,{}),p.jsxs("button",{onClick:r,disabled:s||t,className:Oe("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium transition-colors",i?"bg-emerald-100 text-emerald-700 border border-emerald-300":s||t?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-500 text-white"),title:o?"Once flow'u kaydedin":"Tek Tikla Test",children:[p.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:p.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),s?"Baslatiliyor...":"Test Et"]}),p.jsxs("button",{onClick:e,disabled:t||!o,className:Oe("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium transition-colors",o&&!t?"bg-blue-600 hover:bg-blue-500 text-white":"bg-slate-100 text-slate-400 cursor-not-allowed"),children:[p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[p.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),p.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),p.jsx("polyline",{points:"7 3 7 8 15 8"})]}),t?"Kaydediliyor...":"Kaydet"]})]})}function _j(){const e=ee(n=>n.ghostPathEnabled),t=ee(n=>n.toggleGhostPath);return p.jsxs("button",{onClick:t,className:Oe("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium transition-colors",e?"bg-purple-500 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-600"),title:"Baslangictan ulasilan yollari goster/gizle",children:[p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[p.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Yollari Goster"]})}function Nj({role:e,text:t}){if(e==="system")return p.jsx("div",{className:"flex justify-center my-1",children:p.jsx("span",{className:"text-[11px] text-slate-400 bg-slate-100 rounded-full px-3 py-1 max-w-[90%] text-center",children:t})});const n=e==="bot";return p.jsx("div",{className:Oe("flex mb-2",n?"justify-start":"justify-end"),children:p.jsx("div",{className:Oe("max-w-[85%] rounded-lg px-3 py-2 text-sm whitespace-pre-wrap break-words",n?"bg-white text-slate-800 border border-slate-200 rounded-tl-none":"bg-emerald-500 text-white rounded-tr-none"),children:t})})}const Cj=S.memo(Nj);function jj(){const e=Ce(E=>E.isOpen),t=Ce(E=>E.isLoading),n=Ce(E=>E.messages),r=Ce(E=>E.status),o=Ce(E=>E.pendingInput),i=Ce(E=>E.error),s=Ce(E=>E.variables),l=Ce(E=>E.executionPath),a=Ce(E=>E.sendMessage),u=Ce(E=>E.close),d=Ce(E=>E.reset),[c,f]=S.useState(""),[g,x]=S.useState("chat"),v=S.useRef(null),b=S.useRef(null);S.useEffect(()=>{var E;(E=v.current)==null||E.scrollIntoView({behavior:"smooth"})},[n]),S.useEffect(()=>{var E;e&&!t&&g==="chat"&&((E=b.current)==null||E.focus())},[e,t,g]);const m=S.useCallback(()=>{const E=c.trim();!E||t||(f(""),a(E))},[c,t,a]),y=S.useCallback(E=>{t||a(E)},[t,a]),h=S.useCallback(E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),m())},[m]);if(!e)return null;const w=r==="completed"||r==="error"||r==="handed_off",k=(o==null?void 0:o.type)==="menu"&&o.options&&!w,N=Object.entries(s);return p.jsxs("div",{className:"w-[280px] flex-shrink-0 border-l border-slate-200 bg-slate-50 flex flex-col",children:[p.jsxs("div",{className:"h-10 bg-emerald-600 flex items-center px-3 gap-2 flex-shrink-0",children:[p.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-400 flex items-center justify-center",children:p.jsx("svg",{viewBox:"0 0 24 24",fill:"white",className:"w-3.5 h-3.5",children:p.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),p.jsx("span",{className:"text-white text-xs font-medium flex-1",children:"Simulasyon"}),p.jsx("button",{onClick:d,className:"p-1 rounded hover:bg-emerald-500 transition-colors text-emerald-200 hover:text-white",title:"Yeniden Baslat",children:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[p.jsx("polyline",{points:"1 4 1 10 7 10"}),p.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]})}),p.jsx("button",{onClick:u,className:"p-1 rounded hover:bg-emerald-500 transition-colors text-emerald-200 hover:text-white",title:"Kapat",children:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),p.jsxs("div",{className:"flex border-b border-slate-200 bg-white flex-shrink-0",children:[p.jsx("button",{onClick:()=>x("chat"),className:Oe("flex-1 px-3 py-1.5 text-xs font-medium transition-colors",g==="chat"?"text-emerald-700 border-b-2 border-emerald-500":"text-slate-500 hover:text-slate-700"),children:"Sohbet"}),p.jsx("button",{onClick:()=>x("variables"),className:Oe("flex-1 px-3 py-1.5 text-xs font-medium transition-colors",g==="variables"?"text-emerald-700 border-b-2 border-emerald-500":"text-slate-500 hover:text-slate-700"),children:"Degiskenler"})]}),g==="chat"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex-1 overflow-y-auto px-3 py-3 min-h-0",children:[n.length===0&&!t&&p.jsx("div",{className:"text-xs text-slate-400 text-center mt-8",children:"Simulasyon baslatiliyor..."}),n.map((E,P)=>p.jsx(Cj,{role:E.role,text:E.text},P)),t&&p.jsx("div",{className:"flex justify-start mb-2",children:p.jsx("div",{className:"bg-white border border-slate-200 rounded-lg rounded-tl-none px-3 py-2",children:p.jsxs("div",{className:"flex gap-1",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-slate-300 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),p.jsx("span",{className:"w-1.5 h-1.5 bg-slate-300 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),p.jsx("span",{className:"w-1.5 h-1.5 bg-slate-300 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),p.jsx("div",{ref:v})]}),i&&p.jsx("div",{className:"px-3 py-2 bg-red-50 border-t border-red-200 text-xs text-red-600",children:i}),w&&p.jsxs("div",{className:"px-3 py-2 bg-slate-100 border-t border-slate-200 text-xs text-slate-500 text-center",children:[r==="completed"&&"Akis tamamlandi.",r==="error"&&"Akis hata ile sonlandi.",r==="handed_off"&&"Musteri temsilcisine yonlendirildi.",p.jsx("button",{onClick:d,className:"ml-2 text-blue-600 hover:text-blue-500 underline",children:"Yeniden Baslat"})]}),k&&p.jsx("div",{className:"px-3 py-2 border-t border-slate-200 bg-white flex flex-wrap gap-1.5",children:o.options.map(E=>p.jsx("button",{onClick:()=>y(E),disabled:t,className:Oe("px-2.5 py-1 text-xs rounded-full border transition-colors",t?"border-slate-200 text-slate-300 cursor-not-allowed":"border-emerald-300 text-emerald-700 bg-emerald-50 hover:bg-emerald-100"),children:E},E))}),!w&&p.jsxs("div",{className:"px-3 py-2 border-t border-slate-200 bg-white flex gap-2 flex-shrink-0",children:[p.jsx("input",{ref:b,type:"text",value:c,onChange:E=>f(E.target.value),onKeyDown:h,placeholder:(o==null?void 0:o.type)==="menu"?"Secenek secin veya yazin...":"Mesaj yazin...",disabled:t,className:"flex-1 text-xs border border-slate-200 rounded-full px-3 py-1.5 outline-none focus:border-emerald-400 focus:ring-1 focus:ring-emerald-400/30 disabled:bg-slate-50"}),p.jsx("button",{onClick:m,disabled:t||!c.trim(),className:Oe("w-7 h-7 rounded-full flex items-center justify-center flex-shrink-0 transition-colors",c.trim()&&!t?"bg-emerald-500 hover:bg-emerald-400 text-white":"bg-slate-100 text-slate-300 cursor-not-allowed"),children:p.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-3.5 h-3.5",children:p.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})})})]})]}),g==="variables"&&p.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[l.length>0&&p.jsxs("div",{className:"px-3 py-2 border-b border-slate-200 bg-white",children:[p.jsx("span",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-wider",children:"Yol"}),p.jsx("div",{className:"mt-1 flex flex-wrap gap-0.5",children:l.map((E,P)=>p.jsxs("span",{className:"inline-flex items-center",children:[p.jsx("span",{className:"text-[10px] text-slate-500 bg-slate-100 rounded px-1 py-0.5 font-mono",children:E.length>16?`${E.slice(0,16)}..`:E}),P<l.length-1&&p.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3 text-slate-300 mx-0.5",children:p.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]},P))})]}),p.jsxs("div",{className:"px-3 py-2",children:[p.jsx("span",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-wider",children:"Degiskenler"}),N.length===0?p.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"Henuz degisken yok."}):p.jsxs("table",{className:"w-full mt-1.5 text-xs",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b border-slate-200",children:[p.jsx("th",{className:"text-left py-1 font-medium text-slate-500 pr-2",children:"Anahtar"}),p.jsx("th",{className:"text-left py-1 font-medium text-slate-500",children:"Deger"})]})}),p.jsx("tbody",{children:N.map(([E,P])=>p.jsxs("tr",{className:"border-b border-slate-100",children:[p.jsx("td",{className:"py-1 pr-2 font-mono text-purple-600 break-all",children:E}),p.jsx("td",{className:"py-1 text-slate-700 break-all",children:P})]},E))})]})]})]})]})}function Pj(){const e=ee(a=>a.selectedNodeId),t=ee(a=>a.nodes),n=ee(a=>a.updateNodeData),r=ee(a=>a.deleteNode),o=e?t.find(a=>a.id===e):null;if(!o)return p.jsx("div",{className:"w-64 bg-white border-l border-slate-200 flex-shrink-0 flex items-center justify-center",children:p.jsx("p",{className:"text-sm text-slate-400 text-center px-4",children:"Ozelliklerini duzenlemek icin bir node secin"})});const i=o.type,s=xg(i),l=a=>{n(o.id,a)};return p.jsxs("div",{className:"w-64 bg-white border-l border-slate-200 flex-shrink-0 overflow-y-auto",children:[p.jsxs("div",{className:"p-3 border-b border-slate-200",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:(s==null?void 0:s.color)??"#6b7280"}}),p.jsx("span",{className:"text-base font-medium text-slate-700",children:(s==null?void 0:s.label)??i})]}),p.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:s==null?void 0:s.description})]}),p.jsxs("div",{className:"p-3 space-y-3",children:[p.jsx(Qn,{label:"Etiket",children:p.jsx("input",{type:"text",value:o.data.label??"",onChange:a=>l({label:a.target.value}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500"})}),i==="trigger_start"&&p.jsx(Mj,{}),i==="message_text"&&p.jsx(Ij,{data:o.data,onChange:l}),i==="message_menu"&&p.jsx(Tj,{data:o.data,onChange:l}),i==="action_handoff"&&p.jsx(Rj,{data:o.data,onChange:l}),i==="utility_note"&&p.jsx(Lj,{data:o.data,onChange:l}),i!=="trigger_start"&&p.jsx("div",{className:"pt-3 border-t border-slate-200",children:p.jsx("button",{onClick:()=>r(o.id),className:"w-full px-3 py-1.5 rounded-md text-sm font-medium bg-red-50 text-red-600 hover:bg-red-100 transition-colors",children:"Node'u Sil"})})]})]})}function Qn({label:e,children:t}){return p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-slate-500 uppercase tracking-wider mb-1",children:e}),t]})}function Mj(){return p.jsx("p",{className:"text-xs text-slate-400",children:"Baslangic node'u yapilandirma gerektirmez. Musteri mesaj gonderdiginde bu node'dan akis baslar."})}function Ij({data:e,onChange:t}){return p.jsx(Qn,{label:"Mesaj Metni",children:p.jsx("textarea",{value:e.text??"",onChange:n=>t({text:n.target.value}),rows:4,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-xs text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Gonderilecek mesaj..."})})}function Tj({data:e,onChange:t}){const n=e.options??[],r=(s,l,a)=>{const u=[...n];u[s]={...u[s],[l]:a},t({options:u})},o=()=>{const s=String(n.length+1),l={key:s,label:`Secenek ${s}`,handle_id:`opt_${s}`};t({options:[...n,l]})},i=s=>{t({options:n.filter((l,a)=>a!==s)})};return p.jsxs(p.Fragment,{children:[p.jsx(Qn,{label:"Menu Metni",children:p.jsx("input",{type:"text",value:e.text??"",onChange:s=>t({text:s.target.value}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500",placeholder:"Secim yapin:"})}),p.jsxs(Qn,{label:"Secenekler",children:[p.jsx("div",{className:"space-y-2",children:n.map((s,l)=>p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("input",{type:"text",value:s.key,onChange:a=>r(l,"key",a.target.value),className:"w-8 bg-slate-50 border border-slate-300 rounded px-1 py-1 text-xs text-slate-700 outline-none focus:border-blue-500 text-center"}),p.jsx("input",{type:"text",value:s.label,onChange:a=>r(l,"label",a.target.value),className:"flex-1 bg-slate-50 border border-slate-300 rounded px-2 py-1 text-sm text-slate-700 outline-none focus:border-blue-500"}),p.jsx("button",{onClick:()=>i(l),className:"p-0.5 text-slate-400 hover:text-red-500 transition-colors",title:"Kaldir",children:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},s.handle_id))}),p.jsx("button",{onClick:o,className:"mt-2 w-full px-2 py-1 rounded border border-dashed border-slate-300 text-sm text-slate-500 hover:border-blue-500 hover:text-blue-600 transition-colors",children:"+ Secenek Ekle"})]})]})}function Rj({data:e,onChange:t}){return p.jsx(Qn,{label:"Ozet Sablonu",children:p.jsx("textarea",{value:e.summary_template??"",onChange:n=>t({summary_template:n.target.value}),rows:3,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-xs text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Temsilciye aktarilacak ozet..."})})}function Lj({data:e,onChange:t}){const n=[{label:"Sari",value:"#fef3c7"},{label:"Mavi",value:"#dbeafe"},{label:"Yesil",value:"#dcfce7"},{label:"Kirmizi",value:"#fee2e2"},{label:"Mor",value:"#ede9fe"}];return p.jsxs(p.Fragment,{children:[p.jsx(Qn,{label:"Not Metni",children:p.jsx("textarea",{value:e.text??"",onChange:r=>t({text:r.target.value}),rows:5,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-xs text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Notunuz..."})}),p.jsx(Qn,{label:"Renk",children:p.jsx("div",{className:"flex gap-1.5",children:n.map(r=>p.jsx("button",{onClick:()=>t({color:r.value}),className:"w-6 h-6 rounded border-2 transition-transform hover:scale-110",style:{backgroundColor:r.value,borderColor:(e.color||"#fef3c7")===r.value?"#3b82f6":"transparent"},title:r.label},r.value))})})]})}function zj(){const e=ee(d=>d.flowSettings),t=ee(d=>d.setSettings),n=ee(d=>d.toFlowConfig),[r,o]=S.useState(!1),[i,s]=S.useState(null),[l,a]=S.useState(null),u=async()=>{o(!0),s(null),a(null);try{const d=n(),c=await Mb(d);s(c)}catch(d){a(d instanceof Error?d.message:"Dogrulama basarisiz")}finally{o(!1)}};return p.jsxs("div",{className:"w-64 bg-white border-l border-slate-200 flex-shrink-0 overflow-y-auto",children:[p.jsx("div",{className:"p-3 border-b border-slate-200",children:p.jsx("span",{className:"text-base font-medium text-slate-700",children:"Flow Ayarlari"})}),p.jsxs("div",{className:"p-3 space-y-3",children:[p.jsx("button",{onClick:u,disabled:r,className:Oe("w-full px-3 py-2 rounded-lg text-sm font-medium transition-colors",r?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white"),children:r?"Dogrulaniyor...":"Akisi Dogrula"}),i&&p.jsxs("div",{className:Oe("rounded-lg border p-2.5 text-xs space-y-1",i.is_valid?"bg-green-50 border-green-200":i.errors.length>0?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"),children:[i.is_valid&&i.warnings.length===0&&p.jsxs("div",{className:"flex items-center gap-1.5 text-green-700 font-medium",children:[p.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:p.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Akis gecerli, sorun yok."]}),i.errors.length>0&&p.jsxs("div",{children:[p.jsxs("span",{className:"text-red-700 font-medium",children:["Hatalar (",i.errors.length,")"]}),p.jsx("ul",{className:"mt-1 space-y-0.5",children:i.errors.map((d,c)=>p.jsx("li",{className:"text-red-600 leading-tight",children:d},c))})]}),i.warnings.length>0&&p.jsxs("div",{children:[p.jsxs("span",{className:"text-amber-700 font-medium",children:["Uyarilar (",i.warnings.length,")"]}),p.jsx("ul",{className:"mt-1 space-y-0.5",children:i.warnings.map((d,c)=>p.jsx("li",{className:"text-amber-600 leading-tight",children:d},c))})]})]}),l&&p.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-2.5 text-xs text-red-600",children:l}),p.jsx(co,{label:"Mesai Disi Mesaji",children:p.jsx("textarea",{value:e.off_hours_message??"",onChange:d=>t({off_hours_message:d.target.value}),rows:3,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Mesai saatleri disinda gonderilecek mesaj..."})}),p.jsx(co,{label:"Bilinmeyen Girdi Mesaji",children:p.jsx("textarea",{value:e.unknown_input_message??"",onChange:d=>t({unknown_input_message:d.target.value}),rows:2,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Gecersiz girdi mesaji..."})}),p.jsx(co,{label:"Handoff Guven Esigi",children:p.jsx("input",{type:"number",min:0,max:1,step:.1,value:e.handoff_confidence_threshold,onChange:d=>t({handoff_confidence_threshold:parseFloat(d.target.value)||.5}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500"})}),p.jsx(co,{label:"Session Zaman Asimi (dk)",children:p.jsx("input",{type:"number",min:1,max:1440,value:e.session_timeout_minutes,onChange:d=>t({session_timeout_minutes:parseInt(d.target.value)||30}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500"})}),p.jsx(co,{label:"Maks. Dongu Sayisi",children:p.jsx("input",{type:"number",min:1,max:100,value:e.max_loop_count,onChange:d=>t({max_loop_count:parseInt(d.target.value)||10}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500"})})]})]})}function co({label:e,children:t}){return p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-slate-500 uppercase tracking-wider mb-1",children:e}),t]})}function $j(){const{flowId:e}=j1(),t=di(),{session:n}=Tc(),r=(n==null?void 0:n.tenant_id)??0,o=parseInt(e??"0",10),[i,s]=S.useState("properties"),[l,a]=S.useState(!1),[u,d]=S.useState(null),[c,f]=S.useState(null),[g,x]=S.useState(!0),v=ee(w=>w.selectedNodeId),b=ee(w=>w.loadFlow);S.useEffect(()=>{if(!o||!r){t("/",{replace:!0});return}let w=!1;return x(!0),d(null),pu(r,o).then(k=>{if(w)return;const N=k.flow_config??{},E={version:N.version??2,metadata:{name:k.flow_name,...N.metadata},nodes:N.nodes??[],edges:N.edges??[],settings:N.settings??{}};b(E),x(!1)}).catch(k=>{w||(k instanceof lt&&k.status===404?d("Flow bulunamadi."):d(k instanceof Error?k.message:"Flow yuklenemedi"),x(!1))}),()=>{w=!0}},[o,r,b,t]),S.useEffect(()=>{v&&s("properties")},[v]);const m=S.useCallback(async()=>{a(!0),f(null);try{const w=ee.getState().toFlowConfig();await Nb(r,o,{flow_name:w.metadata.name,flow_config:w}),ee.getState().markClean()}catch(w){f(w instanceof Error?w.message:"Kaydetme basarisiz")}finally{a(!1)}},[r,o]),y=S.useCallback(()=>{ee.getState().isDirty&&!window.confirm("Kaydedilmemis degisiklikler var. Yine de cikis yapilsin mi?")||(Ce.getState().close(),t("/"))},[t]),h=S.useCallback(async()=>{const w=ee.getState(),k=Ce.getState();if(k.isOpen){k.close();return}if(w.isDirty){f("Once flow'u kaydedin, sonra test edin.");return}await k.start(r,o)},[r,o]);return S.useEffect(()=>()=>{Ce.getState().close()},[]),S.useEffect(()=>{const w=k=>{k.ctrlKey&&k.key==="s"&&(k.preventDefault(),m()),k.ctrlKey&&k.key==="z"&&(k.preventDefault(),ee.getState().undo()),k.ctrlKey&&k.key==="y"&&(k.preventDefault(),ee.getState().redo())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[m]),g?p.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 text-slate-500",children:"Flow yukleniyor..."}):u?p.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-slate-50 gap-4",children:[p.jsx("p",{className:"text-red-600",children:u}),p.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg",children:"Flow Listesine Don"})]}):p.jsx(sy,{children:p.jsxs("div",{className:"h-screen flex flex-col bg-slate-50",children:[p.jsx(Ej,{onSave:m,isSaving:l,onBack:y,onTest:h}),c&&p.jsxs("div",{className:"bg-red-50 border-b border-red-200 px-4 py-2 text-xs text-red-600 flex items-center justify-between",children:[p.jsxs("span",{children:["Kaydetme hatasi: ",c]}),p.jsx("button",{onClick:()=>f(null),className:"text-red-400 hover:text-red-600",children:""})]}),p.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[p.jsx(kj,{}),p.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[p.jsx(fj,{}),p.jsx(vj,{})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("div",{className:"flex border-b border-slate-200 bg-white",children:[p.jsx("button",{onClick:()=>s("properties"),className:`px-3 py-2 text-xs font-medium transition-colors ${i==="properties"?"text-blue-600 border-b-2 border-blue-600":"text-slate-400 hover:text-slate-700"}`,children:"Ozellikler"}),p.jsx("button",{onClick:()=>s("settings"),className:`px-3 py-2 text-xs font-medium transition-colors ${i==="settings"?"text-blue-600 border-b-2 border-blue-600":"text-slate-400 hover:text-slate-700"}`,children:"Ayarlar"})]}),i==="properties"?p.jsx(Pj,{}):p.jsx(zj,{})]}),p.jsx(jj,{})]})]})})}function Dj({children:e}){const[t,n]=S.useState(Ic),r=S.useCallback(async(i,s)=>{const l=await Eb(i,s),a={token:l.token,tenant_id:l.tenant_id,expires_at:Date.now()+l.expires_in*1e3};kb(a),n(a)},[]),o=S.useCallback(()=>{hu(),n(null)},[]);return p.jsx(mg.Provider,{value:{session:t,login:r,logout:o,isAuthenticated:t!==null},children:e})}function Lh({children:e}){return Ic()?p.jsx(p.Fragment,{children:e}):p.jsx(ug,{to:"/login",replace:!0})}function Aj(){return p.jsx(hb,{basename:"/flow-builder",children:p.jsx(Dj,{children:p.jsxs(V1,{children:[p.jsx(yo,{path:"/login",element:p.jsx(Rb,{})}),p.jsx(yo,{path:"/",element:p.jsx(Lh,{children:p.jsx(Lb,{})})}),p.jsx(yo,{path:"/editor/:flowId",element:p.jsx(Lh,{children:p.jsx($j,{})})}),p.jsx(yo,{path:"*",element:p.jsx(ug,{to:"/",replace:!0})})]})})})}Km(document.getElementById("root")).render(p.jsx(S.StrictMode,{children:p.jsx(Aj,{})}));
