(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function zh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ah={exports:{}},Zs={},$h={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var si=Symbol.for("react.element"),bx=Symbol.for("react.portal"),_x=Symbol.for("react.fragment"),Sx=Symbol.for("react.strict_mode"),kx=Symbol.for("react.profiler"),Ex=Symbol.for("react.provider"),Nx=Symbol.for("react.context"),Cx=Symbol.for("react.forward_ref"),jx=Symbol.for("react.suspense"),Mx=Symbol.for("react.memo"),Px=Symbol.for("react.lazy"),sd=Symbol.iterator;function Ix(e){return e===null||typeof e!="object"?null:(e=sd&&e[sd]||e["@@iterator"],typeof e=="function"?e:null)}var Dh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oh=Object.assign,Fh={};function Br(e,t,n){this.props=e,this.context=t,this.refs=Fh,this.updater=n||Dh}Br.prototype.isReactComponent={};Br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bh(){}Bh.prototype=Br.prototype;function Pu(e,t,n){this.props=e,this.context=t,this.refs=Fh,this.updater=n||Dh}var Iu=Pu.prototype=new Bh;Iu.constructor=Pu;Oh(Iu,Br.prototype);Iu.isPureReactComponent=!0;var ld=Array.isArray,Hh=Object.prototype.hasOwnProperty,Lu={current:null},Vh={key:!0,ref:!0,__self:!0,__source:!0};function Uh(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Hh.call(t,r)&&!Vh.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:si,type:e,key:i,ref:s,props:o,_owner:Lu.current}}function Lx(e,t){return{$$typeof:si,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tu(e){return typeof e=="object"&&e!==null&&e.$$typeof===si}function Tx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ad=/\/+/g;function Ll(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Tx(""+e.key):t.toString(36)}function Qi(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case si:case bx:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Ll(s,0):r,ld(o)?(n="",e!=null&&(n=e.replace(ad,"$&/")+"/"),Qi(o,t,n,"",function(u){return u})):o!=null&&(Tu(o)&&(o=Lx(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(ad,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",ld(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Ll(i,l);s+=Qi(i,t,n,a,o)}else if(a=Ix(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Ll(i,l++),s+=Qi(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Si(e,t,n){if(e==null)return e;var r=[],o=0;return Qi(e,r,"","",function(i){return t.call(n,i,o++)}),r}function Rx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},qi={transition:null},zx={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:qi,ReactCurrentOwner:Lu};function Wh(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Si,forEach:function(e,t,n){Si(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Si(e,function(){t++}),t},toArray:function(e){return Si(e,function(t){return t})||[]},only:function(e){if(!Tu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Br;re.Fragment=_x;re.Profiler=kx;re.PureComponent=Pu;re.StrictMode=Sx;re.Suspense=jx;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zx;re.act=Wh;re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Oh({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Lu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Hh.call(t,a)&&!Vh.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:si,type:e.type,key:o,ref:i,props:r,_owner:s}};re.createContext=function(e){return e={$$typeof:Nx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ex,_context:e},e.Consumer=e};re.createElement=Uh;re.createFactory=function(e){var t=Uh.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:Cx,render:e}};re.isValidElement=Tu;re.lazy=function(e){return{$$typeof:Px,_payload:{_status:-1,_result:e},_init:Rx}};re.memo=function(e,t){return{$$typeof:Mx,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=qi.transition;qi.transition={};try{e()}finally{qi.transition=t}};re.unstable_act=Wh;re.useCallback=function(e,t){return He.current.useCallback(e,t)};re.useContext=function(e){return He.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return He.current.useDeferredValue(e)};re.useEffect=function(e,t){return He.current.useEffect(e,t)};re.useId=function(){return He.current.useId()};re.useImperativeHandle=function(e,t,n){return He.current.useImperativeHandle(e,t,n)};re.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return He.current.useMemo(e,t)};re.useReducer=function(e,t,n){return He.current.useReducer(e,t,n)};re.useRef=function(e){return He.current.useRef(e)};re.useState=function(e){return He.current.useState(e)};re.useSyncExternalStore=function(e,t,n){return He.current.useSyncExternalStore(e,t,n)};re.useTransition=function(){return He.current.useTransition()};re.version="18.3.1";$h.exports=re;var _=$h.exports;const ho=zh(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax=_,$x=Symbol.for("react.element"),Dx=Symbol.for("react.fragment"),Ox=Object.prototype.hasOwnProperty,Fx=Ax.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bx={key:!0,ref:!0,__self:!0,__source:!0};function Yh(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Ox.call(t,r)&&!Bx.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:$x,type:e,key:i,ref:s,props:o,_owner:Fx.current}}Zs.Fragment=Dx;Zs.jsx=Yh;Zs.jsxs=Yh;Ah.exports=Zs;var d=Ah.exports,Gh={exports:{}},nt={},Kh={exports:{}},Xh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,j){var z=C.length;C.push(j);e:for(;0<z;){var D=z-1>>>1,O=C[D];if(0<o(O,j))C[D]=j,C[z]=O,z=D;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var j=C[0],z=C.pop();if(z!==j){C[0]=z;e:for(var D=0,O=C.length,U=O>>>1;D<U;){var V=2*(D+1)-1,G=C[V],K=V+1,X=C[K];if(0>o(G,z))K<O&&0>o(X,G)?(C[D]=X,C[K]=z,D=K):(C[D]=G,C[V]=z,D=V);else if(K<O&&0>o(X,z))C[D]=X,C[K]=z,D=K;else break e}}return j}function o(C,j){var z=C.sortIndex-j.sortIndex;return z!==0?z:C.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],f=1,c=null,h=3,g=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(C){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=C)r(u),j.sortIndex=j.expirationTime,t(a,j);else break;j=n(u)}}function w(C){if(v=!1,p(C),!x)if(n(a)!==null)x=!0,P(S);else{var j=n(u);j!==null&&A(w,j.startTime-C)}}function S(C,j){x=!1,v&&(v=!1,m(M),M=-1),g=!0;var z=h;try{for(p(j),c=n(a);c!==null&&(!(c.expirationTime>j)||C&&!R());){var D=c.callback;if(typeof D=="function"){c.callback=null,h=c.priorityLevel;var O=D(c.expirationTime<=j);j=e.unstable_now(),typeof O=="function"?c.callback=O:c===n(a)&&r(a),p(j)}else r(a);c=n(a)}if(c!==null)var U=!0;else{var V=n(u);V!==null&&A(w,V.startTime-j),U=!1}return U}finally{c=null,h=z,g=!1}}var N=!1,k=null,M=-1,T=5,$=-1;function R(){return!(e.unstable_now()-$<T)}function L(){if(k!==null){var C=e.unstable_now();$=C;var j=!0;try{j=k(!0,C)}finally{j?F():(N=!1,k=null)}}else N=!1}var F;if(typeof y=="function")F=function(){y(L)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,I=E.port2;E.port1.onmessage=L,F=function(){I.postMessage(null)}}else F=function(){b(L,0)};function P(C){k=C,N||(N=!0,F())}function A(C,j){M=b(function(){C(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,P(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var z=h;h=j;try{return C()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,j){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var z=h;h=C;try{return j()}finally{h=z}},e.unstable_scheduleCallback=function(C,j,z){var D=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?D+z:D):z=D,C){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=z+O,C={id:f++,callback:j,priorityLevel:C,startTime:z,expirationTime:O,sortIndex:-1},z>D?(C.sortIndex=z,t(u,C),n(a)===null&&C===n(u)&&(v?(m(M),M=-1):v=!0,A(w,z-D))):(C.sortIndex=O,t(a,C),x||g||(x=!0,P(S))),C},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(C){var j=h;return function(){var z=h;h=j;try{return C.apply(this,arguments)}finally{h=z}}}})(Xh);Kh.exports=Xh;var Hx=Kh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx=_,et=Hx;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qh=new Set,To={};function Zn(e,t){Nr(e,t),Nr(e+"Capture",t)}function Nr(e,t){for(To[e]=t,e=0;e<t.length;e++)Qh.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=Object.prototype.hasOwnProperty,Ux=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ud={},cd={};function Wx(e){return va.call(cd,e)?!0:va.call(ud,e)?!1:Ux.test(e)?cd[e]=!0:(ud[e]=!0,!1)}function Yx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gx(e,t,n,r){if(t===null||typeof t>"u"||Yx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ve(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ru=/[\-:]([a-z])/g;function zu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ru,zu);Te[t]=new Ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ru,zu);Te[t]=new Ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ru,zu);Te[t]=new Ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Ve(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function Au(e,t,n,r){var o=Te.hasOwnProperty(t)?Te[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gx(t,n,o,r)&&(n=null),r||o===null?Wx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var en=Vx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ki=Symbol.for("react.element"),rr=Symbol.for("react.portal"),or=Symbol.for("react.fragment"),$u=Symbol.for("react.strict_mode"),wa=Symbol.for("react.profiler"),qh=Symbol.for("react.provider"),Zh=Symbol.for("react.context"),Du=Symbol.for("react.forward_ref"),ba=Symbol.for("react.suspense"),_a=Symbol.for("react.suspense_list"),Ou=Symbol.for("react.memo"),un=Symbol.for("react.lazy"),Jh=Symbol.for("react.offscreen"),dd=Symbol.iterator;function Zr(e){return e===null||typeof e!="object"?null:(e=dd&&e[dd]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,Tl;function po(e){if(Tl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tl=t&&t[1]||""}return`
`+Tl+e}var Rl=!1;function zl(e,t){if(!e||Rl)return"";Rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Rl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?po(e):""}function Kx(e){switch(e.tag){case 5:return po(e.type);case 16:return po("Lazy");case 13:return po("Suspense");case 19:return po("SuspenseList");case 0:case 2:case 15:return e=zl(e.type,!1),e;case 11:return e=zl(e.type.render,!1),e;case 1:return e=zl(e.type,!0),e;default:return""}}function Sa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case or:return"Fragment";case rr:return"Portal";case wa:return"Profiler";case $u:return"StrictMode";case ba:return"Suspense";case _a:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zh:return(e.displayName||"Context")+".Consumer";case qh:return(e._context.displayName||"Context")+".Provider";case Du:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ou:return t=e.displayName||null,t!==null?t:Sa(e.type)||"Memo";case un:t=e._payload,e=e._init;try{return Sa(e(t))}catch{}}return null}function Xx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sa(t);case 8:return t===$u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ep(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qx(e){var t=ep(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ei(e){e._valueTracker||(e._valueTracker=Qx(e))}function tp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ep(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ms(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ka(e,t){var n=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=kn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function np(e,t){t=t.checked,t!=null&&Au(e,"checked",t,!1)}function Ea(e,t){np(e,t);var n=kn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Na(e,t.type,n):t.hasOwnProperty("defaultValue")&&Na(e,t.type,kn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Na(e,t,n){(t!=="number"||ms(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mo=Array.isArray;function yr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+kn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ca(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(mo(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:kn(n)}}function rp(e,t){var n=kn(t.value),r=kn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function md(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function op(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ja(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?op(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ni,ip=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ni=Ni||document.createElement("div"),Ni.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ni.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ro(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qx=["Webkit","ms","Moz","O"];Object.keys(bo).forEach(function(e){qx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bo[t]=bo[e]})});function sp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bo.hasOwnProperty(e)&&bo[e]?(""+t).trim():t+"px"}function lp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=sp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Zx=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ma(e,t){if(t){if(Zx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Pa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ia=null;function Fu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var La=null,xr=null,vr=null;function gd(e){if(e=ui(e)){if(typeof La!="function")throw Error(B(280));var t=e.stateNode;t&&(t=rl(t),La(e.stateNode,e.type,t))}}function ap(e){xr?vr?vr.push(e):vr=[e]:xr=e}function up(){if(xr){var e=xr,t=vr;if(vr=xr=null,gd(e),t)for(e=0;e<t.length;e++)gd(t[e])}}function cp(e,t){return e(t)}function dp(){}var Al=!1;function fp(e,t,n){if(Al)return e(t,n);Al=!0;try{return cp(e,t,n)}finally{Al=!1,(xr!==null||vr!==null)&&(dp(),up())}}function zo(e,t){var n=e.stateNode;if(n===null)return null;var r=rl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Ta=!1;if(Kt)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Ta=!1}function Jx(e,t,n,r,o,i,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var _o=!1,gs=null,ys=!1,Ra=null,ev={onError:function(e){_o=!0,gs=e}};function tv(e,t,n,r,o,i,s,l,a){_o=!1,gs=null,Jx.apply(ev,arguments)}function nv(e,t,n,r,o,i,s,l,a){if(tv.apply(this,arguments),_o){if(_o){var u=gs;_o=!1,gs=null}else throw Error(B(198));ys||(ys=!0,Ra=u)}}function Jn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yd(e){if(Jn(e)!==e)throw Error(B(188))}function rv(e){var t=e.alternate;if(!t){if(t=Jn(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return yd(o),e;if(i===r)return yd(o),t;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function pp(e){return e=rv(e),e!==null?mp(e):null}function mp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mp(e);if(t!==null)return t;e=e.sibling}return null}var gp=et.unstable_scheduleCallback,xd=et.unstable_cancelCallback,ov=et.unstable_shouldYield,iv=et.unstable_requestPaint,Se=et.unstable_now,sv=et.unstable_getCurrentPriorityLevel,Bu=et.unstable_ImmediatePriority,yp=et.unstable_UserBlockingPriority,xs=et.unstable_NormalPriority,lv=et.unstable_LowPriority,xp=et.unstable_IdlePriority,Js=null,Lt=null;function av(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Js,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:dv,uv=Math.log,cv=Math.LN2;function dv(e){return e>>>=0,e===0?32:31-(uv(e)/cv|0)|0}var Ci=64,ji=4194304;function go(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=go(l):(i&=s,i!==0&&(r=go(i)))}else s=n&~o,s!==0?r=go(s):i!==0&&(r=go(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wt(t),o=1<<n,r|=e[n],t&=~o;return r}function fv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-wt(i),l=1<<s,a=o[s];a===-1?(!(l&n)||l&r)&&(o[s]=fv(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function za(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vp(){var e=Ci;return Ci<<=1,!(Ci&4194240)&&(Ci=64),e}function $l(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function li(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function pv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-wt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Hu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ae=0;function wp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bp,Vu,_p,Sp,kp,Aa=!1,Mi=[],gn=null,yn=null,xn=null,Ao=new Map,$o=new Map,dn=[],mv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vd(e,t){switch(e){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Ao.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(t.pointerId)}}function eo(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=ui(t),t!==null&&Vu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function gv(e,t,n,r,o){switch(t){case"focusin":return gn=eo(gn,e,t,n,r,o),!0;case"dragenter":return yn=eo(yn,e,t,n,r,o),!0;case"mouseover":return xn=eo(xn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ao.set(i,eo(Ao.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,$o.set(i,eo($o.get(i)||null,e,t,n,r,o)),!0}return!1}function Ep(e){var t=Rn(e.target);if(t!==null){var n=Jn(t);if(n!==null){if(t=n.tag,t===13){if(t=hp(n),t!==null){e.blockedOn=t,kp(e.priority,function(){_p(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$a(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ia=r,n.target.dispatchEvent(r),Ia=null}else return t=ui(n),t!==null&&Vu(t),e.blockedOn=n,!1;t.shift()}return!0}function wd(e,t,n){Zi(e)&&n.delete(t)}function yv(){Aa=!1,gn!==null&&Zi(gn)&&(gn=null),yn!==null&&Zi(yn)&&(yn=null),xn!==null&&Zi(xn)&&(xn=null),Ao.forEach(wd),$o.forEach(wd)}function to(e,t){e.blockedOn===t&&(e.blockedOn=null,Aa||(Aa=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,yv)))}function Do(e){function t(o){return to(o,e)}if(0<Mi.length){to(Mi[0],e);for(var n=1;n<Mi.length;n++){var r=Mi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(gn!==null&&to(gn,e),yn!==null&&to(yn,e),xn!==null&&to(xn,e),Ao.forEach(t),$o.forEach(t),n=0;n<dn.length;n++)r=dn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<dn.length&&(n=dn[0],n.blockedOn===null);)Ep(n),n.blockedOn===null&&dn.shift()}var wr=en.ReactCurrentBatchConfig,ws=!0;function xv(e,t,n,r){var o=ae,i=wr.transition;wr.transition=null;try{ae=1,Uu(e,t,n,r)}finally{ae=o,wr.transition=i}}function vv(e,t,n,r){var o=ae,i=wr.transition;wr.transition=null;try{ae=4,Uu(e,t,n,r)}finally{ae=o,wr.transition=i}}function Uu(e,t,n,r){if(ws){var o=$a(e,t,n,r);if(o===null)Gl(e,t,r,bs,n),vd(e,r);else if(gv(o,e,t,n,r))r.stopPropagation();else if(vd(e,r),t&4&&-1<mv.indexOf(e)){for(;o!==null;){var i=ui(o);if(i!==null&&bp(i),i=$a(e,t,n,r),i===null&&Gl(e,t,r,bs,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Gl(e,t,r,null,n)}}var bs=null;function $a(e,t,n,r){if(bs=null,e=Fu(r),e=Rn(e),e!==null)if(t=Jn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=hp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bs=e,null}function Np(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sv()){case Bu:return 1;case yp:return 4;case xs:case lv:return 16;case xp:return 536870912;default:return 16}default:return 16}}var pn=null,Wu=null,Ji=null;function Cp(){if(Ji)return Ji;var e,t=Wu,n=t.length,r,o="value"in pn?pn.value:pn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Ji=o.slice(e,1<r?1-r:void 0)}function es(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function bd(){return!1}function rt(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pi:bd,this.isPropagationStopped=bd,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),t}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yu=rt(Hr),ai=be({},Hr,{view:0,detail:0}),wv=rt(ai),Dl,Ol,no,el=be({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==no&&(no&&e.type==="mousemove"?(Dl=e.screenX-no.screenX,Ol=e.screenY-no.screenY):Ol=Dl=0,no=e),Dl)},movementY:function(e){return"movementY"in e?e.movementY:Ol}}),_d=rt(el),bv=be({},el,{dataTransfer:0}),_v=rt(bv),Sv=be({},ai,{relatedTarget:0}),Fl=rt(Sv),kv=be({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ev=rt(kv),Nv=be({},Hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cv=rt(Nv),jv=be({},Hr,{data:0}),Sd=rt(jv),Mv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Iv[e])?!!t[e]:!1}function Gu(){return Lv}var Tv=be({},ai,{key:function(e){if(e.key){var t=Mv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gu,charCode:function(e){return e.type==="keypress"?es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rv=rt(Tv),zv=be({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kd=rt(zv),Av=be({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gu}),$v=rt(Av),Dv=be({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ov=rt(Dv),Fv=be({},el,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bv=rt(Fv),Hv=[9,13,27,32],Ku=Kt&&"CompositionEvent"in window,So=null;Kt&&"documentMode"in document&&(So=document.documentMode);var Vv=Kt&&"TextEvent"in window&&!So,jp=Kt&&(!Ku||So&&8<So&&11>=So),Ed=" ",Nd=!1;function Mp(e,t){switch(e){case"keyup":return Hv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ir=!1;function Uv(e,t){switch(e){case"compositionend":return Pp(t);case"keypress":return t.which!==32?null:(Nd=!0,Ed);case"textInput":return e=t.data,e===Ed&&Nd?null:e;default:return null}}function Wv(e,t){if(ir)return e==="compositionend"||!Ku&&Mp(e,t)?(e=Cp(),Ji=Wu=pn=null,ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jp&&t.locale!=="ko"?null:t.data;default:return null}}var Yv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yv[e.type]:t==="textarea"}function Ip(e,t,n,r){ap(r),t=_s(t,"onChange"),0<t.length&&(n=new Yu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ko=null,Oo=null;function Gv(e){Hp(e,0)}function tl(e){var t=ar(e);if(tp(t))return e}function Kv(e,t){if(e==="change")return t}var Lp=!1;if(Kt){var Bl;if(Kt){var Hl="oninput"in document;if(!Hl){var jd=document.createElement("div");jd.setAttribute("oninput","return;"),Hl=typeof jd.oninput=="function"}Bl=Hl}else Bl=!1;Lp=Bl&&(!document.documentMode||9<document.documentMode)}function Md(){ko&&(ko.detachEvent("onpropertychange",Tp),Oo=ko=null)}function Tp(e){if(e.propertyName==="value"&&tl(Oo)){var t=[];Ip(t,Oo,e,Fu(e)),fp(Gv,t)}}function Xv(e,t,n){e==="focusin"?(Md(),ko=t,Oo=n,ko.attachEvent("onpropertychange",Tp)):e==="focusout"&&Md()}function Qv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tl(Oo)}function qv(e,t){if(e==="click")return tl(t)}function Zv(e,t){if(e==="input"||e==="change")return tl(t)}function Jv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:Jv;function Fo(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!va.call(t,o)||!_t(e[o],t[o]))return!1}return!0}function Pd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Id(e,t){var n=Pd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pd(n)}}function Rp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zp(){for(var e=window,t=ms();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ms(e.document)}return t}function Xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ew(e){var t=zp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Rp(n.ownerDocument.documentElement,n)){if(r!==null&&Xu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Id(n,i);var s=Id(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tw=Kt&&"documentMode"in document&&11>=document.documentMode,sr=null,Da=null,Eo=null,Oa=!1;function Ld(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oa||sr==null||sr!==ms(r)||(r=sr,"selectionStart"in r&&Xu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Eo&&Fo(Eo,r)||(Eo=r,r=_s(Da,"onSelect"),0<r.length&&(t=new Yu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function Ii(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var lr={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionend:Ii("Transition","TransitionEnd")},Vl={},Ap={};Kt&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function nl(e){if(Vl[e])return Vl[e];if(!lr[e])return e;var t=lr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ap)return Vl[e]=t[n];return e}var $p=nl("animationend"),Dp=nl("animationiteration"),Op=nl("animationstart"),Fp=nl("transitionend"),Bp=new Map,Td="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(e,t){Bp.set(e,t),Zn(t,[e])}for(var Ul=0;Ul<Td.length;Ul++){var Wl=Td[Ul],nw=Wl.toLowerCase(),rw=Wl[0].toUpperCase()+Wl.slice(1);Nn(nw,"on"+rw)}Nn($p,"onAnimationEnd");Nn(Dp,"onAnimationIteration");Nn(Op,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn(Fp,"onTransitionEnd");Nr("onMouseEnter",["mouseout","mouseover"]);Nr("onMouseLeave",["mouseout","mouseover"]);Nr("onPointerEnter",["pointerout","pointerover"]);Nr("onPointerLeave",["pointerout","pointerover"]);Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ow=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function Rd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nv(r,t,void 0,e),e.currentTarget=null}function Hp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;Rd(o,l,u),i=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;Rd(o,l,u),i=a}}}if(ys)throw e=Ra,ys=!1,Ra=null,e}function fe(e,t){var n=t[Ua];n===void 0&&(n=t[Ua]=new Set);var r=e+"__bubble";n.has(r)||(Vp(t,e,2,!1),n.add(r))}function Yl(e,t,n){var r=0;t&&(r|=4),Vp(n,e,r,t)}var Li="_reactListening"+Math.random().toString(36).slice(2);function Bo(e){if(!e[Li]){e[Li]=!0,Qh.forEach(function(n){n!=="selectionchange"&&(ow.has(n)||Yl(n,!1,e),Yl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Li]||(t[Li]=!0,Yl("selectionchange",!1,t))}}function Vp(e,t,n,r){switch(Np(t)){case 1:var o=xv;break;case 4:o=vv;break;default:o=Uu}n=o.bind(null,t,n,e),o=void 0,!Ta||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Gl(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=Rn(l),s===null)return;if(a=s.tag,a===5||a===6){r=i=s;continue e}l=l.parentNode}}r=r.return}fp(function(){var u=i,f=Fu(n),c=[];e:{var h=Bp.get(e);if(h!==void 0){var g=Yu,x=e;switch(e){case"keypress":if(es(n)===0)break e;case"keydown":case"keyup":g=Rv;break;case"focusin":x="focus",g=Fl;break;case"focusout":x="blur",g=Fl;break;case"beforeblur":case"afterblur":g=Fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=_d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_v;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=$v;break;case $p:case Dp:case Op:g=Ev;break;case Fp:g=Ov;break;case"scroll":g=wv;break;case"wheel":g=Bv;break;case"copy":case"cut":case"paste":g=Cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=kd}var v=(t&4)!==0,b=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var y=u,p;y!==null;){p=y;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,m!==null&&(w=zo(y,m),w!=null&&v.push(Ho(y,w,p)))),b)break;y=y.return}0<v.length&&(h=new g(h,x,null,n,f),c.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==Ia&&(x=n.relatedTarget||n.fromElement)&&(Rn(x)||x[Xt]))break e;if((g||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?Rn(x):null,x!==null&&(b=Jn(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=_d,w="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=kd,w="onPointerLeave",m="onPointerEnter",y="pointer"),b=g==null?h:ar(g),p=x==null?h:ar(x),h=new v(w,y+"leave",g,n,f),h.target=b,h.relatedTarget=p,w=null,Rn(f)===u&&(v=new v(m,y+"enter",x,n,f),v.target=p,v.relatedTarget=b,w=v),b=w,g&&x)t:{for(v=g,m=x,y=0,p=v;p;p=tr(p))y++;for(p=0,w=m;w;w=tr(w))p++;for(;0<y-p;)v=tr(v),y--;for(;0<p-y;)m=tr(m),p--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=tr(v),m=tr(m)}v=null}else v=null;g!==null&&zd(c,h,g,v,!1),x!==null&&b!==null&&zd(c,b,x,v,!0)}}e:{if(h=u?ar(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=Kv;else if(Cd(h))if(Lp)S=Zv;else{S=Qv;var N=Xv}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=qv);if(S&&(S=S(e,u))){Ip(c,S,n,f);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Na(h,"number",h.value)}switch(N=u?ar(u):window,e){case"focusin":(Cd(N)||N.contentEditable==="true")&&(sr=N,Da=u,Eo=null);break;case"focusout":Eo=Da=sr=null;break;case"mousedown":Oa=!0;break;case"contextmenu":case"mouseup":case"dragend":Oa=!1,Ld(c,n,f);break;case"selectionchange":if(tw)break;case"keydown":case"keyup":Ld(c,n,f)}var k;if(Ku)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else ir?Mp(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(jp&&n.locale!=="ko"&&(ir||M!=="onCompositionStart"?M==="onCompositionEnd"&&ir&&(k=Cp()):(pn=f,Wu="value"in pn?pn.value:pn.textContent,ir=!0)),N=_s(u,M),0<N.length&&(M=new Sd(M,e,null,n,f),c.push({event:M,listeners:N}),k?M.data=k:(k=Pp(n),k!==null&&(M.data=k)))),(k=Vv?Uv(e,n):Wv(e,n))&&(u=_s(u,"onBeforeInput"),0<u.length&&(f=new Sd("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=k))}Hp(c,t)})}function Ho(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _s(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=zo(e,n),i!=null&&r.unshift(Ho(e,i,o)),i=zo(e,t),i!=null&&r.push(Ho(e,i,o))),e=e.return}return r}function tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zd(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=zo(n,i),a!=null&&s.unshift(Ho(n,a,l))):o||(a=zo(n,i),a!=null&&s.push(Ho(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var iw=/\r\n?/g,sw=/\u0000|\uFFFD/g;function Ad(e){return(typeof e=="string"?e:""+e).replace(iw,`
`).replace(sw,"")}function Ti(e,t,n){if(t=Ad(t),Ad(e)!==t&&n)throw Error(B(425))}function Ss(){}var Fa=null,Ba=null;function Ha(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Va=typeof setTimeout=="function"?setTimeout:void 0,lw=typeof clearTimeout=="function"?clearTimeout:void 0,$d=typeof Promise=="function"?Promise:void 0,aw=typeof queueMicrotask=="function"?queueMicrotask:typeof $d<"u"?function(e){return $d.resolve(null).then(e).catch(uw)}:Va;function uw(e){setTimeout(function(){throw e})}function Kl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Do(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Do(t)}function vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vr=Math.random().toString(36).slice(2),It="__reactFiber$"+Vr,Vo="__reactProps$"+Vr,Xt="__reactContainer$"+Vr,Ua="__reactEvents$"+Vr,cw="__reactListeners$"+Vr,dw="__reactHandles$"+Vr;function Rn(e){var t=e[It];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xt]||n[It]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dd(e);e!==null;){if(n=e[It])return n;e=Dd(e)}return t}e=n,n=e.parentNode}return null}function ui(e){return e=e[It]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function rl(e){return e[Vo]||null}var Wa=[],ur=-1;function Cn(e){return{current:e}}function he(e){0>ur||(e.current=Wa[ur],Wa[ur]=null,ur--)}function ue(e,t){ur++,Wa[ur]=e.current,e.current=t}var En={},De=Cn(En),Ge=Cn(!1),Vn=En;function Cr(e,t){var n=e.type.contextTypes;if(!n)return En;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ke(e){return e=e.childContextTypes,e!=null}function ks(){he(Ge),he(De)}function Od(e,t,n){if(De.current!==En)throw Error(B(168));ue(De,t),ue(Ge,n)}function Up(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(B(108,Xx(e)||"Unknown",o));return be({},n,r)}function Es(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,Vn=De.current,ue(De,e),ue(Ge,Ge.current),!0}function Fd(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Up(e,t,Vn),r.__reactInternalMemoizedMergedChildContext=e,he(Ge),he(De),ue(De,e)):he(Ge),ue(Ge,n)}var Bt=null,ol=!1,Xl=!1;function Wp(e){Bt===null?Bt=[e]:Bt.push(e)}function fw(e){ol=!0,Wp(e)}function jn(){if(!Xl&&Bt!==null){Xl=!0;var e=0,t=ae;try{var n=Bt;for(ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bt=null,ol=!1}catch(o){throw Bt!==null&&(Bt=Bt.slice(e+1)),gp(Bu,jn),o}finally{ae=t,Xl=!1}}return null}var cr=[],dr=0,Ns=null,Cs=0,it=[],st=0,Un=null,Ht=1,Vt="";function In(e,t){cr[dr++]=Cs,cr[dr++]=Ns,Ns=e,Cs=t}function Yp(e,t,n){it[st++]=Ht,it[st++]=Vt,it[st++]=Un,Un=e;var r=Ht;e=Vt;var o=32-wt(r)-1;r&=~(1<<o),n+=1;var i=32-wt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Ht=1<<32-wt(t)+o|n<<o|r,Vt=i+e}else Ht=1<<i|n<<o|r,Vt=e}function Qu(e){e.return!==null&&(In(e,1),Yp(e,1,0))}function qu(e){for(;e===Ns;)Ns=cr[--dr],cr[dr]=null,Cs=cr[--dr],cr[dr]=null;for(;e===Un;)Un=it[--st],it[st]=null,Vt=it[--st],it[st]=null,Ht=it[--st],it[st]=null}var Je=null,Ze=null,pe=!1,gt=null;function Gp(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Bd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ze=vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Un!==null?{id:Ht,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Ze=null,!0):!1;default:return!1}}function Ya(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ga(e){if(pe){var t=Ze;if(t){var n=t;if(!Bd(e,t)){if(Ya(e))throw Error(B(418));t=vn(n.nextSibling);var r=Je;t&&Bd(e,t)?Gp(r,n):(e.flags=e.flags&-4097|2,pe=!1,Je=e)}}else{if(Ya(e))throw Error(B(418));e.flags=e.flags&-4097|2,pe=!1,Je=e}}}function Hd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Ri(e){if(e!==Je)return!1;if(!pe)return Hd(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ha(e.type,e.memoizedProps)),t&&(t=Ze)){if(Ya(e))throw Kp(),Error(B(418));for(;t;)Gp(e,t),t=vn(t.nextSibling)}if(Hd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=vn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=Je?vn(e.stateNode.nextSibling):null;return!0}function Kp(){for(var e=Ze;e;)e=vn(e.nextSibling)}function jr(){Ze=Je=null,pe=!1}function Zu(e){gt===null?gt=[e]:gt.push(e)}var hw=en.ReactCurrentBatchConfig;function ro(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function zi(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vd(e){var t=e._init;return t(e._payload)}function Xp(e){function t(m,y){if(e){var p=m.deletions;p===null?(m.deletions=[y],m.flags|=16):p.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function o(m,y){return m=Sn(m,y),m.index=0,m.sibling=null,m}function i(m,y,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<y?(m.flags|=2,y):p):(m.flags|=2,y)):(m.flags|=1048576,y)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,y,p,w){return y===null||y.tag!==6?(y=na(p,m.mode,w),y.return=m,y):(y=o(y,p),y.return=m,y)}function a(m,y,p,w){var S=p.type;return S===or?f(m,y,p.props.children,w,p.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===un&&Vd(S)===y.type)?(w=o(y,p.props),w.ref=ro(m,y,p),w.return=m,w):(w=ls(p.type,p.key,p.props,null,m.mode,w),w.ref=ro(m,y,p),w.return=m,w)}function u(m,y,p,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==p.containerInfo||y.stateNode.implementation!==p.implementation?(y=ra(p,m.mode,w),y.return=m,y):(y=o(y,p.children||[]),y.return=m,y)}function f(m,y,p,w,S){return y===null||y.tag!==7?(y=On(p,m.mode,w,S),y.return=m,y):(y=o(y,p),y.return=m,y)}function c(m,y,p){if(typeof y=="string"&&y!==""||typeof y=="number")return y=na(""+y,m.mode,p),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ki:return p=ls(y.type,y.key,y.props,null,m.mode,p),p.ref=ro(m,null,y),p.return=m,p;case rr:return y=ra(y,m.mode,p),y.return=m,y;case un:var w=y._init;return c(m,w(y._payload),p)}if(mo(y)||Zr(y))return y=On(y,m.mode,p,null),y.return=m,y;zi(m,y)}return null}function h(m,y,p,w){var S=y!==null?y.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:l(m,y,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ki:return p.key===S?a(m,y,p,w):null;case rr:return p.key===S?u(m,y,p,w):null;case un:return S=p._init,h(m,y,S(p._payload),w)}if(mo(p)||Zr(p))return S!==null?null:f(m,y,p,w,null);zi(m,p)}return null}function g(m,y,p,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(p)||null,l(y,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ki:return m=m.get(w.key===null?p:w.key)||null,a(y,m,w,S);case rr:return m=m.get(w.key===null?p:w.key)||null,u(y,m,w,S);case un:var N=w._init;return g(m,y,p,N(w._payload),S)}if(mo(w)||Zr(w))return m=m.get(p)||null,f(y,m,w,S,null);zi(y,w)}return null}function x(m,y,p,w){for(var S=null,N=null,k=y,M=y=0,T=null;k!==null&&M<p.length;M++){k.index>M?(T=k,k=null):T=k.sibling;var $=h(m,k,p[M],w);if($===null){k===null&&(k=T);break}e&&k&&$.alternate===null&&t(m,k),y=i($,y,M),N===null?S=$:N.sibling=$,N=$,k=T}if(M===p.length)return n(m,k),pe&&In(m,M),S;if(k===null){for(;M<p.length;M++)k=c(m,p[M],w),k!==null&&(y=i(k,y,M),N===null?S=k:N.sibling=k,N=k);return pe&&In(m,M),S}for(k=r(m,k);M<p.length;M++)T=g(k,m,M,p[M],w),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?M:T.key),y=i(T,y,M),N===null?S=T:N.sibling=T,N=T);return e&&k.forEach(function(R){return t(m,R)}),pe&&In(m,M),S}function v(m,y,p,w){var S=Zr(p);if(typeof S!="function")throw Error(B(150));if(p=S.call(p),p==null)throw Error(B(151));for(var N=S=null,k=y,M=y=0,T=null,$=p.next();k!==null&&!$.done;M++,$=p.next()){k.index>M?(T=k,k=null):T=k.sibling;var R=h(m,k,$.value,w);if(R===null){k===null&&(k=T);break}e&&k&&R.alternate===null&&t(m,k),y=i(R,y,M),N===null?S=R:N.sibling=R,N=R,k=T}if($.done)return n(m,k),pe&&In(m,M),S;if(k===null){for(;!$.done;M++,$=p.next())$=c(m,$.value,w),$!==null&&(y=i($,y,M),N===null?S=$:N.sibling=$,N=$);return pe&&In(m,M),S}for(k=r(m,k);!$.done;M++,$=p.next())$=g(k,m,M,$.value,w),$!==null&&(e&&$.alternate!==null&&k.delete($.key===null?M:$.key),y=i($,y,M),N===null?S=$:N.sibling=$,N=$);return e&&k.forEach(function(L){return t(m,L)}),pe&&In(m,M),S}function b(m,y,p,w){if(typeof p=="object"&&p!==null&&p.type===or&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case ki:e:{for(var S=p.key,N=y;N!==null;){if(N.key===S){if(S=p.type,S===or){if(N.tag===7){n(m,N.sibling),y=o(N,p.props.children),y.return=m,m=y;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===un&&Vd(S)===N.type){n(m,N.sibling),y=o(N,p.props),y.ref=ro(m,N,p),y.return=m,m=y;break e}n(m,N);break}else t(m,N);N=N.sibling}p.type===or?(y=On(p.props.children,m.mode,w,p.key),y.return=m,m=y):(w=ls(p.type,p.key,p.props,null,m.mode,w),w.ref=ro(m,y,p),w.return=m,m=w)}return s(m);case rr:e:{for(N=p.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===p.containerInfo&&y.stateNode.implementation===p.implementation){n(m,y.sibling),y=o(y,p.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=ra(p,m.mode,w),y.return=m,m=y}return s(m);case un:return N=p._init,b(m,y,N(p._payload),w)}if(mo(p))return x(m,y,p,w);if(Zr(p))return v(m,y,p,w);zi(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,y!==null&&y.tag===6?(n(m,y.sibling),y=o(y,p),y.return=m,m=y):(n(m,y),y=na(p,m.mode,w),y.return=m,m=y),s(m)):n(m,y)}return b}var Mr=Xp(!0),Qp=Xp(!1),js=Cn(null),Ms=null,fr=null,Ju=null;function ec(){Ju=fr=Ms=null}function tc(e){var t=js.current;he(js),e._currentValue=t}function Ka(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function br(e,t){Ms=e,Ju=fr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(Ju!==e)if(e={context:e,memoizedValue:t,next:null},fr===null){if(Ms===null)throw Error(B(308));fr=e,Ms.dependencies={lanes:0,firstContext:e}}else fr=fr.next=e;return t}var zn=null;function nc(e){zn===null?zn=[e]:zn.push(e)}function qp(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,nc(t)):(n.next=o.next,o.next=n),t.interleaved=n,Qt(e,r)}function Qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cn=!1;function rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Qt(e,n)}return o=r.interleaved,o===null?(t.next=t,nc(r)):(t.next=o.next,o.next=t),r.interleaved=t,Qt(e,n)}function ts(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hu(e,n)}}function Ud(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ps(e,t,n,r){var o=e.updateQueue;cn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?i=u:s.next=u,s=a;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(i!==null){var c=o.baseState;s=0,f=u=a=null,l=i;do{var h=l.lane,g=l.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(h=t,g=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){c=x.call(g,c,h);break e}c=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,h=typeof x=="function"?x.call(g,c,h):x,h==null)break e;c=be({},c,h);break e;case 2:cn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=g,a=c):f=f.next=g,s|=h;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;h=l,l=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(f===null&&(a=c),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Yn|=s,e.lanes=s,e.memoizedState=c}}function Wd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(B(191,o));o.call(r)}}}var ci={},Tt=Cn(ci),Uo=Cn(ci),Wo=Cn(ci);function An(e){if(e===ci)throw Error(B(174));return e}function oc(e,t){switch(ue(Wo,t),ue(Uo,e),ue(Tt,ci),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ja(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ja(t,e)}he(Tt),ue(Tt,t)}function Pr(){he(Tt),he(Uo),he(Wo)}function Jp(e){An(Wo.current);var t=An(Tt.current),n=ja(t,e.type);t!==n&&(ue(Uo,e),ue(Tt,n))}function ic(e){Uo.current===e&&(he(Tt),he(Uo))}var xe=Cn(0);function Is(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ql=[];function sc(){for(var e=0;e<Ql.length;e++)Ql[e]._workInProgressVersionPrimary=null;Ql.length=0}var ns=en.ReactCurrentDispatcher,ql=en.ReactCurrentBatchConfig,Wn=0,we=null,Ne=null,Me=null,Ls=!1,No=!1,Yo=0,pw=0;function ze(){throw Error(B(321))}function lc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function ac(e,t,n,r,o,i){if(Wn=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ns.current=e===null||e.memoizedState===null?xw:vw,e=n(r,o),No){i=0;do{if(No=!1,Yo=0,25<=i)throw Error(B(301));i+=1,Me=Ne=null,t.updateQueue=null,ns.current=ww,e=n(r,o)}while(No)}if(ns.current=Ts,t=Ne!==null&&Ne.next!==null,Wn=0,Me=Ne=we=null,Ls=!1,t)throw Error(B(300));return e}function uc(){var e=Yo!==0;return Yo=0,e}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?we.memoizedState=Me=e:Me=Me.next=e,Me}function dt(){if(Ne===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Me===null?we.memoizedState:Me.next;if(t!==null)Me=t,Ne=e;else{if(e===null)throw Error(B(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Me===null?we.memoizedState=Me=e:Me=Me.next=e}return Me}function Go(e,t){return typeof t=="function"?t(e):t}function Zl(e){var t=dt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=Ne,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,a=null,u=i;do{var f=u.lane;if((Wn&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,s=r):a=a.next=c,we.lanes|=f,Yn|=f}u=u.next}while(u!==null&&u!==i);a===null?s=r:a.next=l,_t(r,t.memoizedState)||(We=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,we.lanes|=i,Yn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Jl(e){var t=dt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);_t(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function em(){}function tm(e,t){var n=we,r=dt(),o=t(),i=!_t(r.memoizedState,o);if(i&&(r.memoizedState=o,We=!0),r=r.queue,cc(om.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Ko(9,rm.bind(null,n,r,o,t),void 0,null),Pe===null)throw Error(B(349));Wn&30||nm(n,t,o)}return o}function nm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rm(e,t,n,r){t.value=n,t.getSnapshot=r,im(t)&&sm(e)}function om(e,t,n){return n(function(){im(t)&&sm(e)})}function im(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function sm(e){var t=Qt(e,1);t!==null&&bt(t,e,1,-1)}function Yd(e){var t=Mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:e},t.queue=e,e=e.dispatch=yw.bind(null,we,e),[t.memoizedState,e]}function Ko(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function lm(){return dt().memoizedState}function rs(e,t,n,r){var o=Mt();we.flags|=e,o.memoizedState=Ko(1|t,n,void 0,r===void 0?null:r)}function il(e,t,n,r){var o=dt();r=r===void 0?null:r;var i=void 0;if(Ne!==null){var s=Ne.memoizedState;if(i=s.destroy,r!==null&&lc(r,s.deps)){o.memoizedState=Ko(t,n,i,r);return}}we.flags|=e,o.memoizedState=Ko(1|t,n,i,r)}function Gd(e,t){return rs(8390656,8,e,t)}function cc(e,t){return il(2048,8,e,t)}function am(e,t){return il(4,2,e,t)}function um(e,t){return il(4,4,e,t)}function cm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dm(e,t,n){return n=n!=null?n.concat([e]):null,il(4,4,cm.bind(null,t,e),n)}function dc(){}function fm(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hm(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pm(e,t,n){return Wn&21?(_t(n,t)||(n=vp(),we.lanes|=n,Yn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function mw(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var r=ql.transition;ql.transition={};try{e(!1),t()}finally{ae=n,ql.transition=r}}function mm(){return dt().memoizedState}function gw(e,t,n){var r=_n(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gm(e))ym(t,n);else if(n=qp(e,t,n,r),n!==null){var o=Be();bt(n,e,r,o),xm(n,t,r)}}function yw(e,t,n){var r=_n(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gm(e))ym(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,_t(l,s)){var a=t.interleaved;a===null?(o.next=o,nc(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=qp(e,t,o,r),n!==null&&(o=Be(),bt(n,e,r,o),xm(n,t,r))}}function gm(e){var t=e.alternate;return e===we||t!==null&&t===we}function ym(e,t){No=Ls=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hu(e,n)}}var Ts={readContext:ct,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},xw={readContext:ct,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Gd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,rs(4194308,4,cm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return rs(4,2,e,t)},useMemo:function(e,t){var n=Mt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Mt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gw.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:Yd,useDebugValue:dc,useDeferredValue:function(e){return Mt().memoizedState=e},useTransition:function(){var e=Yd(!1),t=e[0];return e=mw.bind(null,e[1]),Mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,o=Mt();if(pe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),Pe===null)throw Error(B(349));Wn&30||nm(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Gd(om.bind(null,r,i,e),[e]),r.flags|=2048,Ko(9,rm.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Mt(),t=Pe.identifierPrefix;if(pe){var n=Vt,r=Ht;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vw={readContext:ct,useCallback:fm,useContext:ct,useEffect:cc,useImperativeHandle:dm,useInsertionEffect:am,useLayoutEffect:um,useMemo:hm,useReducer:Zl,useRef:lm,useState:function(){return Zl(Go)},useDebugValue:dc,useDeferredValue:function(e){var t=dt();return pm(t,Ne.memoizedState,e)},useTransition:function(){var e=Zl(Go)[0],t=dt().memoizedState;return[e,t]},useMutableSource:em,useSyncExternalStore:tm,useId:mm,unstable_isNewReconciler:!1},ww={readContext:ct,useCallback:fm,useContext:ct,useEffect:cc,useImperativeHandle:dm,useInsertionEffect:am,useLayoutEffect:um,useMemo:hm,useReducer:Jl,useRef:lm,useState:function(){return Jl(Go)},useDebugValue:dc,useDeferredValue:function(e){var t=dt();return Ne===null?t.memoizedState=e:pm(t,Ne.memoizedState,e)},useTransition:function(){var e=Jl(Go)[0],t=dt().memoizedState;return[e,t]},useMutableSource:em,useSyncExternalStore:tm,useId:mm,unstable_isNewReconciler:!1};function ht(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sl={isMounted:function(e){return(e=e._reactInternals)?Jn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Be(),o=_n(e),i=Wt(r,o);i.payload=t,n!=null&&(i.callback=n),t=wn(e,i,o),t!==null&&(bt(t,e,o,r),ts(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Be(),o=_n(e),i=Wt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=wn(e,i,o),t!==null&&(bt(t,e,o,r),ts(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Be(),r=_n(e),o=Wt(n,r);o.tag=2,t!=null&&(o.callback=t),t=wn(e,o,r),t!==null&&(bt(t,e,r,n),ts(t,e,r))}};function Kd(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Fo(n,r)||!Fo(o,i):!0}function vm(e,t,n){var r=!1,o=En,i=t.contextType;return typeof i=="object"&&i!==null?i=ct(i):(o=Ke(t)?Vn:De.current,r=t.contextTypes,i=(r=r!=null)?Cr(e,o):En),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Xd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sl.enqueueReplaceState(t,t.state,null)}function Qa(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},rc(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=ct(i):(i=Ke(t)?Vn:De.current,o.context=Cr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Xa(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&sl.enqueueReplaceState(o,o.state,null),Ps(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ir(e,t){try{var n="",r=t;do n+=Kx(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function ea(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bw=typeof WeakMap=="function"?WeakMap:Map;function wm(e,t,n){n=Wt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zs||(zs=!0,lu=r),qa(e,t)},n}function bm(e,t,n){n=Wt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){qa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qa(e,t),typeof r!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Qd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new bw;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=zw.bind(null,e,t,n),t.then(e,e))}function qd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wt(-1,1),t.tag=2,wn(n,t,1))),n.lanes|=1),e)}var _w=en.ReactCurrentOwner,We=!1;function Oe(e,t,n,r){t.child=e===null?Qp(t,null,n,r):Mr(t,e.child,n,r)}function Jd(e,t,n,r,o){n=n.render;var i=t.ref;return br(t,o),r=ac(e,t,n,r,i,o),n=uc(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,qt(e,t,o)):(pe&&n&&Qu(t),t.flags|=1,Oe(e,t,r,o),t.child)}function ef(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!vc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,_m(e,t,i,r,o)):(e=ls(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fo,n(s,r)&&e.ref===t.ref)return qt(e,t,o)}return t.flags|=1,e=Sn(i,r),e.ref=t.ref,e.return=t,t.child=e}function _m(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Fo(i,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,qt(e,t,o)}return Za(e,t,n,r,o)}function Sm(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(pr,Qe),Qe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(pr,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ue(pr,Qe),Qe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ue(pr,Qe),Qe|=r;return Oe(e,t,o,n),t.child}function km(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Za(e,t,n,r,o){var i=Ke(n)?Vn:De.current;return i=Cr(t,i),br(t,o),n=ac(e,t,n,r,i,o),r=uc(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,qt(e,t,o)):(pe&&r&&Qu(t),t.flags|=1,Oe(e,t,n,o),t.child)}function tf(e,t,n,r,o){if(Ke(n)){var i=!0;Es(t)}else i=!1;if(br(t,o),t.stateNode===null)os(e,t),vm(t,n,r),Qa(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ct(u):(u=Ke(n)?Vn:De.current,u=Cr(t,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Xd(t,s,r,u),cn=!1;var h=t.memoizedState;s.state=h,Ps(t,r,s,o),a=t.memoizedState,l!==r||h!==a||Ge.current||cn?(typeof f=="function"&&(Xa(t,n,f,r),a=t.memoizedState),(l=cn||Kd(t,n,l,r,h,a,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Zp(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ht(t.type,l),s.props=u,c=t.pendingProps,h=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=ct(a):(a=Ke(n)?Vn:De.current,a=Cr(t,a));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==c||h!==a)&&Xd(t,s,r,a),cn=!1,h=t.memoizedState,s.state=h,Ps(t,r,s,o);var x=t.memoizedState;l!==c||h!==x||Ge.current||cn?(typeof g=="function"&&(Xa(t,n,g,r),x=t.memoizedState),(u=cn||Kd(t,n,u,r,h,x,a)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ja(e,t,n,r,i,o)}function Ja(e,t,n,r,o,i){km(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Fd(t,n,!1),qt(e,t,i);r=t.stateNode,_w.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Mr(t,e.child,null,i),t.child=Mr(t,null,l,i)):Oe(e,t,l,i),t.memoizedState=r.state,o&&Fd(t,n,!0),t.child}function Em(e){var t=e.stateNode;t.pendingContext?Od(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Od(e,t.context,!1),oc(e,t.containerInfo)}function nf(e,t,n,r,o){return jr(),Zu(o),t.flags|=256,Oe(e,t,n,r),t.child}var eu={dehydrated:null,treeContext:null,retryLane:0};function tu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nm(e,t,n){var r=t.pendingProps,o=xe.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ue(xe,o&1),e===null)return Ga(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=ul(s,r,0,null),e=On(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=tu(n),t.memoizedState=eu,e):fc(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Sw(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Sn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=Sn(l,i):(i=On(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?tu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=eu,r}return i=e.child,e=i.sibling,r=Sn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function fc(e,t){return t=ul({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ai(e,t,n,r){return r!==null&&Zu(r),Mr(t,e.child,null,n),e=fc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sw(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=ea(Error(B(422))),Ai(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=ul({mode:"visible",children:r.children},o,0,null),i=On(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Mr(t,e.child,null,s),t.child.memoizedState=tu(s),t.memoizedState=eu,i);if(!(t.mode&1))return Ai(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(B(419)),r=ea(i,r,void 0),Ai(e,t,s,r)}if(l=(s&e.childLanes)!==0,We||l){if(r=Pe,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Qt(e,o),bt(r,e,o,-1))}return xc(),r=ea(Error(B(421))),Ai(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Aw.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Ze=vn(o.nextSibling),Je=t,pe=!0,gt=null,e!==null&&(it[st++]=Ht,it[st++]=Vt,it[st++]=Un,Ht=e.id,Vt=e.overflow,Un=t),t=fc(t,r.children),t.flags|=4096,t)}function rf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ka(e.return,t,n)}function ta(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Cm(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Oe(e,t,r.children,n),r=xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rf(e,n,t);else if(e.tag===19)rf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(xe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Is(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ta(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Is(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ta(t,!0,n,null,i);break;case"together":ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function os(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Sn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kw(e,t,n){switch(t.tag){case 3:Em(t),jr();break;case 5:Jp(t);break;case 1:Ke(t.type)&&Es(t);break;case 4:oc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ue(js,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?Nm(e,t,n):(ue(xe,xe.current&1),e=qt(e,t,n),e!==null?e.sibling:null);ue(xe,xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Cm(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ue(xe,xe.current),r)break;return null;case 22:case 23:return t.lanes=0,Sm(e,t,n)}return qt(e,t,n)}var jm,nu,Mm,Pm;jm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nu=function(){};Mm=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,An(Tt.current);var i=null;switch(n){case"input":o=ka(e,o),r=ka(e,r),i=[];break;case"select":o=be({},o,{value:void 0}),r=be({},r,{value:void 0}),i=[];break;case"textarea":o=Ca(e,o),r=Ca(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ss)}Ma(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(To.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(To.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&fe("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Pm=function(e,t,n,r){n!==r&&(t.flags|=4)};function oo(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ew(e,t,n){var r=t.pendingProps;switch(qu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ke(t.type)&&ks(),Ae(t),null;case 3:return r=t.stateNode,Pr(),he(Ge),he(De),sc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ri(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gt!==null&&(cu(gt),gt=null))),nu(e,t),Ae(t),null;case 5:ic(t);var o=An(Wo.current);if(n=t.type,e!==null&&t.stateNode!=null)Mm(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return Ae(t),null}if(e=An(Tt.current),Ri(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[It]=t,r[Vo]=i,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(o=0;o<yo.length;o++)fe(yo[o],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":fd(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":pd(r,i),fe("invalid",r)}Ma(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ti(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ti(r.textContent,l,e),o=["children",""+l]):To.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&fe("scroll",r)}switch(n){case"input":Ei(r),hd(r,i,!0);break;case"textarea":Ei(r),md(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ss)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=op(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[It]=t,e[Vo]=r,jm(e,t,!1,!1),t.stateNode=e;e:{switch(s=Pa(n,r),n){case"dialog":fe("cancel",e),fe("close",e),o=r;break;case"iframe":case"object":case"embed":fe("load",e),o=r;break;case"video":case"audio":for(o=0;o<yo.length;o++)fe(yo[o],e);o=r;break;case"source":fe("error",e),o=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),o=r;break;case"details":fe("toggle",e),o=r;break;case"input":fd(e,r),o=ka(e,r),fe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=be({},r,{value:void 0}),fe("invalid",e);break;case"textarea":pd(e,r),o=Ca(e,r),fe("invalid",e);break;default:o=r}Ma(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?lp(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&ip(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ro(e,a):typeof a=="number"&&Ro(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(To.hasOwnProperty(i)?a!=null&&i==="onScroll"&&fe("scroll",e):a!=null&&Au(e,i,a,s))}switch(n){case"input":Ei(e),hd(e,r,!1);break;case"textarea":Ei(e),md(e);break;case"option":r.value!=null&&e.setAttribute("value",""+kn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?yr(e,!!r.multiple,i,!1):r.defaultValue!=null&&yr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ss)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)Pm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=An(Wo.current),An(Tt.current),Ri(t)){if(r=t.stateNode,n=t.memoizedProps,r[It]=t,(i=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:Ti(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ti(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=t,t.stateNode=r}return Ae(t),null;case 13:if(he(xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&Ze!==null&&t.mode&1&&!(t.flags&128))Kp(),jr(),t.flags|=98560,i=!1;else if(i=Ri(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(B(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[It]=t}else jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),i=!1}else gt!==null&&(cu(gt),gt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Ce===0&&(Ce=3):xc())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return Pr(),nu(e,t),e===null&&Bo(t.stateNode.containerInfo),Ae(t),null;case 10:return tc(t.type._context),Ae(t),null;case 17:return Ke(t.type)&&ks(),Ae(t),null;case 19:if(he(xe),i=t.memoizedState,i===null)return Ae(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)oo(i,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Is(e),s!==null){for(t.flags|=128,oo(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(xe,xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Se()>Lr&&(t.flags|=128,r=!0,oo(i,!1),t.lanes=4194304)}else{if(!r)if(e=Is(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!pe)return Ae(t),null}else 2*Se()-i.renderingStartTime>Lr&&n!==1073741824&&(t.flags|=128,r=!0,oo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Se(),t.sibling=null,n=xe.current,ue(xe,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return yc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qe&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function Nw(e,t){switch(qu(t),t.tag){case 1:return Ke(t.type)&&ks(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pr(),he(Ge),he(De),sc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ic(t),null;case 13:if(he(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(xe),null;case 4:return Pr(),null;case 10:return tc(t.type._context),null;case 22:case 23:return yc(),null;case 24:return null;default:return null}}var $i=!1,$e=!1,Cw=typeof WeakSet=="function"?WeakSet:Set,W=null;function hr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_e(e,t,r)}else n.current=null}function ru(e,t,n){try{n()}catch(r){_e(e,t,r)}}var of=!1;function jw(e,t){if(Fa=ws,e=zp(),Xu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,f=0,c=e,h=null;t:for(;;){for(var g;c!==n||o!==0&&c.nodeType!==3||(l=s+o),c!==i||r!==0&&c.nodeType!==3||(a=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(g=c.firstChild)!==null;)h=c,c=g;for(;;){if(c===e)break t;if(h===n&&++u===o&&(l=s),h===i&&++f===r&&(a=s),(g=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ba={focusedElem:e,selectionRange:n},ws=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,b=x.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:ht(t.type,v),b);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(w){_e(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return x=of,of=!1,x}function Co(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&ru(t,n,i)}o=o.next}while(o!==r)}}function ll(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Im(e){var t=e.alternate;t!==null&&(e.alternate=null,Im(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[Vo],delete t[Ua],delete t[cw],delete t[dw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Lm(e){return e.tag===5||e.tag===3||e.tag===4}function sf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ss));else if(r!==4&&(e=e.child,e!==null))for(iu(e,t,n),e=e.sibling;e!==null;)iu(e,t,n),e=e.sibling}function su(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(su(e,t,n),e=e.sibling;e!==null;)su(e,t,n),e=e.sibling}var Ie=null,pt=!1;function rn(e,t,n){for(n=n.child;n!==null;)Tm(e,t,n),n=n.sibling}function Tm(e,t,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Js,n)}catch{}switch(n.tag){case 5:$e||hr(n,t);case 6:var r=Ie,o=pt;Ie=null,rn(e,t,n),Ie=r,pt=o,Ie!==null&&(pt?(e=Ie,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ie.removeChild(n.stateNode));break;case 18:Ie!==null&&(pt?(e=Ie,n=n.stateNode,e.nodeType===8?Kl(e.parentNode,n):e.nodeType===1&&Kl(e,n),Do(e)):Kl(Ie,n.stateNode));break;case 4:r=Ie,o=pt,Ie=n.stateNode.containerInfo,pt=!0,rn(e,t,n),Ie=r,pt=o;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&ru(n,t,s),o=o.next}while(o!==r)}rn(e,t,n);break;case 1:if(!$e&&(hr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){_e(n,t,l)}rn(e,t,n);break;case 21:rn(e,t,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,rn(e,t,n),$e=r):rn(e,t,n);break;default:rn(e,t,n)}}function lf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Cw),t.forEach(function(r){var o=$w.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ft(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ie=l.stateNode,pt=!1;break e;case 3:Ie=l.stateNode.containerInfo,pt=!0;break e;case 4:Ie=l.stateNode.containerInfo,pt=!0;break e}l=l.return}if(Ie===null)throw Error(B(160));Tm(i,s,o),Ie=null,pt=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){_e(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rm(t,e),t=t.sibling}function Rm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ft(t,e),jt(e),r&4){try{Co(3,e,e.return),ll(3,e)}catch(v){_e(e,e.return,v)}try{Co(5,e,e.return)}catch(v){_e(e,e.return,v)}}break;case 1:ft(t,e),jt(e),r&512&&n!==null&&hr(n,n.return);break;case 5:if(ft(t,e),jt(e),r&512&&n!==null&&hr(n,n.return),e.flags&32){var o=e.stateNode;try{Ro(o,"")}catch(v){_e(e,e.return,v)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&np(o,i),Pa(l,s);var u=Pa(l,i);for(s=0;s<a.length;s+=2){var f=a[s],c=a[s+1];f==="style"?lp(o,c):f==="dangerouslySetInnerHTML"?ip(o,c):f==="children"?Ro(o,c):Au(o,f,c,u)}switch(l){case"input":Ea(o,i);break;case"textarea":rp(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?yr(o,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?yr(o,!!i.multiple,i.defaultValue,!0):yr(o,!!i.multiple,i.multiple?[]:"",!1))}o[Vo]=i}catch(v){_e(e,e.return,v)}}break;case 6:if(ft(t,e),jt(e),r&4){if(e.stateNode===null)throw Error(B(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(v){_e(e,e.return,v)}}break;case 3:if(ft(t,e),jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Do(t.containerInfo)}catch(v){_e(e,e.return,v)}break;case 4:ft(t,e),jt(e);break;case 13:ft(t,e),jt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(mc=Se())),r&4&&lf(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?($e=(u=$e)||f,ft(t,e),$e=u):ft(t,e),jt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(W=e,f=e.child;f!==null;){for(c=W=f;W!==null;){switch(h=W,g=h.child,h.tag){case 0:case 11:case 14:case 15:Co(4,h,h.return);break;case 1:hr(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){_e(r,n,v)}}break;case 5:hr(h,h.return);break;case 22:if(h.memoizedState!==null){uf(c);continue}}g!==null?(g.return=h,W=g):uf(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{o=c.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=c.stateNode,a=c.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=sp("display",s))}catch(v){_e(e,e.return,v)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){_e(e,e.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:ft(t,e),jt(e),r&4&&lf(e);break;case 21:break;default:ft(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Lm(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ro(o,""),r.flags&=-33);var i=sf(e);su(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=sf(e);iu(e,l,s);break;default:throw Error(B(161))}}catch(a){_e(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mw(e,t,n){W=e,zm(e)}function zm(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var o=W,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||$i;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||$e;l=$i;var u=$e;if($i=s,($e=a)&&!u)for(W=o;W!==null;)s=W,a=s.child,s.tag===22&&s.memoizedState!==null?cf(o):a!==null?(a.return=s,W=a):cf(o);for(;i!==null;)W=i,zm(i),i=i.sibling;W=o,$i=l,$e=u}af(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,W=i):af(e)}}function af(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||ll(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$e)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ht(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Wd(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wd(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&Do(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}$e||t.flags&512&&ou(t)}catch(h){_e(t,t.return,h)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function uf(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function cf(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ll(4,t)}catch(a){_e(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){_e(t,o,a)}}var i=t.return;try{ou(t)}catch(a){_e(t,i,a)}break;case 5:var s=t.return;try{ou(t)}catch(a){_e(t,s,a)}}}catch(a){_e(t,t.return,a)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var Pw=Math.ceil,Rs=en.ReactCurrentDispatcher,hc=en.ReactCurrentOwner,ut=en.ReactCurrentBatchConfig,ie=0,Pe=null,ke=null,Le=0,Qe=0,pr=Cn(0),Ce=0,Xo=null,Yn=0,al=0,pc=0,jo=null,Ue=null,mc=0,Lr=1/0,Ft=null,zs=!1,lu=null,bn=null,Di=!1,mn=null,As=0,Mo=0,au=null,is=-1,ss=0;function Be(){return ie&6?Se():is!==-1?is:is=Se()}function _n(e){return e.mode&1?ie&2&&Le!==0?Le&-Le:hw.transition!==null?(ss===0&&(ss=vp()),ss):(e=ae,e!==0||(e=window.event,e=e===void 0?16:Np(e.type)),e):1}function bt(e,t,n,r){if(50<Mo)throw Mo=0,au=null,Error(B(185));li(e,n,r),(!(ie&2)||e!==Pe)&&(e===Pe&&(!(ie&2)&&(al|=n),Ce===4&&fn(e,Le)),Xe(e,r),n===1&&ie===0&&!(t.mode&1)&&(Lr=Se()+500,ol&&jn()))}function Xe(e,t){var n=e.callbackNode;hv(e,t);var r=vs(e,e===Pe?Le:0);if(r===0)n!==null&&xd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xd(n),t===1)e.tag===0?fw(df.bind(null,e)):Wp(df.bind(null,e)),aw(function(){!(ie&6)&&jn()}),n=null;else{switch(wp(r)){case 1:n=Bu;break;case 4:n=yp;break;case 16:n=xs;break;case 536870912:n=xp;break;default:n=xs}n=Vm(n,Am.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Am(e,t){if(is=-1,ss=0,ie&6)throw Error(B(327));var n=e.callbackNode;if(_r()&&e.callbackNode!==n)return null;var r=vs(e,e===Pe?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$s(e,r);else{t=r;var o=ie;ie|=2;var i=Dm();(Pe!==e||Le!==t)&&(Ft=null,Lr=Se()+500,Dn(e,t));do try{Tw();break}catch(l){$m(e,l)}while(!0);ec(),Rs.current=i,ie=o,ke!==null?t=0:(Pe=null,Le=0,t=Ce)}if(t!==0){if(t===2&&(o=za(e),o!==0&&(r=o,t=uu(e,o))),t===1)throw n=Xo,Dn(e,0),fn(e,r),Xe(e,Se()),n;if(t===6)fn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Iw(o)&&(t=$s(e,r),t===2&&(i=za(e),i!==0&&(r=i,t=uu(e,i))),t===1))throw n=Xo,Dn(e,0),fn(e,r),Xe(e,Se()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:Ln(e,Ue,Ft);break;case 3:if(fn(e,r),(r&130023424)===r&&(t=mc+500-Se(),10<t)){if(vs(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Be(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Va(Ln.bind(null,e,Ue,Ft),t);break}Ln(e,Ue,Ft);break;case 4:if(fn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-wt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pw(r/1960))-r,10<r){e.timeoutHandle=Va(Ln.bind(null,e,Ue,Ft),r);break}Ln(e,Ue,Ft);break;case 5:Ln(e,Ue,Ft);break;default:throw Error(B(329))}}}return Xe(e,Se()),e.callbackNode===n?Am.bind(null,e):null}function uu(e,t){var n=jo;return e.current.memoizedState.isDehydrated&&(Dn(e,t).flags|=256),e=$s(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&cu(t)),e}function cu(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function Iw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!_t(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~pc,t&=~al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function df(e){if(ie&6)throw Error(B(327));_r();var t=vs(e,0);if(!(t&1))return Xe(e,Se()),null;var n=$s(e,t);if(e.tag!==0&&n===2){var r=za(e);r!==0&&(t=r,n=uu(e,r))}if(n===1)throw n=Xo,Dn(e,0),fn(e,t),Xe(e,Se()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ln(e,Ue,Ft),Xe(e,Se()),null}function gc(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(Lr=Se()+500,ol&&jn())}}function Gn(e){mn!==null&&mn.tag===0&&!(ie&6)&&_r();var t=ie;ie|=1;var n=ut.transition,r=ae;try{if(ut.transition=null,ae=1,e)return e()}finally{ae=r,ut.transition=n,ie=t,!(ie&6)&&jn()}}function yc(){Qe=pr.current,he(pr)}function Dn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lw(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(qu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ks();break;case 3:Pr(),he(Ge),he(De),sc();break;case 5:ic(r);break;case 4:Pr();break;case 13:he(xe);break;case 19:he(xe);break;case 10:tc(r.type._context);break;case 22:case 23:yc()}n=n.return}if(Pe=e,ke=e=Sn(e.current,null),Le=Qe=t,Ce=0,Xo=null,pc=al=Yn=0,Ue=jo=null,zn!==null){for(t=0;t<zn.length;t++)if(n=zn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}zn=null}return e}function $m(e,t){do{var n=ke;try{if(ec(),ns.current=Ts,Ls){for(var r=we.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ls=!1}if(Wn=0,Me=Ne=we=null,No=!1,Yo=0,hc.current=null,n===null||n.return===null){Ce=1,Xo=t,ke=null;break}e:{var i=e,s=n.return,l=n,a=t;if(t=Le,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=qd(s);if(g!==null){g.flags&=-257,Zd(g,s,l,i,t),g.mode&1&&Qd(i,u,t),t=g,a=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(a),t.updateQueue=v}else x.add(a);break e}else{if(!(t&1)){Qd(i,u,t),xc();break e}a=Error(B(426))}}else if(pe&&l.mode&1){var b=qd(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Zd(b,s,l,i,t),Zu(Ir(a,l));break e}}i=a=Ir(a,l),Ce!==4&&(Ce=2),jo===null?jo=[i]:jo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=wm(i,a,t);Ud(i,m);break e;case 1:l=a;var y=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(bn===null||!bn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=bm(i,l,t);Ud(i,w);break e}}i=i.return}while(i!==null)}Fm(n)}catch(S){t=S,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function Dm(){var e=Rs.current;return Rs.current=Ts,e===null?Ts:e}function xc(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Pe===null||!(Yn&268435455)&&!(al&268435455)||fn(Pe,Le)}function $s(e,t){var n=ie;ie|=2;var r=Dm();(Pe!==e||Le!==t)&&(Ft=null,Dn(e,t));do try{Lw();break}catch(o){$m(e,o)}while(!0);if(ec(),ie=n,Rs.current=r,ke!==null)throw Error(B(261));return Pe=null,Le=0,Ce}function Lw(){for(;ke!==null;)Om(ke)}function Tw(){for(;ke!==null&&!ov();)Om(ke)}function Om(e){var t=Hm(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?Fm(e):ke=t,hc.current=null}function Fm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Nw(n,t),n!==null){n.flags&=32767,ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,ke=null;return}}else if(n=Ew(n,t,Qe),n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);Ce===0&&(Ce=5)}function Ln(e,t,n){var r=ae,o=ut.transition;try{ut.transition=null,ae=1,Rw(e,t,n,r)}finally{ut.transition=o,ae=r}return null}function Rw(e,t,n,r){do _r();while(mn!==null);if(ie&6)throw Error(B(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(pv(e,i),e===Pe&&(ke=Pe=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Di||(Di=!0,Vm(xs,function(){return _r(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ut.transition,ut.transition=null;var s=ae;ae=1;var l=ie;ie|=4,hc.current=null,jw(e,n),Rm(n,e),ew(Ba),ws=!!Fa,Ba=Fa=null,e.current=n,Mw(n),iv(),ie=l,ae=s,ut.transition=i}else e.current=n;if(Di&&(Di=!1,mn=e,As=o),i=e.pendingLanes,i===0&&(bn=null),av(n.stateNode),Xe(e,Se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(zs)throw zs=!1,e=lu,lu=null,e;return As&1&&e.tag!==0&&_r(),i=e.pendingLanes,i&1?e===au?Mo++:(Mo=0,au=e):Mo=0,jn(),null}function _r(){if(mn!==null){var e=wp(As),t=ut.transition,n=ae;try{if(ut.transition=null,ae=16>e?16:e,mn===null)var r=!1;else{if(e=mn,mn=null,As=0,ie&6)throw Error(B(331));var o=ie;for(ie|=4,W=e.current;W!==null;){var i=W,s=i.child;if(W.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(W=u;W!==null;){var f=W;switch(f.tag){case 0:case 11:case 15:Co(8,f,i)}var c=f.child;if(c!==null)c.return=f,W=c;else for(;W!==null;){f=W;var h=f.sibling,g=f.return;if(Im(f),f===u){W=null;break}if(h!==null){h.return=g,W=h;break}W=g}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}W=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,W=s;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Co(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,W=m;break e}W=i.return}}var y=e.current;for(W=y;W!==null;){s=W;var p=s.child;if(s.subtreeFlags&2064&&p!==null)p.return=s,W=p;else e:for(s=y;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ll(9,l)}}catch(S){_e(l,l.return,S)}if(l===s){W=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,W=w;break e}W=l.return}}if(ie=o,jn(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Js,e)}catch{}r=!0}return r}finally{ae=n,ut.transition=t}}return!1}function ff(e,t,n){t=Ir(n,t),t=wm(e,t,1),e=wn(e,t,1),t=Be(),e!==null&&(li(e,1,t),Xe(e,t))}function _e(e,t,n){if(e.tag===3)ff(e,e,n);else for(;t!==null;){if(t.tag===3){ff(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bn===null||!bn.has(r))){e=Ir(n,e),e=bm(t,e,1),t=wn(t,e,1),e=Be(),t!==null&&(li(t,1,e),Xe(t,e));break}}t=t.return}}function zw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Le&n)===n&&(Ce===4||Ce===3&&(Le&130023424)===Le&&500>Se()-mc?Dn(e,0):pc|=n),Xe(e,t)}function Bm(e,t){t===0&&(e.mode&1?(t=ji,ji<<=1,!(ji&130023424)&&(ji=4194304)):t=1);var n=Be();e=Qt(e,t),e!==null&&(li(e,t,n),Xe(e,n))}function Aw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bm(e,n)}function $w(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),Bm(e,n)}var Hm;Hm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,kw(e,t,n);We=!!(e.flags&131072)}else We=!1,pe&&t.flags&1048576&&Yp(t,Cs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;os(e,t),e=t.pendingProps;var o=Cr(t,De.current);br(t,n),o=ac(null,t,r,e,o,n);var i=uc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(i=!0,Es(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,rc(t),o.updater=sl,t.stateNode=o,o._reactInternals=t,Qa(t,r,e,n),t=Ja(null,t,r,!0,i,n)):(t.tag=0,pe&&i&&Qu(t),Oe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(os(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Ow(r),e=ht(r,e),o){case 0:t=Za(null,t,r,e,n);break e;case 1:t=tf(null,t,r,e,n);break e;case 11:t=Jd(null,t,r,e,n);break e;case 14:t=ef(null,t,r,ht(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ht(r,o),Za(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ht(r,o),tf(e,t,r,o,n);case 3:e:{if(Em(t),e===null)throw Error(B(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Zp(e,t),Ps(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Ir(Error(B(423)),t),t=nf(e,t,r,n,o);break e}else if(r!==o){o=Ir(Error(B(424)),t),t=nf(e,t,r,n,o);break e}else for(Ze=vn(t.stateNode.containerInfo.firstChild),Je=t,pe=!0,gt=null,n=Qp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jr(),r===o){t=qt(e,t,n);break e}Oe(e,t,r,n)}t=t.child}return t;case 5:return Jp(t),e===null&&Ga(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Ha(r,o)?s=null:i!==null&&Ha(r,i)&&(t.flags|=32),km(e,t),Oe(e,t,s,n),t.child;case 6:return e===null&&Ga(t),null;case 13:return Nm(e,t,n);case 4:return oc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mr(t,null,r,n):Oe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ht(r,o),Jd(e,t,r,o,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ue(js,r._currentValue),r._currentValue=s,i!==null)if(_t(i.value,s)){if(i.children===o.children&&!Ge.current){t=qt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Wt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ka(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(B(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ka(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Oe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,br(t,n),o=ct(o),r=r(o),t.flags|=1,Oe(e,t,r,n),t.child;case 14:return r=t.type,o=ht(r,t.pendingProps),o=ht(r.type,o),ef(e,t,r,o,n);case 15:return _m(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ht(r,o),os(e,t),t.tag=1,Ke(r)?(e=!0,Es(t)):e=!1,br(t,n),vm(t,r,o),Qa(t,r,o,n),Ja(null,t,r,!0,e,n);case 19:return Cm(e,t,n);case 22:return Sm(e,t,n)}throw Error(B(156,t.tag))};function Vm(e,t){return gp(e,t)}function Dw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,r){return new Dw(e,t,n,r)}function vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ow(e){if(typeof e=="function")return vc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Du)return 11;if(e===Ou)return 14}return 2}function Sn(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ls(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")vc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case or:return On(n.children,o,i,t);case $u:s=8,o|=8;break;case wa:return e=lt(12,n,t,o|2),e.elementType=wa,e.lanes=i,e;case ba:return e=lt(13,n,t,o),e.elementType=ba,e.lanes=i,e;case _a:return e=lt(19,n,t,o),e.elementType=_a,e.lanes=i,e;case Jh:return ul(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qh:s=10;break e;case Zh:s=9;break e;case Du:s=11;break e;case Ou:s=14;break e;case un:s=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=lt(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function On(e,t,n,r){return e=lt(7,e,r,t),e.lanes=n,e}function ul(e,t,n,r){return e=lt(22,e,r,t),e.elementType=Jh,e.lanes=n,e.stateNode={isHidden:!1},e}function na(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function ra(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fw(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function wc(e,t,n,r,o,i,s,l,a){return e=new Fw(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rc(i),e}function Bw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Um(e){if(!e)return En;e=e._reactInternals;e:{if(Jn(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(Ke(n))return Up(e,n,t)}return t}function Wm(e,t,n,r,o,i,s,l,a){return e=wc(n,r,!0,e,o,i,s,l,a),e.context=Um(null),n=e.current,r=Be(),o=_n(n),i=Wt(r,o),i.callback=t??null,wn(n,i,o),e.current.lanes=o,li(e,o,r),Xe(e,r),e}function cl(e,t,n,r){var o=t.current,i=Be(),s=_n(o);return n=Um(n),t.context===null?t.context=n:t.pendingContext=n,t=Wt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=wn(o,t,s),e!==null&&(bt(e,o,s,i),ts(e,o,s)),s}function Ds(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bc(e,t){hf(e,t),(e=e.alternate)&&hf(e,t)}function Hw(){return null}var Ym=typeof reportError=="function"?reportError:function(e){console.error(e)};function _c(e){this._internalRoot=e}dl.prototype.render=_c.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));cl(e,t,null,null)};dl.prototype.unmount=_c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gn(function(){cl(null,e,null,null)}),t[Xt]=null}};function dl(e){this._internalRoot=e}dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dn.length&&t!==0&&t<dn[n].priority;n++);dn.splice(n,0,e),n===0&&Ep(e)}};function Sc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pf(){}function Vw(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=Ds(s);i.call(u)}}var s=Wm(t,r,e,0,null,!1,!1,"",pf);return e._reactRootContainer=s,e[Xt]=s.current,Bo(e.nodeType===8?e.parentNode:e),Gn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=Ds(a);l.call(u)}}var a=wc(e,0,!1,null,null,!1,!1,"",pf);return e._reactRootContainer=a,e[Xt]=a.current,Bo(e.nodeType===8?e.parentNode:e),Gn(function(){cl(t,a,n,r)}),a}function hl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=Ds(s);l.call(a)}}cl(t,s,e,o)}else s=Vw(n,t,e,o,r);return Ds(s)}bp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=go(t.pendingLanes);n!==0&&(Hu(t,n|1),Xe(t,Se()),!(ie&6)&&(Lr=Se()+500,jn()))}break;case 13:Gn(function(){var r=Qt(e,1);if(r!==null){var o=Be();bt(r,e,1,o)}}),bc(e,1)}};Vu=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var n=Be();bt(t,e,134217728,n)}bc(e,134217728)}};_p=function(e){if(e.tag===13){var t=_n(e),n=Qt(e,t);if(n!==null){var r=Be();bt(n,e,t,r)}bc(e,t)}};Sp=function(){return ae};kp=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};La=function(e,t,n){switch(t){case"input":if(Ea(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=rl(r);if(!o)throw Error(B(90));tp(r),Ea(r,o)}}}break;case"textarea":rp(e,n);break;case"select":t=n.value,t!=null&&yr(e,!!n.multiple,t,!1)}};cp=gc;dp=Gn;var Uw={usingClientEntryPoint:!1,Events:[ui,ar,rl,ap,up,gc]},io={findFiberByHostInstance:Rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ww={bundleType:io.bundleType,version:io.version,rendererPackageName:io.rendererPackageName,rendererConfig:io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:en.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pp(e),e===null?null:e.stateNode},findFiberByHostInstance:io.findFiberByHostInstance||Hw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oi.isDisabled&&Oi.supportsFiber)try{Js=Oi.inject(Ww),Lt=Oi}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uw;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sc(t))throw Error(B(200));return Bw(e,t,null,n)};nt.createRoot=function(e,t){if(!Sc(e))throw Error(B(299));var n=!1,r="",o=Ym;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=wc(e,1,!1,null,null,n,!1,r,o),e[Xt]=t.current,Bo(e.nodeType===8?e.parentNode:e),new _c(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=pp(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return Gn(e)};nt.hydrate=function(e,t,n){if(!fl(t))throw Error(B(200));return hl(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!Sc(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Ym;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Wm(t,null,e,1,n??null,o,!1,i,s),e[Xt]=t.current,Bo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new dl(t)};nt.render=function(e,t,n){if(!fl(t))throw Error(B(200));return hl(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!fl(e))throw Error(B(40));return e._reactRootContainer?(Gn(function(){hl(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};nt.unstable_batchedUpdates=gc;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!fl(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return hl(e,t,n,!1,r)};nt.version="18.3.1-next-f1338f8080-20240426";function Gm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gm)}catch(e){console.error(e)}}Gm(),Gh.exports=nt;var Km=Gh.exports,Xm,mf=Km;Xm=mf.createRoot,mf.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gf="popstate";function Yw(e={}){function t(r,o){let{pathname:i,search:s,hash:l}=r.location;return du("",{pathname:i,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Qo(o)}return Kw(t,n,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function St(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Gw(){return Math.random().toString(36).substring(2,10)}function yf(e,t){return{usr:e.state,key:e.key,idx:t}}function du(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ur(t):t,state:n,key:t&&t.key||r||Gw()}}function Qo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ur(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Kw(e,t,n,r={}){let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,l="POP",a=null,u=f();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function f(){return(s.state||{idx:null}).idx}function c(){l="POP";let b=f(),m=b==null?null:b-u;u=b,a&&a({action:l,location:v.location,delta:m})}function h(b,m){l="PUSH";let y=du(v.location,b,m);u=f()+1;let p=yf(y,u),w=v.createHref(y);try{s.pushState(p,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;o.location.assign(w)}i&&a&&a({action:l,location:v.location,delta:1})}function g(b,m){l="REPLACE";let y=du(v.location,b,m);u=f();let p=yf(y,u),w=v.createHref(y);s.replaceState(p,"",w),i&&a&&a({action:l,location:v.location,delta:0})}function x(b){return Xw(b)}let v={get action(){return l},get location(){return e(o,s)},listen(b){if(a)throw new Error("A history only accepts one active listener");return o.addEventListener(gf,c),a=b,()=>{o.removeEventListener(gf,c),a=null}},createHref(b){return t(o,b)},createURL:x,encodeLocation(b){let m=x(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:g,go(b){return s.go(b)}};return v}function Xw(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),me(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Qo(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Qm(e,t,n="/"){return Qw(e,t,n,!1)}function Qw(e,t,n,r){let o=typeof t=="string"?Ur(t):t,i=Zt(o.pathname||"/",n);if(i==null)return null;let s=qm(e);qw(s);let l=null;for(let a=0;l==null&&a<s.length;++a){let u=a1(i);l=s1(s[a],u,r)}return l}function qm(e,t=[],n=[],r="",o=!1){let i=(s,l,a=o,u)=>{let f={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&a)return;me(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let c=Yt([r,f.relativePath]),h=n.concat(f);s.children&&s.children.length>0&&(me(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),qm(s.children,t,h,c,a)),!(s.path==null&&!s.index)&&t.push({path:c,score:o1(c,s.index),routesMeta:h})};return e.forEach((s,l)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,l);else for(let u of Zm(s.path))i(s,l,!0,u)}),t}function Zm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=Zm(r.join("/")),l=[];return l.push(...s.map(a=>a===""?i:[i,a].join("/"))),o&&l.push(...s),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function qw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:i1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Zw=/^:[\w-]+$/,Jw=3,e1=2,t1=1,n1=10,r1=-2,xf=e=>e==="*";function o1(e,t){let n=e.split("/"),r=n.length;return n.some(xf)&&(r+=r1),t&&(r+=e1),n.filter(o=>!xf(o)).reduce((o,i)=>o+(Zw.test(i)?Jw:i===""?t1:n1),r)}function i1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function s1(e,t,n=!1){let{routesMeta:r}=e,o={},i="/",s=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",c=Os({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},f),h=a.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=Os({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},f)),!c)return null;Object.assign(o,c.params),s.push({params:o,pathname:Yt([i,c.pathname]),pathnameBase:f1(Yt([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Yt([i,c.pathnameBase]))}return s}function Os(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=l1(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:c},h)=>{if(f==="*"){let x=l[h]||"";s=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[h];return c&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function l1(e,t=!1,n=!0){St(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function a1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return St(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Zt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var u1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function c1(e,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Ur(e):e,i;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?i=vf(n.substring(1),"/"):i=vf(n,t)):i=t,{pathname:i,search:h1(r),hash:p1(o)}}function vf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function oa(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function kc(e){let t=d1(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Ec(e,t,n,r=!1){let o;typeof e=="string"?o=Ur(e):(o={...e},me(!o.pathname||!o.pathname.includes("?"),oa("?","pathname","search",o)),me(!o.pathname||!o.pathname.includes("#"),oa("#","pathname","hash",o)),me(!o.search||!o.search.includes("#"),oa("#","search","hash",o)));let i=e===""||o.pathname==="",s=i?"/":o.pathname,l;if(s==null)l=n;else{let c=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),c-=1;o.pathname=h.join("/")}l=c>=0?t[c]:"/"}let a=c1(o,l),u=s&&s!=="/"&&s.endsWith("/"),f=(i||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||f)&&(a.pathname+="/"),a}var Yt=e=>e.join("/").replace(/\/\/+/g,"/"),f1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),h1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,m1=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function g1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function y1(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Jm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function eg(e,t){let n=e;if(typeof n!="string"||!u1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(Jm)try{let i=new URL(window.location.href),s=n.startsWith("//")?new URL(i.protocol+n):new URL(n),l=Zt(s.pathname,t);s.origin===i.origin&&l!=null?n=l+s.search+s.hash:o=!0}catch{St(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tg=["POST","PUT","PATCH","DELETE"];new Set(tg);var x1=["GET",...tg];new Set(x1);var Wr=_.createContext(null);Wr.displayName="DataRouter";var pl=_.createContext(null);pl.displayName="DataRouterState";var v1=_.createContext(!1),ng=_.createContext({isTransitioning:!1});ng.displayName="ViewTransition";var w1=_.createContext(new Map);w1.displayName="Fetchers";var b1=_.createContext(null);b1.displayName="Await";var ot=_.createContext(null);ot.displayName="Navigation";var di=_.createContext(null);di.displayName="Location";var kt=_.createContext({outlet:null,matches:[],isDataRoute:!1});kt.displayName="Route";var Nc=_.createContext(null);Nc.displayName="RouteError";var rg="REACT_ROUTER_ERROR",_1="REDIRECT",S1="ROUTE_ERROR_RESPONSE";function k1(e){if(e.startsWith(`${rg}:${_1}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function E1(e){if(e.startsWith(`${rg}:${S1}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new m1(t.status,t.statusText,t.data)}catch{}}function N1(e,{relative:t}={}){me(Yr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(ot),{hash:o,pathname:i,search:s}=hi(e,{relative:t}),l=i;return n!=="/"&&(l=i==="/"?n:Yt([n,i])),r.createHref({pathname:l,search:s,hash:o})}function Yr(){return _.useContext(di)!=null}function Mn(){return me(Yr(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(di).location}var og="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ig(e){_.useContext(ot).static||_.useLayoutEffect(e)}function fi(){let{isDataRoute:e}=_.useContext(kt);return e?F1():C1()}function C1(){me(Yr(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(Wr),{basename:t,navigator:n}=_.useContext(ot),{matches:r}=_.useContext(kt),{pathname:o}=Mn(),i=JSON.stringify(kc(r)),s=_.useRef(!1);return ig(()=>{s.current=!0}),_.useCallback((a,u={})=>{if(St(s.current,og),!s.current)return;if(typeof a=="number"){n.go(a);return}let f=Ec(a,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Yt([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,i,o,e])}_.createContext(null);function j1(){let{matches:e}=_.useContext(kt),t=e[e.length-1];return t?t.params:{}}function hi(e,{relative:t}={}){let{matches:n}=_.useContext(kt),{pathname:r}=Mn(),o=JSON.stringify(kc(n));return _.useMemo(()=>Ec(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function M1(e,t){return sg(e,t)}function sg(e,t,n,r,o){var y;me(Yr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=_.useContext(ot),{matches:s}=_.useContext(kt),l=s[s.length-1],a=l?l.params:{},u=l?l.pathname:"/",f=l?l.pathnameBase:"/",c=l&&l.route;{let p=c&&c.path||"";ag(u,!c||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let h=Mn(),g;if(t){let p=typeof t=="string"?Ur(t):t;me(f==="/"||((y=p.pathname)==null?void 0:y.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${p.pathname}" was given in the \`location\` prop.`),g=p}else g=h;let x=g.pathname||"/",v=x;if(f!=="/"){let p=f.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(p.length).join("/")}let b=Qm(e,{pathname:v});St(c||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),St(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=R1(b&&b.map(p=>Object.assign({},p,{params:Object.assign({},a,p.params),pathname:Yt([f,i.encodeLocation?i.encodeLocation(p.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?f:Yt([f,i.encodeLocation?i.encodeLocation(p.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathnameBase])})),s,n,r,o);return t&&m?_.createElement(di.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},m):m}function P1(){let e=O1(),t=g1(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:i},"ErrorBoundary")," or"," ",_.createElement("code",{style:i},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:o},n):null,s)}var I1=_.createElement(P1,null),lg=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=E1(e.digest);n&&(e=n)}let t=e!==void 0?_.createElement(kt.Provider,{value:this.props.routeContext},_.createElement(Nc.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?_.createElement(L1,{error:e},t):t}};lg.contextType=v1;var ia=new WeakMap;function L1({children:e,error:t}){let{basename:n}=_.useContext(ot);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=k1(t.digest);if(r){let o=ia.get(t);if(o)throw o;let i=eg(r.location,n);if(Jm&&!ia.get(t))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw ia.set(t,s),s}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function T1({routeContext:e,match:t,children:n}){let r=_.useContext(Wr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(kt.Provider,{value:e},n)}function R1(e,t=[],n=null,r=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let f=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);me(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,a=-1;if(n)for(let f=0;f<i.length;f++){let c=i[f];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=f),c.route.id){let{loaderData:h,errors:g}=n,x=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!g||g[c.route.id]===void 0);if(c.route.lazy||x){l=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}let u=n&&r?(f,c)=>{var h,g;r(f,{location:n.location,params:((g=(h=n.matches)==null?void 0:h[0])==null?void 0:g.params)??{},unstable_pattern:y1(n.matches),errorInfo:c})}:void 0;return i.reduceRight((f,c,h)=>{let g,x=!1,v=null,b=null;n&&(g=s&&c.route.id?s[c.route.id]:void 0,v=c.route.errorElement||I1,l&&(a<0&&h===0?(ag("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,b=null):a===h&&(x=!0,b=c.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,h+1)),y=()=>{let p;return g?p=v:x?p=b:c.route.Component?p=_.createElement(c.route.Component,null):c.route.element?p=c.route.element:p=f,_.createElement(T1,{match:c,routeContext:{outlet:f,matches:m,isDataRoute:n!=null},children:p})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?_.createElement(lg,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:u}):y()},null)}function Cc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(e){let t=_.useContext(Wr);return me(t,Cc(e)),t}function A1(e){let t=_.useContext(pl);return me(t,Cc(e)),t}function $1(e){let t=_.useContext(kt);return me(t,Cc(e)),t}function jc(e){let t=$1(e),n=t.matches[t.matches.length-1];return me(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function D1(){return jc("useRouteId")}function O1(){var r;let e=_.useContext(Nc),t=A1("useRouteError"),n=jc("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function F1(){let{router:e}=z1("useNavigate"),t=jc("useNavigate"),n=_.useRef(!1);return ig(()=>{n.current=!0}),_.useCallback(async(o,i={})=>{St(n.current,og),n.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...i}))},[e,t])}var wf={};function ag(e,t,n){!t&&!wf[e]&&(wf[e]=!0,St(!1,n))}_.memo(B1);function B1({routes:e,future:t,state:n,onError:r}){return sg(e,void 0,n,r,t)}function ug({to:e,replace:t,state:n,relative:r}){me(Yr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=_.useContext(ot);St(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=_.useContext(kt),{pathname:s}=Mn(),l=fi(),a=Ec(e,kc(i),s,r==="path"),u=JSON.stringify(a);return _.useEffect(()=>{l(JSON.parse(u),{replace:t,state:n,relative:r})},[l,u,r,t,n]),null}function xo(e){me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function H1({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:i=!1,unstable_useTransitions:s}){me(!Yr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),a=_.useMemo(()=>({basename:l,navigator:o,static:i,unstable_useTransitions:s,future:{}}),[l,o,i,s]);typeof n=="string"&&(n=Ur(n));let{pathname:u="/",search:f="",hash:c="",state:h=null,key:g="default"}=n,x=_.useMemo(()=>{let v=Zt(u,l);return v==null?null:{location:{pathname:v,search:f,hash:c,state:h,key:g},navigationType:r}},[l,u,f,c,h,g,r]);return St(x!=null,`<Router basename="${l}"> is not able to match the URL "${u}${f}${c}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:_.createElement(ot.Provider,{value:a},_.createElement(di.Provider,{children:t,value:x}))}function V1({children:e,location:t}){return M1(fu(e),t)}function fu(e,t=[]){let n=[];return _.Children.forEach(e,(r,o)=>{if(!_.isValidElement(r))return;let i=[...t,o];if(r.type===_.Fragment){n.push.apply(n,fu(r.props.children,i));return}me(r.type===xo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),me(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=fu(r.props.children,i)),n.push(s)}),n}var as="get",us="application/x-www-form-urlencoded";function ml(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function U1(e){return ml(e)&&e.tagName.toLowerCase()==="button"}function W1(e){return ml(e)&&e.tagName.toLowerCase()==="form"}function Y1(e){return ml(e)&&e.tagName.toLowerCase()==="input"}function G1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function K1(e,t){return e.button===0&&(!t||t==="_self")&&!G1(e)}var Fi=null;function X1(){if(Fi===null)try{new FormData(document.createElement("form"),0),Fi=!1}catch{Fi=!0}return Fi}var Q1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sa(e){return e!=null&&!Q1.has(e)?(St(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${us}"`),null):e}function q1(e,t){let n,r,o,i,s;if(W1(e)){let l=e.getAttribute("action");r=l?Zt(l,t):null,n=e.getAttribute("method")||as,o=sa(e.getAttribute("enctype"))||us,i=new FormData(e)}else if(U1(e)||Y1(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||l.getAttribute("action");if(r=a?Zt(a,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||as,o=sa(e.getAttribute("formenctype"))||sa(l.getAttribute("enctype"))||us,i=new FormData(l,e),!X1()){let{name:u,type:f,value:c}=e;if(f==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,c)}}else{if(ml(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=as,r=null,o=us,s=e}return i&&o==="text/plain"&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Z1(e,t,n,r){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:t&&Zt(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function J1(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eb(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function tb(e,t,n){let r=await Promise.all(e.map(async o=>{let i=t.routes[o.route.id];if(i){let s=await J1(i,n);return s.links?s.links():[]}return[]}));return ib(r.flat(1).filter(eb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bf(e,t,n,r,o,i){let s=(a,u)=>n[u]?a.route.id!==n[u].route.id:!0,l=(a,u)=>{var f;return n[u].pathname!==a.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==a.params["*"]};return i==="assets"?t.filter((a,u)=>s(a,u)||l(a,u)):i==="data"?t.filter((a,u)=>{var c;let f=r.routes[a.route.id];if(!f||!f.hasLoader)return!1;if(s(a,u)||l(a,u))return!0;if(a.route.shouldRevalidate){let h=a.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((c=n[0])==null?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function nb(e,t,{includeHydrateFallback:n}={}){return rb(e.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let i=[o.module];return o.clientActionModule&&(i=i.concat(o.clientActionModule)),o.clientLoaderModule&&(i=i.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(i=i.concat(o.hydrateFallbackModule)),o.imports&&(i=i.concat(o.imports)),i}).flat(1))}function rb(e){return[...new Set(e)]}function ob(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function ib(e,t){let n=new Set;return new Set(t),e.reduce((r,o)=>{let i=JSON.stringify(ob(o));return n.has(i)||(n.add(i),r.push({key:i,link:o})),r},[])}function cg(){let e=_.useContext(Wr);return Mc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function sb(){let e=_.useContext(pl);return Mc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Pc=_.createContext(void 0);Pc.displayName="FrameworkContext";function dg(){let e=_.useContext(Pc);return Mc(e,"You must render this element inside a <HydratedRouter> element"),e}function lb(e,t){let n=_.useContext(Pc),[r,o]=_.useState(!1),[i,s]=_.useState(!1),{onFocus:l,onBlur:a,onMouseEnter:u,onMouseLeave:f,onTouchStart:c}=t,h=_.useRef(null);_.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let v=m=>{m.forEach(y=>{s(y.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return h.current&&b.observe(h.current),()=>{b.disconnect()}}},[e]),_.useEffect(()=>{if(r){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[r]);let g=()=>{o(!0)},x=()=>{o(!1),s(!1)};return n?e!=="intent"?[i,h,{}]:[i,h,{onFocus:so(l,g),onBlur:so(a,x),onMouseEnter:so(u,g),onMouseLeave:so(f,x),onTouchStart:so(c,g)}]:[!1,h,{}]}function so(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ab({page:e,...t}){let{router:n}=cg(),r=_.useMemo(()=>Qm(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(cb,{page:e,matches:r,...t}):null}function ub(e){let{manifest:t,routeModules:n}=dg(),[r,o]=_.useState([]);return _.useEffect(()=>{let i=!1;return tb(e,t,n).then(s=>{i||o(s)}),()=>{i=!0}},[e,t,n]),r}function cb({page:e,matches:t,...n}){let r=Mn(),{future:o,manifest:i,routeModules:s}=dg(),{basename:l}=cg(),{loaderData:a,matches:u}=sb(),f=_.useMemo(()=>bf(e,t,u,i,r,"data"),[e,t,u,i,r]),c=_.useMemo(()=>bf(e,t,u,i,r,"assets"),[e,t,u,i,r]),h=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,b=!1;if(t.forEach(y=>{var w;let p=i.routes[y.route.id];!p||!p.hasLoader||(!f.some(S=>S.route.id===y.route.id)&&y.route.id in a&&((w=s[y.route.id])!=null&&w.shouldRevalidate)||p.hasClientLoader?b=!0:v.add(y.route.id))}),v.size===0)return[];let m=Z1(e,l,o.unstable_trailingSlashAwareDataRequests,"data");return b&&v.size>0&&m.searchParams.set("_routes",t.filter(y=>v.has(y.route.id)).map(y=>y.route.id).join(",")),[m.pathname+m.search]},[l,o.unstable_trailingSlashAwareDataRequests,a,r,i,f,t,e,s]),g=_.useMemo(()=>nb(c,i),[c,i]),x=ub(c);return _.createElement(_.Fragment,null,h.map(v=>_.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),g.map(v=>_.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),x.map(({key:v,link:b})=>_.createElement("link",{key:v,nonce:n.nonce,...b,crossOrigin:b.crossOrigin??n.crossOrigin})))}function db(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var fb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fb&&(window.__reactRouterVersion="7.13.0")}catch{}function hb({basename:e,children:t,unstable_useTransitions:n,window:r}){let o=_.useRef();o.current==null&&(o.current=Yw({window:r,v5Compat:!0}));let i=o.current,[s,l]=_.useState({action:i.action,location:i.location}),a=_.useCallback(u=>{n===!1?l(u):_.startTransition(()=>l(u))},[n]);return _.useLayoutEffect(()=>i.listen(a),[i,a]),_.createElement(H1,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:n})}var fg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hg=_.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:i,replace:s,state:l,target:a,to:u,preventScrollReset:f,viewTransition:c,unstable_defaultShouldRevalidate:h,...g},x){let{basename:v,unstable_useTransitions:b}=_.useContext(ot),m=typeof u=="string"&&fg.test(u),y=eg(u,v);u=y.to;let p=N1(u,{relative:o}),[w,S,N]=lb(r,g),k=yb(u,{replace:s,state:l,target:a,preventScrollReset:f,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:b});function M($){t&&t($),$.defaultPrevented||k($)}let T=_.createElement("a",{...g,...N,href:y.absoluteURL||p,onClick:y.isExternal||i?t:M,ref:db(x,S),target:a,"data-discover":!m&&n==="render"?"true":void 0});return w&&!m?_.createElement(_.Fragment,null,T,_.createElement(ab,{page:p})):T});hg.displayName="Link";var pb=_.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:i,to:s,viewTransition:l,children:a,...u},f){let c=hi(s,{relative:u.relative}),h=Mn(),g=_.useContext(pl),{navigator:x,basename:v}=_.useContext(ot),b=g!=null&&_b(c)&&l===!0,m=x.encodeLocation?x.encodeLocation(c).pathname:c.pathname,y=h.pathname,p=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(y=y.toLowerCase(),p=p?p.toLowerCase():null,m=m.toLowerCase()),p&&v&&(p=Zt(p,v)||p);const w=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=y===m||!o&&y.startsWith(m)&&y.charAt(w)==="/",N=p!=null&&(p===m||!o&&p.startsWith(m)&&p.charAt(m.length)==="/"),k={isActive:S,isPending:N,isTransitioning:b},M=S?t:void 0,T;typeof r=="function"?T=r(k):T=[r,S?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let $=typeof i=="function"?i(k):i;return _.createElement(hg,{...u,"aria-current":M,className:T,ref:f,style:$,to:s,viewTransition:l},typeof a=="function"?a(k):a)});pb.displayName="NavLink";var mb=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:i,method:s=as,action:l,onSubmit:a,relative:u,preventScrollReset:f,viewTransition:c,unstable_defaultShouldRevalidate:h,...g},x)=>{let{unstable_useTransitions:v}=_.useContext(ot),b=wb(),m=bb(l,{relative:u}),y=s.toLowerCase()==="get"?"get":"post",p=typeof l=="string"&&fg.test(l),w=S=>{if(a&&a(S),S.defaultPrevented)return;S.preventDefault();let N=S.nativeEvent.submitter,k=(N==null?void 0:N.getAttribute("formmethod"))||s,M=()=>b(N||S.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:o,state:i,relative:u,preventScrollReset:f,viewTransition:c,unstable_defaultShouldRevalidate:h});v&&n!==!1?_.startTransition(()=>M()):M()};return _.createElement("form",{ref:x,method:y,action:m,onSubmit:r?a:w,...g,"data-discover":!p&&e==="render"?"true":void 0})});mb.displayName="Form";function gb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pg(e){let t=_.useContext(Wr);return me(t,gb(e)),t}function yb(e,{target:t,replace:n,state:r,preventScrollReset:o,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:a}={}){let u=fi(),f=Mn(),c=hi(e,{relative:i});return _.useCallback(h=>{if(K1(h,t)){h.preventDefault();let g=n!==void 0?n:Qo(f)===Qo(c),x=()=>u(e,{replace:g,state:r,preventScrollReset:o,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l});a?_.startTransition(()=>x()):x()}},[f,u,c,n,r,t,e,o,i,s,l,a])}var xb=0,vb=()=>`__${String(++xb)}__`;function wb(){let{router:e}=pg("useSubmit"),{basename:t}=_.useContext(ot),n=D1(),r=e.fetch,o=e.navigate;return _.useCallback(async(i,s={})=>{let{action:l,method:a,encType:u,formData:f,body:c}=q1(i,t);if(s.navigate===!1){let h=s.fetcherKey||vb();await r(h,n,s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:c,formMethod:s.method||a,formEncType:s.encType||u,flushSync:s.flushSync})}else await o(s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:c,formMethod:s.method||a,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,o,t,n])}function bb(e,{relative:t}={}){let{basename:n}=_.useContext(ot),r=_.useContext(kt);me(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),i={...hi(e||".",{relative:t})},s=Mn();if(e==null){i.search=s.search;let l=new URLSearchParams(i.search),a=l.getAll("index");if(a.some(f=>f==="")){l.delete("index"),a.filter(c=>c).forEach(c=>l.append("index",c));let f=l.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Yt([n,i.pathname])),Qo(i)}function _b(e,{relative:t}={}){let n=_.useContext(ng);me(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pg("useViewTransitionState"),o=hi(e,{relative:t});if(!n.isTransitioning)return!1;let i=Zt(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Zt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Os(o.pathname,s)!=null||Os(o.pathname,i)!=null}const Po="fb_session";function Ic(){try{const e=sessionStorage.getItem(Po);if(!e)return null;const t=JSON.parse(e);return Date.now()>=t.expires_at?(sessionStorage.removeItem(Po),null):t}catch{return sessionStorage.removeItem(Po),null}}function Sb(e){sessionStorage.setItem(Po,JSON.stringify(e))}function hu(){sessionStorage.removeItem(Po)}const mg=_.createContext({session:null,login:async()=>{},logout:()=>{},isAuthenticated:!1});function Lc(){return _.useContext(mg)}const gg="/api/v1/flow-builder";class at extends Error{constructor(t,n,r,o){super(r),this.status=t,this.errorCode=n,this.requestId=o,this.name="ApiClientError"}}async function Et(e,t,n){const r=Ic();if(!r)throw hu(),window.location.replace("/flow-builder/login"),new at(401,"NO_SESSION","Oturum bulunamadi");const o={Authorization:`Bearer ${r.token}`};let i={method:e,headers:o};n!==void 0&&(o["Content-Type"]="application/json",i={...i,body:JSON.stringify(n)});let s;try{s=await fetch(`${gg}${t}`,i)}catch{throw new at(0,"NETWORK_ERROR","Sunucuya baglanilamadi. Internet baglantinizi kontrol edin.")}if(s.status===401)throw hu(),window.location.replace("/flow-builder/login"),new at(401,"UNAUTHORIZED","Oturum suresi doldu");if(!s.ok){let l=null;try{l=await s.json()}catch{}throw new at(s.status,(l==null?void 0:l.error_code)??"UNKNOWN",(l==null?void 0:l.message)??`HTTP ${s.status}`,l==null?void 0:l.request_id)}if(s.status!==204)return s.json()}async function kb(e,t){let n;try{n=await fetch(`${gg}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenant_id:e,api_key:t})})}catch{throw new at(0,"NETWORK_ERROR","Sunucuya baglanilamadi. Internet baglantinizi kontrol edin.")}if(!n.ok){let r=null;try{r=await n.json()}catch{}throw new at(n.status,(r==null?void 0:r.error_code)??"UNKNOWN",(r==null?void 0:r.message)??`Giris basarisiz (HTTP ${n.status})`,r==null?void 0:r.request_id)}return n.json()}function Eb(e){return Et("GET",`/flows/${e}`)}function pu(e,t){return Et("GET",`/flows/${e}/${t}`)}function _f(e,t){return Et("POST",`/flows/${e}`,t)}function Nb(e,t,n){return Et("PUT",`/flows/${e}/${t}`,n)}function Cb(e,t){return Et("DELETE",`/flows/${e}/${t}`)}function jb(e,t){return Et("POST",`/flows/${e}/${t}/activate`)}function Mb(e,t){return Et("POST",`/flows/${e}/${t}/deactivate`)}function Pb(e){return Et("POST","/flows/validate",{flow_config:e})}function Ib(e,t){return Et("POST","/simulation/start",{tenant_id:e,flow_id:t})}function Lb(e,t){return Et("POST","/simulation/step",{session_id:e,message:t})}function Sf(e){return Et("DELETE",`/simulation/${e}`)}function Tb(){const[e,t]=_.useState(""),[n,r]=_.useState(""),[o,i]=_.useState(null),[s,l]=_.useState(!1),{login:a}=Lc(),u=fi(),f=async c=>{c.preventDefault(),i(null);const h=parseInt(e,10);if(!h||h<=0){i("Gecerli bir Tenant ID girin.");return}if(!n.trim()){i("API Key bos olamaz.");return}l(!0);try{await a(h,n.trim()),u("/",{replace:!0})}catch(g){i(g instanceof Error?g.message:"Giris basarisiz")}finally{l(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:d.jsxs("div",{className:"w-full max-w-sm",children:[d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-8 shadow-sm",children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Flow Builder"}),d.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Giris yapmak icin tenant bilgilerinizi girin."}),d.jsxs("form",{onSubmit:f,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tenantId",className:"block text-sm text-slate-700 mb-1",children:"Tenant ID"}),d.jsx("input",{id:"tenantId",type:"number",min:"1",value:e,onChange:c=>t(c.target.value),className:"w-full px-3 py-2 bg-white border border-slate-300 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition",placeholder:"ornek: 1",required:!0,disabled:s})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"apiKey",className:"block text-sm text-slate-700 mb-1",children:"API Key"}),d.jsx("input",{id:"apiKey",type:"password",value:n,onChange:c=>r(c.target.value),className:"w-full px-3 py-2 bg-white border border-slate-300 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition",placeholder:"flow_builder_api_key",required:!0,disabled:s})]}),o&&d.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg px-3 py-2",children:o}),d.jsx("button",{type:"submit",disabled:s,className:"w-full py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 disabled:opacity-50 text-white font-medium rounded-lg transition",children:s?"Giris yapiliyor...":"Giris Yap"})]})]}),d.jsx("p",{className:"text-center text-xs text-slate-400 mt-4",children:"Invekto Flow Builder v2"})]})})}const yg=[{type:"trigger_start",category:"trigger",label:"Baslangic",description:"Flow giris noktasi",color:"#10b981",maxInstances:1,defaultData:{label:"Baslangic"}},{type:"message_text",category:"message",label:"Mesaj",description:"Metin mesaj gonder",color:"#3b82f6",defaultData:{label:"Mesaj",text:""}},{type:"message_menu",category:"message",label:"Menu",description:"Secenekli menu goster",color:"#3b82f6",defaultData:{label:"Menu",text:"Secim yapin:",options:[{key:"1",label:"Secenek 1",handle_id:"opt_1"}]}},{type:"logic_condition",category:"logic",label:"Kosul",description:"If/else dallanma",color:"#f59e0b",defaultData:{label:"Kosul",variable:"",operator:"equals",value:""}},{type:"logic_switch",category:"logic",label:"Switch",description:"Coklu dallanma",color:"#f59e0b",defaultData:{label:"Switch",variable:"",cases:[{value:"",handle_id:"case_1"}],default_handle_id:"default"}},{type:"ai_intent",category:"ai",label:"Intent Algilama",description:"Claude AI ile niyet tespiti",color:"#8b5cf6",defaultData:{label:"Intent",confidence_threshold:.5}},{type:"ai_faq",category:"ai",label:"FAQ Arama",description:"SSS veritabaninda ara",color:"#8b5cf6",defaultData:{label:"FAQ",min_confidence:.3}},{type:"action_handoff",category:"action",label:"Temsilciye Aktar",description:"Insana yonlendir (terminal)",color:"#ef4444",defaultData:{label:"Temsilciye Aktar"}},{type:"action_api_call",category:"action",label:"API Cagrisi",description:"Harici API endpoint cagir",color:"#ef4444",defaultData:{label:"API",method:"POST",url:"",timeout_ms:5e3}},{type:"action_delay",category:"action",label:"Bekle",description:"N saniye bekle",color:"#ef4444",defaultData:{label:"Bekle",seconds:5}},{type:"utility_set_variable",category:"utility",label:"Degisken Ata",description:"Session degiskeni ayarla",color:"#6b7280",defaultData:{label:"Degisken",variable_name:"",value_expression:""}},{type:"utility_note",category:"utility",label:"Not",description:"Gorsel yorum (calistirilmaz)",color:"#6b7280",defaultData:{label:"Not",text:""}}];function xg(e){return yg.find(t=>t.type===e)}function Fs(){return{version:2,metadata:{name:"Yeni Flow",canvas_viewport:{x:0,y:0,zoom:1}},nodes:[{id:"trigger_start_1",type:"trigger_start",position:{x:300,y:50},data:{label:"Baslangic"}}],edges:[],settings:{off_hours_message:"Su anda mesai saatleri disindayiz.",unknown_input_message:"Anlayamadim. Lutfen gecerli bir secenek girin.",handoff_confidence_threshold:.5,session_timeout_minutes:30,max_loop_count:10}}}function Rb(){const{session:e,logout:t}=Lc(),n=fi(),r=(e==null?void 0:e.tenant_id)??0,[o,i]=_.useState([]),[s,l]=_.useState(!0),[a,u]=_.useState(null),[f,c]=_.useState(null),[h,g]=_.useState(!1),[x,v]=_.useState(""),[b,m]=_.useState(null),[y,p]=_.useState(!1),[w,S]=_.useState(null),N=_.useCallback(async()=>{if(r){l(!0),u(null);try{const E=await Eb(r);i(E)}catch(E){u(E instanceof Error?E.message:"Flow listesi alinamadi")}finally{l(!1)}}},[r]);_.useEffect(()=>{N()},[N]);const k=async()=>{if(!x.trim()){m("Flow adi bos olamaz.");return}p(!0),m(null);try{const E=Fs();E.metadata.name=x.trim();const I=await _f(r,{flow_name:x.trim(),flow_config:E});g(!1),v(""),n(`/editor/${I.flow_id}`)}catch(E){E instanceof at&&E.status===409?m("Bu isimde bir flow zaten mevcut."):m(E instanceof Error?E.message:"Olusturma basarisiz")}finally{p(!1)}},M=async E=>{S(null),c(E.flow_id);try{await Cb(r,E.flow_id),i(I=>I.filter(P=>P.flow_id!==E.flow_id))}catch(I){I instanceof at&&I.status===409?u("Aktif flow silinemez. Once deaktif edin."):u(I instanceof Error?I.message:"Silme basarisiz")}finally{c(null)}},T=async E=>{c(E),u(null);try{await jb(r,E),await N()}catch(I){u(I instanceof Error?I.message:"Aktivasyon basarisiz")}finally{c(null)}},$=async E=>{c(E),u(null);try{await Mb(r,E),await N()}catch(I){u(I instanceof Error?I.message:"Deaktivasyon basarisiz")}finally{c(null)}},R=async E=>{c(E.flow_id),u(null);try{const P=(await pu(r,E.flow_id)).flow_config,A=E.flow_name,C=new Set(o.map(O=>O.flow_name));let j=`${A} - Kopya`;if(C.has(j)){let O=2;for(;C.has(`${A} - Kopya (${O})`);)O++;j=`${A} - Kopya (${O})`}const z={...P,metadata:{...P.metadata,name:j}},D=await _f(r,{flow_name:j,flow_config:z});n(`/editor/${D.flow_id}`)}catch(I){I instanceof at&&I.status===409?u("Bu isimde bir flow zaten mevcut. Lutfen tekrar deneyin."):u(I instanceof Error?I.message:"Kopyalama basarisiz")}finally{c(null)}},L=async E=>{c(E.flow_id);try{const I=await pu(r,E.flow_id);await navigator.clipboard.writeText(JSON.stringify(I.flow_config,null,2)),u(null)}catch(I){u(I instanceof Error?I.message:"Kopyalama basarisiz")}finally{c(null)}},F=E=>new Date(E).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return d.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-800",children:[d.jsxs("header",{className:"bg-white border-b border-slate-200 px-6 py-3 flex items-center justify-between shadow-sm",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Flow Builder"}),d.jsxs("span",{className:"text-xs text-slate-500",children:["Tenant #",r]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>{v(""),m(null),g(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition",children:"+ Yeni Flow"}),d.jsx("button",{onClick:t,className:"px-3 py-2 text-sm text-slate-500 hover:text-slate-900 transition",children:"Cikis"})]})]}),d.jsxs("main",{className:"max-w-5xl mx-auto px-6 py-8",children:[a&&d.jsxs("div",{className:"mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg px-4 py-3 flex items-center justify-between",children:[d.jsx("span",{children:a}),d.jsx("button",{onClick:()=>u(null),className:"text-red-400 hover:text-red-600 ml-4",children:""})]}),s?d.jsx("div",{className:"text-center py-20 text-slate-500",children:"Yukleniyor..."}):o.length===0?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("p",{className:"text-slate-500 mb-4",children:"Henuz bir flow olusturulmamis."}),d.jsx("button",{onClick:()=>{v(""),m(null),g(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition",children:"Ilk Flow'u Olustur"})]}):d.jsx("div",{className:"space-y-3",children:o.map(E=>d.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl px-5 py-4 flex items-center justify-between hover:border-slate-300 hover:shadow-sm transition",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"font-semibold text-slate-900 truncate",children:E.flow_name}),E.is_active&&d.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-50 text-green-700 border border-green-200 rounded-full",children:"Aktif"}),E.health_score!=null&&d.jsx(zb,{score:E.health_score,issues:E.health_issues})]}),d.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[d.jsxs("span",{children:["v",E.config_version]}),d.jsxs("span",{children:[E.node_count," node / ",E.edge_count," edge"]}),d.jsxs("span",{children:["Guncelleme: ",F(E.updated_at)]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 ml-4 flex-shrink-0",children:[d.jsx("button",{onClick:()=>n(`/editor/${E.flow_id}`),className:"px-3 py-1.5 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:"Duzenle"}),E.is_active?d.jsx("button",{onClick:()=>$(E.flow_id),disabled:f===E.flow_id,className:"px-3 py-1.5 text-xs bg-amber-50 hover:bg-amber-100 text-amber-700 border border-amber-200 rounded-lg transition disabled:opacity-50",children:"Deaktif Et"}):d.jsx("button",{onClick:()=>T(E.flow_id),disabled:f===E.flow_id,className:"px-3 py-1.5 text-xs bg-green-50 hover:bg-green-100 text-green-700 border border-green-200 rounded-lg transition disabled:opacity-50",children:"Aktif Et"}),d.jsx("button",{onClick:()=>R(E),disabled:f===E.flow_id,className:"px-3 py-1.5 text-xs bg-indigo-50 hover:bg-indigo-100 text-indigo-600 border border-indigo-200 rounded-lg transition disabled:opacity-50",title:"Flow'un kopyasini olustur",children:"Kopyala"}),d.jsx("button",{onClick:()=>L(E),disabled:f===E.flow_id,className:"px-3 py-1.5 text-xs bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-lg transition disabled:opacity-50",title:"Flow JSON'u panoya kopyala",children:"JSON"}),d.jsx("button",{onClick:()=>S(E),disabled:f===E.flow_id||E.is_active,className:"px-3 py-1.5 text-xs bg-red-50 hover:bg-red-100 text-red-600 border border-red-200 rounded-lg transition disabled:opacity-30 disabled:cursor-not-allowed",title:E.is_active?"Aktif flow silinemez":"Flow sil",children:"Sil"})]})]},E.flow_id))})]}),h&&d.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl w-full max-w-md p-6 shadow-xl",children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Yeni Flow Olustur"}),d.jsx("input",{type:"text",value:x,onChange:E=>v(E.target.value),onKeyDown:E=>E.key==="Enter"&&k(),placeholder:"Flow adi (ornek: Satis Chatbot)",className:"w-full px-3 py-2 bg-white border border-slate-300 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition mb-3",autoFocus:!0,disabled:y}),b&&d.jsx("p",{className:"text-sm text-red-600 mb-3",children:b}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{onClick:()=>g(!1),disabled:y,className:"px-4 py-2 text-sm text-slate-500 hover:text-slate-900 transition",children:"Iptal"}),d.jsx("button",{onClick:k,disabled:y,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 disabled:opacity-50 text-white font-medium rounded-lg transition",children:y?"Olusturuluyor...":"Olustur"})]})]})}),w&&d.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl w-full max-w-sm p-6 shadow-xl",children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Flow'u Sil"}),d.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:[d.jsx("strong",{className:"text-slate-900",children:w.flow_name})," flow'u kalici olarak silinecek. Bu islem geri alinamaz."]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{onClick:()=>S(null),className:"px-4 py-2 text-sm text-slate-500 hover:text-slate-900 transition",children:"Iptal"}),d.jsx("button",{onClick:()=>M(w),className:"px-4 py-2 text-sm bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition",children:"Evet, Sil"})]})]})})]})}function zb({score:e,issues:t}){let n,r,o,i;e>=80?(n="bg-green-50",r="text-green-700",o="border-green-200",i="Saglikli"):e>=50?(n="bg-amber-50",r="text-amber-700",o="border-amber-200",i="Dikkat"):(n="bg-red-50",r="text-red-700",o="border-red-200",i="Sorunlu");const s=t&&t.length>0?t.join(" | "):`Skor: ${e}`;return d.jsxs("span",{className:`px-2 py-0.5 text-xs ${n} ${r} border ${o} rounded-full cursor-default`,title:s,children:[e," - ",i]})}function Ee(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ee(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Ab={value:()=>{}};function gl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new cs(n)}function cs(e){this._=e}function $b(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}cs.prototype=gl.prototype={constructor:cs,on:function(e,t){var n=this._,r=$b(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=Db(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=kf(n[o],e.name,t);else if(t==null)for(o in n)n[o]=kf(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new cs(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Db(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function kf(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Ab,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var mu="http://www.w3.org/1999/xhtml";const Ef={svg:"http://www.w3.org/2000/svg",xhtml:mu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ef.hasOwnProperty(t)?{space:Ef[t],local:e}:e}function Ob(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===mu&&t.documentElement.namespaceURI===mu?t.createElement(e):t.createElementNS(n,e)}}function Fb(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function vg(e){var t=yl(e);return(t.local?Fb:Ob)(t)}function Bb(){}function Tc(e){return e==null?Bb:function(){return this.querySelector(e)}}function Hb(e){typeof e!="function"&&(e=Tc(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=new Array(s),a,u,f=0;f<s;++f)(a=i[f])&&(u=e.call(a,a.__data__,f,i))&&("__data__"in a&&(u.__data__=a.__data__),l[f]=u);return new tt(r,this._parents)}function Vb(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ub(){return[]}function wg(e){return e==null?Ub:function(){return this.querySelectorAll(e)}}function Wb(e){return function(){return Vb(e.apply(this,arguments))}}function Yb(e){typeof e=="function"?e=Wb(e):e=wg(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),o.push(a));return new tt(r,o)}function bg(e){return function(){return this.matches(e)}}function _g(e){return function(t){return t.matches(e)}}var Gb=Array.prototype.find;function Kb(e){return function(){return Gb.call(this.children,e)}}function Xb(){return this.firstElementChild}function Qb(e){return this.select(e==null?Xb:Kb(typeof e=="function"?e:_g(e)))}var qb=Array.prototype.filter;function Zb(){return Array.from(this.children)}function Jb(e){return function(){return qb.call(this.children,e)}}function e2(e){return this.selectAll(e==null?Zb:Jb(typeof e=="function"?e:_g(e)))}function t2(e){typeof e!="function"&&(e=bg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new tt(r,this._parents)}function Sg(e){return new Array(e.length)}function n2(){return new tt(this._enter||this._groups.map(Sg),this._parents)}function Bs(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Bs.prototype={constructor:Bs,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function r2(e){return function(){return e}}function o2(e,t,n,r,o,i){for(var s=0,l,a=t.length,u=i.length;s<u;++s)(l=t[s])?(l.__data__=i[s],r[s]=l):n[s]=new Bs(e,i[s]);for(;s<a;++s)(l=t[s])&&(o[s]=l)}function i2(e,t,n,r,o,i,s){var l,a,u=new Map,f=t.length,c=i.length,h=new Array(f),g;for(l=0;l<f;++l)(a=t[l])&&(h[l]=g=s.call(a,a.__data__,l,t)+"",u.has(g)?o[l]=a:u.set(g,a));for(l=0;l<c;++l)g=s.call(e,i[l],l,i)+"",(a=u.get(g))?(r[l]=a,a.__data__=i[l],u.delete(g)):n[l]=new Bs(e,i[l]);for(l=0;l<f;++l)(a=t[l])&&u.get(h[l])===a&&(o[l]=a)}function s2(e){return e.__data__}function l2(e,t){if(!arguments.length)return Array.from(this,s2);var n=t?i2:o2,r=this._parents,o=this._groups;typeof e!="function"&&(e=r2(e));for(var i=o.length,s=new Array(i),l=new Array(i),a=new Array(i),u=0;u<i;++u){var f=r[u],c=o[u],h=c.length,g=a2(e.call(f,f&&f.__data__,u,r)),x=g.length,v=l[u]=new Array(x),b=s[u]=new Array(x),m=a[u]=new Array(h);n(f,c,v,b,m,g,t);for(var y=0,p=0,w,S;y<x;++y)if(w=v[y]){for(y>=p&&(p=y+1);!(S=b[p])&&++p<x;);w._next=S||null}}return s=new tt(s,r),s._enter=l,s._exit=a,s}function a2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function u2(){return new tt(this._exit||this._groups.map(Sg),this._parents)}function c2(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function d2(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),l=new Array(o),a=0;a<s;++a)for(var u=n[a],f=r[a],c=u.length,h=l[a]=new Array(c),g,x=0;x<c;++x)(g=u[x]||f[x])&&(h[x]=g);for(;a<o;++a)l[a]=n[a];return new tt(l,this._parents)}function f2(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function h2(e){e||(e=p2);function t(c,h){return c&&h?e(c.__data__,h.__data__):!c-!h}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],l=s.length,a=o[i]=new Array(l),u,f=0;f<l;++f)(u=s[f])&&(a[f]=u);a.sort(t)}return new tt(o,this._parents).order()}function p2(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function m2(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function g2(){return Array.from(this)}function y2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function x2(){let e=0;for(const t of this)++e;return e}function v2(){return!this.node()}function w2(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,l;i<s;++i)(l=o[i])&&e.call(l,l.__data__,i,o);return this}function b2(e){return function(){this.removeAttribute(e)}}function _2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function S2(e,t){return function(){this.setAttribute(e,t)}}function k2(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function E2(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function N2(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function C2(e,t){var n=yl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?_2:b2:typeof t=="function"?n.local?N2:E2:n.local?k2:S2)(n,t))}function kg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function j2(e){return function(){this.style.removeProperty(e)}}function M2(e,t,n){return function(){this.style.setProperty(e,t,n)}}function P2(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function I2(e,t,n){return arguments.length>1?this.each((t==null?j2:typeof t=="function"?P2:M2)(e,t,n??"")):Tr(this.node(),e)}function Tr(e,t){return e.style.getPropertyValue(t)||kg(e).getComputedStyle(e,null).getPropertyValue(t)}function L2(e){return function(){delete this[e]}}function T2(e,t){return function(){this[e]=t}}function R2(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function z2(e,t){return arguments.length>1?this.each((t==null?L2:typeof t=="function"?R2:T2)(e,t)):this.node()[e]}function Eg(e){return e.trim().split(/^|\s+/)}function Rc(e){return e.classList||new Ng(e)}function Ng(e){this._node=e,this._names=Eg(e.getAttribute("class")||"")}Ng.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Cg(e,t){for(var n=Rc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function jg(e,t){for(var n=Rc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function A2(e){return function(){Cg(this,e)}}function $2(e){return function(){jg(this,e)}}function D2(e,t){return function(){(t.apply(this,arguments)?Cg:jg)(this,e)}}function O2(e,t){var n=Eg(e+"");if(arguments.length<2){for(var r=Rc(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?D2:t?A2:$2)(n,t))}function F2(){this.textContent=""}function B2(e){return function(){this.textContent=e}}function H2(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function V2(e){return arguments.length?this.each(e==null?F2:(typeof e=="function"?H2:B2)(e)):this.node().textContent}function U2(){this.innerHTML=""}function W2(e){return function(){this.innerHTML=e}}function Y2(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function G2(e){return arguments.length?this.each(e==null?U2:(typeof e=="function"?Y2:W2)(e)):this.node().innerHTML}function K2(){this.nextSibling&&this.parentNode.appendChild(this)}function X2(){return this.each(K2)}function Q2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function q2(){return this.each(Q2)}function Z2(e){var t=typeof e=="function"?e:vg(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function J2(){return null}function e_(e,t){var n=typeof e=="function"?e:vg(e),r=t==null?J2:typeof t=="function"?t:Tc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function t_(){var e=this.parentNode;e&&e.removeChild(this)}function n_(){return this.each(t_)}function r_(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function o_(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function i_(e){return this.select(e?o_:r_)}function s_(e){return arguments.length?this.property("__data__",e):this.node().__data__}function l_(e){return function(t){e.call(this,t,this.__data__)}}function a_(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function u_(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function c_(e,t,n){return function(){var r=this.__on,o,i=l_(t);if(r){for(var s=0,l=r.length;s<l;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function d_(e,t,n){var r=a_(e+""),o,i=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,f;a<u;++a)for(o=0,f=l[a];o<i;++o)if((s=r[o]).type===f.type&&s.name===f.name)return f.value}return}for(l=t?c_:u_,o=0;o<i;++o)this.each(l(r[o],t,n));return this}function Mg(e,t,n){var r=kg(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function f_(e,t){return function(){return Mg(this,e,t)}}function h_(e,t){return function(){return Mg(this,e,t.apply(this,arguments))}}function p_(e,t){return this.each((typeof t=="function"?h_:f_)(e,t))}function*m_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var Pg=[null];function tt(e,t){this._groups=e,this._parents=t}function pi(){return new tt([[document.documentElement]],Pg)}function g_(){return this}tt.prototype=pi.prototype={constructor:tt,select:Hb,selectAll:Yb,selectChild:Qb,selectChildren:e2,filter:t2,data:l2,enter:n2,exit:u2,join:c2,merge:d2,selection:g_,order:f2,sort:h2,call:m2,nodes:g2,node:y2,size:x2,empty:v2,each:w2,attr:C2,style:I2,property:z2,classed:O2,text:V2,html:G2,raise:X2,lower:q2,append:Z2,insert:e_,remove:n_,clone:i_,datum:s_,on:d_,dispatch:p_,[Symbol.iterator]:m_};function qe(e){return typeof e=="string"?new tt([[document.querySelector(e)]],[document.documentElement]):new tt([[e]],Pg)}function y_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function mt(e,t){if(e=y_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const x_={passive:!1},qo={capture:!0,passive:!1};function la(e){e.stopImmediatePropagation()}function Sr(e){e.preventDefault(),e.stopImmediatePropagation()}function Ig(e){var t=e.document.documentElement,n=qe(e).on("dragstart.drag",Sr,qo);"onselectstart"in t?n.on("selectstart.drag",Sr,qo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Lg(e,t){var n=e.document.documentElement,r=qe(e).on("dragstart.drag",null);t&&(r.on("click.drag",Sr,qo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Bi=e=>()=>e;function gu(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:l,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}gu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function v_(e){return!e.ctrlKey&&!e.button}function w_(){return this.parentNode}function b_(e,t){return t??{x:e.x,y:e.y}}function __(){return navigator.maxTouchPoints||"ontouchstart"in this}function Tg(){var e=v_,t=w_,n=b_,r=__,o={},i=gl("start","drag","end"),s=0,l,a,u,f,c=0;function h(w){w.on("mousedown.drag",g).filter(r).on("touchstart.drag",b).on("touchmove.drag",m,x_).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(w,S){if(!(f||!e.call(this,w,S))){var N=p(this,t.call(this,w,S),w,S,"mouse");N&&(qe(w.view).on("mousemove.drag",x,qo).on("mouseup.drag",v,qo),Ig(w.view),la(w),u=!1,l=w.clientX,a=w.clientY,N("start",w))}}function x(w){if(Sr(w),!u){var S=w.clientX-l,N=w.clientY-a;u=S*S+N*N>c}o.mouse("drag",w)}function v(w){qe(w.view).on("mousemove.drag mouseup.drag",null),Lg(w.view,u),Sr(w),o.mouse("end",w)}function b(w,S){if(e.call(this,w,S)){var N=w.changedTouches,k=t.call(this,w,S),M=N.length,T,$;for(T=0;T<M;++T)($=p(this,k,w,S,N[T].identifier,N[T]))&&(la(w),$("start",w,N[T]))}}function m(w){var S=w.changedTouches,N=S.length,k,M;for(k=0;k<N;++k)(M=o[S[k].identifier])&&(Sr(w),M("drag",w,S[k]))}function y(w){var S=w.changedTouches,N=S.length,k,M;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),k=0;k<N;++k)(M=o[S[k].identifier])&&(la(w),M("end",w,S[k]))}function p(w,S,N,k,M,T){var $=i.copy(),R=mt(T||N,S),L,F,E;if((E=n.call(w,new gu("beforestart",{sourceEvent:N,target:h,identifier:M,active:s,x:R[0],y:R[1],dx:0,dy:0,dispatch:$}),k))!=null)return L=E.x-R[0]||0,F=E.y-R[1]||0,function I(P,A,C){var j=R,z;switch(P){case"start":o[M]=I,z=s++;break;case"end":delete o[M],--s;case"drag":R=mt(C||A,S),z=s;break}$.call(P,w,new gu(P,{sourceEvent:A,subject:E,target:h,identifier:M,active:z,x:R[0]+L,y:R[1]+F,dx:R[0]-j[0],dy:R[1]-j[1],dispatch:$}),k)}}return h.filter=function(w){return arguments.length?(e=typeof w=="function"?w:Bi(!!w),h):e},h.container=function(w){return arguments.length?(t=typeof w=="function"?w:Bi(w),h):t},h.subject=function(w){return arguments.length?(n=typeof w=="function"?w:Bi(w),h):n},h.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:Bi(!!w),h):r},h.on=function(){var w=i.on.apply(i,arguments);return w===i?h:w},h.clickDistance=function(w){return arguments.length?(c=(w=+w)*w,h):Math.sqrt(c)},h}function zc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Rg(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mi(){}var Zo=.7,Hs=1/Zo,kr="\\s*([+-]?\\d+)\\s*",Jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",S_=/^#([0-9a-f]{3,8})$/,k_=new RegExp(`^rgb\\(${kr},${kr},${kr}\\)$`),E_=new RegExp(`^rgb\\(${Rt},${Rt},${Rt}\\)$`),N_=new RegExp(`^rgba\\(${kr},${kr},${kr},${Jo}\\)$`),C_=new RegExp(`^rgba\\(${Rt},${Rt},${Rt},${Jo}\\)$`),j_=new RegExp(`^hsl\\(${Jo},${Rt},${Rt}\\)$`),M_=new RegExp(`^hsla\\(${Jo},${Rt},${Rt},${Jo}\\)$`),Nf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zc(mi,Kn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Cf,formatHex:Cf,formatHex8:P_,formatHsl:I_,formatRgb:jf,toString:jf});function Cf(){return this.rgb().formatHex()}function P_(){return this.rgb().formatHex8()}function I_(){return zg(this).formatHsl()}function jf(){return this.rgb().formatRgb()}function Kn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=S_.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Mf(t):n===3?new Ye(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Hi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Hi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=k_.exec(e))?new Ye(t[1],t[2],t[3],1):(t=E_.exec(e))?new Ye(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=N_.exec(e))?Hi(t[1],t[2],t[3],t[4]):(t=C_.exec(e))?Hi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=j_.exec(e))?Lf(t[1],t[2]/100,t[3]/100,1):(t=M_.exec(e))?Lf(t[1],t[2]/100,t[3]/100,t[4]):Nf.hasOwnProperty(e)?Mf(Nf[e]):e==="transparent"?new Ye(NaN,NaN,NaN,0):null}function Mf(e){return new Ye(e>>16&255,e>>8&255,e&255,1)}function Hi(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ye(e,t,n,r)}function L_(e){return e instanceof mi||(e=Kn(e)),e?(e=e.rgb(),new Ye(e.r,e.g,e.b,e.opacity)):new Ye}function yu(e,t,n,r){return arguments.length===1?L_(e):new Ye(e,t,n,r??1)}function Ye(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}zc(Ye,yu,Rg(mi,{brighter(e){return e=e==null?Hs:Math.pow(Hs,e),new Ye(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zo:Math.pow(Zo,e),new Ye(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ye(Fn(this.r),Fn(this.g),Fn(this.b),Vs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pf,formatHex:Pf,formatHex8:T_,formatRgb:If,toString:If}));function Pf(){return`#${$n(this.r)}${$n(this.g)}${$n(this.b)}`}function T_(){return`#${$n(this.r)}${$n(this.g)}${$n(this.b)}${$n((isNaN(this.opacity)?1:this.opacity)*255)}`}function If(){const e=Vs(this.opacity);return`${e===1?"rgb(":"rgba("}${Fn(this.r)}, ${Fn(this.g)}, ${Fn(this.b)}${e===1?")":`, ${e})`}`}function Vs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $n(e){return e=Fn(e),(e<16?"0":"")+e.toString(16)}function Lf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new yt(e,t,n,r)}function zg(e){if(e instanceof yt)return new yt(e.h,e.s,e.l,e.opacity);if(e instanceof mi||(e=Kn(e)),!e)return new yt;if(e instanceof yt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,l=i-o,a=(i+o)/2;return l?(t===i?s=(n-r)/l+(n<r)*6:n===i?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?i+o:2-i-o,s*=60):l=a>0&&a<1?0:s,new yt(s,l,a,e.opacity)}function R_(e,t,n,r){return arguments.length===1?zg(e):new yt(e,t,n,r??1)}function yt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}zc(yt,R_,Rg(mi,{brighter(e){return e=e==null?Hs:Math.pow(Hs,e),new yt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zo:Math.pow(Zo,e),new yt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ye(aa(e>=240?e-240:e+120,o,r),aa(e,o,r),aa(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new yt(Tf(this.h),Vi(this.s),Vi(this.l),Vs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vs(this.opacity);return`${e===1?"hsl(":"hsla("}${Tf(this.h)}, ${Vi(this.s)*100}%, ${Vi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Tf(e){return e=(e||0)%360,e<0?e+360:e}function Vi(e){return Math.max(0,Math.min(1,e||0))}function aa(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ac=e=>()=>e;function z_(e,t){return function(n){return e+n*t}}function A_(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function $_(e){return(e=+e)==1?Ag:function(t,n){return n-t?A_(t,n,e):Ac(isNaN(t)?n:t)}}function Ag(e,t){var n=t-e;return n?z_(e,n):Ac(isNaN(e)?t:e)}const Us=function e(t){var n=$_(t);function r(o,i){var s=n((o=yu(o)).r,(i=yu(i)).r),l=n(o.g,i.g),a=n(o.b,i.b),u=Ag(o.opacity,i.opacity);return function(f){return o.r=s(f),o.g=l(f),o.b=a(f),o.opacity=u(f),o+""}}return r.gamma=e,r}(1);function D_(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function O_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function F_(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)o[s]=Io(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(l){for(s=0;s<r;++s)i[s]=o[s](l);return i}}function B_(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Pt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function H_(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Io(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var xu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ua=new RegExp(xu.source,"g");function V_(e){return function(){return e}}function U_(e){return function(t){return e(t)+""}}function $g(e,t){var n=xu.lastIndex=ua.lastIndex=0,r,o,i,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=xu.exec(e))&&(o=ua.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[s]?l[s]+=i:l[++s]=i),(r=r[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:Pt(r,o)})),n=ua.lastIndex;return n<t.length&&(i=t.slice(n),l[s]?l[s]+=i:l[++s]=i),l.length<2?a[0]?U_(a[0].x):V_(t):(t=a.length,function(u){for(var f=0,c;f<t;++f)l[(c=a[f]).i]=c.x(u);return l.join("")})}function Io(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ac(t):(n==="number"?Pt:n==="string"?(r=Kn(t))?(t=r,Us):$g:t instanceof Kn?Us:t instanceof Date?B_:O_(t)?D_:Array.isArray(t)?F_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?H_:Pt)(e,t)}var Rf=180/Math.PI,vu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Dg(e,t,n,r,o,i){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Rf,skewX:Math.atan(a)*Rf,scaleX:s,scaleY:l}}var Ui;function W_(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?vu:Dg(t.a,t.b,t.c,t.d,t.e,t.f)}function Y_(e){return e==null||(Ui||(Ui=document.createElementNS("http://www.w3.org/2000/svg","g")),Ui.setAttribute("transform",e),!(e=Ui.transform.baseVal.consolidate()))?vu:(e=e.matrix,Dg(e.a,e.b,e.c,e.d,e.e,e.f))}function Og(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,f,c,h,g,x){if(u!==c||f!==h){var v=g.push("translate(",null,t,null,n);x.push({i:v-4,x:Pt(u,c)},{i:v-2,x:Pt(f,h)})}else(c||h)&&g.push("translate("+c+t+h+n)}function s(u,f,c,h){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),h.push({i:c.push(o(c)+"rotate(",null,r)-2,x:Pt(u,f)})):f&&c.push(o(c)+"rotate("+f+r)}function l(u,f,c,h){u!==f?h.push({i:c.push(o(c)+"skewX(",null,r)-2,x:Pt(u,f)}):f&&c.push(o(c)+"skewX("+f+r)}function a(u,f,c,h,g,x){if(u!==c||f!==h){var v=g.push(o(g)+"scale(",null,",",null,")");x.push({i:v-4,x:Pt(u,c)},{i:v-2,x:Pt(f,h)})}else(c!==1||h!==1)&&g.push(o(g)+"scale("+c+","+h+")")}return function(u,f){var c=[],h=[];return u=e(u),f=e(f),i(u.translateX,u.translateY,f.translateX,f.translateY,c,h),s(u.rotate,f.rotate,c,h),l(u.skewX,f.skewX,c,h),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,h),u=f=null,function(g){for(var x=-1,v=h.length,b;++x<v;)c[(b=h[x]).i]=b.x(g);return c.join("")}}}var G_=Og(W_,"px, ","px)","deg)"),K_=Og(Y_,", ",")",")"),X_=1e-12;function zf(e){return((e=Math.exp(e))+1/e)/2}function Q_(e){return((e=Math.exp(e))-1/e)/2}function q_(e){return((e=Math.exp(2*e))-1)/(e+1)}const ds=function e(t,n,r){function o(i,s){var l=i[0],a=i[1],u=i[2],f=s[0],c=s[1],h=s[2],g=f-l,x=c-a,v=g*g+x*x,b,m;if(v<X_)m=Math.log(h/u)/t,b=function(k){return[l+k*g,a+k*x,u*Math.exp(t*k*m)]};else{var y=Math.sqrt(v),p=(h*h-u*u+r*v)/(2*u*n*y),w=(h*h-u*u-r*v)/(2*h*n*y),S=Math.log(Math.sqrt(p*p+1)-p),N=Math.log(Math.sqrt(w*w+1)-w);m=(N-S)/t,b=function(k){var M=k*m,T=zf(S),$=u/(n*y)*(T*q_(t*M+S)-Q_(S));return[l+$*g,a+$*x,u*T/zf(t*M+S)]}}return b.duration=m*1e3*t/Math.SQRT2,b}return o.rho=function(i){var s=Math.max(.001,+i),l=s*s,a=l*l;return e(s,l,a)},o}(Math.SQRT2,2,4);var Rr=0,vo=0,lo=0,Fg=1e3,Ws,wo,Ys=0,Xn=0,xl=0,ei=typeof performance=="object"&&performance.now?performance:Date,Bg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $c(){return Xn||(Bg(Z_),Xn=ei.now()+xl)}function Z_(){Xn=0}function Gs(){this._call=this._time=this._next=null}Gs.prototype=Hg.prototype={constructor:Gs,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?$c():+n)+(t==null?0:+t),!this._next&&wo!==this&&(wo?wo._next=this:Ws=this,wo=this),this._call=e,this._time=n,wu()},stop:function(){this._call&&(this._call=null,this._time=1/0,wu())}};function Hg(e,t,n){var r=new Gs;return r.restart(e,t,n),r}function J_(){$c(),++Rr;for(var e=Ws,t;e;)(t=Xn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Rr}function Af(){Xn=(Ys=ei.now())+xl,Rr=vo=0;try{J_()}finally{Rr=0,tS(),Xn=0}}function eS(){var e=ei.now(),t=e-Ys;t>Fg&&(xl-=t,Ys=e)}function tS(){for(var e,t=Ws,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ws=n);wo=e,wu(r)}function wu(e){if(!Rr){vo&&(vo=clearTimeout(vo));var t=e-Xn;t>24?(e<1/0&&(vo=setTimeout(Af,e-ei.now()-xl)),lo&&(lo=clearInterval(lo))):(lo||(Ys=ei.now(),lo=setInterval(eS,Fg)),Rr=1,Bg(Af))}}function $f(e,t,n){var r=new Gs;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var nS=gl("start","end","cancel","interrupt"),rS=[],Vg=0,Df=1,bu=2,fs=3,Of=4,_u=5,hs=6;function vl(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;oS(e,n,{name:t,index:r,group:o,on:nS,tween:rS,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Vg})}function Dc(e,t){var n=Nt(e,t);if(n.state>Vg)throw new Error("too late; already scheduled");return n}function At(e,t){var n=Nt(e,t);if(n.state>fs)throw new Error("too late; already running");return n}function Nt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function oS(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Hg(i,0,n.time);function i(u){n.state=Df,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,c,h,g;if(n.state!==Df)return a();for(f in r)if(g=r[f],g.name===n.name){if(g.state===fs)return $f(s);g.state===Of?(g.state=hs,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[f]):+f<t&&(g.state=hs,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[f])}if($f(function(){n.state===fs&&(n.state=Of,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=bu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===bu){for(n.state=fs,o=new Array(h=n.tween.length),f=0,c=-1;f<h;++f)(g=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(o[++c]=g);o.length=c+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=_u,1),c=-1,h=o.length;++c<h;)o[c].call(e,f);n.state===_u&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=hs,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function ps(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>bu&&r.state<_u,r.state=hs,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function iS(e){return this.each(function(){ps(this,e)})}function sS(e,t){var n,r;return function(){var o=At(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function lS(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=At(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}i.tween=o}}function aS(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Nt(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?sS:lS)(n,e,t))}function Oc(e,t,n){var r=e._id;return e.each(function(){var o=At(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Nt(o,r).value[t]}}function Ug(e,t){var n;return(typeof t=="number"?Pt:t instanceof Kn?Us:(n=Kn(t))?(t=n,Us):$g)(e,t)}function uS(e){return function(){this.removeAttribute(e)}}function cS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dS(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function fS(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function hS(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function pS(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function mS(e,t){var n=yl(e),r=n==="transform"?K_:Ug;return this.attrTween(e,typeof t=="function"?(n.local?pS:hS)(n,r,Oc(this,"attr."+e,t)):t==null?(n.local?cS:uS)(n):(n.local?fS:dS)(n,r,t))}function gS(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function yS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function xS(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&yS(e,i)),n}return o._value=t,o}function vS(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&gS(e,i)),n}return o._value=t,o}function wS(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=yl(e);return this.tween(n,(r.local?xS:vS)(r,t))}function bS(e,t){return function(){Dc(this,e).delay=+t.apply(this,arguments)}}function _S(e,t){return t=+t,function(){Dc(this,e).delay=t}}function SS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?bS:_S)(t,e)):Nt(this.node(),t).delay}function kS(e,t){return function(){At(this,e).duration=+t.apply(this,arguments)}}function ES(e,t){return t=+t,function(){At(this,e).duration=t}}function NS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?kS:ES)(t,e)):Nt(this.node(),t).duration}function CS(e,t){if(typeof t!="function")throw new Error;return function(){At(this,e).ease=t}}function jS(e){var t=this._id;return arguments.length?this.each(CS(t,e)):Nt(this.node(),t).ease}function MS(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;At(this,e).ease=n}}function PS(e){if(typeof e!="function")throw new Error;return this.each(MS(this._id,e))}function IS(e){typeof e!="function"&&(e=bg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new Jt(r,this._parents,this._name,this._id)}function LS(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),l=0;l<i;++l)for(var a=t[l],u=n[l],f=a.length,c=s[l]=new Array(f),h,g=0;g<f;++g)(h=a[g]||u[g])&&(c[g]=h);for(;l<r;++l)s[l]=t[l];return new Jt(s,this._parents,this._name,this._id)}function TS(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function RS(e,t,n){var r,o,i=TS(t)?Dc:At;return function(){var s=i(this,e),l=s.on;l!==r&&(o=(r=l).copy()).on(t,n),s.on=o}}function zS(e,t){var n=this._id;return arguments.length<2?Nt(this.node(),n).on.on(e):this.each(RS(n,e,t))}function AS(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function $S(){return this.on("end.remove",AS(this._id))}function DS(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Tc(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var l=r[s],a=l.length,u=i[s]=new Array(a),f,c,h=0;h<a;++h)(f=l[h])&&(c=e.call(f,f.__data__,h,l))&&("__data__"in f&&(c.__data__=f.__data__),u[h]=c,vl(u[h],t,n,h,u,Nt(f,n)));return new Jt(i,this._parents,t,n)}function OS(e){var t=this._name,n=this._id;typeof e!="function"&&(e=wg(e));for(var r=this._groups,o=r.length,i=[],s=[],l=0;l<o;++l)for(var a=r[l],u=a.length,f,c=0;c<u;++c)if(f=a[c]){for(var h=e.call(f,f.__data__,c,a),g,x=Nt(f,n),v=0,b=h.length;v<b;++v)(g=h[v])&&vl(g,t,n,v,h,x);i.push(h),s.push(f)}return new Jt(i,s,t,n)}var FS=pi.prototype.constructor;function BS(){return new FS(this._groups,this._parents)}function HS(e,t){var n,r,o;return function(){var i=Tr(this,e),s=(this.style.removeProperty(e),Tr(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function Wg(e){return function(){this.style.removeProperty(e)}}function VS(e,t,n){var r,o=n+"",i;return function(){var s=Tr(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function US(e,t,n){var r,o,i;return function(){var s=Tr(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Tr(this,e))),s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l))}}function WS(e,t){var n,r,o,i="style."+t,s="end."+i,l;return function(){var a=At(this,e),u=a.on,f=a.value[i]==null?l||(l=Wg(t)):void 0;(u!==n||o!==f)&&(r=(n=u).copy()).on(s,o=f),a.on=r}}function YS(e,t,n){var r=(e+="")=="transform"?G_:Ug;return t==null?this.styleTween(e,HS(e,r)).on("end.style."+e,Wg(e)):typeof t=="function"?this.styleTween(e,US(e,r,Oc(this,"style."+e,t))).each(WS(this._id,e)):this.styleTween(e,VS(e,r,t),n).on("end.style."+e,null)}function GS(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function KS(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&GS(e,s,n)),r}return i._value=t,i}function XS(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,KS(e,t,n??""))}function QS(e){return function(){this.textContent=e}}function qS(e){return function(){var t=e(this);this.textContent=t??""}}function ZS(e){return this.tween("text",typeof e=="function"?qS(Oc(this,"text",e)):QS(e==null?"":e+""))}function JS(e){return function(t){this.textContent=e.call(this,t)}}function ek(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&JS(o)),t}return r._value=e,r}function tk(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ek(e))}function nk(){for(var e=this._name,t=this._id,n=Yg(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var f=Nt(a,t);vl(a,e,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Jt(r,this._parents,e,n)}function rk(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var l={value:s},a={value:function(){--o===0&&i()}};n.each(function(){var u=At(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&i()})}var ok=0;function Jt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Yg(){return++ok}var Dt=pi.prototype;Jt.prototype={constructor:Jt,select:DS,selectAll:OS,selectChild:Dt.selectChild,selectChildren:Dt.selectChildren,filter:IS,merge:LS,selection:BS,transition:nk,call:Dt.call,nodes:Dt.nodes,node:Dt.node,size:Dt.size,empty:Dt.empty,each:Dt.each,on:zS,attr:mS,attrTween:wS,style:YS,styleTween:XS,text:ZS,textTween:tk,remove:$S,tween:aS,delay:SS,duration:NS,ease:jS,easeVarying:PS,end:rk,[Symbol.iterator]:Dt[Symbol.iterator]};function ik(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var sk={time:null,delay:0,duration:250,ease:ik};function lk(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ak(e){var t,n;e instanceof Jt?(t=e._id,e=e._name):(t=Yg(),(n=sk).time=$c(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&vl(a,e,t,u,s,n||lk(a,t));return new Jt(r,this._parents,e,t)}pi.prototype.interrupt=iS;pi.prototype.transition=ak;const Wi=e=>()=>e;function uk(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Ut(e,t,n){this.k=e,this.x=t,this.y=n}Ut.prototype={constructor:Ut,scale:function(e){return e===1?this:new Ut(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ut(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var wl=new Ut(1,0,0);Gg.prototype=Ut.prototype;function Gg(e){for(;!e.__zoom;)if(!(e=e.parentNode))return wl;return e.__zoom}function ca(e){e.stopImmediatePropagation()}function ao(e){e.preventDefault(),e.stopImmediatePropagation()}function ck(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function dk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ff(){return this.__zoom||wl}function fk(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function hk(){return navigator.maxTouchPoints||"ontouchstart"in this}function pk(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function Kg(){var e=ck,t=dk,n=pk,r=fk,o=hk,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=ds,u=gl("start","zoom","end"),f,c,h,g=500,x=150,v=0,b=10;function m(E){E.property("__zoom",Ff).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",$).filter(o).on("touchstart.zoom",R).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(E,I,P,A){var C=E.selection?E.selection():E;C.property("__zoom",Ff),E!==C?S(E,I,P,A):C.interrupt().each(function(){N(this,arguments).event(A).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},m.scaleBy=function(E,I,P,A){m.scaleTo(E,function(){var C=this.__zoom.k,j=typeof I=="function"?I.apply(this,arguments):I;return C*j},P,A)},m.scaleTo=function(E,I,P,A){m.transform(E,function(){var C=t.apply(this,arguments),j=this.__zoom,z=P==null?w(C):typeof P=="function"?P.apply(this,arguments):P,D=j.invert(z),O=typeof I=="function"?I.apply(this,arguments):I;return n(p(y(j,O),z,D),C,s)},P,A)},m.translateBy=function(E,I,P,A){m.transform(E,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof P=="function"?P.apply(this,arguments):P),t.apply(this,arguments),s)},null,A)},m.translateTo=function(E,I,P,A,C){m.transform(E,function(){var j=t.apply(this,arguments),z=this.__zoom,D=A==null?w(j):typeof A=="function"?A.apply(this,arguments):A;return n(wl.translate(D[0],D[1]).scale(z.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof P=="function"?-P.apply(this,arguments):-P),j,s)},A,C)};function y(E,I){return I=Math.max(i[0],Math.min(i[1],I)),I===E.k?E:new Ut(I,E.x,E.y)}function p(E,I,P){var A=I[0]-P[0]*E.k,C=I[1]-P[1]*E.k;return A===E.x&&C===E.y?E:new Ut(E.k,A,C)}function w(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function S(E,I,P,A){E.on("start.zoom",function(){N(this,arguments).event(A).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(A).end()}).tween("zoom",function(){var C=this,j=arguments,z=N(C,j).event(A),D=t.apply(C,j),O=P==null?w(D):typeof P=="function"?P.apply(C,j):P,U=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),V=C.__zoom,G=typeof I=="function"?I.apply(C,j):I,K=a(V.invert(O).concat(U/V.k),G.invert(O).concat(U/G.k));return function(X){if(X===1)X=G;else{var H=K(X),Q=U/H[2];X=new Ut(Q,O[0]-H[0]*Q,O[1]-H[1]*Q)}z.zoom(null,X)}})}function N(E,I,P){return!P&&E.__zooming||new k(E,I)}function k(E,I){this.that=E,this.args=I,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,I),this.taps=0}k.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,I){return this.mouse&&E!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var I=qe(this.that).datum();u.call(E,this.that,new uk(E,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),I)}};function M(E,...I){if(!e.apply(this,arguments))return;var P=N(this,I).event(E),A=this.__zoom,C=Math.max(i[0],Math.min(i[1],A.k*Math.pow(2,r.apply(this,arguments)))),j=mt(E);if(P.wheel)(P.mouse[0][0]!==j[0]||P.mouse[0][1]!==j[1])&&(P.mouse[1]=A.invert(P.mouse[0]=j)),clearTimeout(P.wheel);else{if(A.k===C)return;P.mouse=[j,A.invert(j)],ps(this),P.start()}ao(E),P.wheel=setTimeout(z,x),P.zoom("mouse",n(p(y(A,C),P.mouse[0],P.mouse[1]),P.extent,s));function z(){P.wheel=null,P.end()}}function T(E,...I){if(h||!e.apply(this,arguments))return;var P=E.currentTarget,A=N(this,I,!0).event(E),C=qe(E.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",U,!0),j=mt(E,P),z=E.clientX,D=E.clientY;Ig(E.view),ca(E),A.mouse=[j,this.__zoom.invert(j)],ps(this),A.start();function O(V){if(ao(V),!A.moved){var G=V.clientX-z,K=V.clientY-D;A.moved=G*G+K*K>v}A.event(V).zoom("mouse",n(p(A.that.__zoom,A.mouse[0]=mt(V,P),A.mouse[1]),A.extent,s))}function U(V){C.on("mousemove.zoom mouseup.zoom",null),Lg(V.view,A.moved),ao(V),A.event(V).end()}}function $(E,...I){if(e.apply(this,arguments)){var P=this.__zoom,A=mt(E.changedTouches?E.changedTouches[0]:E,this),C=P.invert(A),j=P.k*(E.shiftKey?.5:2),z=n(p(y(P,j),A,C),t.apply(this,I),s);ao(E),l>0?qe(this).transition().duration(l).call(S,z,A,E):qe(this).call(m.transform,z,A,E)}}function R(E,...I){if(e.apply(this,arguments)){var P=E.touches,A=P.length,C=N(this,I,E.changedTouches.length===A).event(E),j,z,D,O;for(ca(E),z=0;z<A;++z)D=P[z],O=mt(D,this),O=[O,this.__zoom.invert(O),D.identifier],C.touch0?!C.touch1&&C.touch0[2]!==O[2]&&(C.touch1=O,C.taps=0):(C.touch0=O,j=!0,C.taps=1+!!f);f&&(f=clearTimeout(f)),j&&(C.taps<2&&(c=O[0],f=setTimeout(function(){f=null},g)),ps(this),C.start())}}function L(E,...I){if(this.__zooming){var P=N(this,I).event(E),A=E.changedTouches,C=A.length,j,z,D,O;for(ao(E),j=0;j<C;++j)z=A[j],D=mt(z,this),P.touch0&&P.touch0[2]===z.identifier?P.touch0[0]=D:P.touch1&&P.touch1[2]===z.identifier&&(P.touch1[0]=D);if(z=P.that.__zoom,P.touch1){var U=P.touch0[0],V=P.touch0[1],G=P.touch1[0],K=P.touch1[1],X=(X=G[0]-U[0])*X+(X=G[1]-U[1])*X,H=(H=K[0]-V[0])*H+(H=K[1]-V[1])*H;z=y(z,Math.sqrt(X/H)),D=[(U[0]+G[0])/2,(U[1]+G[1])/2],O=[(V[0]+K[0])/2,(V[1]+K[1])/2]}else if(P.touch0)D=P.touch0[0],O=P.touch0[1];else return;P.zoom("touch",n(p(z,D,O),P.extent,s))}}function F(E,...I){if(this.__zooming){var P=N(this,I).event(E),A=E.changedTouches,C=A.length,j,z;for(ca(E),h&&clearTimeout(h),h=setTimeout(function(){h=null},g),j=0;j<C;++j)z=A[j],P.touch0&&P.touch0[2]===z.identifier?delete P.touch0:P.touch1&&P.touch1[2]===z.identifier&&delete P.touch1;if(P.touch1&&!P.touch0&&(P.touch0=P.touch1,delete P.touch1),P.touch0)P.touch0[1]=this.__zoom.invert(P.touch0[0]);else if(P.end(),P.taps===2&&(z=mt(z,this),Math.hypot(c[0]-z[0],c[1]-z[1])<b)){var D=qe(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return m.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:Wi(+E),m):r},m.filter=function(E){return arguments.length?(e=typeof E=="function"?E:Wi(!!E),m):e},m.touchable=function(E){return arguments.length?(o=typeof E=="function"?E:Wi(!!E),m):o},m.extent=function(E){return arguments.length?(t=typeof E=="function"?E:Wi([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),m):t},m.scaleExtent=function(E){return arguments.length?(i[0]=+E[0],i[1]=+E[1],m):[i[0],i[1]]},m.translateExtent=function(E){return arguments.length?(s[0][0]=+E[0][0],s[1][0]=+E[1][0],s[0][1]=+E[0][1],s[1][1]=+E[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(E){return arguments.length?(n=E,m):n},m.duration=function(E){return arguments.length?(l=+E,m):l},m.interpolate=function(E){return arguments.length?(a=E,m):a},m.on=function(){var E=u.on.apply(u,arguments);return E===u?m:E},m.clickDistance=function(E){return arguments.length?(v=(E=+E)*E,m):Math.sqrt(v)},m.tapDistance=function(E){return arguments.length?(b=+E,m):b},m}const zt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},ti=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Xg=["Enter"," ","Escape"],Qg={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var zr;(function(e){e.Strict="strict",e.Loose="loose"})(zr||(zr={}));var Bn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Bn||(Bn={}));var ni;(function(e){e.Partial="partial",e.Full="full"})(ni||(ni={}));const qg={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var hn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(hn||(hn={}));var Ks;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ks||(Ks={}));var Y;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Y||(Y={}));const Bf={[Y.Left]:Y.Right,[Y.Right]:Y.Left,[Y.Top]:Y.Bottom,[Y.Bottom]:Y.Top};function Zg(e){return e===null?null:e?"valid":"invalid"}const Jg=e=>"id"in e&&"source"in e&&"target"in e,mk=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Fc=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),gi=(e,t=[0,0])=>{const{width:n,height:r}=tn(e),o=e.origin??t,i=n*o[0],s=r*o[1];return{x:e.position.x-i,y:e.position.y-s}},gk=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let s=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(o):Fc(o)?o:t.nodeLookup.get(o.id));const l=s?Xs(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return bl(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return _l(n)},yi=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=bl(n,Xs(o)),r=!0)}),r?_l(n):{x:0,y:0,width:0,height:0}},Bc=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1)=>{const l={...vi(t,[n,r,o]),width:t.width/o,height:t.height/o},a=[];for(const u of e.values()){const{measured:f,selectable:c=!0,hidden:h=!1}=u;if(s&&!c||h)continue;const g=f.width??u.width??u.initialWidth??null,x=f.height??u.height??u.initialHeight??null,v=ri(l,$r(u)),b=(g??0)*(x??0),m=i&&v>0;(!u.internals.handleBounds||m||v>=b||u.dragging)&&a.push(u)}return a},yk=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function xk(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function vk({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const l=xk(e,s),a=yi(l),u=Hc(a,t,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await r.setViewport(u,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function e0({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const s=n.get(e),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=s.origin??r;let c=s.extent||o;if(s.extent==="parent"&&!s.expandParent)if(!l)i==null||i("005",zt.error005());else{const g=l.measured.width,x=l.measured.height;g&&x&&(c=[[a,u],[a+g,u+x]])}else l&&Dr(s.extent)&&(c=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const h=Dr(c)?Qn(t,c,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",zt.error015())),{position:{x:h.x-a+(s.measured.width??0)*f[0],y:h.y-u+(s.measured.height??0)*f[1]},positionAbsolute:h}}async function wk({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(h=>h.id)),s=[];for(const h of n){if(h.deletable===!1)continue;const g=i.has(h.id),x=!g&&h.parentId&&s.find(v=>v.id===h.parentId);(g||x)&&s.push(h)}const l=new Set(t.map(h=>h.id)),a=r.filter(h=>h.deletable!==!1),f=yk(s,a);for(const h of a)l.has(h.id)&&!f.find(x=>x.id===h.id)&&f.push(h);if(!o)return{edges:f,nodes:s};const c=await o({nodes:s,edges:f});return typeof c=="boolean"?c?{edges:f,nodes:s}:{edges:[],nodes:[]}:c}const Ar=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Qn=(e={x:0,y:0},t,n)=>({x:Ar(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Ar(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function t0(e,t,n){const{width:r,height:o}=tn(n),{x:i,y:s}=n.internals.positionAbsolute;return Qn(e,[[i,s],[i+r,s+o]],t)}const Hf=(e,t,n)=>e<t?Ar(Math.abs(e-t),1,t)/t:e>n?-Ar(Math.abs(e-n),1,t)/t:0,n0=(e,t,n=15,r=40)=>{const o=Hf(e.x,r,t.width-r)*n,i=Hf(e.y,r,t.height-r)*n;return[o,i]},bl=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Su=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),_l=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),$r=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Fc(e)?e.internals.positionAbsolute:gi(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Xs=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Fc(e)?e.internals.positionAbsolute:gi(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},r0=(e,t)=>_l(bl(Su(e),Su(t))),ri=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Vf=e=>xt(e.width)&&xt(e.height)&&xt(e.x)&&xt(e.y),xt=e=>!isNaN(e)&&isFinite(e),bk=(e,t)=>{},xi=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),vi=({x:e,y:t},[n,r,o],i=!1,s=[1,1])=>{const l={x:(e-n)/o,y:(t-r)/o};return i?xi(l,s):l},Qs=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function nr(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function _k(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=nr(e,n),o=nr(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=nr(e.top??e.y??0,n),o=nr(e.bottom??e.y??0,n),i=nr(e.left??e.x??0,t),s=nr(e.right??e.x??0,t);return{top:r,right:s,bottom:o,left:i,x:i+s,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Sk(e,t,n,r,o,i){const{x:s,y:l}=Qs(e,[t,n,r]),{x:a,y:u}=Qs({x:e.x+e.width,y:e.y+e.height},[t,n,r]),f=o-a,c=i-u;return{left:Math.floor(s),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(c)}}const Hc=(e,t,n,r,o,i)=>{const s=_k(i,t,n),l=(t-s.x)/e.width,a=(n-s.y)/e.height,u=Math.min(l,a),f=Ar(u,r,o),c=e.x+e.width/2,h=e.y+e.height/2,g=t/2-c*f,x=n/2-h*f,v=Sk(e,g,x,f,t,n),b={left:Math.min(v.left-s.left,0),top:Math.min(v.top-s.top,0),right:Math.min(v.right-s.right,0),bottom:Math.min(v.bottom-s.bottom,0)};return{x:g-b.left+b.right,y:x-b.top+b.bottom,zoom:f}},oi=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Dr(e){return e!=null&&e!=="parent"}function tn(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function o0(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function i0(e,t={width:0,height:0},n,r,o){const i={...e},s=r.get(n);if(s){const l=s.origin||o;i.x+=s.internals.positionAbsolute.x-(t.width??0)*l[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*l[1]}return i}function Uf(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function kk(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function Ek(e){return{...Qg,...e||{}}}function Lo(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:s}=vt(e),l=vi({x:i-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},r),{x:a,y:u}=n?xi(l,t):l;return{xSnapped:a,ySnapped:u,...l}}const Vc=e=>({width:e.offsetWidth,height:e.offsetHeight}),s0=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Nk=["INPUT","SELECT","TEXTAREA"];function l0(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Nk.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const a0=e=>"clientX"in e,vt=(e,t)=>{var i,s;const n=a0(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Wf=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...Vc(s)}})};function u0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}){const a=e*.125+o*.375+s*.375+n*.125,u=t*.125+i*.375+l*.375+r*.125,f=Math.abs(a-e),c=Math.abs(u-t);return[a,u,f,c]}function Yi(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Yf({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case Y.Left:return[t-Yi(t-r,i),n];case Y.Right:return[t+Yi(r-t,i),n];case Y.Top:return[t,n-Yi(n-o,i)];case Y.Bottom:return[t,n+Yi(o-n,i)]}}function Uc({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top,curvature:s=.25}){const[l,a]=Yf({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[u,f]=Yf({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[c,h,g,x]=u0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${e},${t} C${l},${a} ${u},${f} ${r},${o}`,c,h,g,x]}function c0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[i,l,o,s]}function Ck({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const s=o&&n?r+1e3:r,l=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return s+l}function jk({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=bl(Xs(e),Xs(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return ri(s,_l(i))>0}const Mk=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,Pk=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),d0=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||Mk;let o;return Jg(e)?o={...e}:o={...e,id:r(e)},Pk(o,t)?t:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,t.concat(o))};function f0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,l]=c0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,l]}const Gf={[Y.Left]:{x:-1,y:0},[Y.Right]:{x:1,y:0},[Y.Top]:{x:0,y:-1},[Y.Bottom]:{x:0,y:1}},Ik=({source:e,sourcePosition:t=Y.Bottom,target:n})=>t===Y.Left||t===Y.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Kf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Lk({source:e,sourcePosition:t=Y.Bottom,target:n,targetPosition:r=Y.Top,center:o,offset:i,stepPosition:s}){const l=Gf[t],a=Gf[r],u={x:e.x+l.x*i,y:e.y+l.y*i},f={x:n.x+a.x*i,y:n.y+a.y*i},c=Ik({source:u,sourcePosition:t,target:f}),h=c.x!==0?"x":"y",g=c[h];let x=[],v,b;const m={x:0,y:0},y={x:0,y:0},[,,p,w]=c0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[h]*a[h]===-1){h==="x"?(v=o.x??u.x+(f.x-u.x)*s,b=o.y??(u.y+f.y)/2):(v=o.x??(u.x+f.x)/2,b=o.y??u.y+(f.y-u.y)*s);const N=[{x:v,y:u.y},{x:v,y:f.y}],k=[{x:u.x,y:b},{x:f.x,y:b}];l[h]===g?x=h==="x"?N:k:x=h==="x"?k:N}else{const N=[{x:u.x,y:f.y}],k=[{x:f.x,y:u.y}];if(h==="x"?x=l.x===g?k:N:x=l.y===g?N:k,t===r){const L=Math.abs(e[h]-n[h]);if(L<=i){const F=Math.min(i-1,i-L);l[h]===g?m[h]=(u[h]>e[h]?-1:1)*F:y[h]=(f[h]>n[h]?-1:1)*F}}if(t!==r){const L=h==="x"?"y":"x",F=l[h]===a[L],E=u[L]>f[L],I=u[L]<f[L];(l[h]===1&&(!F&&E||F&&I)||l[h]!==1&&(!F&&I||F&&E))&&(x=h==="x"?N:k)}const M={x:u.x+m.x,y:u.y+m.y},T={x:f.x+y.x,y:f.y+y.y},$=Math.max(Math.abs(M.x-x[0].x),Math.abs(T.x-x[0].x)),R=Math.max(Math.abs(M.y-x[0].y),Math.abs(T.y-x[0].y));$>=R?(v=(M.x+T.x)/2,b=x[0].y):(v=x[0].x,b=(M.y+T.y)/2)}return[[e,{x:u.x+m.x,y:u.y+m.y},...x,{x:f.x+y.x,y:f.y+y.y},n],v,b,p,w]}function Tk(e,t,n,r){const o=Math.min(Kf(e,t)/2,Kf(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${i+o*u},${s}Q ${i},${s} ${i},${s+o*f}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${s+o*a}Q ${i},${s} ${i+o*l},${s}`}function ku({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20,stepPosition:f=.5}){const[c,h,g,x,v]=Lk({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:l,y:a},offset:u,stepPosition:f});return[c.reduce((m,y,p)=>{let w="";return p>0&&p<c.length-1?w=Tk(c[p-1],y,c[p+1],s):w=`${p===0?"M":"L"}${y.x} ${y.y}`,m+=w,m},""),h,g,x,v]}function Xf(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Rk(e){var c;const{sourceNode:t,targetNode:n}=e;if(!Xf(t)||!Xf(n))return null;const r=t.internals.handleBounds||Qf(t.handles),o=n.internals.handleBounds||Qf(n.handles),i=qf((r==null?void 0:r.source)??[],e.sourceHandle),s=qf(e.connectionMode===zr.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!s)return(c=e.onError)==null||c.call(e,"008",zt.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(i==null?void 0:i.position)||Y.Bottom,a=(s==null?void 0:s.position)||Y.Top,u=qn(t,i,l),f=qn(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:a}}function Qf(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function qn(e,t,n=Y.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:l}=t??tn(e);if(r)return{x:o+s/2,y:i+l/2};switch((t==null?void 0:t.position)??n){case Y.Top:return{x:o+s/2,y:i};case Y.Right:return{x:o+s,y:i+l/2};case Y.Bottom:return{x:o+s/2,y:i+l};case Y.Left:return{x:o,y:i+l/2}}}function qf(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Eu(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function zk(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((s,l)=>([l.markerStart||r,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Eu(a,t);i.has(u)||(s.push({id:u,color:a.color||n,...a}),i.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const h0=1e3,Ak=10,Wc={nodeOrigin:[0,0],nodeExtent:ti,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},$k={...Wc,checkEquality:!0};function Yc(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function Dk(e,t,n){const r=Yc(Wc,n);for(const o of e.values())if(o.parentId)Kc(o,e,t,r);else{const i=gi(o,r.nodeOrigin),s=Dr(o.extent)?o.extent:r.nodeExtent,l=Qn(i,s,tn(o));o.internals.positionAbsolute=l}}function Ok(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const o of e.handles){const i={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(i):o.type==="target"&&r.push(i)}return{source:n,target:r}}function Gc(e){return e==="manual"}function Nu(e,t,n,r={}){var u,f;const o=Yc($k,r),i={i:0},s=new Map(t),l=o!=null&&o.elevateNodesOnSelect&&!Gc(o.zIndexMode)?h0:0;let a=e.length>0;t.clear(),n.clear();for(const c of e){let h=s.get(c.id);if(o.checkEquality&&c===(h==null?void 0:h.internals.userNode))t.set(c.id,h);else{const g=gi(c,o.nodeOrigin),x=Dr(c.extent)?c.extent:o.nodeExtent,v=Qn(g,x,tn(c));h={...o.defaults,...c,measured:{width:(u=c.measured)==null?void 0:u.width,height:(f=c.measured)==null?void 0:f.height},internals:{positionAbsolute:v,handleBounds:Ok(c,h),z:p0(c,l,o.zIndexMode),userNode:c}},t.set(c.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(a=!1),c.parentId&&Kc(h,t,n,r,i)}return a}function Fk(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Kc(e,t,n,r,o){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:l,zIndexMode:a}=Yc(Wc,r),u=e.parentId,f=t.get(u);if(!f){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Fk(e,n),o&&!f.parentId&&f.internals.rootParentIndex===void 0&&a==="auto"&&(f.internals.rootParentIndex=++o.i,f.internals.z=f.internals.z+o.i*Ak),o&&f.internals.rootParentIndex!==void 0&&(o.i=f.internals.rootParentIndex);const c=i&&!Gc(a)?h0:0,{x:h,y:g,z:x}=Bk(e,f,s,l,c,a),{positionAbsolute:v}=e.internals,b=h!==v.x||g!==v.y;(b||x!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:b?{x:h,y:g}:v,z:x}})}function p0(e,t,n){const r=xt(e.zIndex)?e.zIndex:0;return Gc(n)?r:r+(e.selected?t:0)}function Bk(e,t,n,r,o,i){const{x:s,y:l}=t.internals.positionAbsolute,a=tn(e),u=gi(e,n),f=Dr(e.extent)?Qn(u,e.extent,a):u;let c=Qn({x:s+f.x,y:l+f.y},r,a);e.extent==="parent"&&(c=t0(c,a,t));const h=p0(e,o,i),g=t.internals.z??0;return{x:c.x,y:c.y,z:g>=h?g+1:h}}function Xc(e,t,n,r=[0,0]){var s;const o=[],i=new Map;for(const l of e){const a=t.get(l.parentId);if(!a)continue;const u=((s=i.get(l.parentId))==null?void 0:s.expandedRect)??$r(a),f=r0(u,l.rect);i.set(l.parentId,{expandedRect:f,parent:a})}return i.size>0&&i.forEach(({expandedRect:l,parent:a},u)=>{var p;const f=a.internals.positionAbsolute,c=tn(a),h=a.origin??r,g=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,x=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,v=Math.max(c.width,Math.round(l.width)),b=Math.max(c.height,Math.round(l.height)),m=(v-c.width)*h[0],y=(b-c.height)*h[1];(g>0||x>0||m||y)&&(o.push({id:u,type:"position",position:{x:a.position.x-g+m,y:a.position.y-x+y}}),(p=n.get(u))==null||p.forEach(w=>{e.some(S=>S.id===w.id)||o.push({id:w.id,type:"position",position:{x:w.position.x+g,y:w.position.y+x}})})),(c.width<l.width||c.height<l.height||g||x)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:v+(g?h[0]*g-m:0),height:b+(x?h[1]*x-y:0)}})}),o}function Hk(e,t,n,r,o,i,s){const l=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!l)return{changes:[],updatedInternals:a};const u=[],f=window.getComputedStyle(l),{m22:c}=new window.DOMMatrixReadOnly(f.transform),h=[];for(const g of e.values()){const x=t.get(g.id);if(!x)continue;if(x.hidden){t.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),a=!0;continue}const v=Vc(g.nodeElement),b=x.measured.width!==v.width||x.measured.height!==v.height;if(!!(v.width&&v.height&&(b||!x.internals.handleBounds||g.force))){const y=g.nodeElement.getBoundingClientRect(),p=Dr(x.extent)?x.extent:i;let{positionAbsolute:w}=x.internals;x.parentId&&x.extent==="parent"?w=t0(w,v,t.get(x.parentId)):p&&(w=Qn(w,p,v));const S={...x,measured:v,internals:{...x.internals,positionAbsolute:w,handleBounds:{source:Wf("source",g.nodeElement,y,c,x.id),target:Wf("target",g.nodeElement,y,c,x.id)}}};t.set(x.id,S),x.parentId&&Kc(S,t,n,{nodeOrigin:o,zIndexMode:s}),a=!0,b&&(u.push({id:x.id,type:"dimensions",dimensions:v}),x.expandParent&&x.parentId&&h.push({id:x.id,parentId:x.parentId,rect:$r(S,o)}))}}if(h.length>0){const g=Xc(h,t,n,o);u.push(...g)}return{changes:u,updatedInternals:a}}async function Vk({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function Zf(e,t,n,r,o,i){let s=o;const l=r.get(s)||new Map;r.set(s,l.set(n,t)),s=`${o}-${e}`;const a=r.get(s)||new Map;if(r.set(s,a.set(n,t)),i){s=`${o}-${e}-${i}`;const u=r.get(s)||new Map;r.set(s,u.set(n,t))}}function m0(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:s=null,targetHandle:l=null}=r,a={edgeId:r.id,source:o,target:i,sourceHandle:s,targetHandle:l},u=`${o}-${s}--${i}-${l}`,f=`${i}-${l}--${o}-${s}`;Zf("source",a,f,e,o,s),Zf("target",a,u,e,i,l),t.set(r.id,r)}}function g0(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:g0(n,t):!1}function Jf(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Uk(e,t,n,r){const o=new Map;for(const[i,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!g0(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const l=e.get(i);l&&o.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function da({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,l,a;const o=[];for(const[u,f]of t){const c=(s=n.get(u))==null?void 0:s.internals.userNode;c&&o.push({...c,position:f.position,dragging:r})}if(!e)return[o[0],o];const i=(l=n.get(e))==null?void 0:l.internals.userNode;return[i?{...i,position:((a=t.get(e))==null?void 0:a.position)||i.position,dragging:r}:o[0],o]}function Wk({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const i={x:n-o.distance.x,y:r-o.distance.y},s=xi(i,t);return{x:s.x-i.x,y:s.y-i.y}}function Yk({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},f=null,c=!1,h=null,g=!1,x=!1,v=null;function b({noDragClassName:y,handleSelector:p,domNode:w,isSelectable:S,nodeId:N,nodeClickDistance:k=0}){h=qe(w);function M({x:L,y:F}){const{nodeLookup:E,nodeExtent:I,snapGrid:P,snapToGrid:A,nodeOrigin:C,onNodeDrag:j,onSelectionDrag:z,onError:D,updateNodePositions:O}=t();i={x:L,y:F};let U=!1;const V=l.size>1,G=V&&I?Su(yi(l)):null,K=V&&A?Wk({dragItems:l,snapGrid:P,x:L,y:F}):null;for(const[X,H]of l){if(!E.has(X))continue;let Q={x:L-H.distance.x,y:F-H.distance.y};A&&(Q=K?{x:Math.round(Q.x+K.x),y:Math.round(Q.y+K.y)}:xi(Q,P));let ne=null;if(V&&I&&!H.extent&&G){const{positionAbsolute:q}=H.internals,le=q.x-G.x+I[0][0],ce=q.x+H.measured.width-G.x2+I[1][0],se=q.y-G.y+I[0][1],Re=q.y+H.measured.height-G.y2+I[1][1];ne=[[le,se],[ce,Re]]}const{position:J,positionAbsolute:Z}=e0({nodeId:X,nextPosition:Q,nodeLookup:E,nodeExtent:ne||I,nodeOrigin:C,onError:D});U=U||H.position.x!==J.x||H.position.y!==J.y,H.position=J,H.internals.positionAbsolute=Z}if(x=x||U,!!U&&(O(l,!0),v&&(r||j||!N&&z))){const[X,H]=da({nodeId:N,dragItems:l,nodeLookup:E});r==null||r(v,l,X,H),j==null||j(v,X,H),N||z==null||z(v,H)}}async function T(){if(!f)return;const{transform:L,panBy:F,autoPanSpeed:E,autoPanOnNodeDrag:I}=t();if(!I){a=!1,cancelAnimationFrame(s);return}const[P,A]=n0(u,f,E);(P!==0||A!==0)&&(i.x=(i.x??0)-P/L[2],i.y=(i.y??0)-A/L[2],await F({x:P,y:A})&&M(i)),s=requestAnimationFrame(T)}function $(L){var V;const{nodeLookup:F,multiSelectionActive:E,nodesDraggable:I,transform:P,snapGrid:A,snapToGrid:C,selectNodesOnDrag:j,onNodeDragStart:z,onSelectionDragStart:D,unselectNodesAndEdges:O}=t();c=!0,(!j||!S)&&!E&&N&&((V=F.get(N))!=null&&V.selected||O()),S&&j&&N&&(e==null||e(N));const U=Lo(L.sourceEvent,{transform:P,snapGrid:A,snapToGrid:C,containerBounds:f});if(i=U,l=Uk(F,I,U,N),l.size>0&&(n||z||!N&&D)){const[G,K]=da({nodeId:N,dragItems:l,nodeLookup:F});n==null||n(L.sourceEvent,l,G,K),z==null||z(L.sourceEvent,G,K),N||D==null||D(L.sourceEvent,K)}}const R=Tg().clickDistance(k).on("start",L=>{const{domNode:F,nodeDragThreshold:E,transform:I,snapGrid:P,snapToGrid:A}=t();f=(F==null?void 0:F.getBoundingClientRect())||null,g=!1,x=!1,v=L.sourceEvent,E===0&&$(L),i=Lo(L.sourceEvent,{transform:I,snapGrid:P,snapToGrid:A,containerBounds:f}),u=vt(L.sourceEvent,f)}).on("drag",L=>{const{autoPanOnNodeDrag:F,transform:E,snapGrid:I,snapToGrid:P,nodeDragThreshold:A,nodeLookup:C}=t(),j=Lo(L.sourceEvent,{transform:E,snapGrid:I,snapToGrid:P,containerBounds:f});if(v=L.sourceEvent,(L.sourceEvent.type==="touchmove"&&L.sourceEvent.touches.length>1||N&&!C.has(N))&&(g=!0),!g){if(!a&&F&&c&&(a=!0,T()),!c){const z=vt(L.sourceEvent,f),D=z.x-u.x,O=z.y-u.y;Math.sqrt(D*D+O*O)>A&&$(L)}(i.x!==j.xSnapped||i.y!==j.ySnapped)&&l&&c&&(u=vt(L.sourceEvent,f),M(j))}}).on("end",L=>{if(!(!c||g)&&(a=!1,c=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:F,updateNodePositions:E,onNodeDragStop:I,onSelectionDragStop:P}=t();if(x&&(E(l,!1),x=!1),o||I||!N&&P){const[A,C]=da({nodeId:N,dragItems:l,nodeLookup:F,dragging:!1});o==null||o(L.sourceEvent,l,A,C),I==null||I(L.sourceEvent,A,C),N||P==null||P(L.sourceEvent,C)}}}).filter(L=>{const F=L.target;return!L.button&&(!y||!Jf(F,`.${y}`,w))&&(!p||Jf(F,p,w))});h.call(R)}function m(){h==null||h.on(".drag",null)}return{update:b,destroy:m}}function Gk(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())ri(o,$r(i))>0&&r.push(i);return r}const Kk=250;function Xk(e,t,n,r){var l,a;let o=[],i=1/0;const s=Gk(e,n,t+Kk);for(const u of s){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const c of f){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:h,y:g}=qn(u,c,c.position,!0),x=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(g-e.y,2));x>t||(x<i?(o=[{...c,x:h,y:g}],i=x):x===i&&o.push({...c,x:h,y:g}))}}if(!o.length)return null;if(o.length>1){const u=r.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function y0(e,t,n,r,o,i=!1){var u,f,c;const s=r.get(e);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((c=s.internals.handleBounds)==null?void 0:c.target)??[]],a=(n?l==null?void 0:l.find(h=>h.id===n):l==null?void 0:l[0])??null;return a&&i?{...a,...qn(s,a,a.position,!0)}:a}function x0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Qk(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const v0=()=>!0;function qk(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:c,panBy:h,cancelConnection:g,onConnectStart:x,onConnect:v,onConnectEnd:b,isValidConnection:m=v0,onReconnectEnd:y,updateConnection:p,getTransform:w,getFromHandle:S,autoPanSpeed:N,dragThreshold:k=1,handleDomNode:M}){const T=s0(e.target);let $=0,R;const{x:L,y:F}=vt(e),E=x0(i,M),I=l==null?void 0:l.getBoundingClientRect();let P=!1;if(!I||!E)return;const A=y0(o,E,r,a,t);if(!A)return;let C=vt(e,I),j=!1,z=null,D=!1,O=null;function U(){if(!f||!I)return;const[J,Z]=n0(C,I,N);h({x:J,y:Z}),$=requestAnimationFrame(U)}const V={...A,nodeId:o,type:E,position:A.position},G=a.get(o);let X={inProgress:!0,isValid:null,from:qn(G,V,Y.Left,!0),fromHandle:V,fromPosition:V.position,fromNode:G,to:C,toHandle:null,toPosition:Bf[V.position],toNode:null,pointer:C};function H(){P=!0,p(X),x==null||x(e,{nodeId:o,handleId:r,handleType:E})}k===0&&H();function Q(J){if(!P){const{x:Re,y:nn}=vt(J),$t=Re-L,Pn=nn-F;if(!($t*$t+Pn*Pn>k*k))return;H()}if(!S()||!V){ne(J);return}const Z=w();C=vt(J,I),R=Xk(vi(C,Z,!1,[1,1]),n,a,V),j||(U(),j=!0);const q=w0(J,{handle:R,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:s?"target":"source",isValidConnection:m,doc:T,lib:u,flowId:c,nodeLookup:a});O=q.handleDomNode,z=q.connection,D=Qk(!!R,q.isValid);const le=a.get(o),ce=le?qn(le,V,Y.Left,!0):X.from,se={...X,from:ce,isValid:D,to:q.toHandle&&D?Qs({x:q.toHandle.x,y:q.toHandle.y},Z):C,toHandle:q.toHandle,toPosition:D&&q.toHandle?q.toHandle.position:Bf[V.position],toNode:q.toHandle?a.get(q.toHandle.nodeId):null,pointer:C};p(se),X=se}function ne(J){if(!("touches"in J&&J.touches.length>0)){if(P){(R||O)&&z&&D&&(v==null||v(z));const{inProgress:Z,...q}=X,le={...q,toPosition:X.toHandle?X.toPosition:null};b==null||b(J,le),i&&(y==null||y(J,le))}g(),cancelAnimationFrame($),j=!1,D=!1,z=null,O=null,T.removeEventListener("mousemove",Q),T.removeEventListener("mouseup",ne),T.removeEventListener("touchmove",Q),T.removeEventListener("touchend",ne)}}T.addEventListener("mousemove",Q),T.addEventListener("mouseup",ne),T.addEventListener("touchmove",Q),T.addEventListener("touchend",ne)}function w0(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:s,lib:l,flowId:a,isValidConnection:u=v0,nodeLookup:f}){const c=i==="target",h=t?s.querySelector(`.${l}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y:x}=vt(e),v=s.elementFromPoint(g,x),b=v!=null&&v.classList.contains(`${l}-flow__handle`)?v:h,m={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const y=x0(void 0,b),p=b.getAttribute("data-nodeid"),w=b.getAttribute("data-handleid"),S=b.classList.contains("connectable"),N=b.classList.contains("connectableend");if(!p||!y)return m;const k={source:c?p:r,sourceHandle:c?w:o,target:c?r:p,targetHandle:c?o:w};m.connection=k;const T=S&&N&&(n===zr.Strict?c&&y==="source"||!c&&y==="target":p!==r||w!==o);m.isValid=T&&u(k),m.toHandle=y0(p,y,w,f,n,!0)}return m}const Cu={onPointerDown:qk,isValid:w0};function Zk({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=qe(e);function i({translateExtent:l,width:a,height:u,zoomStep:f=1,pannable:c=!0,zoomable:h=!0,inversePan:g=!1}){const x=p=>{if(p.sourceEvent.type!=="wheel"||!t)return;const w=n(),S=p.sourceEvent.ctrlKey&&oi()?10:1,N=-p.sourceEvent.deltaY*(p.sourceEvent.deltaMode===1?.05:p.sourceEvent.deltaMode?1:.002)*f,k=w[2]*Math.pow(2,N*S);t.scaleTo(k)};let v=[0,0];const b=p=>{(p.sourceEvent.type==="mousedown"||p.sourceEvent.type==="touchstart")&&(v=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY])},m=p=>{const w=n();if(p.sourceEvent.type!=="mousemove"&&p.sourceEvent.type!=="touchmove"||!t)return;const S=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY],N=[S[0]-v[0],S[1]-v[1]];v=S;const k=r()*Math.max(w[2],Math.log(w[2]))*(g?-1:1),M={x:w[0]-N[0]*k,y:w[1]-N[1]*k},T=[[0,0],[a,u]];t.setViewportConstrained({x:M.x,y:M.y,zoom:w[2]},T,l)},y=Kg().on("start",b).on("zoom",c?m:null).on("zoom.wheel",h?x:null);o.call(y,{})}function s(){o.on("zoom",null)}return{update:i,destroy:s,pointer:mt}}const Sl=e=>({x:e.x,y:e.y,zoom:e.k}),fa=({x:e,y:t,zoom:n})=>wl.translate(e,t).scale(n),mr=(e,t)=>e.target.closest(`.${t}`),b0=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Jk=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,ha=(e,t=0,n=Jk,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},_0=e=>{const t=e.ctrlKey&&oi()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function eE({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(mr(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const c=n.property("__zoom").k||1;if(f.ctrlKey&&s){const b=mt(f),m=_0(f),y=c*Math.pow(2,m);r.scaleTo(n,y,b,f);return}const h=f.deltaMode===1?20:1;let g=o===Bn.Vertical?0:f.deltaX*h,x=o===Bn.Horizontal?0:f.deltaY*h;!oi()&&f.shiftKey&&o!==Bn.Vertical&&(g=f.deltaY*h,x=0),r.translateBy(n,-(g/c)*i,-(x/c)*i,{internal:!0});const v=Sl(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(a==null||a(f,v),e.panScrollTimeout=setTimeout(()=>{u==null||u(f,v),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(f,v))}}function tE({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",s=!t&&i&&!r.ctrlKey,l=mr(r,e);if(r.ctrlKey&&i&&l&&r.preventDefault(),s||l)return null;r.preventDefault(),n.call(this,r,o)}}function nE({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,s,l;if((i=r.sourceEvent)!=null&&i.internal)return;const o=Sl(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function rE({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var s,l;e.usedRightMouseButton=!!(n&&b0(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((l=i.sourceEvent)!=null&&l.internal)&&(o==null||o(i.sourceEvent,Sl(i.transform)))}}function oE({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,i&&b0(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const a=Sl(s.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function iE({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u,connectionInProgress:f}){return c=>{var b;const h=e||t,g=n&&c.ctrlKey,x=c.type==="wheel";if(c.button===1&&c.type==="mousedown"&&(mr(c,`${u}-flow__node`)||mr(c,`${u}-flow__edge`)))return!0;if(!r&&!h&&!o&&!i&&!n||s||f&&!x||mr(c,l)&&x||mr(c,a)&&(!x||o&&x&&!e)||!n&&c.ctrlKey&&x)return!1;if(!n&&c.type==="touchstart"&&((b=c.touches)==null?void 0:b.length)>1)return c.preventDefault(),!1;if(!h&&!o&&!g&&x||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const v=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||x)&&v}}function sE({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:o,onPanZoom:i,onPanZoomStart:s,onPanZoomEnd:l,onDraggingChange:a}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),c=Kg().scaleExtent([t,n]).translateExtent(r),h=qe(e).call(c);y({x:o.x,y:o.y,zoom:Ar(o.zoom,t,n)},[[0,0],[f.width,f.height]],r);const g=h.on("wheel.zoom"),x=h.on("dblclick.zoom");c.wheelDelta(_0);function v(R,L){return h?new Promise(F=>{c==null||c.interpolate((L==null?void 0:L.interpolate)==="linear"?Io:ds).transform(ha(h,L==null?void 0:L.duration,L==null?void 0:L.ease,()=>F(!0)),R)}):Promise.resolve(!1)}function b({noWheelClassName:R,noPanClassName:L,onPaneContextMenu:F,userSelectionActive:E,panOnScroll:I,panOnDrag:P,panOnScrollMode:A,panOnScrollSpeed:C,preventScrolling:j,zoomOnPinch:z,zoomOnScroll:D,zoomOnDoubleClick:O,zoomActivationKeyPressed:U,lib:V,onTransformChange:G,connectionInProgress:K,paneClickDistance:X,selectionOnDrag:H}){E&&!u.isZoomingOrPanning&&m();const Q=I&&!U&&!E;c.clickDistance(H?1/0:!xt(X)||X<0?0:X);const ne=Q?eE({zoomPanValues:u,noWheelClassName:R,d3Selection:h,d3Zoom:c,panOnScrollMode:A,panOnScrollSpeed:C,zoomOnPinch:z,onPanZoomStart:s,onPanZoom:i,onPanZoomEnd:l}):tE({noWheelClassName:R,preventScrolling:j,d3ZoomHandler:g});if(h.on("wheel.zoom",ne,{passive:!1}),!E){const Z=nE({zoomPanValues:u,onDraggingChange:a,onPanZoomStart:s});c.on("start",Z);const q=rE({zoomPanValues:u,panOnDrag:P,onPaneContextMenu:!!F,onPanZoom:i,onTransformChange:G});c.on("zoom",q);const le=oE({zoomPanValues:u,panOnDrag:P,panOnScroll:I,onPaneContextMenu:F,onPanZoomEnd:l,onDraggingChange:a});c.on("end",le)}const J=iE({zoomActivationKeyPressed:U,panOnDrag:P,zoomOnScroll:D,panOnScroll:I,zoomOnDoubleClick:O,zoomOnPinch:z,userSelectionActive:E,noPanClassName:L,noWheelClassName:R,lib:V,connectionInProgress:K});c.filter(J),O?h.on("dblclick.zoom",x):h.on("dblclick.zoom",null)}function m(){c.on("zoom",null)}async function y(R,L,F){const E=fa(R),I=c==null?void 0:c.constrain()(E,L,F);return I&&await v(I),new Promise(P=>P(I))}async function p(R,L){const F=fa(R);return await v(F,L),new Promise(E=>E(F))}function w(R){if(h){const L=fa(R),F=h.property("__zoom");(F.k!==R.zoom||F.x!==R.x||F.y!==R.y)&&(c==null||c.transform(h,L,null,{sync:!0}))}}function S(){const R=h?Gg(h.node()):{x:0,y:0,k:1};return{x:R.x,y:R.y,zoom:R.k}}function N(R,L){return h?new Promise(F=>{c==null||c.interpolate((L==null?void 0:L.interpolate)==="linear"?Io:ds).scaleTo(ha(h,L==null?void 0:L.duration,L==null?void 0:L.ease,()=>F(!0)),R)}):Promise.resolve(!1)}function k(R,L){return h?new Promise(F=>{c==null||c.interpolate((L==null?void 0:L.interpolate)==="linear"?Io:ds).scaleBy(ha(h,L==null?void 0:L.duration,L==null?void 0:L.ease,()=>F(!0)),R)}):Promise.resolve(!1)}function M(R){c==null||c.scaleExtent(R)}function T(R){c==null||c.translateExtent(R)}function $(R){const L=!xt(R)||R<0?0:R;c==null||c.clickDistance(L)}return{update:b,destroy:m,setViewport:p,setViewportConstrained:y,getViewport:S,scaleTo:N,scaleBy:k,setScaleExtent:M,setTranslateExtent:T,syncViewport:w,setClickDistance:$}}var Or;(function(e){e.Line="line",e.Handle="handle"})(Or||(Or={}));function lE({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const s=e-t,l=n-r,a=[s>0?1:s<0?-1:0,l>0?1:l<0?-1:0];return s&&o&&(a[0]=a[0]*-1),l&&i&&(a[1]=a[1]*-1),a}function eh(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function on(e,t){return Math.max(0,t-e)}function sn(e,t){return Math.max(0,e-t)}function Gi(e,t,n){return Math.max(0,t-e,e-n)}function th(e,t){return e?!t:t}function aE(e,t,n,r,o,i,s,l){let{affectsX:a,affectsY:u}=t;const{isHorizontal:f,isVertical:c}=t,h=f&&c,{xSnapped:g,ySnapped:x}=n,{minWidth:v,maxWidth:b,minHeight:m,maxHeight:y}=r,{x:p,y:w,width:S,height:N,aspectRatio:k}=e;let M=Math.floor(f?g-e.pointerX:0),T=Math.floor(c?x-e.pointerY:0);const $=S+(a?-M:M),R=N+(u?-T:T),L=-i[0]*S,F=-i[1]*N;let E=Gi($,v,b),I=Gi(R,m,y);if(s){let C=0,j=0;a&&M<0?C=on(p+M+L,s[0][0]):!a&&M>0&&(C=sn(p+$+L,s[1][0])),u&&T<0?j=on(w+T+F,s[0][1]):!u&&T>0&&(j=sn(w+R+F,s[1][1])),E=Math.max(E,C),I=Math.max(I,j)}if(l){let C=0,j=0;a&&M>0?C=sn(p+M,l[0][0]):!a&&M<0&&(C=on(p+$,l[1][0])),u&&T>0?j=sn(w+T,l[0][1]):!u&&T<0&&(j=on(w+R,l[1][1])),E=Math.max(E,C),I=Math.max(I,j)}if(o){if(f){const C=Gi($/k,m,y)*k;if(E=Math.max(E,C),s){let j=0;!a&&!u||a&&!u&&h?j=sn(w+F+$/k,s[1][1])*k:j=on(w+F+(a?M:-M)/k,s[0][1])*k,E=Math.max(E,j)}if(l){let j=0;!a&&!u||a&&!u&&h?j=on(w+$/k,l[1][1])*k:j=sn(w+(a?M:-M)/k,l[0][1])*k,E=Math.max(E,j)}}if(c){const C=Gi(R*k,v,b)/k;if(I=Math.max(I,C),s){let j=0;!a&&!u||u&&!a&&h?j=sn(p+R*k+L,s[1][0])/k:j=on(p+(u?T:-T)*k+L,s[0][0])/k,I=Math.max(I,j)}if(l){let j=0;!a&&!u||u&&!a&&h?j=on(p+R*k,l[1][0])/k:j=sn(p+(u?T:-T)*k,l[0][0])/k,I=Math.max(I,j)}}}T=T+(T<0?I:-I),M=M+(M<0?E:-E),o&&(h?$>R*k?T=(th(a,u)?-M:M)/k:M=(th(a,u)?-T:T)*k:f?(T=M/k,u=a):(M=T*k,a=u));const P=a?p+M:p,A=u?w+T:w;return{width:S+(a?-M:M),height:N+(u?-T:T),x:i[0]*M*(a?-1:1)+P,y:i[1]*T*(u?-1:1)+A}}const S0={width:0,height:0,x:0,y:0},uE={...S0,pointerX:0,pointerY:0,aspectRatio:1};function cE(e){return[[0,0],[e.measured.width,e.measured.height]]}function dE(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,l=n[0]*i,a=n[1]*s;return[[r-l,o-a],[r+i-l,o+s-a]]}function fE({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=qe(e);let s={controlDirection:eh("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:u,boundaries:f,keepAspectRatio:c,resizeDirection:h,onResizeStart:g,onResize:x,onResizeEnd:v,shouldResize:b}){let m={...S0},y={...uE};s={boundaries:f,resizeDirection:h,keepAspectRatio:c,controlDirection:eh(u)};let p,w=null,S=[],N,k,M,T=!1;const $=Tg().on("start",R=>{const{nodeLookup:L,transform:F,snapGrid:E,snapToGrid:I,nodeOrigin:P,paneDomNode:A}=n();if(p=L.get(t),!p)return;w=(A==null?void 0:A.getBoundingClientRect())??null;const{xSnapped:C,ySnapped:j}=Lo(R.sourceEvent,{transform:F,snapGrid:E,snapToGrid:I,containerBounds:w});m={width:p.measured.width??0,height:p.measured.height??0,x:p.position.x??0,y:p.position.y??0},y={...m,pointerX:C,pointerY:j,aspectRatio:m.width/m.height},N=void 0,p.parentId&&(p.extent==="parent"||p.expandParent)&&(N=L.get(p.parentId),k=N&&p.extent==="parent"?cE(N):void 0),S=[],M=void 0;for(const[z,D]of L)if(D.parentId===t&&(S.push({id:z,position:{...D.position},extent:D.extent}),D.extent==="parent"||D.expandParent)){const O=dE(D,p,D.origin??P);M?M=[[Math.min(O[0][0],M[0][0]),Math.min(O[0][1],M[0][1])],[Math.max(O[1][0],M[1][0]),Math.max(O[1][1],M[1][1])]]:M=O}g==null||g(R,{...m})}).on("drag",R=>{const{transform:L,snapGrid:F,snapToGrid:E,nodeOrigin:I}=n(),P=Lo(R.sourceEvent,{transform:L,snapGrid:F,snapToGrid:E,containerBounds:w}),A=[];if(!p)return;const{x:C,y:j,width:z,height:D}=m,O={},U=p.origin??I,{width:V,height:G,x:K,y:X}=aE(y,s.controlDirection,P,s.boundaries,s.keepAspectRatio,U,k,M),H=V!==z,Q=G!==D,ne=K!==C&&H,J=X!==j&&Q;if(!ne&&!J&&!H&&!Q)return;if((ne||J||U[0]===1||U[1]===1)&&(O.x=ne?K:m.x,O.y=J?X:m.y,m.x=O.x,m.y=O.y,S.length>0)){const ce=K-C,se=X-j;for(const Re of S)Re.position={x:Re.position.x-ce+U[0]*(V-z),y:Re.position.y-se+U[1]*(G-D)},A.push(Re)}if((H||Q)&&(O.width=H&&(!s.resizeDirection||s.resizeDirection==="horizontal")?V:m.width,O.height=Q&&(!s.resizeDirection||s.resizeDirection==="vertical")?G:m.height,m.width=O.width,m.height=O.height),N&&p.expandParent){const ce=U[0]*(O.width??0);O.x&&O.x<ce&&(m.x=ce,y.x=y.x-(O.x-ce));const se=U[1]*(O.height??0);O.y&&O.y<se&&(m.y=se,y.y=y.y-(O.y-se))}const Z=lE({width:m.width,prevWidth:z,height:m.height,prevHeight:D,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),q={...m,direction:Z};(b==null?void 0:b(R,q))!==!1&&(T=!0,x==null||x(R,q),r(O,A))}).on("end",R=>{T&&(v==null||v(R,{...m}),o==null||o({...m}),T=!1)});i.call($)}function a(){i.on(".drag",null)}return{update:l,destroy:a}}var k0={exports:{}},E0={},N0={exports:{}},C0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=_;function hE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pE=typeof Object.is=="function"?Object.is:hE,mE=Fr.useState,gE=Fr.useEffect,yE=Fr.useLayoutEffect,xE=Fr.useDebugValue;function vE(e,t){var n=t(),r=mE({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return yE(function(){o.value=n,o.getSnapshot=t,pa(o)&&i({inst:o})},[e,n,t]),gE(function(){return pa(o)&&i({inst:o}),e(function(){pa(o)&&i({inst:o})})},[e]),xE(n),n}function pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pE(e,n)}catch{return!0}}function wE(e,t){return t()}var bE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wE:vE;C0.useSyncExternalStore=Fr.useSyncExternalStore!==void 0?Fr.useSyncExternalStore:bE;N0.exports=C0;var _E=N0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=_,SE=_E;function kE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EE=typeof Object.is=="function"?Object.is:kE,NE=SE.useSyncExternalStore,CE=kl.useRef,jE=kl.useEffect,ME=kl.useMemo,PE=kl.useDebugValue;E0.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=CE(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=ME(function(){function a(g){if(!u){if(u=!0,f=g,g=r(g),o!==void 0&&s.hasValue){var x=s.value;if(o(x,g))return c=x}return c=g}if(x=c,EE(f,g))return x;var v=r(g);return o!==void 0&&o(x,v)?(f=g,x):(f=g,c=v)}var u=!1,f,c,h=n===void 0?null:n;return[function(){return a(t())},h===null?void 0:function(){return a(h())}]},[t,n,r,o]);var l=NE(e,i[0],i[1]);return jE(function(){s.hasValue=!0,s.value=l},[l]),PE(l),l};k0.exports=E0;var IE=k0.exports;const LE=zh(IE),TE={},nh=e=>{let t;const n=new Set,r=(f,c)=>{const h=typeof f=="function"?f(t):f;if(!Object.is(h,t)){const g=t;t=c??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(x=>x(t,g))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(TE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,a);return a},RE=e=>e?nh(e):nh,{useDebugValue:zE}=ho,{useSyncExternalStoreWithSelector:AE}=LE,$E=e=>e;function j0(e,t=$E,n){const r=AE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return zE(r),r}const rh=(e,t)=>{const n=RE(e),r=(o,i=t)=>j0(n,o,i);return Object.assign(r,n),r},DE=(e,t)=>e?rh(e,t):rh;function ge(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const El=_.createContext(null),OE=El.Provider,M0=zt.error001();function oe(e,t){const n=_.useContext(El);if(n===null)throw new Error(M0);return j0(n,e,t)}function ye(){const e=_.useContext(El);if(e===null)throw new Error(M0);return _.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const oh={display:"none"},FE={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},P0="react-flow__node-desc",I0="react-flow__edge-desc",BE="react-flow__aria-live",HE=e=>e.ariaLiveMessage,VE=e=>e.ariaLabelConfig;function UE({rfId:e}){const t=oe(HE);return d.jsx("div",{id:`${BE}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:FE,children:t})}function WE({rfId:e,disableKeyboardA11y:t}){const n=oe(VE);return d.jsxs(d.Fragment,{children:[d.jsx("div",{id:`${P0}-${e}`,style:oh,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),d.jsx("div",{id:`${I0}-${e}`,style:oh,children:n["edge.a11yDescription.default"]}),!t&&d.jsx(UE,{rfId:e})]})}const Nl=_.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const s=`${e}`.split("-");return d.jsx("div",{className:Ee(["react-flow__panel",n,...s]),style:r,ref:i,...o,children:t})});Nl.displayName="Panel";function YE({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:d.jsx(Nl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:d.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const GE=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Ki=e=>e.id;function KE(e,t){return ge(e.selectedNodes.map(Ki),t.selectedNodes.map(Ki))&&ge(e.selectedEdges.map(Ki),t.selectedEdges.map(Ki))}function XE({onSelectionChange:e}){const t=ye(),{selectedNodes:n,selectedEdges:r}=oe(GE,KE);return _.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const QE=e=>!!e.onSelectionChangeHandlers;function qE({onSelectionChange:e}){const t=oe(QE);return e||t?d.jsx(XE,{onSelectionChange:e}):null}const L0=[0,0],ZE={x:0,y:0,zoom:1},JE=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],ih=[...JE,"rfId"],eN=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),sh={translateExtent:ti,nodeOrigin:L0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function tN(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:a}=oe(eN,ge),u=ye();_.useEffect(()=>(a(e.defaultNodes,e.defaultEdges),()=>{f.current=sh,l()}),[]);const f=_.useRef(sh);return _.useEffect(()=>{for(const c of ih){const h=e[c],g=f.current[c];h!==g&&(typeof e[c]>"u"||(c==="nodes"?t(h):c==="edges"?n(h):c==="minZoom"?r(h):c==="maxZoom"?o(h):c==="translateExtent"?i(h):c==="nodeExtent"?s(h):c==="ariaLabelConfig"?u.setState({ariaLabelConfig:Ek(h)}):c==="fitView"?u.setState({fitViewQueued:h}):c==="fitViewOptions"?u.setState({fitViewOptions:h}):u.setState({[c]:h})))}f.current=e},ih.map(c=>e[c])),null}function lh(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function nN(e){var r;const[t,n]=_.useState(e==="system"?null:e);return _.useEffect(()=>{if(e!=="system"){n(e);return}const o=lh(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=lh())!=null&&r.matches?"dark":"light"}const ah=typeof document<"u"?document:null;function ii(e=null,t={target:ah,actInsideInputWithModifier:!0}){const[n,r]=_.useState(!1),o=_.useRef(!1),i=_.useRef(new Set([])),[s,l]=_.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(c=>typeof c=="string").map(c=>c.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=u.reduce((c,h)=>c.concat(...h),[]);return[u,f]}return[[],[]]},[e]);return _.useEffect(()=>{const a=(t==null?void 0:t.target)??ah,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=g=>{var b,m;if(o.current=g.ctrlKey||g.metaKey||g.shiftKey||g.altKey,(!o.current||o.current&&!u)&&l0(g))return!1;const v=ch(g.code,l);if(i.current.add(g[v]),uh(s,i.current,!1)){const y=((m=(b=g.composedPath)==null?void 0:b.call(g))==null?void 0:m[0])||g.target,p=(y==null?void 0:y.nodeName)==="BUTTON"||(y==null?void 0:y.nodeName)==="A";t.preventDefault!==!1&&(o.current||!p)&&g.preventDefault(),r(!0)}},c=g=>{const x=ch(g.code,l);uh(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(g[x]),g.key==="Meta"&&i.current.clear(),o.current=!1},h=()=>{i.current.clear(),r(!1)};return a==null||a.addEventListener("keydown",f),a==null||a.addEventListener("keyup",c),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{a==null||a.removeEventListener("keydown",f),a==null||a.removeEventListener("keyup",c),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,r]),n}function uh(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function ch(e,t){return t.includes(e)?"code":"key"}const rN=()=>{const e=ye();return _.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:s,panZoom:l}=e.getState(),a=Hc(t,r,o,i,s,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(a,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:l,y:a}=s.getBoundingClientRect(),u={x:t.x-l,y:t.y-a},f=n.snapGrid??o,c=n.snapToGrid??i;return vi(u,r,c,f)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),s=Qs(t,n);return{x:s.x+o,y:s.y+i}}}),[])};function T0(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const s=r.get(i.id);s?s.push(i):r.set(i.id,[i])}for(const i of t){const s=r.get(i.id);if(!s){n.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const l={...i};for(const a of s)oN(a,l);n.push(l)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function oN(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function R0(e,t){return T0(e,t)}function z0(e,t){return T0(e,t)}function Tn(e,t){return{id:e,type:"select",selected:t}}function gr(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const s=t.has(o);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),r.push(Tn(i.id,s)))}return r}function dh({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const l=t.get(s.id),a=((o=l==null?void 0:l.internals)==null?void 0:o.userNode)??l;a!==void 0&&a!==s&&n.push({id:s.id,item:s,type:"replace"}),a===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function fh(e){return{id:e.id,type:"remove"}}const hh=e=>mk(e),iN=e=>Jg(e);function A0(e){return _.forwardRef(e)}const sN=typeof window<"u"?_.useLayoutEffect:_.useEffect;function ph(e){const[t,n]=_.useState(BigInt(0)),[r]=_.useState(()=>lN(()=>n(o=>o+BigInt(1))));return sN(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function lN(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const $0=_.createContext(null);function aN({children:e}){const t=ye(),n=_.useCallback(l=>{const{nodes:a=[],setNodes:u,hasDefaultNodes:f,onNodesChange:c,nodeLookup:h,fitViewQueued:g,onNodesChangeMiddlewareMap:x}=t.getState();let v=a;for(const m of l)v=typeof m=="function"?m(v):m;let b=dh({items:v,lookup:h});for(const m of x.values())b=m(b);f&&u(v),b.length>0?c==null||c(b):g&&window.requestAnimationFrame(()=>{const{fitViewQueued:m,nodes:y,setNodes:p}=t.getState();m&&p(y)})},[]),r=ph(n),o=_.useCallback(l=>{const{edges:a=[],setEdges:u,hasDefaultEdges:f,onEdgesChange:c,edgeLookup:h}=t.getState();let g=a;for(const x of l)g=typeof x=="function"?x(g):x;f?u(g):c&&c(dh({items:g,lookup:h}))},[]),i=ph(o),s=_.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return d.jsx($0.Provider,{value:s,children:e})}function uN(){const e=_.useContext($0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const cN=e=>!!e.panZoom;function Cl(){const e=rN(),t=ye(),n=uN(),r=oe(cN),o=_.useMemo(()=>{const i=c=>t.getState().nodeLookup.get(c),s=c=>{n.nodeQueue.push(c)},l=c=>{n.edgeQueue.push(c)},a=c=>{var m,y;const{nodeLookup:h,nodeOrigin:g}=t.getState(),x=hh(c)?c:h.get(c.id),v=x.parentId?i0(x.position,x.measured,x.parentId,h,g):x.position,b={...x,position:v,width:((m=x.measured)==null?void 0:m.width)??x.width,height:((y=x.measured)==null?void 0:y.height)??x.height};return $r(b)},u=(c,h,g={replace:!1})=>{s(x=>x.map(v=>{if(v.id===c){const b=typeof h=="function"?h(v):h;return g.replace&&hh(b)?b:{...v,...b}}return v}))},f=(c,h,g={replace:!1})=>{l(x=>x.map(v=>{if(v.id===c){const b=typeof h=="function"?h(v):h;return g.replace&&iN(b)?b:{...v,...b}}return v}))};return{getNodes:()=>t.getState().nodes.map(c=>({...c})),getNode:c=>{var h;return(h=i(c))==null?void 0:h.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:c=[]}=t.getState();return c.map(h=>({...h}))},getEdge:c=>t.getState().edgeLookup.get(c),setNodes:s,setEdges:l,addNodes:c=>{const h=Array.isArray(c)?c:[c];n.nodeQueue.push(g=>[...g,...h])},addEdges:c=>{const h=Array.isArray(c)?c:[c];n.edgeQueue.push(g=>[...g,...h])},toObject:()=>{const{nodes:c=[],edges:h=[],transform:g}=t.getState(),[x,v,b]=g;return{nodes:c.map(m=>({...m})),edges:h.map(m=>({...m})),viewport:{x,y:v,zoom:b}}},deleteElements:async({nodes:c=[],edges:h=[]})=>{const{nodes:g,edges:x,onNodesDelete:v,onEdgesDelete:b,triggerNodeChanges:m,triggerEdgeChanges:y,onDelete:p,onBeforeDelete:w}=t.getState(),{nodes:S,edges:N}=await wk({nodesToRemove:c,edgesToRemove:h,nodes:g,edges:x,onBeforeDelete:w}),k=N.length>0,M=S.length>0;if(k){const T=N.map(fh);b==null||b(N),y(T)}if(M){const T=S.map(fh);v==null||v(S),m(T)}return(M||k)&&(p==null||p({nodes:S,edges:N})),{deletedNodes:S,deletedEdges:N}},getIntersectingNodes:(c,h=!0,g)=>{const x=Vf(c),v=x?c:a(c),b=g!==void 0;return v?(g||t.getState().nodes).filter(m=>{const y=t.getState().nodeLookup.get(m.id);if(y&&!x&&(m.id===c.id||!y.internals.positionAbsolute))return!1;const p=$r(b?m:y),w=ri(p,v);return h&&w>0||w>=p.width*p.height||w>=v.width*v.height}):[]},isNodeIntersecting:(c,h,g=!0)=>{const v=Vf(c)?c:a(c);if(!v)return!1;const b=ri(v,h);return g&&b>0||b>=h.width*h.height||b>=v.width*v.height},updateNode:u,updateNodeData:(c,h,g={replace:!1})=>{u(c,x=>{const v=typeof h=="function"?h(x):h;return g.replace?{...x,data:v}:{...x,data:{...x.data,...v}}},g)},updateEdge:f,updateEdgeData:(c,h,g={replace:!1})=>{f(c,x=>{const v=typeof h=="function"?h(x):h;return g.replace?{...x,data:v}:{...x,data:{...x.data,...v}}},g)},getNodesBounds:c=>{const{nodeLookup:h,nodeOrigin:g}=t.getState();return gk(c,{nodeLookup:h,nodeOrigin:g})},getHandleConnections:({type:c,id:h,nodeId:g})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${g}-${c}${h?`-${h}`:""}`))==null?void 0:x.values())??[])},getNodeConnections:({type:c,handleId:h,nodeId:g})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${g}${c?h?`-${c}-${h}`:`-${c}`:""}`))==null?void 0:x.values())??[])},fitView:async c=>{const h=t.getState().fitViewResolver??kk();return t.setState({fitViewQueued:!0,fitViewOptions:c,fitViewResolver:h}),n.nodeQueue.push(g=>[...g]),h.promise}}},[]);return _.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const mh=e=>e.selected,dN=typeof window<"u"?window:void 0;function fN({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=ye(),{deleteElements:r}=Cl(),o=ii(e,{actInsideInputWithModifier:!1}),i=ii(t,{target:dN});_.useEffect(()=>{if(o){const{edges:s,nodes:l}=n.getState();r({nodes:l.filter(mh),edges:s.filter(mh)}),n.setState({nodesSelectionActive:!1})}},[o]),_.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function hN(e){const t=ye();_.useEffect(()=>{const n=()=>{var o,i,s,l;if(!e.current||!(((i=(o=e.current).checkVisibility)==null?void 0:i.call(o))??!0))return!1;const r=Vc(e.current);(r.height===0||r.width===0)&&((l=(s=t.getState()).onError)==null||l.call(s,"004",zt.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const jl={position:"absolute",width:"100%",height:"100%",top:0,left:0},pN=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function mN({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=Bn.Free,zoomOnDoubleClick:s=!0,panOnDrag:l=!0,defaultViewport:a,translateExtent:u,minZoom:f,maxZoom:c,zoomActivationKeyCode:h,preventScrolling:g=!0,children:x,noWheelClassName:v,noPanClassName:b,onViewportChange:m,isControlledViewport:y,paneClickDistance:p,selectionOnDrag:w}){const S=ye(),N=_.useRef(null),{userSelectionActive:k,lib:M,connectionInProgress:T}=oe(pN,ge),$=ii(h),R=_.useRef();hN(N);const L=_.useCallback(F=>{m==null||m({x:F[0],y:F[1],zoom:F[2]}),y||S.setState({transform:F})},[m,y]);return _.useEffect(()=>{if(N.current){R.current=sE({domNode:N.current,minZoom:f,maxZoom:c,translateExtent:u,viewport:a,onDraggingChange:P=>S.setState({paneDragging:P}),onPanZoomStart:(P,A)=>{const{onViewportChangeStart:C,onMoveStart:j}=S.getState();j==null||j(P,A),C==null||C(A)},onPanZoom:(P,A)=>{const{onViewportChange:C,onMove:j}=S.getState();j==null||j(P,A),C==null||C(A)},onPanZoomEnd:(P,A)=>{const{onViewportChangeEnd:C,onMoveEnd:j}=S.getState();j==null||j(P,A),C==null||C(A)}});const{x:F,y:E,zoom:I}=R.current.getViewport();return S.setState({panZoom:R.current,transform:[F,E,I],domNode:N.current.closest(".react-flow")}),()=>{var P;(P=R.current)==null||P.destroy()}}},[]),_.useEffect(()=>{var F;(F=R.current)==null||F.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:l,zoomActivationKeyPressed:$,preventScrolling:g,noPanClassName:b,userSelectionActive:k,noWheelClassName:v,lib:M,onTransformChange:L,connectionInProgress:T,selectionOnDrag:w,paneClickDistance:p})},[e,t,n,r,o,i,s,l,$,g,b,k,v,M,L,T,w,p]),d.jsx("div",{className:"react-flow__renderer",ref:N,style:jl,children:x})}const gN=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function yN(){const{userSelectionActive:e,userSelectionRect:t}=oe(gN,ge);return e&&t?d.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const ma=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},xN=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function vN({isSelecting:e,selectionKeyPressed:t,selectionMode:n=ni.Full,panOnDrag:r,paneClickDistance:o,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:l,onPaneClick:a,onPaneContextMenu:u,onPaneScroll:f,onPaneMouseEnter:c,onPaneMouseMove:h,onPaneMouseLeave:g,children:x}){const v=ye(),{userSelectionActive:b,elementsSelectable:m,dragging:y,connectionInProgress:p}=oe(xN,ge),w=m&&(e||b),S=_.useRef(null),N=_.useRef(),k=_.useRef(new Set),M=_.useRef(new Set),T=_.useRef(!1),$=C=>{if(T.current||p){T.current=!1;return}a==null||a(C),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},R=C=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){C.preventDefault();return}u==null||u(C)},L=f?C=>f(C):void 0,F=C=>{T.current&&(C.stopPropagation(),T.current=!1)},E=C=>{var G,K;const{domNode:j}=v.getState();if(N.current=j==null?void 0:j.getBoundingClientRect(),!N.current)return;const z=C.target===S.current;if(!z&&!!C.target.closest(".nokey")||!e||!(i&&z||t)||C.button!==0||!C.isPrimary)return;(K=(G=C.target)==null?void 0:G.setPointerCapture)==null||K.call(G,C.pointerId),T.current=!1;const{x:U,y:V}=vt(C.nativeEvent,N.current);v.setState({userSelectionRect:{width:0,height:0,startX:U,startY:V,x:U,y:V}}),z||(C.stopPropagation(),C.preventDefault())},I=C=>{const{userSelectionRect:j,transform:z,nodeLookup:D,edgeLookup:O,connectionLookup:U,triggerNodeChanges:V,triggerEdgeChanges:G,defaultEdgeOptions:K,resetSelectedElements:X}=v.getState();if(!N.current||!j)return;const{x:H,y:Q}=vt(C.nativeEvent,N.current),{startX:ne,startY:J}=j;if(!T.current){const se=t?0:o;if(Math.hypot(H-ne,Q-J)<=se)return;X(),s==null||s(C)}T.current=!0;const Z={startX:ne,startY:J,x:H<ne?H:ne,y:Q<J?Q:J,width:Math.abs(H-ne),height:Math.abs(Q-J)},q=k.current,le=M.current;k.current=new Set(Bc(D,Z,z,n===ni.Partial,!0).map(se=>se.id)),M.current=new Set;const ce=(K==null?void 0:K.selectable)??!0;for(const se of k.current){const Re=U.get(se);if(Re)for(const{edgeId:nn}of Re.values()){const $t=O.get(nn);$t&&($t.selectable??ce)&&M.current.add(nn)}}if(!Uf(q,k.current)){const se=gr(D,k.current,!0);V(se)}if(!Uf(le,M.current)){const se=gr(O,M.current);G(se)}v.setState({userSelectionRect:Z,userSelectionActive:!0,nodesSelectionActive:!1})},P=C=>{var j,z;C.button===0&&((z=(j=C.target)==null?void 0:j.releasePointerCapture)==null||z.call(j,C.pointerId),!b&&C.target===S.current&&v.getState().userSelectionRect&&($==null||$(C)),v.setState({userSelectionActive:!1,userSelectionRect:null}),T.current&&(l==null||l(C),v.setState({nodesSelectionActive:k.current.size>0})))},A=r===!0||Array.isArray(r)&&r.includes(0);return d.jsxs("div",{className:Ee(["react-flow__pane",{draggable:A,dragging:y,selection:e}]),onClick:w?void 0:ma($,S),onContextMenu:ma(R,S),onWheel:ma(L,S),onPointerEnter:w?void 0:c,onPointerMove:w?I:h,onPointerUp:w?P:void 0,onPointerDownCapture:w?E:void 0,onClickCapture:w?F:void 0,onPointerLeave:g,ref:S,style:jl,children:[x,d.jsx(yN,{})]})}function ju({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",zt.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):o([e])}function D0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:s}){const l=ye(),[a,u]=_.useState(!1),f=_.useRef();return _.useEffect(()=>{f.current=Yk({getStoreItems:()=>l.getState(),onNodeMouseDown:c=>{ju({id:c,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),_.useEffect(()=>{var c,h;if(t)(c=f.current)==null||c.destroy();else if(e.current)return(h=f.current)==null||h.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:s}),()=>{var g;(g=f.current)==null||g.destroy()}},[n,r,t,i,e,o]),a}const wN=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function O0(){const e=ye();return _.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:s,onError:l,updateNodePositions:a,nodeLookup:u,nodeOrigin:f}=e.getState(),c=new Map,h=wN(s),g=o?i[0]:5,x=o?i[1]:5,v=n.direction.x*g*n.factor,b=n.direction.y*x*n.factor;for(const[,m]of u){if(!h(m))continue;let y={x:m.internals.positionAbsolute.x+v,y:m.internals.positionAbsolute.y+b};o&&(y=xi(y,i));const{position:p,positionAbsolute:w}=e0({nodeId:m.id,nextPosition:y,nodeLookup:u,nodeExtent:r,nodeOrigin:f,onError:l});m.position=p,m.internals.positionAbsolute=w,c.set(m.id,m)}a(c)},[])}const Qc=_.createContext(null),bN=Qc.Provider;Qc.Consumer;const F0=()=>_.useContext(Qc),_N=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),SN=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:s}=r,{fromHandle:l,toHandle:a,isValid:u}=s,f=(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:f,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===zr.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!o,valid:f&&u}};function kN({type:e="source",position:t=Y.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:f,onTouchStart:c,...h},g){var I,P;const x=s||null,v=e==="target",b=ye(),m=F0(),{connectOnClick:y,noPanClassName:p,rfId:w}=oe(_N,ge),{connectingFrom:S,connectingTo:N,clickConnecting:k,isPossibleEndHandle:M,connectionInProcess:T,clickConnectionInProcess:$,valid:R}=oe(SN(m,x,e),ge);m||(P=(I=b.getState()).onError)==null||P.call(I,"010",zt.error010());const L=A=>{const{defaultEdgeOptions:C,onConnect:j,hasDefaultEdges:z}=b.getState(),D={...C,...A};if(z){const{edges:O,setEdges:U}=b.getState();U(d0(D,O))}j==null||j(D),l==null||l(D)},F=A=>{if(!m)return;const C=a0(A.nativeEvent);if(o&&(C&&A.button===0||!C)){const j=b.getState();Cu.onPointerDown(A.nativeEvent,{handleDomNode:A.currentTarget,autoPanOnConnect:j.autoPanOnConnect,connectionMode:j.connectionMode,connectionRadius:j.connectionRadius,domNode:j.domNode,nodeLookup:j.nodeLookup,lib:j.lib,isTarget:v,handleId:x,nodeId:m,flowId:j.rfId,panBy:j.panBy,cancelConnection:j.cancelConnection,onConnectStart:j.onConnectStart,onConnectEnd:j.onConnectEnd,updateConnection:j.updateConnection,onConnect:L,isValidConnection:n||j.isValidConnection,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,autoPanSpeed:j.autoPanSpeed,dragThreshold:j.connectionDragThreshold})}C?f==null||f(A):c==null||c(A)},E=A=>{const{onClickConnectStart:C,onClickConnectEnd:j,connectionClickStartHandle:z,connectionMode:D,isValidConnection:O,lib:U,rfId:V,nodeLookup:G,connection:K}=b.getState();if(!m||!z&&!o)return;if(!z){C==null||C(A.nativeEvent,{nodeId:m,handleId:x,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:m,type:e,id:x}});return}const X=s0(A.target),H=n||O,{connection:Q,isValid:ne}=Cu.isValid(A.nativeEvent,{handle:{nodeId:m,id:x,type:e},connectionMode:D,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:H,flowId:V,doc:X,lib:U,nodeLookup:G});ne&&Q&&L(Q);const J=structuredClone(K);delete J.inProgress,J.toPosition=J.toHandle?J.toHandle.position:null,j==null||j(A,J),b.setState({connectionClickStartHandle:null})};return d.jsx("div",{"data-handleid":x,"data-nodeid":m,"data-handlepos":t,"data-id":`${w}-${m}-${x}-${e}`,className:Ee(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",p,u,{source:!v,target:v,connectable:r,connectablestart:o,connectableend:i,clickconnecting:k,connectingfrom:S,connectingto:N,valid:R,connectionindicator:r&&(!T||M)&&(T||$?i:o)}]),onMouseDown:F,onTouchStart:F,onClick:y?E:void 0,ref:g,...h,children:a})}const Hn=_.memo(A0(kN));function EN({data:e,isConnectable:t,sourcePosition:n=Y.Bottom}){return d.jsxs(d.Fragment,{children:[e==null?void 0:e.label,d.jsx(Hn,{type:"source",position:n,isConnectable:t})]})}function NN({data:e,isConnectable:t,targetPosition:n=Y.Top,sourcePosition:r=Y.Bottom}){return d.jsxs(d.Fragment,{children:[d.jsx(Hn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,d.jsx(Hn,{type:"source",position:r,isConnectable:t})]})}function CN(){return null}function jN({data:e,isConnectable:t,targetPosition:n=Y.Top}){return d.jsxs(d.Fragment,{children:[d.jsx(Hn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const qs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},gh={input:EN,default:NN,output:jN,group:CN};function MN(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const PN=e=>{const{width:t,height:n,x:r,y:o}=yi(e.nodeLookup,{filter:i=>!!i.selected});return{width:xt(t)?t:null,height:xt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function IN({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ye(),{width:o,height:i,transformString:s,userSelectionActive:l}=oe(PN,ge),a=O0(),u=_.useRef(null);if(_.useEffect(()=>{var h;n||(h=u.current)==null||h.focus({preventScroll:!0})},[n]),D0({nodeRef:u}),l||!o||!i)return null;const f=e?h=>{const g=r.getState().nodes.filter(x=>x.selected);e(h,g)}:void 0,c=h=>{Object.prototype.hasOwnProperty.call(qs,h.key)&&(h.preventDefault(),a({direction:qs[h.key],factor:h.shiftKey?4:1}))};return d.jsx("div",{className:Ee(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:d.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:c,style:{width:o,height:i}})})}const yh=typeof window<"u"?window:void 0,LN=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function B0({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:l,deleteKeyCode:a,selectionKeyCode:u,selectionOnDrag:f,selectionMode:c,onSelectionStart:h,onSelectionEnd:g,multiSelectionKeyCode:x,panActivationKeyCode:v,zoomActivationKeyCode:b,elementsSelectable:m,zoomOnScroll:y,zoomOnPinch:p,panOnScroll:w,panOnScrollSpeed:S,panOnScrollMode:N,zoomOnDoubleClick:k,panOnDrag:M,defaultViewport:T,translateExtent:$,minZoom:R,maxZoom:L,preventScrolling:F,onSelectionContextMenu:E,noWheelClassName:I,noPanClassName:P,disableKeyboardA11y:A,onViewportChange:C,isControlledViewport:j}){const{nodesSelectionActive:z,userSelectionActive:D}=oe(LN,ge),O=ii(u,{target:yh}),U=ii(v,{target:yh}),V=U||M,G=U||w,K=f&&V!==!0,X=O||D||K;return fN({deleteKeyCode:a,multiSelectionKeyCode:x}),d.jsx(mN,{onPaneContextMenu:i,elementsSelectable:m,zoomOnScroll:y,zoomOnPinch:p,panOnScroll:G,panOnScrollSpeed:S,panOnScrollMode:N,zoomOnDoubleClick:k,panOnDrag:!O&&V,defaultViewport:T,translateExtent:$,minZoom:R,maxZoom:L,zoomActivationKeyCode:b,preventScrolling:F,noWheelClassName:I,noPanClassName:P,onViewportChange:C,isControlledViewport:j,paneClickDistance:l,selectionOnDrag:K,children:d.jsxs(vN,{onSelectionStart:h,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:V,isSelecting:!!X,selectionMode:c,selectionKeyPressed:O,paneClickDistance:l,selectionOnDrag:K,children:[e,z&&d.jsx(IN,{onSelectionContextMenu:E,noPanClassName:P,disableKeyboardA11y:A})]})})}B0.displayName="FlowRenderer";const TN=_.memo(B0),RN=e=>t=>e?Bc(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function zN(e){return oe(_.useCallback(RN(e),[e]),ge)}const AN=e=>e.updateNodeInternals;function $N(){const e=oe(AN),[t]=_.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return _.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function DN({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=ye(),i=_.useRef(null),s=_.useRef(null),l=_.useRef(e.sourcePosition),a=_.useRef(e.targetPosition),u=_.useRef(t),f=n&&!!e.internals.handleBounds;return _.useEffect(()=>{i.current&&!e.hidden&&(!f||s.current!==i.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(i.current),s.current=i.current)},[f,e.hidden]),_.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),_.useEffect(()=>{if(i.current){const c=u.current!==t,h=l.current!==e.sourcePosition,g=a.current!==e.targetPosition;(c||h||g)&&(u.current=t,l.current=e.sourcePosition,a.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function ON({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:s,nodesDraggable:l,elementsSelectable:a,nodesConnectable:u,nodesFocusable:f,resizeObserver:c,noDragClassName:h,noPanClassName:g,disableKeyboardA11y:x,rfId:v,nodeTypes:b,nodeClickDistance:m,onError:y}){const{node:p,internals:w,isParent:S}=oe(H=>{const Q=H.nodeLookup.get(e),ne=H.parentLookup.has(e);return{node:Q,internals:Q.internals,isParent:ne}},ge);let N=p.type||"default",k=(b==null?void 0:b[N])||gh[N];k===void 0&&(y==null||y("003",zt.error003(N)),N="default",k=(b==null?void 0:b.default)||gh.default);const M=!!(p.draggable||l&&typeof p.draggable>"u"),T=!!(p.selectable||a&&typeof p.selectable>"u"),$=!!(p.connectable||u&&typeof p.connectable>"u"),R=!!(p.focusable||f&&typeof p.focusable>"u"),L=ye(),F=o0(p),E=DN({node:p,nodeType:N,hasDimensions:F,resizeObserver:c}),I=D0({nodeRef:E,disabled:p.hidden||!M,noDragClassName:h,handleSelector:p.dragHandle,nodeId:e,isSelectable:T,nodeClickDistance:m}),P=O0();if(p.hidden)return null;const A=tn(p),C=MN(p),j=T||M||t||n||r||o,z=n?H=>n(H,{...w.userNode}):void 0,D=r?H=>r(H,{...w.userNode}):void 0,O=o?H=>o(H,{...w.userNode}):void 0,U=i?H=>i(H,{...w.userNode}):void 0,V=s?H=>s(H,{...w.userNode}):void 0,G=H=>{const{selectNodesOnDrag:Q,nodeDragThreshold:ne}=L.getState();T&&(!Q||!M||ne>0)&&ju({id:e,store:L,nodeRef:E}),t&&t(H,{...w.userNode})},K=H=>{if(!(l0(H.nativeEvent)||x)){if(Xg.includes(H.key)&&T){const Q=H.key==="Escape";ju({id:e,store:L,unselect:Q,nodeRef:E})}else if(M&&p.selected&&Object.prototype.hasOwnProperty.call(qs,H.key)){H.preventDefault();const{ariaLabelConfig:Q}=L.getState();L.setState({ariaLiveMessage:Q["node.a11yDescription.ariaLiveMessage"]({direction:H.key.replace("Arrow","").toLowerCase(),x:~~w.positionAbsolute.x,y:~~w.positionAbsolute.y})}),P({direction:qs[H.key],factor:H.shiftKey?4:1})}}},X=()=>{var le;if(x||!((le=E.current)!=null&&le.matches(":focus-visible")))return;const{transform:H,width:Q,height:ne,autoPanOnNodeFocus:J,setCenter:Z}=L.getState();if(!J)return;Bc(new Map([[e,p]]),{x:0,y:0,width:Q,height:ne},H,!0).length>0||Z(p.position.x+A.width/2,p.position.y+A.height/2,{zoom:H[2]})};return d.jsx("div",{className:Ee(["react-flow__node",`react-flow__node-${N}`,{[g]:M},p.className,{selected:p.selected,selectable:T,parent:S,draggable:M,dragging:I}]),ref:E,style:{zIndex:w.z,transform:`translate(${w.positionAbsolute.x}px,${w.positionAbsolute.y}px)`,pointerEvents:j?"all":"none",visibility:F?"visible":"hidden",...p.style,...C},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:z,onMouseMove:D,onMouseLeave:O,onContextMenu:U,onClick:G,onDoubleClick:V,onKeyDown:R?K:void 0,tabIndex:R?0:void 0,onFocus:R?X:void 0,role:p.ariaRole??(R?"group":void 0),"aria-roledescription":"node","aria-describedby":x?void 0:`${P0}-${v}`,"aria-label":p.ariaLabel,...p.domAttributes,children:d.jsx(bN,{value:e,children:d.jsx(k,{id:e,data:p.data,type:N,positionAbsoluteX:w.positionAbsolute.x,positionAbsoluteY:w.positionAbsolute.y,selected:p.selected??!1,selectable:T,draggable:M,deletable:p.deletable??!0,isConnectable:$,sourcePosition:p.sourcePosition,targetPosition:p.targetPosition,dragging:I,dragHandle:p.dragHandle,zIndex:w.z,parentId:p.parentId,...A})})})}var FN=_.memo(ON);const BN=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function H0(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=oe(BN,ge),s=zN(e.onlyRenderVisibleElements),l=$N();return d.jsx("div",{className:"react-flow__nodes",style:jl,children:s.map(a=>d.jsx(FN,{id:a,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},a))})}H0.displayName="NodeRenderer";const HN=_.memo(H0);function VN(e){return oe(_.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),s=n.nodeLookup.get(o.target);i&&s&&jk({sourceNode:i,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),ge)}const UN=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return d.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},WN=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return d.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},xh={[Ks.Arrow]:UN,[Ks.ArrowClosed]:WN};function YN(e){const t=ye();return _.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(xh,e)?xh[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",zt.error009(e)),null)},[e])}const GN=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=YN(t);return a?d.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:d.jsx(a,{color:n,strokeWidth:s})}):null},V0=({defaultColor:e,rfId:t})=>{const n=oe(i=>i.edges),r=oe(i=>i.defaultEdgeOptions),o=_.useMemo(()=>zk(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?d.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:d.jsx("defs",{children:o.map(i=>d.jsx(GN,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};V0.displayName="MarkerDefinitions";var KN=_.memo(V0);function U0({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...f}){const[c,h]=_.useState({x:1,y:0,width:0,height:0}),g=Ee(["react-flow__edge-textwrapper",u]),x=_.useRef(null);return _.useEffect(()=>{if(x.current){const v=x.current.getBBox();h({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?d.jsxs("g",{transform:`translate(${e-c.width/2} ${t-c.height/2})`,className:g,visibility:c.width?"visible":"hidden",...f,children:[o&&d.jsx("rect",{width:c.width+2*s[0],x:-s[0],y:-s[1],height:c.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),d.jsx("text",{className:"react-flow__edge-text",y:c.height/2,dy:"0.3em",ref:x,style:r,children:n}),a]}):null}U0.displayName="EdgeText";const XN=_.memo(U0);function wi({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a,interactionWidth:u=20,...f}){return d.jsxs(d.Fragment,{children:[d.jsx("path",{...f,d:e,fill:"none",className:Ee(["react-flow__edge-path",f.className])}),u?d.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&xt(t)&&xt(n)?d.jsx(XN,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a}):null]})}function vh({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Y.Left||e===Y.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function W0({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top}){const[s,l]=vh({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=vh({pos:i,x1:r,y1:o,x2:e,y2:t}),[f,c,h,g]=u0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${o}`,f,c,h,g]}function Y0(e){return _.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s,targetPosition:l,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:g,style:x,markerEnd:v,markerStart:b,interactionWidth:m})=>{const[y,p,w]=W0({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:l}),S=e.isInternal?void 0:t;return d.jsx(wi,{id:S,path:y,labelX:p,labelY:w,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:g,style:x,markerEnd:v,markerStart:b,interactionWidth:m})})}const QN=Y0({isInternal:!1}),G0=Y0({isInternal:!0});QN.displayName="SimpleBezierEdge";G0.displayName="SimpleBezierEdgeInternal";function K0(e){return _.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:h,sourcePosition:g=Y.Bottom,targetPosition:x=Y.Top,markerEnd:v,markerStart:b,pathOptions:m,interactionWidth:y})=>{const[p,w,S]=ku({sourceX:n,sourceY:r,sourcePosition:g,targetX:o,targetY:i,targetPosition:x,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset,stepPosition:m==null?void 0:m.stepPosition}),N=e.isInternal?void 0:t;return d.jsx(wi,{id:N,path:p,labelX:w,labelY:S,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:h,markerEnd:v,markerStart:b,interactionWidth:y})})}const X0=K0({isInternal:!1}),Q0=K0({isInternal:!0});X0.displayName="SmoothStepEdge";Q0.displayName="SmoothStepEdgeInternal";function q0(e){return _.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return d.jsx(X0,{...n,id:r,pathOptions:_.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const qN=q0({isInternal:!1}),Z0=q0({isInternal:!0});qN.displayName="StepEdge";Z0.displayName="StepEdgeInternal";function J0(e){return _.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:h,markerEnd:g,markerStart:x,interactionWidth:v})=>{const[b,m,y]=f0({sourceX:n,sourceY:r,targetX:o,targetY:i}),p=e.isInternal?void 0:t;return d.jsx(wi,{id:p,path:b,labelX:m,labelY:y,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:h,markerEnd:g,markerStart:x,interactionWidth:v})})}const ZN=J0({isInternal:!1}),ey=J0({isInternal:!0});ZN.displayName="StraightEdge";ey.displayName="StraightEdgeInternal";function ty(e){return _.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=Y.Bottom,targetPosition:l=Y.Top,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:g,style:x,markerEnd:v,markerStart:b,pathOptions:m,interactionWidth:y})=>{const[p,w,S]=Uc({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:l,curvature:m==null?void 0:m.curvature}),N=e.isInternal?void 0:t;return d.jsx(wi,{id:N,path:p,labelX:w,labelY:S,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:g,style:x,markerEnd:v,markerStart:b,interactionWidth:y})})}const JN=ty({isInternal:!1}),ny=ty({isInternal:!0});JN.displayName="BezierEdge";ny.displayName="BezierEdgeInternal";const wh={default:ny,straight:ey,step:Z0,smoothstep:Q0,simplebezier:G0},bh={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},eC=(e,t,n)=>n===Y.Left?e-t:n===Y.Right?e+t:e,tC=(e,t,n)=>n===Y.Top?e-t:n===Y.Bottom?e+t:e,_h="react-flow__edgeupdater";function Sh({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:l}){return d.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:Ee([_h,`${_h}-${l}`]),cx:eC(t,r,e),cy:tC(n,r,e),r,stroke:"transparent",fill:"transparent"})}function nC({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:s,sourcePosition:l,targetPosition:a,onReconnect:u,onReconnectStart:f,onReconnectEnd:c,setReconnecting:h,setUpdateHover:g}){const x=ye(),v=(w,S)=>{if(w.button!==0)return;const{autoPanOnConnect:N,domNode:k,isValidConnection:M,connectionMode:T,connectionRadius:$,lib:R,onConnectStart:L,onConnectEnd:F,cancelConnection:E,nodeLookup:I,rfId:P,panBy:A,updateConnection:C}=x.getState(),j=S.type==="target",z=(U,V)=>{h(!1),c==null||c(U,n,S.type,V)},D=U=>u==null?void 0:u(n,U),O=(U,V)=>{h(!0),f==null||f(w,n,S.type),L==null||L(U,V)};Cu.onPointerDown(w.nativeEvent,{autoPanOnConnect:N,connectionMode:T,connectionRadius:$,domNode:k,handleId:S.id,nodeId:S.nodeId,nodeLookup:I,isTarget:j,edgeUpdaterType:S.type,lib:R,flowId:P,cancelConnection:E,panBy:A,isValidConnection:M,onConnect:D,onConnectStart:O,onConnectEnd:F,onReconnectEnd:z,updateConnection:C,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,dragThreshold:x.getState().connectionDragThreshold,handleDomNode:w.currentTarget})},b=w=>v(w,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),m=w=>v(w,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),y=()=>g(!0),p=()=>g(!1);return d.jsxs(d.Fragment,{children:[(e===!0||e==="source")&&d.jsx(Sh,{position:l,centerX:r,centerY:o,radius:t,onMouseDown:b,onMouseEnter:y,onMouseOut:p,type:"source"}),(e===!0||e==="target")&&d.jsx(Sh,{position:a,centerX:i,centerY:s,radius:t,onMouseDown:m,onMouseEnter:y,onMouseOut:p,type:"target"})]})}function rC({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,reconnectRadius:f,onReconnect:c,onReconnectStart:h,onReconnectEnd:g,rfId:x,edgeTypes:v,noPanClassName:b,onError:m,disableKeyboardA11y:y}){let p=oe(Z=>Z.edgeLookup.get(e));const w=oe(Z=>Z.defaultEdgeOptions);p=w?{...w,...p}:p;let S=p.type||"default",N=(v==null?void 0:v[S])||wh[S];N===void 0&&(m==null||m("011",zt.error011(S)),S="default",N=(v==null?void 0:v.default)||wh.default);const k=!!(p.focusable||t&&typeof p.focusable>"u"),M=typeof c<"u"&&(p.reconnectable||n&&typeof p.reconnectable>"u"),T=!!(p.selectable||r&&typeof p.selectable>"u"),$=_.useRef(null),[R,L]=_.useState(!1),[F,E]=_.useState(!1),I=ye(),{zIndex:P,sourceX:A,sourceY:C,targetX:j,targetY:z,sourcePosition:D,targetPosition:O}=oe(_.useCallback(Z=>{const q=Z.nodeLookup.get(p.source),le=Z.nodeLookup.get(p.target);if(!q||!le)return{zIndex:p.zIndex,...bh};const ce=Rk({id:e,sourceNode:q,targetNode:le,sourceHandle:p.sourceHandle||null,targetHandle:p.targetHandle||null,connectionMode:Z.connectionMode,onError:m});return{zIndex:Ck({selected:p.selected,zIndex:p.zIndex,sourceNode:q,targetNode:le,elevateOnSelect:Z.elevateEdgesOnSelect,zIndexMode:Z.zIndexMode}),...ce||bh}},[p.source,p.target,p.sourceHandle,p.targetHandle,p.selected,p.zIndex]),ge),U=_.useMemo(()=>p.markerStart?`url('#${Eu(p.markerStart,x)}')`:void 0,[p.markerStart,x]),V=_.useMemo(()=>p.markerEnd?`url('#${Eu(p.markerEnd,x)}')`:void 0,[p.markerEnd,x]);if(p.hidden||A===null||C===null||j===null||z===null)return null;const G=Z=>{var se;const{addSelectedEdges:q,unselectNodesAndEdges:le,multiSelectionActive:ce}=I.getState();T&&(I.setState({nodesSelectionActive:!1}),p.selected&&ce?(le({nodes:[],edges:[p]}),(se=$.current)==null||se.blur()):q([e])),o&&o(Z,p)},K=i?Z=>{i(Z,{...p})}:void 0,X=s?Z=>{s(Z,{...p})}:void 0,H=l?Z=>{l(Z,{...p})}:void 0,Q=a?Z=>{a(Z,{...p})}:void 0,ne=u?Z=>{u(Z,{...p})}:void 0,J=Z=>{var q;if(!y&&Xg.includes(Z.key)&&T){const{unselectNodesAndEdges:le,addSelectedEdges:ce}=I.getState();Z.key==="Escape"?((q=$.current)==null||q.blur(),le({edges:[p]})):ce([e])}};return d.jsx("svg",{style:{zIndex:P},children:d.jsxs("g",{className:Ee(["react-flow__edge",`react-flow__edge-${S}`,p.className,b,{selected:p.selected,animated:p.animated,inactive:!T&&!o,updating:R,selectable:T}]),onClick:G,onDoubleClick:K,onContextMenu:X,onMouseEnter:H,onMouseMove:Q,onMouseLeave:ne,onKeyDown:k?J:void 0,tabIndex:k?0:void 0,role:p.ariaRole??(k?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":p.ariaLabel===null?void 0:p.ariaLabel||`Edge from ${p.source} to ${p.target}`,"aria-describedby":k?`${I0}-${x}`:void 0,ref:$,...p.domAttributes,children:[!F&&d.jsx(N,{id:e,source:p.source,target:p.target,type:p.type,selected:p.selected,animated:p.animated,selectable:T,deletable:p.deletable??!0,label:p.label,labelStyle:p.labelStyle,labelShowBg:p.labelShowBg,labelBgStyle:p.labelBgStyle,labelBgPadding:p.labelBgPadding,labelBgBorderRadius:p.labelBgBorderRadius,sourceX:A,sourceY:C,targetX:j,targetY:z,sourcePosition:D,targetPosition:O,data:p.data,style:p.style,sourceHandleId:p.sourceHandle,targetHandleId:p.targetHandle,markerStart:U,markerEnd:V,pathOptions:"pathOptions"in p?p.pathOptions:void 0,interactionWidth:p.interactionWidth}),M&&d.jsx(nC,{edge:p,isReconnectable:M,reconnectRadius:f,onReconnect:c,onReconnectStart:h,onReconnectEnd:g,sourceX:A,sourceY:C,targetX:j,targetY:z,sourcePosition:D,targetPosition:O,setUpdateHover:L,setReconnecting:E})]})})}var oC=_.memo(rC);const iC=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function ry({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:f,reconnectRadius:c,onEdgeDoubleClick:h,onReconnectStart:g,onReconnectEnd:x,disableKeyboardA11y:v}){const{edgesFocusable:b,edgesReconnectable:m,elementsSelectable:y,onError:p}=oe(iC,ge),w=VN(t);return d.jsxs("div",{className:"react-flow__edges",children:[d.jsx(KN,{defaultColor:e,rfId:n}),w.map(S=>d.jsx(oC,{id:S,edgesFocusable:b,edgesReconnectable:m,elementsSelectable:y,noPanClassName:o,onReconnect:i,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:f,reconnectRadius:c,onDoubleClick:h,onReconnectStart:g,onReconnectEnd:x,rfId:n,onError:p,edgeTypes:r,disableKeyboardA11y:v},S))]})}ry.displayName="EdgeRenderer";const sC=_.memo(ry),lC=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function aC({children:e}){const t=oe(lC);return d.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function uC(e){const t=Cl(),n=_.useRef(!1);_.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const cC=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function dC(e){const t=oe(cC),n=ye();return _.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function fC(e){return e.connection.inProgress?{...e.connection,to:vi(e.connection.to,e.transform)}:{...e.connection}}function hC(e){return fC}function pC(e){const t=hC();return oe(t,ge)}const mC=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function gC({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:s,isValid:l,inProgress:a}=oe(mC,ge);return!(i&&o&&a)?null:d.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:d.jsx("g",{className:Ee(["react-flow__connection",Zg(l)]),children:d.jsx(oy,{style:t,type:n,CustomComponent:r,isValid:l})})})}const oy=({style:e,type:t=hn.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:s,fromHandle:l,fromPosition:a,to:u,toNode:f,toHandle:c,toPosition:h,pointer:g}=pC();if(!o)return;if(n)return d.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:l,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:a,toPosition:h,connectionStatus:Zg(r),toNode:f,toHandle:c,pointer:g});let x="";const v={sourceX:i.x,sourceY:i.y,sourcePosition:a,targetX:u.x,targetY:u.y,targetPosition:h};switch(t){case hn.Bezier:[x]=Uc(v);break;case hn.SimpleBezier:[x]=W0(v);break;case hn.Step:[x]=ku({...v,borderRadius:0});break;case hn.SmoothStep:[x]=ku(v);break;default:[x]=f0(v)}return d.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:e})};oy.displayName="ConnectionLine";const yC={};function kh(e=yC){_.useRef(e),ye(),_.useEffect(()=>{},[e])}function xC(){ye(),_.useRef(!1),_.useEffect(()=>{},[])}function iy({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:f,onSelectionContextMenu:c,onSelectionStart:h,onSelectionEnd:g,connectionLineType:x,connectionLineStyle:v,connectionLineComponent:b,connectionLineContainerStyle:m,selectionKeyCode:y,selectionOnDrag:p,selectionMode:w,multiSelectionKeyCode:S,panActivationKeyCode:N,zoomActivationKeyCode:k,deleteKeyCode:M,onlyRenderVisibleElements:T,elementsSelectable:$,defaultViewport:R,translateExtent:L,minZoom:F,maxZoom:E,preventScrolling:I,defaultMarkerColor:P,zoomOnScroll:A,zoomOnPinch:C,panOnScroll:j,panOnScrollSpeed:z,panOnScrollMode:D,zoomOnDoubleClick:O,panOnDrag:U,onPaneClick:V,onPaneMouseEnter:G,onPaneMouseMove:K,onPaneMouseLeave:X,onPaneScroll:H,onPaneContextMenu:Q,paneClickDistance:ne,nodeClickDistance:J,onEdgeContextMenu:Z,onEdgeMouseEnter:q,onEdgeMouseMove:le,onEdgeMouseLeave:ce,reconnectRadius:se,onReconnect:Re,onReconnectStart:nn,onReconnectEnd:$t,noDragClassName:Pn,noWheelClassName:Kr,noPanClassName:Xr,disableKeyboardA11y:Qr,nodeExtent:Ml,rfId:bi,viewport:er,onViewportChange:qr}){return kh(e),kh(t),xC(),uC(n),dC(er),d.jsx(TN,{onPaneClick:V,onPaneMouseEnter:G,onPaneMouseMove:K,onPaneMouseLeave:X,onPaneContextMenu:Q,onPaneScroll:H,paneClickDistance:ne,deleteKeyCode:M,selectionKeyCode:y,selectionOnDrag:p,selectionMode:w,onSelectionStart:h,onSelectionEnd:g,multiSelectionKeyCode:S,panActivationKeyCode:N,zoomActivationKeyCode:k,elementsSelectable:$,zoomOnScroll:A,zoomOnPinch:C,zoomOnDoubleClick:O,panOnScroll:j,panOnScrollSpeed:z,panOnScrollMode:D,panOnDrag:U,defaultViewport:R,translateExtent:L,minZoom:F,maxZoom:E,onSelectionContextMenu:c,preventScrolling:I,noDragClassName:Pn,noWheelClassName:Kr,noPanClassName:Xr,disableKeyboardA11y:Qr,onViewportChange:qr,isControlledViewport:!!er,children:d.jsxs(aC,{children:[d.jsx(sC,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:s,onReconnect:Re,onReconnectStart:nn,onReconnectEnd:$t,onlyRenderVisibleElements:T,onEdgeContextMenu:Z,onEdgeMouseEnter:q,onEdgeMouseMove:le,onEdgeMouseLeave:ce,reconnectRadius:se,defaultMarkerColor:P,noPanClassName:Xr,disableKeyboardA11y:Qr,rfId:bi}),d.jsx(gC,{style:v,type:x,component:b,containerStyle:m}),d.jsx("div",{className:"react-flow__edgelabel-renderer"}),d.jsx(HN,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:f,nodeClickDistance:J,onlyRenderVisibleElements:T,noPanClassName:Xr,noDragClassName:Pn,disableKeyboardA11y:Qr,nodeExtent:Ml,rfId:bi}),d.jsx("div",{className:"react-flow__viewport-portal"})]})})}iy.displayName="GraphView";const vC=_.memo(iy),Eh=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a=.5,maxZoom:u=2,nodeOrigin:f,nodeExtent:c,zIndexMode:h="basic"}={})=>{const g=new Map,x=new Map,v=new Map,b=new Map,m=r??t??[],y=n??e??[],p=f??[0,0],w=c??ti;m0(v,b,m);const S=Nu(y,g,x,{nodeOrigin:p,nodeExtent:w,zIndexMode:h});let N=[0,0,1];if(s&&o&&i){const k=yi(g,{filter:R=>!!((R.width||R.initialWidth)&&(R.height||R.initialHeight))}),{x:M,y:T,zoom:$}=Hc(k,o,i,a,u,(l==null?void 0:l.padding)??.1);N=[M,T,$]}return{rfId:"1",width:o??0,height:i??0,transform:N,nodes:y,nodesInitialized:S,nodeLookup:g,parentLookup:x,edges:m,edgeLookup:b,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:a,maxZoom:u,translateExtent:ti,nodeExtent:w,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:zr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:p,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:l,fitViewResolver:null,connection:{...qg},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:bk,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Qg,zIndexMode:h,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},wC=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:f,nodeExtent:c,zIndexMode:h})=>DE((g,x)=>{async function v(){const{nodeLookup:b,panZoom:m,fitViewOptions:y,fitViewResolver:p,width:w,height:S,minZoom:N,maxZoom:k}=x();m&&(await vk({nodes:b,width:w,height:S,panZoom:m,minZoom:N,maxZoom:k},y),p==null||p.resolve(!0),g({fitViewResolver:null}))}return{...Eh({nodes:e,edges:t,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:f,nodeExtent:c,defaultNodes:n,defaultEdges:r,zIndexMode:h}),setNodes:b=>{const{nodeLookup:m,parentLookup:y,nodeOrigin:p,elevateNodesOnSelect:w,fitViewQueued:S,zIndexMode:N}=x(),k=Nu(b,m,y,{nodeOrigin:p,nodeExtent:c,elevateNodesOnSelect:w,checkEquality:!0,zIndexMode:N});S&&k?(v(),g({nodes:b,nodesInitialized:k,fitViewQueued:!1,fitViewOptions:void 0})):g({nodes:b,nodesInitialized:k})},setEdges:b=>{const{connectionLookup:m,edgeLookup:y}=x();m0(m,y,b),g({edges:b})},setDefaultNodesAndEdges:(b,m)=>{if(b){const{setNodes:y}=x();y(b),g({hasDefaultNodes:!0})}if(m){const{setEdges:y}=x();y(m),g({hasDefaultEdges:!0})}},updateNodeInternals:b=>{const{triggerNodeChanges:m,nodeLookup:y,parentLookup:p,domNode:w,nodeOrigin:S,nodeExtent:N,debug:k,fitViewQueued:M,zIndexMode:T}=x(),{changes:$,updatedInternals:R}=Hk(b,y,p,w,S,N,T);R&&(Dk(y,p,{nodeOrigin:S,nodeExtent:N,zIndexMode:T}),M?(v(),g({fitViewQueued:!1,fitViewOptions:void 0})):g({}),($==null?void 0:$.length)>0&&(k&&console.log("React Flow: trigger node changes",$),m==null||m($)))},updateNodePositions:(b,m=!1)=>{const y=[];let p=[];const{nodeLookup:w,triggerNodeChanges:S,connection:N,updateConnection:k,onNodesChangeMiddlewareMap:M}=x();for(const[T,$]of b){const R=w.get(T),L=!!(R!=null&&R.expandParent&&(R!=null&&R.parentId)&&($!=null&&$.position)),F={id:T,type:"position",position:L?{x:Math.max(0,$.position.x),y:Math.max(0,$.position.y)}:$.position,dragging:m};if(R&&N.inProgress&&N.fromNode.id===R.id){const E=qn(R,N.fromHandle,Y.Left,!0);k({...N,from:E})}L&&R.parentId&&y.push({id:T,parentId:R.parentId,rect:{...$.internals.positionAbsolute,width:$.measured.width??0,height:$.measured.height??0}}),p.push(F)}if(y.length>0){const{parentLookup:T,nodeOrigin:$}=x(),R=Xc(y,w,T,$);p.push(...R)}for(const T of M.values())p=T(p);S(p)},triggerNodeChanges:b=>{const{onNodesChange:m,setNodes:y,nodes:p,hasDefaultNodes:w,debug:S}=x();if(b!=null&&b.length){if(w){const N=R0(b,p);y(N)}S&&console.log("React Flow: trigger node changes",b),m==null||m(b)}},triggerEdgeChanges:b=>{const{onEdgesChange:m,setEdges:y,edges:p,hasDefaultEdges:w,debug:S}=x();if(b!=null&&b.length){if(w){const N=z0(b,p);y(N)}S&&console.log("React Flow: trigger edge changes",b),m==null||m(b)}},addSelectedNodes:b=>{const{multiSelectionActive:m,edgeLookup:y,nodeLookup:p,triggerNodeChanges:w,triggerEdgeChanges:S}=x();if(m){const N=b.map(k=>Tn(k,!0));w(N);return}w(gr(p,new Set([...b]),!0)),S(gr(y))},addSelectedEdges:b=>{const{multiSelectionActive:m,edgeLookup:y,nodeLookup:p,triggerNodeChanges:w,triggerEdgeChanges:S}=x();if(m){const N=b.map(k=>Tn(k,!0));S(N);return}S(gr(y,new Set([...b]))),w(gr(p,new Set,!0))},unselectNodesAndEdges:({nodes:b,edges:m}={})=>{const{edges:y,nodes:p,nodeLookup:w,triggerNodeChanges:S,triggerEdgeChanges:N}=x(),k=b||p,M=m||y,T=k.map(R=>{const L=w.get(R.id);return L&&(L.selected=!1),Tn(R.id,!1)}),$=M.map(R=>Tn(R.id,!1));S(T),N($)},setMinZoom:b=>{const{panZoom:m,maxZoom:y}=x();m==null||m.setScaleExtent([b,y]),g({minZoom:b})},setMaxZoom:b=>{const{panZoom:m,minZoom:y}=x();m==null||m.setScaleExtent([y,b]),g({maxZoom:b})},setTranslateExtent:b=>{var m;(m=x().panZoom)==null||m.setTranslateExtent(b),g({translateExtent:b})},resetSelectedElements:()=>{const{edges:b,nodes:m,triggerNodeChanges:y,triggerEdgeChanges:p,elementsSelectable:w}=x();if(!w)return;const S=m.reduce((k,M)=>M.selected?[...k,Tn(M.id,!1)]:k,[]),N=b.reduce((k,M)=>M.selected?[...k,Tn(M.id,!1)]:k,[]);y(S),p(N)},setNodeExtent:b=>{const{nodes:m,nodeLookup:y,parentLookup:p,nodeOrigin:w,elevateNodesOnSelect:S,nodeExtent:N,zIndexMode:k}=x();b[0][0]===N[0][0]&&b[0][1]===N[0][1]&&b[1][0]===N[1][0]&&b[1][1]===N[1][1]||(Nu(m,y,p,{nodeOrigin:w,nodeExtent:b,elevateNodesOnSelect:S,checkEquality:!1,zIndexMode:k}),g({nodeExtent:b}))},panBy:b=>{const{transform:m,width:y,height:p,panZoom:w,translateExtent:S}=x();return Vk({delta:b,panZoom:w,transform:m,translateExtent:S,width:y,height:p})},setCenter:async(b,m,y)=>{const{width:p,height:w,maxZoom:S,panZoom:N}=x();if(!N)return Promise.resolve(!1);const k=typeof(y==null?void 0:y.zoom)<"u"?y.zoom:S;return await N.setViewport({x:p/2-b*k,y:w/2-m*k,zoom:k},{duration:y==null?void 0:y.duration,ease:y==null?void 0:y.ease,interpolate:y==null?void 0:y.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{g({connection:{...qg}})},updateConnection:b=>{g({connection:b})},reset:()=>g({...Eh()})}},Object.is);function sy({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:s,initialMaxZoom:l,initialFitViewOptions:a,fitView:u,nodeOrigin:f,nodeExtent:c,zIndexMode:h,children:g}){const[x]=_.useState(()=>wC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:u,minZoom:s,maxZoom:l,fitViewOptions:a,nodeOrigin:f,nodeExtent:c,zIndexMode:h}));return d.jsx(OE,{value:x,children:d.jsx(aN,{children:g})})}function bC({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:s,fitView:l,fitViewOptions:a,minZoom:u,maxZoom:f,nodeOrigin:c,nodeExtent:h,zIndexMode:g}){return _.useContext(El)?d.jsx(d.Fragment,{children:e}):d.jsx(sy,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:s,fitView:l,initialFitViewOptions:a,initialMinZoom:u,initialMaxZoom:f,nodeOrigin:c,nodeExtent:h,zIndexMode:g,children:e})}const _C={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function SC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:s,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:f,onMoveStart:c,onMoveEnd:h,onConnect:g,onConnectStart:x,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:m,onNodeMouseEnter:y,onNodeMouseMove:p,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:N,onNodeDragStart:k,onNodeDrag:M,onNodeDragStop:T,onNodesDelete:$,onEdgesDelete:R,onDelete:L,onSelectionChange:F,onSelectionDragStart:E,onSelectionDrag:I,onSelectionDragStop:P,onSelectionContextMenu:A,onSelectionStart:C,onSelectionEnd:j,onBeforeDelete:z,connectionMode:D,connectionLineType:O=hn.Bezier,connectionLineStyle:U,connectionLineComponent:V,connectionLineContainerStyle:G,deleteKeyCode:K="Backspace",selectionKeyCode:X="Shift",selectionOnDrag:H=!1,selectionMode:Q=ni.Full,panActivationKeyCode:ne="Space",multiSelectionKeyCode:J=oi()?"Meta":"Control",zoomActivationKeyCode:Z=oi()?"Meta":"Control",snapToGrid:q,snapGrid:le,onlyRenderVisibleElements:ce=!1,selectNodesOnDrag:se,nodesDraggable:Re,autoPanOnNodeFocus:nn,nodesConnectable:$t,nodesFocusable:Pn,nodeOrigin:Kr=L0,edgesFocusable:Xr,edgesReconnectable:Qr,elementsSelectable:Ml=!0,defaultViewport:bi=ZE,minZoom:er=.5,maxZoom:qr=2,translateExtent:Zc=ti,preventScrolling:xy=!0,nodeExtent:Pl,defaultMarkerColor:vy="#b1b1b7",zoomOnScroll:wy=!0,zoomOnPinch:by=!0,panOnScroll:_y=!1,panOnScrollSpeed:Sy=.5,panOnScrollMode:ky=Bn.Free,zoomOnDoubleClick:Ey=!0,panOnDrag:Ny=!0,onPaneClick:Cy,onPaneMouseEnter:jy,onPaneMouseMove:My,onPaneMouseLeave:Py,onPaneScroll:Iy,onPaneContextMenu:Ly,paneClickDistance:Ty=1,nodeClickDistance:Ry=0,children:zy,onReconnect:Ay,onReconnectStart:$y,onReconnectEnd:Dy,onEdgeContextMenu:Oy,onEdgeDoubleClick:Fy,onEdgeMouseEnter:By,onEdgeMouseMove:Hy,onEdgeMouseLeave:Vy,reconnectRadius:Uy=10,onNodesChange:Wy,onEdgesChange:Yy,noDragClassName:Gy="nodrag",noWheelClassName:Ky="nowheel",noPanClassName:Jc="nopan",fitView:ed,fitViewOptions:td,connectOnClick:Xy,attributionPosition:Qy,proOptions:qy,defaultEdgeOptions:Zy,elevateNodesOnSelect:Jy=!0,elevateEdgesOnSelect:ex=!1,disableKeyboardA11y:nd=!1,autoPanOnConnect:tx,autoPanOnNodeDrag:nx,autoPanSpeed:rx,connectionRadius:ox,isValidConnection:ix,onError:sx,style:lx,id:rd,nodeDragThreshold:ax,connectionDragThreshold:ux,viewport:cx,onViewportChange:dx,width:fx,height:hx,colorMode:px="light",debug:mx,onScroll:_i,ariaLabelConfig:gx,zIndexMode:od="basic",...yx},xx){const Il=rd||"1",vx=nN(px),wx=_.useCallback(id=>{id.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),_i==null||_i(id)},[_i]);return d.jsx("div",{"data-testid":"rf__wrapper",...yx,onScroll:wx,style:{...lx,..._C},ref:xx,className:Ee(["react-flow",o,vx]),id:rd,role:"application",children:d.jsxs(bC,{nodes:e,edges:t,width:fx,height:hx,fitView:ed,fitViewOptions:td,minZoom:er,maxZoom:qr,nodeOrigin:Kr,nodeExtent:Pl,zIndexMode:od,children:[d.jsx(vC,{onInit:u,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:y,onNodeMouseMove:p,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:N,nodeTypes:i,edgeTypes:s,connectionLineType:O,connectionLineStyle:U,connectionLineComponent:V,connectionLineContainerStyle:G,selectionKeyCode:X,selectionOnDrag:H,selectionMode:Q,deleteKeyCode:K,multiSelectionKeyCode:J,panActivationKeyCode:ne,zoomActivationKeyCode:Z,onlyRenderVisibleElements:ce,defaultViewport:bi,translateExtent:Zc,minZoom:er,maxZoom:qr,preventScrolling:xy,zoomOnScroll:wy,zoomOnPinch:by,zoomOnDoubleClick:Ey,panOnScroll:_y,panOnScrollSpeed:Sy,panOnScrollMode:ky,panOnDrag:Ny,onPaneClick:Cy,onPaneMouseEnter:jy,onPaneMouseMove:My,onPaneMouseLeave:Py,onPaneScroll:Iy,onPaneContextMenu:Ly,paneClickDistance:Ty,nodeClickDistance:Ry,onSelectionContextMenu:A,onSelectionStart:C,onSelectionEnd:j,onReconnect:Ay,onReconnectStart:$y,onReconnectEnd:Dy,onEdgeContextMenu:Oy,onEdgeDoubleClick:Fy,onEdgeMouseEnter:By,onEdgeMouseMove:Hy,onEdgeMouseLeave:Vy,reconnectRadius:Uy,defaultMarkerColor:vy,noDragClassName:Gy,noWheelClassName:Ky,noPanClassName:Jc,rfId:Il,disableKeyboardA11y:nd,nodeExtent:Pl,viewport:cx,onViewportChange:dx}),d.jsx(tN,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:x,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:m,nodesDraggable:Re,autoPanOnNodeFocus:nn,nodesConnectable:$t,nodesFocusable:Pn,edgesFocusable:Xr,edgesReconnectable:Qr,elementsSelectable:Ml,elevateNodesOnSelect:Jy,elevateEdgesOnSelect:ex,minZoom:er,maxZoom:qr,nodeExtent:Pl,onNodesChange:Wy,onEdgesChange:Yy,snapToGrid:q,snapGrid:le,connectionMode:D,translateExtent:Zc,connectOnClick:Xy,defaultEdgeOptions:Zy,fitView:ed,fitViewOptions:td,onNodesDelete:$,onEdgesDelete:R,onDelete:L,onNodeDragStart:k,onNodeDrag:M,onNodeDragStop:T,onSelectionDrag:I,onSelectionDragStart:E,onSelectionDragStop:P,onMove:f,onMoveStart:c,onMoveEnd:h,noPanClassName:Jc,nodeOrigin:Kr,rfId:Il,autoPanOnConnect:tx,autoPanOnNodeDrag:nx,autoPanSpeed:rx,onError:sx,connectionRadius:ox,isValidConnection:ix,selectNodesOnDrag:se,nodeDragThreshold:ax,connectionDragThreshold:ux,onBeforeDelete:z,debug:mx,ariaLabelConfig:gx,zIndexMode:od}),d.jsx(qE,{onSelectionChange:F}),zy,d.jsx(YE,{proOptions:qy,position:Qy}),d.jsx(WE,{rfId:Il,disableKeyboardA11y:nd})]})})}var kC=A0(SC);const EC=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function NC({children:e}){const t=oe(EC);return t?Km.createPortal(e,t):null}function CC({dimensions:e,lineWidth:t,variant:n,className:r}){return d.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ee(["react-flow__background-pattern",n,r])})}function jC({radius:e,className:t}){return d.jsx("circle",{cx:e,cy:e,r:e,className:Ee(["react-flow__background-pattern","dots",t])})}var Gt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Gt||(Gt={}));const MC={[Gt.Dots]:1,[Gt.Lines]:1,[Gt.Cross]:6},PC=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function ly({id:e,variant:t=Gt.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:s,bgColor:l,style:a,className:u,patternClassName:f}){const c=_.useRef(null),{transform:h,patternId:g}=oe(PC,ge),x=r||MC[t],v=t===Gt.Dots,b=t===Gt.Cross,m=Array.isArray(n)?n:[n,n],y=[m[0]*h[2]||1,m[1]*h[2]||1],p=x*h[2],w=Array.isArray(i)?i:[i,i],S=b?[p,p]:y,N=[w[0]*h[2]||1+S[0]/2,w[1]*h[2]||1+S[1]/2],k=`${g}${e||""}`;return d.jsxs("svg",{className:Ee(["react-flow__background",u]),style:{...a,...jl,"--xy-background-color-props":l,"--xy-background-pattern-color-props":s},ref:c,"data-testid":"rf__background",children:[d.jsx("pattern",{id:k,x:h[0]%y[0],y:h[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:v?d.jsx(jC,{radius:p/2,className:f}):d.jsx(CC,{dimensions:S,lineWidth:o,variant:t,className:f})}),d.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${k})`})]})}ly.displayName="Background";const IC=_.memo(ly);function LC(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:d.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function TC(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:d.jsx("path",{d:"M0 0h32v4.2H0z"})})}function RC(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:d.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function zC(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:d.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function AC(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:d.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Xi({children:e,className:t,...n}){return d.jsx("button",{type:"button",className:Ee(["react-flow__controls-button",t]),...n,children:e})}const $C=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function ay({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:a,className:u,children:f,position:c="bottom-left",orientation:h="vertical","aria-label":g}){const x=ye(),{isInteractive:v,minZoomReached:b,maxZoomReached:m,ariaLabelConfig:y}=oe($C,ge),{zoomIn:p,zoomOut:w,fitView:S}=Cl(),N=()=>{p(),i==null||i()},k=()=>{w(),s==null||s()},M=()=>{S(o),l==null||l()},T=()=>{x.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),a==null||a(!v)},$=h==="horizontal"?"horizontal":"vertical";return d.jsxs(Nl,{className:Ee(["react-flow__controls",$,u]),position:c,style:e,"data-testid":"rf__controls","aria-label":g??y["controls.ariaLabel"],children:[t&&d.jsxs(d.Fragment,{children:[d.jsx(Xi,{onClick:N,className:"react-flow__controls-zoomin",title:y["controls.zoomIn.ariaLabel"],"aria-label":y["controls.zoomIn.ariaLabel"],disabled:m,children:d.jsx(LC,{})}),d.jsx(Xi,{onClick:k,className:"react-flow__controls-zoomout",title:y["controls.zoomOut.ariaLabel"],"aria-label":y["controls.zoomOut.ariaLabel"],disabled:b,children:d.jsx(TC,{})})]}),n&&d.jsx(Xi,{className:"react-flow__controls-fitview",onClick:M,title:y["controls.fitView.ariaLabel"],"aria-label":y["controls.fitView.ariaLabel"],children:d.jsx(RC,{})}),r&&d.jsx(Xi,{className:"react-flow__controls-interactive",onClick:T,title:y["controls.interactive.ariaLabel"],"aria-label":y["controls.interactive.ariaLabel"],children:v?d.jsx(AC,{}):d.jsx(zC,{})}),f]})}ay.displayName="Controls";const DC=_.memo(ay);function OC({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:l,strokeWidth:a,className:u,borderRadius:f,shapeRendering:c,selected:h,onClick:g}){const{background:x,backgroundColor:v}=i||{},b=s||x||v;return d.jsx("rect",{className:Ee(["react-flow__minimap-node",{selected:h},u]),x:t,y:n,rx:f,ry:f,width:r,height:o,style:{fill:b,stroke:l,strokeWidth:a},shapeRendering:c,onClick:g?m=>g(m,e):void 0})}const FC=_.memo(OC),BC=e=>e.nodes.map(t=>t.id),ga=e=>e instanceof Function?e:()=>e;function HC({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=FC,onClick:s}){const l=oe(BC,ge),a=ga(t),u=ga(e),f=ga(n),c=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return d.jsx(d.Fragment,{children:l.map(h=>d.jsx(UC,{id:h,nodeColorFunc:a,nodeStrokeColorFunc:u,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:s,shapeRendering:c},h))})}function VC({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:l,onClick:a}){const{node:u,x:f,y:c,width:h,height:g}=oe(x=>{const{internals:v}=x.nodeLookup.get(e),b=v.userNode,{x:m,y}=v.positionAbsolute,{width:p,height:w}=tn(b);return{node:b,x:m,y,width:p,height:w}},ge);return!u||u.hidden||!o0(u)?null:d.jsx(l,{x:f,y:c,width:h,height:g,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:o,strokeColor:n(u),strokeWidth:i,shapeRendering:s,onClick:a,id:u.id})}const UC=_.memo(VC);var WC=_.memo(HC);const YC=200,GC=150,KC=e=>!e.hidden,XC=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?r0(yi(e.nodeLookup,{filter:KC}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},QC="react-flow__minimap-desc";function uy({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:l,bgColor:a,maskColor:u,maskStrokeColor:f,maskStrokeWidth:c,position:h="bottom-right",onClick:g,onNodeClick:x,pannable:v=!1,zoomable:b=!1,ariaLabel:m,inversePan:y,zoomStep:p=1,offsetScale:w=5}){const S=ye(),N=_.useRef(null),{boundingRect:k,viewBB:M,rfId:T,panZoom:$,translateExtent:R,flowWidth:L,flowHeight:F,ariaLabelConfig:E}=oe(XC,ge),I=(e==null?void 0:e.width)??YC,P=(e==null?void 0:e.height)??GC,A=k.width/I,C=k.height/P,j=Math.max(A,C),z=j*I,D=j*P,O=w*j,U=k.x-(z-k.width)/2-O,V=k.y-(D-k.height)/2-O,G=z+O*2,K=D+O*2,X=`${QC}-${T}`,H=_.useRef(0),Q=_.useRef();H.current=j,_.useEffect(()=>{if(N.current&&$)return Q.current=Zk({domNode:N.current,panZoom:$,getTransform:()=>S.getState().transform,getViewScale:()=>H.current}),()=>{var q;(q=Q.current)==null||q.destroy()}},[$]),_.useEffect(()=>{var q;(q=Q.current)==null||q.update({translateExtent:R,width:L,height:F,inversePan:y,pannable:v,zoomStep:p,zoomable:b})},[v,b,y,p,R,L,F]);const ne=g?q=>{var se;const[le,ce]=((se=Q.current)==null?void 0:se.pointer(q))||[0,0];g(q,{x:le,y:ce})}:void 0,J=x?_.useCallback((q,le)=>{const ce=S.getState().nodeLookup.get(le).internals.userNode;x(q,ce)},[]):void 0,Z=m??E["minimap.ariaLabel"];return d.jsx(Nl,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof c=="number"?c*j:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:Ee(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:d.jsxs("svg",{width:I,height:P,viewBox:`${U} ${V} ${G} ${K}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":X,ref:N,onClick:ne,children:[Z&&d.jsx("title",{id:X,children:Z}),d.jsx(WC,{onClick:J,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:l}),d.jsx("path",{className:"react-flow__minimap-mask",d:`M${U-O},${V-O}h${G+O*2}v${K+O*2}h${-G-O*2}z
        M${M.x},${M.y}h${M.width}v${M.height}h${-M.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}uy.displayName="MiniMap";const qC=_.memo(uy),ZC=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,JC={[Or.Line]:"right",[Or.Handle]:"bottom-right"};function ej({nodeId:e,position:t,variant:n=Or.Handle,className:r,style:o=void 0,children:i,color:s,minWidth:l=10,minHeight:a=10,maxWidth:u=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:c=!1,resizeDirection:h,autoScale:g=!0,shouldResize:x,onResizeStart:v,onResize:b,onResizeEnd:m}){const y=F0(),p=typeof e=="string"?e:y,w=ye(),S=_.useRef(null),N=n===Or.Handle,k=oe(_.useCallback(ZC(N&&g),[N,g]),ge),M=_.useRef(null),T=t??JC[n];_.useEffect(()=>{if(!(!S.current||!p))return M.current||(M.current=fE({domNode:S.current,nodeId:p,getStoreItems:()=>{const{nodeLookup:R,transform:L,snapGrid:F,snapToGrid:E,nodeOrigin:I,domNode:P}=w.getState();return{nodeLookup:R,transform:L,snapGrid:F,snapToGrid:E,nodeOrigin:I,paneDomNode:P}},onChange:(R,L)=>{const{triggerNodeChanges:F,nodeLookup:E,parentLookup:I,nodeOrigin:P}=w.getState(),A=[],C={x:R.x,y:R.y},j=E.get(p);if(j&&j.expandParent&&j.parentId){const z=j.origin??P,D=R.width??j.measured.width??0,O=R.height??j.measured.height??0,U={id:j.id,parentId:j.parentId,rect:{width:D,height:O,...i0({x:R.x??j.position.x,y:R.y??j.position.y},{width:D,height:O},j.parentId,E,z)}},V=Xc([U],E,I,P);A.push(...V),C.x=R.x?Math.max(z[0]*D,R.x):void 0,C.y=R.y?Math.max(z[1]*O,R.y):void 0}if(C.x!==void 0&&C.y!==void 0){const z={id:p,type:"position",position:{...C}};A.push(z)}if(R.width!==void 0&&R.height!==void 0){const D={id:p,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:R.width,height:R.height}};A.push(D)}for(const z of L){const D={...z,type:"position"};A.push(D)}F(A)},onEnd:({width:R,height:L})=>{const F={id:p,type:"dimensions",resizing:!1,dimensions:{width:R,height:L}};w.getState().triggerNodeChanges([F])}})),M.current.update({controlPosition:T,boundaries:{minWidth:l,minHeight:a,maxWidth:u,maxHeight:f},keepAspectRatio:c,resizeDirection:h,onResizeStart:v,onResize:b,onResizeEnd:m,shouldResize:x}),()=>{var R;(R=M.current)==null||R.destroy()}},[T,l,a,u,f,c,v,b,m,x]);const $=T.split("-");return d.jsx("div",{className:Ee(["react-flow__resize-control","nodrag",...$,n,r]),ref:S,style:{...o,scale:k,...s&&{[N?"backgroundColor":"borderColor"]:s}},children:i})}_.memo(ej);const Nh=e=>{let t;const n=new Set,r=(u,f)=>{const c=typeof u=="function"?u(t):u;if(!Object.is(c,t)){const h=t;t=f??(typeof c!="object"||c===null)?c:Object.assign({},t,c),n.forEach(g=>g(t,h))}},o=()=>t,l={setState:r,getState:o,getInitialState:()=>a,subscribe:u=>(n.add(u),()=>n.delete(u))},a=t=e(r,o,l);return l},tj=e=>e?Nh(e):Nh,nj=e=>e;function rj(e,t=nj){const n=ho.useSyncExternalStore(e.subscribe,ho.useCallback(()=>t(e.getState()),[e,t]),ho.useCallback(()=>t(e.getInitialState()),[e,t]));return ho.useDebugValue(n),n}const Ch=e=>{const t=tj(e),n=r=>rj(t,r);return Object.assign(n,t),n},cy=e=>e?Ch(e):Ch;function dy(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=dy(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function oj(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=dy(e))&&(r&&(r+=" "),r+=t);return r}const qc="-",ij=e=>{const t=lj(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const l=s.split(qc);return l[0]===""&&l.length!==1&&l.shift(),fy(l,t)||sj(s)},getConflictingClassGroupIds:(s,l)=>{const a=n[s]||[];return l&&r[s]?[...a,...r[s]]:a}}},fy=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?fy(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(qc);return(s=t.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId},jh=/^\[(.+)\]$/,sj=e=>{if(jh.test(e)){const t=jh.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},lj=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return uj(Object.entries(e.classGroups),n).forEach(([i,s])=>{Mu(s,r,i,t)}),r},Mu=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:Mh(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(aj(o)){Mu(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,s])=>{Mu(s,Mh(t,i),n,r)})})},Mh=(e,t)=>{let n=e;return t.split(qc).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},aj=e=>e.isThemeGetter,uj=(e,t)=>t?e.map(([n,r])=>{const o=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,l])=>[t+s,l])):i);return[n,o]}):e,cj=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let s=n.get(i);if(s!==void 0)return s;if((s=r.get(i))!==void 0)return o(i,s),s},set(i,s){n.has(i)?n.set(i,s):o(i,s)}}},hy="!",dj=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],i=t.length,s=l=>{const a=[];let u=0,f=0,c;for(let b=0;b<l.length;b++){let m=l[b];if(u===0){if(m===o&&(r||l.slice(b,b+i)===t)){a.push(l.slice(f,b)),f=b+i;continue}if(m==="/"){c=b;continue}}m==="["?u++:m==="]"&&u--}const h=a.length===0?l:l.substring(f),g=h.startsWith(hy),x=g?h.substring(1):h,v=c&&c>f?c-f:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:s}):s},fj=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},hj=e=>({cache:cj(e.cacheSize),parseClassName:dj(e),...ij(e)}),pj=/\s+/,mj=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=[],s=e.trim().split(pj);let l="";for(let a=s.length-1;a>=0;a-=1){const u=s[a],{modifiers:f,hasImportantModifier:c,baseClassName:h,maybePostfixModifierPosition:g}=n(u);let x=!!g,v=r(x?h.substring(0,g):h);if(!v){if(!x){l=u+(l.length>0?" "+l:l);continue}if(v=r(h),!v){l=u+(l.length>0?" "+l:l);continue}x=!1}const b=fj(f).join(":"),m=c?b+hy:b,y=m+v;if(i.includes(y))continue;i.push(y);const p=o(v,x);for(let w=0;w<p.length;++w){const S=p[w];i.push(m+S)}l=u+(l.length>0?" "+l:l)}return l};function gj(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=py(t))&&(r&&(r+=" "),r+=n);return r}const py=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=py(e[r]))&&(n&&(n+=" "),n+=t);return n};function yj(e,...t){let n,r,o,i=s;function s(a){const u=t.reduce((f,c)=>c(f),e());return n=hj(u),r=n.cache.get,o=n.cache.set,i=l,l(a)}function l(a){const u=r(a);if(u)return u;const f=mj(a,n);return o(a,f),f}return function(){return i(gj.apply(null,arguments))}}const de=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},my=/^\[(?:([a-z-]+):)?(.+)\]$/i,xj=/^\d+\/\d+$/,vj=new Set(["px","full","screen"]),wj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_j=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Sj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ot=e=>Er(e)||vj.has(e)||xj.test(e),ln=e=>Gr(e,"length",Lj),Er=e=>!!e&&!Number.isNaN(Number(e)),ya=e=>Gr(e,"number",Er),uo=e=>!!e&&Number.isInteger(Number(e)),Ej=e=>e.endsWith("%")&&Er(e.slice(0,-1)),te=e=>my.test(e),an=e=>wj.test(e),Nj=new Set(["length","size","percentage"]),Cj=e=>Gr(e,Nj,gy),jj=e=>Gr(e,"position",gy),Mj=new Set(["image","url"]),Pj=e=>Gr(e,Mj,Rj),Ij=e=>Gr(e,"",Tj),co=()=>!0,Gr=(e,t,n)=>{const r=my.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Lj=e=>bj.test(e)&&!_j.test(e),gy=()=>!1,Tj=e=>Sj.test(e),Rj=e=>kj.test(e),zj=()=>{const e=de("colors"),t=de("spacing"),n=de("blur"),r=de("brightness"),o=de("borderColor"),i=de("borderRadius"),s=de("borderSpacing"),l=de("borderWidth"),a=de("contrast"),u=de("grayscale"),f=de("hueRotate"),c=de("invert"),h=de("gap"),g=de("gradientColorStops"),x=de("gradientColorStopPositions"),v=de("inset"),b=de("margin"),m=de("opacity"),y=de("padding"),p=de("saturate"),w=de("scale"),S=de("sepia"),N=de("skew"),k=de("space"),M=de("translate"),T=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",te,t],L=()=>[te,t],F=()=>["",Ot,ln],E=()=>["auto",Er,te],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["solid","dashed","dotted","double","none"],A=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",te],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[Er,te];return{cacheSize:500,separator:":",theme:{colors:[co],spacing:[Ot,ln],blur:["none","",an,te],brightness:D(),borderColor:[e],borderRadius:["none","","full",an,te],borderSpacing:L(),borderWidth:F(),contrast:D(),grayscale:j(),hueRotate:D(),invert:j(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[Ej,ln],inset:R(),margin:R(),opacity:D(),padding:L(),saturate:D(),scale:D(),sepia:j(),skew:D(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",te]}],container:["container"],columns:[{columns:[an]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),te]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",uo,te]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",te]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",uo,te]}],"grid-cols":[{"grid-cols":[co]}],"col-start-end":[{col:["auto",{span:["full",uo,te]},te]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[co]}],"row-start-end":[{row:["auto",{span:[uo,te]},te]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",te]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",te,t]}],"min-w":[{"min-w":[te,t,"min","max","fit"]}],"max-w":[{"max-w":[te,t,"none","full","min","max","fit","prose",{screen:[an]},an]}],h:[{h:[te,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[te,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[te,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[te,t,"auto","min","max","fit"]}],"font-size":[{text:["base",an,ln]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ya]}],"font-family":[{font:[co]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",te]}],"line-clamp":[{"line-clamp":["none",Er,ya]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ot,te]}],"list-image":[{"list-image":["none",te]}],"list-style-type":[{list:["none","disc","decimal",te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ot,ln]}],"underline-offset":[{"underline-offset":["auto",Ot,te]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),jj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Cj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Pj]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...P(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:P()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...P()]}],"outline-offset":[{"outline-offset":[Ot,te]}],"outline-w":[{outline:[Ot,ln]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Ot,ln]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",an,Ij]}],"shadow-color":[{shadow:[co]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...A(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":A()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",an,te]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[p]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[p]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",te]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",te]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[uo,te]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",te]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",te]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",te]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ot,ln,ya]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Aj=yj(zj);function Fe(...e){return Aj(oj(e))}let Ph=0;function $j(e){return Ph++,`${e}_${Date.now()}_${Ph}`}function Dj(e,t,n){const r=n?`_${n}`:"";return`e_${e}${r}_${t}`}const Oj=new Set(["trigger_start"]),Fj=new Set(["action_handoff","utility_note"]);function Bj(e,t){return Oj.has(e)||t>0?null:{type:"orphan",severity:"error",message:"Bu adima hicbir yerden ulasilamiyor"}}function Hj(e,t){return Fj.has(e)||t>0?null:{type:"dead_end",severity:"warning",message:"Bu adimdan sonra devam eden bir baglanti yok"}}function Vj(e){const t=e.type,n=e.data;switch(t){case"message_text":{const r=n.text;if(!r||r.trim()==="")return{type:"empty_field",severity:"warning",message:"Mesaj metni bos"};break}case"message_menu":{const r=n.options;if(!r||r.length===0)return{type:"empty_field",severity:"warning",message:"Menu secenegi eklenmedi"};break}case"logic_condition":{const r=n;if(!r.variable||r.variable.trim()==="")return{type:"empty_field",severity:"warning",message:"Kosul degiskeni bos"};if(r.operator!=="is_empty"&&(!r.value||r.value.trim()===""))return{type:"empty_field",severity:"warning",message:"Kosul degeri bos"};break}case"logic_switch":{const r=n;if(!r.variable||r.variable.trim()==="")return{type:"empty_field",severity:"warning",message:"Switch degiskeni bos"};if(!r.cases||r.cases.length===0)return{type:"empty_field",severity:"warning",message:"Switch durumu eklenmedi"};break}case"action_delay":{const r=n;if(!r.seconds||r.seconds<=0)return{type:"empty_field",severity:"warning",message:"Bekleme suresi gecersiz"};break}case"utility_set_variable":{const r=n;if(!r.variable_name||r.variable_name.trim()==="")return{type:"empty_field",severity:"warning",message:"Degisken adi bos"};if(!r.value_expression||r.value_expression.trim()==="")return{type:"empty_field",severity:"warning",message:"Deger ifadesi bos"};break}case"ai_intent":{const r=n;if(!r.intents||r.intents.length===0)return{type:"empty_field",severity:"warning",message:"Intent listesi bos"};break}case"action_api_call":{const r=n;if(!r.url||r.url.trim()==="")return{type:"empty_field",severity:"warning",message:"API URL bos"};if(!r.method)return{type:"empty_field",severity:"warning",message:"HTTP metodu secilmedi"};break}}return null}function Uj(e,t){const n=new Map,r=new Map,o=new Map;for(const i of e)r.set(i.id,0),o.set(i.id,0);for(const i of t)r.set(i.target,(r.get(i.target)??0)+1),o.set(i.source,(o.get(i.source)??0)+1);for(const i of e){const s=[],l=i.type,a=r.get(i.id)??0,u=o.get(i.id)??0,f=Bj(l,a);f&&s.push(f);const c=Hj(l,u);c&&s.push(c);const h=Vj(i);h&&s.push(h),s.length>0&&n.set(i.id,s)}return n}function Wj(e){return e.length===0?null:e.some(n=>n.severity==="error")?"#ef4444":"#f97316"}function Yj(e){return e.map(t=>t.message).join(`
`)}const Gj=10;function Ih(e,t){const n={paths:[],reachableNodeIds:new Set,reachableEdgeIds:new Set},r=new Map;for(const c of t)r.has(c.source)||r.set(c.source,[]),r.get(c.source).push({target:c.target,edgeId:c.id});const o=e.find(c=>c.type==="trigger_start");if(!o)return n;const i=new Set(["action_handoff"]),s=new Map;for(const c of e)s.set(c.id,c.type??"");const l=[],a=[],u=new Set;function f(c){if(n.paths.length>=Gj)return;l.push(c),u.add(c),n.reachableNodeIds.add(c);const h=r.get(c)??[];if(i.has(s.get(c)??"")||h.length===0){n.paths.push([...l]);for(const x of a)n.reachableEdgeIds.add(x)}else for(const{target:x,edgeId:v}of h)u.has(x)||(n.reachableEdgeIds.add(v),n.reachableNodeIds.add(x),a.push(v),f(x),a.pop());l.pop(),u.delete(c)}return f(o.id),n}const Lh=Fs(),ee=cy((e,t)=>({nodes:[],edges:[],selectedNodeId:null,isDirty:!1,flowMetadata:{...Lh.metadata},flowSettings:{...Lh.settings},validationErrors:new Map,ghostPathEnabled:!1,ghostPathNodeIds:new Set,ghostPathEdgeIds:new Set,history:[],historyIndex:-1,revalidate:()=>{const n=t(),o={validationErrors:Uj(n.nodes,n.edges)};if(n.ghostPathEnabled){const i=Ih(n.nodes,n.edges);o.ghostPathNodeIds=i.reachableNodeIds,o.ghostPathEdgeIds=i.reachableEdgeIds}e(o)},toggleGhostPath:()=>{const n=t();if(!n.ghostPathEnabled){const o=Ih(n.nodes,n.edges);e({ghostPathEnabled:!0,ghostPathNodeIds:o.reachableNodeIds,ghostPathEdgeIds:o.reachableEdgeIds})}else e({ghostPathEnabled:!1,ghostPathNodeIds:new Set,ghostPathEdgeIds:new Set})},onNodesChange:n=>{e(r=>({nodes:R0(n,r.nodes),isDirty:!0})),queueMicrotask(()=>t().revalidate())},onEdgesChange:n=>{e(r=>({edges:z0(n,r.edges),isDirty:!0})),queueMicrotask(()=>t().revalidate())},onConnect:n=>{const r=Dj(n.source??"",n.target??"",n.sourceHandle??void 0);e(o=>(t().pushHistory(),{edges:d0({...n,id:r},o.edges),isDirty:!0})),queueMicrotask(()=>t().revalidate())},addNode:(n,r)=>{const o=xg(n);if(!o)return;const i=t();if(o.maxInstances&&i.nodes.filter(u=>u.type===n).length>=o.maxInstances)return;t().pushHistory();const s=$j(n),l={id:s,type:n,position:r,data:{...o.defaultData}};e({nodes:[...i.nodes,l],selectedNodeId:s,isDirty:!0}),queueMicrotask(()=>t().revalidate())},deleteNode:n=>{t().pushHistory(),e(r=>({nodes:r.nodes.filter(o=>o.id!==n),edges:r.edges.filter(o=>o.source!==n&&o.target!==n),selectedNodeId:r.selectedNodeId===n?null:r.selectedNodeId,isDirty:!0})),queueMicrotask(()=>t().revalidate())},updateNodeData:(n,r)=>{e(o=>({nodes:o.nodes.map(i=>i.id===n?{...i,data:{...i.data,...r}}:i),isDirty:!0})),queueMicrotask(()=>t().revalidate())},selectNode:n=>{e({selectedNodeId:n})},loadFlow:n=>{const r=Fs(),o=(n.nodes??[]).map(s=>({id:s.id,type:s.type,position:s.position,data:s.data})),i=(n.edges??[]).map(s=>({id:s.id,source:s.source,target:s.target,sourceHandle:s.sourceHandle,targetHandle:s.targetHandle}));e({nodes:o,edges:i,selectedNodeId:null,isDirty:!1,flowMetadata:{...r.metadata,...n.metadata},flowSettings:{...r.settings,...n.settings},history:[],historyIndex:-1}),queueMicrotask(()=>t().revalidate())},toFlowConfig:()=>{const n=t();return{version:2,metadata:n.flowMetadata,nodes:n.nodes.map(r=>({id:r.id,type:r.type,position:r.position,data:r.data})),edges:n.edges.map(r=>({id:r.id,source:r.source,target:r.target,sourceHandle:r.sourceHandle??void 0,targetHandle:r.targetHandle??void 0})),settings:n.flowSettings}},newFlow:()=>{const n=Fs();t().loadFlow(n),e({isDirty:!1})},setMetadata:n=>{e(r=>({flowMetadata:{...r.flowMetadata,...n},isDirty:!0}))},setSettings:n=>{e(r=>({flowSettings:{...r.flowSettings,...n},isDirty:!0}))},markClean:()=>e({isDirty:!1}),pushHistory:()=>{const n=t(),r={nodes:JSON.parse(JSON.stringify(n.nodes)),edges:JSON.parse(JSON.stringify(n.edges))},o=n.history.slice(0,n.historyIndex+1);o.push(r),o.length>50&&o.shift(),e({history:o,historyIndex:o.length-1})},undo:()=>{const n=t();if(n.historyIndex<0)return;const r=n.history[n.historyIndex];e({nodes:r.nodes,edges:r.edges,historyIndex:n.historyIndex-1,isDirty:!0}),queueMicrotask(()=>t().revalidate())},redo:()=>{const n=t();if(n.historyIndex>=n.history.length-1)return;const r=n.historyIndex+1;if(r+1<n.history.length){const o=n.history[r+1];e({nodes:o.nodes,edges:o.edges,historyIndex:r,isDirty:!0}),queueMicrotask(()=>t().revalidate())}}})),je=cy((e,t)=>({isOpen:!1,isLoading:!1,sessionId:null,messages:[],currentNodeId:null,variables:{},executionPath:[],status:null,pendingInput:null,error:null,open:()=>e({isOpen:!0}),close:()=>{const{sessionId:n}=t();n&&Sf(n).catch(r=>{console.warn("[SimulationStore] cleanup failed (session will expire via TTL):",r)}),e({isOpen:!1,sessionId:null,messages:[],currentNodeId:null,variables:{},executionPath:[],status:null,pendingInput:null,error:null,isLoading:!1})},start:async(n,r)=>{e({isLoading:!0,error:null,messages:[]});try{const o=await Ib(n,r);e({sessionId:o.session_id,messages:o.messages,currentNodeId:o.current_node_id,variables:o.variables,executionPath:o.execution_path,status:o.status,pendingInput:o.pending_input,isLoading:!1,isOpen:!0})}catch(o){const i=o instanceof at?`[${o.errorCode}] ${o.message}`:o instanceof Error?o.message:"Simulasyon baslatma hatasi";e({error:i,isLoading:!1})}},sendMessage:async n=>{const{sessionId:r,messages:o}=t();if(!r){console.warn("[SimulationStore] sendMessage called without active session");return}e({isLoading:!0,error:null});try{const i=await Lb(r,n);e({messages:[...o,...i.messages],currentNodeId:i.current_node_id,variables:i.variables,executionPath:i.execution_path,status:i.status,pendingInput:i.pending_input,isLoading:!1})}catch(i){const s=i instanceof at?`[${i.errorCode}] ${i.message}`:i instanceof Error?i.message:"Simulasyon adim hatasi";e({error:s,isLoading:!1})}},reset:()=>{const{sessionId:n}=t();n&&Sf(n).catch(r=>{console.warn("[SimulationStore] reset cleanup failed (session will expire via TTL):",r)}),e({sessionId:null,messages:[],currentNodeId:null,variables:{},executionPath:[],status:null,pendingInput:null,error:null,isLoading:!1})}}));function Kj({nodeProps:e,color:t,icon:n,children:r,outputs:o,hasInput:i=!0,hasDefaultOutput:s=!0}){const{id:l,data:a,selected:u}=e,f=ee(N=>N.selectNode),c=ee(N=>N.validationErrors.get(l)??[]),h=a.label??"",g=je(N=>N.currentNodeId),v=je(N=>N.isOpen)&&g===l,b=ee(N=>N.ghostPathEnabled),m=ee(N=>N.ghostPathNodeIds.has(l)),y=b&&!m,p=Wj(c),w=Yj(c),S=v?"0 0 0 3px #10b98160, 0 0 12px #10b98140":p&&!u?`0 0 0 3px ${p}40, 0 0 8px ${p}30`:void 0;return d.jsxs("div",{className:Fe("min-w-[180px] max-w-[260px] rounded-lg border-2 shadow-lg transition-all",u?"shadow-xl ring-2 ring-blue-400/50":"shadow-md",v&&"ring-2 ring-emerald-400/60"),style:{borderColor:v?"#10b981":u?"#60a5fa":t,background:"#ffffff",opacity:y?.3:1,...S?{boxShadow:S}:{}},onClick:()=>f(l),title:w||void 0,children:[d.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-t-md",style:{background:`${t}20`},children:[d.jsx("span",{className:"flex-shrink-0 w-5 h-5",style:{color:t},children:n}),d.jsx("span",{className:"text-base font-medium truncate text-slate-700",children:h})]}),r&&d.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:r}),i&&d.jsx(Hn,{type:"target",position:Y.Top,className:"!w-3 !h-3 !border-2 !bg-blue-500 !border-blue-300 hover:!bg-blue-300 hover:!border-blue-100 transition-colors"}),s&&!o&&d.jsx(Hn,{type:"source",position:Y.Bottom,className:"!w-3 !h-3 !border-2 !bg-emerald-500 !border-emerald-300 hover:!bg-emerald-300 hover:!border-emerald-100 transition-colors"}),o&&o.length>0&&d.jsx("div",{className:"relative pb-3",children:o.map((N,k)=>{const M=o.length,T=M===1?50:k/(M-1)*80+10;return d.jsxs("div",{children:[d.jsx(Hn,{type:"source",position:Y.Bottom,id:N.id,className:"!w-3 !h-3 !border-2 !bg-emerald-500 !border-emerald-300 hover:!bg-emerald-300 hover:!border-emerald-100 transition-colors",style:{left:`${T}%`}}),N.label&&d.jsx("span",{className:"absolute text-[11px] text-slate-400 whitespace-nowrap",style:{left:`${T}%`,bottom:"2px",transform:"translateX(-50%)"},children:N.label})]},N.id)})})]})}const Ct=_.memo(Kj),Xj=()=>d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:d.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})});function Qj(e){return d.jsx(Ct,{nodeProps:e,color:"#10b981",icon:d.jsx(Xj,{}),hasInput:!1,children:d.jsx("span",{className:"text-emerald-400/70",children:"Musteri mesaj gonderince baslar"})})}const qj=_.memo(Qj),Zj=()=>d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:d.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})});function Jj(e){const t=e.data,n=t.text?t.text.length>60?t.text.substring(0,60)+"...":t.text:"Mesaj metni girilmedi";return d.jsx(Ct,{nodeProps:e,color:"#3b82f6",icon:d.jsx(Zj,{}),children:d.jsx("span",{className:t.text?"text-slate-300":"text-slate-500 italic",children:n})})}const e3=_.memo(Jj),t3=()=>d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[d.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),d.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),d.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),d.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),d.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),d.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]});function n3(e){const n=e.data.options??[],r=n.map(o=>({id:o.handle_id,label:o.key}));return d.jsx(Ct,{nodeProps:e,color:"#3b82f6",icon:d.jsx(t3,{}),hasDefaultOutput:!1,outputs:r,children:d.jsxs("div",{className:"space-y-1",children:[n.length===0&&d.jsx("span",{className:"text-slate-400 italic",children:"Secenek eklenmedi"}),n.map(o=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("span",{className:"w-5 h-5 rounded bg-blue-500/20 text-blue-400 flex items-center justify-center text-xs font-bold flex-shrink-0",children:o.key}),d.jsx("span",{className:"text-slate-600 truncate",children:o.label})]},o.handle_id))]})})}const r3=_.memo(n3),o3=()=>d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[d.jsx("circle",{cx:"18",cy:"18",r:"3"}),d.jsx("circle",{cx:"6",cy:"6",r:"3"}),d.jsx("path",{d:"M6 21V9a9 9 0 0 0 9 9"})]}),i3={equals:"=",contains:"",starts_with:"^",greater_than:">",less_than:"<",is_empty:"",regex:"~"};function s3(e){const t=e.data,n=i3[t.operator]??t.operator,r=t.variable&&t.operator,o=[{id:"true_handle",label:"DOGRU"},{id:"false_handle",label:"YANLIS"}];return d.jsx(Ct,{nodeProps:e,color:"#f59e0b",icon:d.jsx(o3,{}),hasDefaultOutput:!1,outputs:o,children:r?d.jsxs("span",{className:"text-slate-300 font-mono text-xs",children:[t.variable," ",n," ",t.operator==="is_empty"?"":t.value||"?"]}):d.jsx("span",{className:"text-slate-500 italic",children:"Kosul tanimlanmadi"})})}const l3=_.memo(s3),a3=()=>d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[d.jsx("polyline",{points:"16 3 21 3 21 8"}),d.jsx("line",{x1:"4",y1:"20",x2:"21",y2:"3"}),d.jsx("polyline",{points:"21 16 21 21 16 21"}),d.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),d.jsx("line",{x1:"4",y1:"4",x2:"9",y2:"9"})]});function u3(e){const t=e.data,n=t.cases??[],r=[...n.map(o=>({id:o.handle_id,label:o.value||o.handle_id})),{id:t.default_handle_id||"default",label:"VARSAYILAN"}];return d.jsx(Ct,{nodeProps:e,color:"#f59e0b",icon:d.jsx(a3,{}),hasDefaultOutput:!1,outputs:r,children:d.jsxs("div",{className:"space-y-1",children:[!t.variable&&n.length===0&&d.jsx("span",{className:"text-slate-500 italic",children:"Switch tanimlanmadi"}),t.variable&&d.jsx("span",{className:"text-slate-400 text-xs font-mono",children:t.variable}),n.length>0&&d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:n.map(o=>d.jsx("span",{className:"px-1.5 py-0.5 rounded bg-amber-500/20 text-amber-400 text-xs",children:o.value||"?"},o.handle_id))})]})})}const c3=_.memo(u3),d3=()=>d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[d.jsx("path",{d:"M12 2a4 4 0 0 1 4 4c0 1.95-1.4 3.58-3.25 3.93"}),d.jsx("path",{d:"M12 2a4 4 0 0 0-4 4c0 1.95 1.4 3.58 3.25 3.93"}),d.jsx("path",{d:"M12 10v4"}),d.jsx("path",{d:"M8 18h8"}),d.jsx("path",{d:"M10 22h4"})]});function f3(e){var i;const t=e.data,n=((i=t.intents)==null?void 0:i.length)??0,r=t.confidence_threshold??.5,o=[{id:"high_confidence",label:"YUKSEK"},{id:"low_confidence",label:"DUSUK"}];return d.jsx(Ct,{nodeProps:e,color:"#8b5cf6",icon:d.jsx(d3,{}),hasDefaultOutput:!1,outputs:o,children:n>0?d.jsxs("span",{className:"text-slate-300 text-xs",children:[n," intent  esik: ",(r*100).toFixed(0),"%"]}):d.jsx("span",{className:"text-slate-500 italic text-xs",children:"Intent tanimlanmadi"})})}const h3=_.memo(f3),p3=()=>d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M9 9h.01"}),d.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),d.jsx("path",{d:"M12 17h.01"})]});function m3(e){const n=e.data.min_confidence??.3,r=[{id:"matched",label:"ESLESTI"},{id:"no_match",label:"ESLESMEDI"}];return d.jsx(Ct,{nodeProps:e,color:"#8b5cf6",icon:d.jsx(p3,{}),hasDefaultOutput:!1,outputs:r,children:d.jsxs("span",{className:"text-slate-300 text-xs",children:["Min guven: ",(n*100).toFixed(0),"%"]})})}const g3=_.memo(m3),y3=()=>d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("polyline",{points:"12 6 12 12 16 14"})]});function x3(e){const n=e.data.seconds??5;return d.jsx(Ct,{nodeProps:e,color:"#ef4444",icon:d.jsx(y3,{}),children:d.jsxs("span",{className:"text-slate-300",children:[n," saniye"]})})}const v3=_.memo(x3),w3=()=>d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[d.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),d.jsx("polyline",{points:"17 11 19 13 23 9"})]});function b3(e){const t=e.data;return d.jsx(Ct,{nodeProps:e,color:"#ef4444",icon:d.jsx(w3,{}),hasDefaultOutput:!1,children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("span",{className:"text-red-400/70",children:"Terminal - session biter"}),t.summary_template&&d.jsxs("div",{className:"text-slate-400 text-[10px] mt-1 truncate",children:["Ozet: ",t.summary_template]})]})})}const _3=_.memo(b3),S3=()=>d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[d.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),d.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]});function k3(e){const t=e.data,n=t.method||"GET",r=t.url||"",o=r.length>25?r.substring(0,25)+"...":r,i=[{id:"success",label:"BASARILI"},{id:"error",label:"HATA"}];return d.jsx(Ct,{nodeProps:e,color:"#ef4444",icon:d.jsx(S3,{}),hasDefaultOutput:!1,outputs:i,children:r?d.jsxs("span",{className:"text-slate-300 font-mono text-xs",children:[n," ",o]}):d.jsx("span",{className:"text-slate-500 italic text-xs",children:"URL girilmedi"})})}const E3=_.memo(k3),N3=()=>d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[d.jsx("polyline",{points:"16 18 22 12 16 6"}),d.jsx("polyline",{points:"8 6 2 12 8 18"})]});function C3(e){const t=e.data,n=t.variable_name&&t.value_expression;return d.jsx(Ct,{nodeProps:e,color:"#6b7280",icon:d.jsx(N3,{}),children:n?d.jsxs("span",{className:"text-slate-300 font-mono text-xs",children:[t.variable_name," = ",t.value_expression.length>30?t.value_expression.substring(0,30)+"...":t.value_expression]}):d.jsx("span",{className:"text-slate-500 italic",children:"Degisken atamasi tanimlanmadi"})})}const j3=_.memo(C3);function M3(e){const{id:t,data:n,selected:r}=e,o=n,i=ee(l=>l.selectNode),s=o.color||"#fef3c7";return d.jsxs("div",{className:"min-w-[160px] max-w-[280px] rounded-lg shadow-md transition-shadow",style:{background:s,border:r?"2px solid #60a5fa":"2px dashed #d4a574",boxShadow:r?"0 0 0 2px rgba(96,165,250,0.3)":void 0},onClick:()=>i(t),children:[d.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 border-b border-amber-300/50",children:[d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#92400e",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 flex-shrink-0",children:[d.jsx("line",{x1:"18",y1:"2",x2:"22",y2:"6"}),d.jsx("path",{d:"M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"})]}),d.jsx("span",{className:"text-xs font-medium text-amber-900 truncate",children:o.label||"Not"})]}),o.text&&d.jsx("div",{className:"px-3 py-2 text-xs text-amber-800 whitespace-pre-wrap break-words",children:o.text.length>120?o.text.substring(0,120)+"...":o.text}),!o.text&&d.jsx("div",{className:"px-3 py-2 text-xs text-amber-600/60 italic",children:"Not metni girilmedi"})]})}const P3=_.memo(M3),I3={trigger_start:qj,message_text:e3,message_menu:r3,logic_condition:l3,logic_switch:c3,ai_intent:h3,ai_faq:g3,action_delay:v3,action_handoff:_3,action_api_call:E3,utility_set_variable:j3,utility_note:P3};function L3({id:e,sourceX:t,sourceY:n,targetX:r,targetY:o,sourcePosition:i,targetPosition:s,style:l={},markerEnd:a,selected:u}){const{setEdges:f}=Cl(),[c,h,g]=Uc({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:o,targetPosition:s}),x=v=>{v.stopPropagation(),f(b=>b.filter(m=>m.id!==e))};return d.jsxs(d.Fragment,{children:[d.jsx(wi,{path:c,markerEnd:a,style:{...l,stroke:u?"#3b82f6":"#94a3b8",strokeWidth:u?3:2}}),d.jsx(NC,{children:d.jsx("div",{className:"nodrag nopan pointer-events-auto group",style:{position:"absolute",transform:`translate(-50%, -50%) translate(${h}px,${g}px)`},children:d.jsx("button",{onClick:x,className:"w-5 h-5 rounded-full bg-white border border-slate-300 flex items-center justify-center opacity-0 group-hover:opacity-100 hover:bg-red-500 hover:border-red-400 transition-all duration-150 cursor-pointer shadow-sm",title:"Baglantiyi Sil",children:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"w-2.5 h-2.5 text-slate-500 hover:text-white",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})})]})}const T3={deletable:L3};function R3(){const e=_.useRef(null),t=_.useRef(null),n=ee(p=>p.nodes),r=ee(p=>p.edges),o=ee(p=>p.onNodesChange),i=ee(p=>p.onEdgesChange),s=ee(p=>p.onConnect),l=ee(p=>p.addNode),a=ee(p=>p.selectNode),u=ee(p=>p.deleteNode),f=ee(p=>p.ghostPathEnabled),c=ee(p=>p.ghostPathEdgeIds),h=_.useMemo(()=>f?r.map(p=>{const w=c.has(p.id);return{...p,style:w?{stroke:"#a855f7",strokeWidth:3}:{stroke:"#94a3b8",strokeWidth:2,opacity:.3},animated:w}}):r,[r,f,c]),g=_.useCallback(p=>{t.current=p},[]),x=_.useCallback(p=>{p.preventDefault(),p.dataTransfer.dropEffect="move"},[]),v=_.useCallback(p=>{p.preventDefault();const w=p.dataTransfer.getData("application/invekto-node-type");if(!w||!t.current||!e.current)return;const S=e.current.getBoundingClientRect(),N=t.current.screenToFlowPosition({x:p.clientX-S.left,y:p.clientY-S.top});l(w,N)},[l]),b=_.useCallback(p=>p.source!==p.target,[]),m=_.useCallback(()=>{a(null)},[a]),y=_.useCallback(p=>{if(p.key==="Delete"||p.key==="Backspace"){const w=ee.getState().selectedNodeId;if(w){const S=ee.getState().nodes.find(N=>N.id===w);if((S==null?void 0:S.type)==="trigger_start")return;u(w)}}},[u]);return d.jsx("div",{ref:e,className:"flex-1 min-h-0",onKeyDown:y,tabIndex:0,children:d.jsxs(kC,{nodes:n,edges:h,onNodesChange:o,onEdgesChange:i,onConnect:s,onInit:g,onDrop:v,onDragOver:x,onPaneClick:m,isValidConnection:b,nodeTypes:I3,edgeTypes:T3,fitView:!0,fitViewOptions:{padding:.2},deleteKeyCode:["Delete","Backspace"],defaultEdgeOptions:{type:"deletable",animated:!0,style:{stroke:"#94a3b8",strokeWidth:2},interactionWidth:20},connectionLineStyle:{stroke:"#3b82f6",strokeWidth:2},edgesReconnectable:!0,proOptions:{hideAttribution:!0},children:[d.jsx(IC,{variant:Gt.Dots,gap:20,size:1,color:"#cbd5e1"}),d.jsx(DC,{showInteractive:!1,position:"bottom-right"}),d.jsx(qC,{nodeColor:p=>{switch(p.type){case"trigger_start":return"#10b981";case"message_text":return"#3b82f6";case"message_menu":return"#3b82f6";case"action_handoff":return"#ef4444";case"logic_condition":return"#f59e0b";case"ai_intent":return"#8b5cf6";case"ai_faq":return"#8b5cf6";default:return"#6b7280"}},maskColor:"rgba(241, 245, 249, 0.8)",position:"bottom-left"})]})})}const xa=5;function z3(e){var r;const t=e.data,n=e.type;switch(n){case"trigger_start":return"Musteri mesaj gonderir";case"message_text":{const o=t.text;return!o||o.trim()===""?"Mesaj (bos)":o.length>40?o.substring(0,40)+"...":o}case"message_menu":return`Menu: ${t.text||"Secim yapin"}`;case"logic_condition":{const o=t;return`Kosul: ${o.variable||"?"} ${o.operator||"?"} ${o.value||""}`.trim()}case"logic_switch":return`Switch: ${t.variable||"?"}`;case"action_delay":return`Bekle: ${t.seconds??5}sn`;case"utility_set_variable":{const o=t,i=o.value_expression?o.value_expression.length>20?o.value_expression.substring(0,20)+"...":o.value_expression:"?";return`${o.variable_name||"?"} = ${i}`}case"ai_intent":{const i=((r=t.intents)==null?void 0:r.length)??0;return i>0?`Intent algilama (${i} intent)`:"Intent algilama"}case"ai_faq":return`FAQ eslesme (min ${((t.min_confidence??.3)*100).toFixed(0)}%)`;case"action_api_call":{const o=t,i=o.method||"GET",s=o.url||"?",l=s.length>25?s.substring(0,25)+"...":s;return`${i} ${l}`}case"action_handoff":return"Temsilciye aktar";case"utility_note":return"";default:return t.label||n}}function A3(e,t){if(e.length===0)return{lines:[],totalSteps:0,hasErrors:!1};const n=e.find(a=>a.type==="trigger_start");if(!n)return{lines:[{text:"Baslangic adimi bulunamadi",indent:0,nodeType:"trigger_start"}],totalSteps:0,hasErrors:!0};const r=new Map;for(const a of t){const u=r.get(a.source)??[];u.push({target:a.target,sourceHandle:a.sourceHandle??void 0}),r.set(a.source,u)}const o=new Map(e.map(a=>[a.id,a])),i=[],s=new Set;function l(a,u){if(s.has(a))return;s.add(a);const f=o.get(a);if(!f)return;const c=f.type;if(c!=="utility_note"){const g=z3(f);g&&i.push({text:g,indent:u,nodeType:c})}if(c==="message_menu"){const g=f.data,x=r.get(a)??[];for(const v of g.options??[]){i.push({text:`${v.key}. ${v.label}`,indent:u+1,nodeType:"message_menu"});const b=x.find(m=>m.sourceHandle===v.handle_id);b&&l(b.target,u+2)}return}if(c==="logic_condition"){const g=r.get(a)??[];for(const[x,v]of[["true_handle","DOGRU"],["false_handle","YANLIS"]]){i.push({text:v,indent:u+1,nodeType:"logic_condition"});const b=g.find(m=>m.sourceHandle===x);b&&l(b.target,u+2)}return}if(c==="logic_switch"){const g=f.data,x=r.get(a)??[];for(const m of g.cases??[]){i.push({text:m.value||"?",indent:u+1,nodeType:"logic_switch"});const y=x.find(p=>p.sourceHandle===m.handle_id);y&&l(y.target,u+2)}const v=g.default_handle_id||"default";i.push({text:"VARSAYILAN",indent:u+1,nodeType:"logic_switch"});const b=x.find(m=>m.sourceHandle===v);b&&l(b.target,u+2);return}if(c==="ai_intent"){const g=r.get(a)??[];for(const[x,v]of[["high_confidence","YUKSEK"],["low_confidence","DUSUK"]]){i.push({text:v,indent:u+1,nodeType:"ai_intent"});const b=g.find(m=>m.sourceHandle===x);b&&l(b.target,u+2)}return}if(c==="ai_faq"){const g=r.get(a)??[];for(const[x,v]of[["matched","ESLESTI"],["no_match","ESLESMEDI"]]){i.push({text:v,indent:u+1,nodeType:"ai_faq"});const b=g.find(m=>m.sourceHandle===x);b&&l(b.target,u+2)}return}if(c==="action_api_call"){const g=r.get(a)??[];for(const[x,v]of[["success","BASARILI"],["error","HATA"]]){i.push({text:v,indent:u+1,nodeType:"action_api_call"});const b=g.find(m=>m.sourceHandle===x);b&&l(b.target,u+2)}return}const h=r.get(a)??[];for(const g of h)l(g.target,u)}return l(n.id,0),{lines:i,totalSteps:i.length,hasErrors:!1}}function $3(e){return e.lines.length<=xa?{displayLines:e.lines,truncatedCount:0}:{displayLines:e.lines.slice(0,xa),truncatedCount:e.lines.length-xa}}const Th="invekto_flow_summary_collapsed";function D3(e){switch(e){case"trigger_start":return"";case"message_text":return"";case"message_menu":return"";case"action_handoff":return"";default:return""}}function O3({line:e}){const t=e.indent*16;return d.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-600 leading-5",style:{paddingLeft:t},children:[d.jsx("span",{className:"flex-shrink-0 text-[10px]",children:D3(e.nodeType)}),d.jsx("span",{className:"truncate",children:e.text})]})}function F3(){const e=ee(a=>a.nodes),t=ee(a=>a.edges),[n,r]=_.useState(()=>{try{return localStorage.getItem(Th)==="true"}catch(a){return console.warn("FlowSummaryBar: localStorage okunamadi",a),!1}});_.useEffect(()=>{try{localStorage.setItem(Th,String(n))}catch(a){console.warn("FlowSummaryBar: localStorage yazilamadi",a)}},[n]);const o=_.useMemo(()=>A3(e,t),[e,t]),{displayLines:i,truncatedCount:s}=_.useMemo(()=>$3(o),[o]),l=o.lines.length>0;return d.jsxs("div",{className:"border-t border-slate-200 bg-white flex-shrink-0",children:[d.jsxs("button",{onClick:()=>r(a=>!a),className:"w-full flex items-center justify-between px-4 py-1.5 text-xs font-medium text-slate-500 hover:bg-slate-50 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`w-3 h-3 transition-transform ${n?"":"rotate-180"}`,children:d.jsx("polyline",{points:"6 9 12 15 18 9"})}),d.jsx("span",{children:"Canli Onizleme"}),l&&d.jsxs("span",{className:"text-slate-400",children:["(",o.totalSteps," adim)"]})]}),o.hasErrors&&d.jsx("span",{className:"text-red-500 text-[10px]",children:"Baslangic bulunamadi"})]}),!n&&d.jsxs("div",{className:"px-4 pb-2 space-y-0.5",children:[!l&&!o.hasErrors&&d.jsx("div",{className:"text-xs text-slate-400 italic py-1",children:"Henuz adim eklenmedi"}),i.map((a,u)=>d.jsx(O3,{line:a},u)),s>0&&d.jsxs("div",{className:"text-xs text-slate-400 italic mt-1",children:["... ve ",s," adim daha"]})]})]})}const B3=_.memo(F3),H3={trigger:"Tetikleyici",message:"Mesaj",logic:"Mantik",ai:"Yapay Zeka",action:"Aksiyon",utility:"Araclar"},yy=["trigger","message","logic","ai","action","utility"];function V3(e){const t=new Map;for(const n of yy){const r=e.filter(o=>o.category===n);r.length>0&&t.set(n,r)}return t}function U3({info:e}){const t=(n,r)=>{n.dataTransfer.setData("application/invekto-node-type",r),n.dataTransfer.effectAllowed="move"};return d.jsxs("div",{draggable:!0,onDragStart:n=>t(n,e.type),className:Fe("flex items-center gap-2 px-3 py-2 rounded-md cursor-grab active:cursor-grabbing","border border-transparent hover:border-slate-300 transition-colors","bg-slate-50 hover:bg-slate-100"),children:[d.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:e.color}}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"text-xs font-medium text-slate-700 truncate",children:e.label}),d.jsx("div",{className:"text-[10px] text-slate-400 truncate",children:e.description})]})]})}function W3(){const e=V3(yg);return d.jsxs("div",{className:"w-52 bg-white border-r border-slate-200 overflow-y-auto flex-shrink-0",children:[d.jsxs("div",{className:"p-3 border-b border-slate-200",children:[d.jsx("h2",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Node'lar"}),d.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:"Surukle birak"})]}),d.jsx("div",{className:"p-2 space-y-3",children:yy.map(t=>{const n=e.get(t);return n?d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-wider px-1 mb-1",children:H3[t]}),d.jsx("div",{className:"space-y-1",children:n.map(r=>d.jsx(U3,{info:r},r.type))})]},t):null})})]})}function Y3({onSave:e,isSaving:t,onBack:n,onTest:r}){const o=ee(v=>v.isDirty),i=je(v=>v.isOpen),s=je(v=>v.isLoading),l=ee(v=>v.flowMetadata),a=ee(v=>v.setMetadata),u=ee(v=>v.undo),f=ee(v=>v.redo),c=ee(v=>v.historyIndex),h=ee(v=>v.history.length),g=c>=0,x=c<h-1;return d.jsxs("div",{className:"h-12 bg-white border-b border-slate-200 flex items-center px-4 gap-3 flex-shrink-0 shadow-sm",children:[n&&d.jsx("button",{onClick:n,className:"p-1.5 rounded hover:bg-slate-100 transition-colors text-slate-600",title:"Flow Listesine Don",children:d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:d.jsx("polyline",{points:"15 18 9 12 15 6"})})}),d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsx("input",{type:"text",value:l.name,onChange:v=>a({name:v.target.value}),className:"bg-transparent text-sm font-medium text-slate-900 border-none outline-none w-40 focus:ring-1 focus:ring-blue-500/50 rounded px-2 py-1",placeholder:"Flow Adi"}),d.jsx("span",{className:"text-slate-300",children:"|"}),d.jsx("input",{type:"text",value:l.description??"",onChange:v=>a({description:v.target.value}),className:"bg-transparent text-xs text-slate-500 border-none outline-none w-56 focus:ring-1 focus:ring-blue-500/50 rounded px-2 py-1",placeholder:"Flow aciklamasi..."})]}),o&&d.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400 flex-shrink-0",title:"Kaydedilmemis degisiklikler"}),d.jsx("div",{className:"flex-1"}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:u,disabled:!g,className:Fe("p-1.5 rounded hover:bg-slate-100 transition-colors",g?"text-slate-600":"text-slate-300 cursor-not-allowed"),title:"Geri Al (Ctrl+Z)",children:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[d.jsx("polyline",{points:"1 4 1 10 7 10"}),d.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]})}),d.jsx("button",{onClick:f,disabled:!x,className:Fe("p-1.5 rounded hover:bg-slate-100 transition-colors",x?"text-slate-600":"text-slate-300 cursor-not-allowed"),title:"Ileri Al (Ctrl+Y)",children:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[d.jsx("polyline",{points:"23 4 23 10 17 10"}),d.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]})})]}),d.jsx("div",{className:"w-px h-6 bg-slate-200"}),d.jsx(G3,{}),d.jsxs("button",{onClick:r,disabled:s||t,className:Fe("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium transition-colors",i?"bg-emerald-100 text-emerald-700 border border-emerald-300":s||t?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-500 text-white"),title:o?"Once flow'u kaydedin":"Tek Tikla Test",children:[d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:d.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),s?"Baslatiliyor...":"Test Et"]}),d.jsxs("button",{onClick:e,disabled:t||!o,className:Fe("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium transition-colors",o&&!t?"bg-blue-600 hover:bg-blue-500 text-white":"bg-slate-100 text-slate-400 cursor-not-allowed"),children:[d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[d.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),d.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),d.jsx("polyline",{points:"7 3 7 8 15 8"})]}),t?"Kaydediliyor...":"Kaydet"]})]})}function G3(){const e=ee(n=>n.ghostPathEnabled),t=ee(n=>n.toggleGhostPath);return d.jsxs("button",{onClick:t,className:Fe("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium transition-colors",e?"bg-purple-500 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-600"),title:"Baslangictan ulasilan yollari goster/gizle",children:[d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[d.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Yollari Goster"]})}function K3({role:e,text:t}){if(e==="system")return d.jsx("div",{className:"flex justify-center my-1",children:d.jsx("span",{className:"text-[11px] text-slate-400 bg-slate-100 rounded-full px-3 py-1 max-w-[90%] text-center",children:t})});const n=e==="bot";return d.jsx("div",{className:Fe("flex mb-2",n?"justify-start":"justify-end"),children:d.jsx("div",{className:Fe("max-w-[85%] rounded-lg px-3 py-2 text-sm whitespace-pre-wrap break-words",n?"bg-white text-slate-800 border border-slate-200 rounded-tl-none":"bg-emerald-500 text-white rounded-tr-none"),children:t})})}const X3=_.memo(K3);function Q3(){const e=je(k=>k.isOpen),t=je(k=>k.isLoading),n=je(k=>k.messages),r=je(k=>k.status),o=je(k=>k.pendingInput),i=je(k=>k.error),s=je(k=>k.variables),l=je(k=>k.executionPath),a=je(k=>k.sendMessage),u=je(k=>k.close),f=je(k=>k.reset),[c,h]=_.useState(""),[g,x]=_.useState("chat"),v=_.useRef(null),b=_.useRef(null);_.useEffect(()=>{var k;(k=v.current)==null||k.scrollIntoView({behavior:"smooth"})},[n]),_.useEffect(()=>{var k;e&&!t&&g==="chat"&&((k=b.current)==null||k.focus())},[e,t,g]);const m=_.useCallback(()=>{const k=c.trim();!k||t||(h(""),a(k))},[c,t,a]),y=_.useCallback(k=>{t||a(k)},[t,a]),p=_.useCallback(k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),m())},[m]);if(!e)return null;const w=r==="completed"||r==="error"||r==="handed_off",S=(o==null?void 0:o.type)==="menu"&&o.options&&!w,N=Object.entries(s);return d.jsxs("div",{className:"w-[280px] flex-shrink-0 border-l border-slate-200 bg-slate-50 flex flex-col",children:[d.jsxs("div",{className:"h-10 bg-emerald-600 flex items-center px-3 gap-2 flex-shrink-0",children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-400 flex items-center justify-center",children:d.jsx("svg",{viewBox:"0 0 24 24",fill:"white",className:"w-3.5 h-3.5",children:d.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),d.jsx("span",{className:"text-white text-xs font-medium flex-1",children:"Simulasyon"}),d.jsx("button",{onClick:f,className:"p-1 rounded hover:bg-emerald-500 transition-colors text-emerald-200 hover:text-white",title:"Yeniden Baslat",children:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[d.jsx("polyline",{points:"1 4 1 10 7 10"}),d.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]})}),d.jsx("button",{onClick:u,className:"p-1 rounded hover:bg-emerald-500 transition-colors text-emerald-200 hover:text-white",title:"Kapat",children:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),d.jsxs("div",{className:"flex border-b border-slate-200 bg-white flex-shrink-0",children:[d.jsx("button",{onClick:()=>x("chat"),className:Fe("flex-1 px-3 py-1.5 text-xs font-medium transition-colors",g==="chat"?"text-emerald-700 border-b-2 border-emerald-500":"text-slate-500 hover:text-slate-700"),children:"Sohbet"}),d.jsx("button",{onClick:()=>x("variables"),className:Fe("flex-1 px-3 py-1.5 text-xs font-medium transition-colors",g==="variables"?"text-emerald-700 border-b-2 border-emerald-500":"text-slate-500 hover:text-slate-700"),children:"Degiskenler"})]}),g==="chat"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex-1 overflow-y-auto px-3 py-3 min-h-0",children:[n.length===0&&!t&&d.jsx("div",{className:"text-xs text-slate-400 text-center mt-8",children:"Simulasyon baslatiliyor..."}),n.map((k,M)=>d.jsx(X3,{role:k.role,text:k.text},M)),t&&d.jsx("div",{className:"flex justify-start mb-2",children:d.jsx("div",{className:"bg-white border border-slate-200 rounded-lg rounded-tl-none px-3 py-2",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx("span",{className:"w-1.5 h-1.5 bg-slate-300 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),d.jsx("span",{className:"w-1.5 h-1.5 bg-slate-300 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),d.jsx("span",{className:"w-1.5 h-1.5 bg-slate-300 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),d.jsx("div",{ref:v})]}),i&&d.jsx("div",{className:"px-3 py-2 bg-red-50 border-t border-red-200 text-xs text-red-600",children:i}),w&&d.jsxs("div",{className:"px-3 py-2 bg-slate-100 border-t border-slate-200 text-xs text-slate-500 text-center",children:[r==="completed"&&"Akis tamamlandi.",r==="error"&&"Akis hata ile sonlandi.",r==="handed_off"&&"Musteri temsilcisine yonlendirildi.",d.jsx("button",{onClick:f,className:"ml-2 text-blue-600 hover:text-blue-500 underline",children:"Yeniden Baslat"})]}),S&&d.jsx("div",{className:"px-3 py-2 border-t border-slate-200 bg-white flex flex-wrap gap-1.5",children:o.options.map(k=>d.jsx("button",{onClick:()=>y(k),disabled:t,className:Fe("px-2.5 py-1 text-xs rounded-full border transition-colors",t?"border-slate-200 text-slate-300 cursor-not-allowed":"border-emerald-300 text-emerald-700 bg-emerald-50 hover:bg-emerald-100"),children:k},k))}),!w&&d.jsxs("div",{className:"px-3 py-2 border-t border-slate-200 bg-white flex gap-2 flex-shrink-0",children:[d.jsx("input",{ref:b,type:"text",value:c,onChange:k=>h(k.target.value),onKeyDown:p,placeholder:(o==null?void 0:o.type)==="menu"?"Secenek secin veya yazin...":"Mesaj yazin...",disabled:t,className:"flex-1 text-xs border border-slate-200 rounded-full px-3 py-1.5 outline-none focus:border-emerald-400 focus:ring-1 focus:ring-emerald-400/30 disabled:bg-slate-50"}),d.jsx("button",{onClick:m,disabled:t||!c.trim(),className:Fe("w-7 h-7 rounded-full flex items-center justify-center flex-shrink-0 transition-colors",c.trim()&&!t?"bg-emerald-500 hover:bg-emerald-400 text-white":"bg-slate-100 text-slate-300 cursor-not-allowed"),children:d.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-3.5 h-3.5",children:d.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})})})]})]}),g==="variables"&&d.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[l.length>0&&d.jsxs("div",{className:"px-3 py-2 border-b border-slate-200 bg-white",children:[d.jsx("span",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-wider",children:"Yol"}),d.jsx("div",{className:"mt-1 flex flex-wrap gap-0.5",children:l.map((k,M)=>d.jsxs("span",{className:"inline-flex items-center",children:[d.jsx("span",{className:"text-[10px] text-slate-500 bg-slate-100 rounded px-1 py-0.5 font-mono",children:k.length>16?`${k.slice(0,16)}..`:k}),M<l.length-1&&d.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3 text-slate-300 mx-0.5",children:d.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]},M))})]}),d.jsxs("div",{className:"px-3 py-2",children:[d.jsx("span",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-wider",children:"Degiskenler"}),N.length===0?d.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"Henuz degisken yok."}):d.jsxs("table",{className:"w-full mt-1.5 text-xs",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-slate-200",children:[d.jsx("th",{className:"text-left py-1 font-medium text-slate-500 pr-2",children:"Anahtar"}),d.jsx("th",{className:"text-left py-1 font-medium text-slate-500",children:"Deger"})]})}),d.jsx("tbody",{children:N.map(([k,M])=>d.jsxs("tr",{className:"border-b border-slate-100",children:[d.jsx("td",{className:"py-1 pr-2 font-mono text-purple-600 break-all",children:k}),d.jsx("td",{className:"py-1 text-slate-700 break-all",children:M})]},k))})]})]})]})]})}function q3(){const e=ee(a=>a.selectedNodeId),t=ee(a=>a.nodes),n=ee(a=>a.updateNodeData),r=ee(a=>a.deleteNode),o=e?t.find(a=>a.id===e):null;if(!o)return d.jsx("div",{className:"w-64 bg-white border-l border-slate-200 flex-shrink-0 flex items-center justify-center",children:d.jsx("p",{className:"text-sm text-slate-400 text-center px-4",children:"Ozelliklerini duzenlemek icin bir node secin"})});const i=o.type,s=xg(i),l=a=>{n(o.id,a)};return d.jsxs("div",{className:"w-64 bg-white border-l border-slate-200 flex-shrink-0 overflow-y-auto",children:[d.jsxs("div",{className:"p-3 border-b border-slate-200",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:(s==null?void 0:s.color)??"#6b7280"}}),d.jsx("span",{className:"text-base font-medium text-slate-700",children:(s==null?void 0:s.label)??i})]}),d.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:s==null?void 0:s.description})]}),d.jsxs("div",{className:"p-3 space-y-3",children:[d.jsx(ve,{label:"Etiket",children:d.jsx("input",{type:"text",value:o.data.label??"",onChange:a=>l({label:a.target.value}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500"})}),i==="trigger_start"&&d.jsx(Z3,{}),i==="message_text"&&d.jsx(J3,{data:o.data,onChange:l}),i==="message_menu"&&d.jsx(e5,{data:o.data,onChange:l}),i==="logic_condition"&&d.jsx(n5,{data:o.data,onChange:l}),i==="logic_switch"&&d.jsx(r5,{data:o.data,onChange:l}),i==="ai_intent"&&d.jsx(s5,{data:o.data,onChange:l}),i==="ai_faq"&&d.jsx(l5,{data:o.data,onChange:l}),i==="action_api_call"&&d.jsx(a5,{data:o.data,onChange:l}),i==="action_delay"&&d.jsx(o5,{data:o.data,onChange:l}),i==="action_handoff"&&d.jsx(t5,{data:o.data,onChange:l}),i==="utility_set_variable"&&d.jsx(i5,{data:o.data,onChange:l}),i==="utility_note"&&d.jsx(u5,{data:o.data,onChange:l}),i!=="trigger_start"&&d.jsx("div",{className:"pt-3 border-t border-slate-200",children:d.jsx("button",{onClick:()=>r(o.id),className:"w-full px-3 py-1.5 rounded-md text-sm font-medium bg-red-50 text-red-600 hover:bg-red-100 transition-colors",children:"Node'u Sil"})})]})]})}function ve({label:e,children:t}){return d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-500 uppercase tracking-wider mb-1",children:e}),t]})}function Z3(){return d.jsx("p",{className:"text-xs text-slate-400",children:"Baslangic node'u yapilandirma gerektirmez. Musteri mesaj gonderdiginde bu node'dan akis baslar."})}function J3({data:e,onChange:t}){return d.jsx(ve,{label:"Mesaj Metni",children:d.jsx("textarea",{value:e.text??"",onChange:n=>t({text:n.target.value}),rows:4,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-xs text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Gonderilecek mesaj..."})})}function e5({data:e,onChange:t}){const n=e.options??[],r=(s,l,a)=>{const u=[...n];u[s]={...u[s],[l]:a},t({options:u})},o=()=>{const s=String(n.length+1),l={key:s,label:`Secenek ${s}`,handle_id:`opt_${s}`};t({options:[...n,l]})},i=s=>{t({options:n.filter((l,a)=>a!==s)})};return d.jsxs(d.Fragment,{children:[d.jsx(ve,{label:"Menu Metni",children:d.jsx("input",{type:"text",value:e.text??"",onChange:s=>t({text:s.target.value}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500",placeholder:"Secim yapin:"})}),d.jsxs(ve,{label:"Secenekler",children:[d.jsx("div",{className:"space-y-2",children:n.map((s,l)=>d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("input",{type:"text",value:s.key,onChange:a=>r(l,"key",a.target.value),className:"w-8 bg-slate-50 border border-slate-300 rounded px-1 py-1 text-xs text-slate-700 outline-none focus:border-blue-500 text-center"}),d.jsx("input",{type:"text",value:s.label,onChange:a=>r(l,"label",a.target.value),className:"flex-1 bg-slate-50 border border-slate-300 rounded px-2 py-1 text-sm text-slate-700 outline-none focus:border-blue-500"}),d.jsx("button",{onClick:()=>i(l),className:"p-0.5 text-slate-400 hover:text-red-500 transition-colors",title:"Kaldir",children:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},s.handle_id))}),d.jsx("button",{onClick:o,className:"mt-2 w-full px-2 py-1 rounded border border-dashed border-slate-300 text-sm text-slate-500 hover:border-blue-500 hover:text-blue-600 transition-colors",children:"+ Secenek Ekle"})]})]})}function t5({data:e,onChange:t}){return d.jsx(ve,{label:"Ozet Sablonu",children:d.jsx("textarea",{value:e.summary_template??"",onChange:n=>t({summary_template:n.target.value}),rows:3,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-xs text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Temsilciye aktarilacak ozet..."})})}function n5({data:e,onChange:t}){const n=[{value:"equals",label:"Esittir (=)"},{value:"contains",label:"Icerir"},{value:"starts_with",label:"Baslar"},{value:"greater_than",label:"Buyuktur (>)"},{value:"less_than",label:"Kucuktur (<)"},{value:"is_empty",label:"Bos mu"},{value:"regex",label:"Regex"}];return d.jsxs(d.Fragment,{children:[d.jsx(ve,{label:"Degisken",children:d.jsx("input",{type:"text",value:e.variable??"",onChange:r=>t({variable:r.target.value}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500",placeholder:"ornek: __last_input"})}),d.jsx(ve,{label:"Operator",children:d.jsx("select",{value:e.operator??"equals",onChange:r=>t({operator:r.target.value}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500",children:n.map(r=>d.jsx("option",{value:r.value,children:r.label},r.value))})}),e.operator!=="is_empty"&&d.jsx(ve,{label:"Deger",children:d.jsx("input",{type:"text",value:e.value??"",onChange:r=>t({value:r.target.value}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500",placeholder:"Karsilastirilacak deger"})})]})}function r5({data:e,onChange:t}){const n=e.cases??[],r=10,o=(l,a)=>{const u=[...n];u[l]={...u[l],value:a},t({cases:u})},i=()=>{if(n.length>=r)return;const a={value:"",handle_id:`case_${n.length+1}`};t({cases:[...n,a]})},s=l=>{t({cases:n.filter((a,u)=>u!==l)})};return d.jsxs(d.Fragment,{children:[d.jsx(ve,{label:"Degisken",children:d.jsx("input",{type:"text",value:e.variable??"",onChange:l=>t({variable:l.target.value}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500",placeholder:"ornek: musteri_tipi"})}),d.jsxs(ve,{label:`Durumlar (${n.length}/${r})`,children:[d.jsx("div",{className:"space-y-2",children:n.map((l,a)=>d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-xs text-slate-400 w-4 flex-shrink-0",children:a+1}),d.jsx("input",{type:"text",value:l.value,onChange:u=>o(a,u.target.value),className:"flex-1 bg-slate-50 border border-slate-300 rounded px-2 py-1 text-sm text-slate-700 outline-none focus:border-blue-500",placeholder:"Deger..."}),d.jsx("button",{onClick:()=>s(a),className:"p-0.5 text-slate-400 hover:text-red-500 transition-colors",title:"Kaldir",children:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},l.handle_id))}),n.length<r&&d.jsx("button",{onClick:i,className:"mt-2 w-full px-2 py-1 rounded border border-dashed border-slate-300 text-sm text-slate-500 hover:border-amber-500 hover:text-amber-600 transition-colors",children:"+ Durum Ekle"})]}),d.jsxs("p",{className:"text-xs text-slate-400",children:["Hicbir durum eslesmediyse ",d.jsx("strong",{children:"VARSAYILAN"})," dala gider."]})]})}function o5({data:e,onChange:t}){return d.jsxs(ve,{label:"Bekleme Suresi (saniye)",children:[d.jsx("input",{type:"number",min:1,max:300,value:e.seconds??5,onChange:n=>{const r=Math.max(1,Math.min(300,Number(n.target.value)||1));t({seconds:r})},className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500"}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Min: 1sn, Maks: 300sn (5dk)"})]})}function i5({data:e,onChange:t}){return d.jsxs(d.Fragment,{children:[d.jsx(ve,{label:"Degisken Adi",children:d.jsx("input",{type:"text",value:e.variable_name??"",onChange:n=>t({variable_name:n.target.value}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500",placeholder:"ornek: musteri_tipi"})}),d.jsxs(ve,{label:"Deger Ifadesi",children:[d.jsx("textarea",{value:e.value_expression??"",onChange:n=>t({value_expression:n.target.value}),rows:3,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-xs text-slate-700 outline-none focus:border-blue-500 resize-none font-mono",placeholder:"ornek: {{__last_input}}"}),d.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["{{degisken}}"," ile mevcut degiskenlere referans verebilirsiniz."]})]})]})}function s5({data:e,onChange:t}){const n=e.intents??[],r=e.confidence_threshold??.5,o=()=>{t({intents:[...n,""]})},i=(l,a)=>{const u=[...n];u[l]=a,t({intents:u})},s=l=>{t({intents:n.filter((a,u)=>u!==l)})};return d.jsxs(d.Fragment,{children:[d.jsxs(ve,{label:`Intentler (${n.length})`,children:[d.jsx("div",{className:"space-y-1.5",children:n.map((l,a)=>d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("input",{type:"text",value:l,onChange:u=>i(a,u.target.value),className:"flex-1 bg-slate-50 border border-slate-300 rounded px-2 py-1 text-xs text-slate-700 outline-none focus:border-purple-500 font-mono",placeholder:"ornek: satin_alma"}),d.jsx("button",{onClick:()=>s(a),className:"p-0.5 text-slate-400 hover:text-red-500 transition-colors",title:"Kaldir",children:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},a))}),d.jsx("button",{onClick:o,className:"mt-2 w-full px-2 py-1 rounded border border-dashed border-slate-300 text-sm text-slate-500 hover:border-purple-500 hover:text-purple-600 transition-colors",children:"+ Intent Ekle"})]}),d.jsxs(ve,{label:`Guven Esigi (${(r*100).toFixed(0)}%)`,children:[d.jsx("input",{type:"range",min:0,max:100,value:Math.round(r*100),onChange:l=>t({confidence_threshold:Number(l.target.value)/100}),className:"w-full accent-purple-500"}),d.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-0.5",children:[d.jsx("span",{children:"0%"}),d.jsx("span",{children:"50%"}),d.jsx("span",{children:"100%"})]})]}),d.jsxs("p",{className:"text-xs text-slate-400",children:["Musteri mesaji Claude AI ile analiz edilir. Guven esiginin uzerindeki intent'ler ",d.jsx("strong",{children:"YUKSEK"})," dalina yonlenir."]})]})}function l5({data:e,onChange:t}){const n=e.min_confidence??.3;return d.jsxs(d.Fragment,{children:[d.jsxs(ve,{label:`Min Guven (${(n*100).toFixed(0)}%)`,children:[d.jsx("input",{type:"range",min:0,max:100,value:Math.round(n*100),onChange:r=>t({min_confidence:Number(r.target.value)/100}),className:"w-full accent-purple-500"}),d.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-0.5",children:[d.jsx("span",{children:"0%"}),d.jsx("span",{children:"50%"}),d.jsx("span",{children:"100%"})]})]}),d.jsxs("p",{className:"text-xs text-slate-400",children:["Musteri mesaji FAQ veritabaninda aranir. Esik uzerindeki eslesmeler ",d.jsx("strong",{children:"ESLESTI"})," dalina yonlenir ve cevap otomatik gonderilir."]})]})}function a5({data:e,onChange:t}){const n=["GET","POST","PUT","DELETE"],r=e.timeout_ms??5e3,o=r<=1e3?"text-green-500":r<=5e3?"text-amber-500":"text-red-500";return d.jsxs(d.Fragment,{children:[d.jsx(ve,{label:"HTTP Metot",children:d.jsx("select",{value:e.method??"GET",onChange:i=>t({method:i.target.value}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500",children:n.map(i=>d.jsx("option",{value:i,children:i},i))})}),d.jsxs(ve,{label:"URL",children:[d.jsx("input",{type:"text",value:e.url??"",onChange:i=>t({url:i.target.value}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-xs text-slate-700 outline-none focus:border-blue-500 font-mono",placeholder:"https://api.example.com/endpoint"}),d.jsxs("p",{className:"text-xs text-slate-400 mt-0.5",children:["{{degisken}}"," destekler"]})]}),d.jsx(ve,{label:"Body Template",children:d.jsx("textarea",{value:e.body_template??"",onChange:i=>t({body_template:i.target.value}),rows:3,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-xs text-slate-700 outline-none focus:border-blue-500 resize-none font-mono",placeholder:'{"key": "{{degisken}}"}'})}),d.jsx(ve,{label:"Response Degiskeni",children:d.jsx("input",{type:"text",value:e.response_variable??"api_response",onChange:i=>t({response_variable:i.target.value}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500 font-mono",placeholder:"api_response"})}),d.jsxs(ve,{label:`Zaman Asimi (${r}ms)`,children:[d.jsx("input",{type:"range",min:100,max:3e4,step:100,value:r,onChange:i=>t({timeout_ms:Number(i.target.value)}),className:"w-full accent-red-500"}),d.jsxs("div",{className:"flex justify-between text-xs mt-0.5",children:[d.jsx("span",{className:"text-slate-400",children:"100ms"}),d.jsxs("span",{className:o,children:[(r/1e3).toFixed(1),"s"]}),d.jsx("span",{className:"text-slate-400",children:"30s"})]})]})]})}function u5({data:e,onChange:t}){const n=[{label:"Sari",value:"#fef3c7"},{label:"Mavi",value:"#dbeafe"},{label:"Yesil",value:"#dcfce7"},{label:"Kirmizi",value:"#fee2e2"},{label:"Mor",value:"#ede9fe"}];return d.jsxs(d.Fragment,{children:[d.jsx(ve,{label:"Not Metni",children:d.jsx("textarea",{value:e.text??"",onChange:r=>t({text:r.target.value}),rows:5,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-xs text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Notunuz..."})}),d.jsx(ve,{label:"Renk",children:d.jsx("div",{className:"flex gap-1.5",children:n.map(r=>d.jsx("button",{onClick:()=>t({color:r.value}),className:"w-6 h-6 rounded border-2 transition-transform hover:scale-110",style:{backgroundColor:r.value,borderColor:(e.color||"#fef3c7")===r.value?"#3b82f6":"transparent"},title:r.label},r.value))})})]})}function c5(){const e=ee(f=>f.flowSettings),t=ee(f=>f.setSettings),n=ee(f=>f.toFlowConfig),[r,o]=_.useState(!1),[i,s]=_.useState(null),[l,a]=_.useState(null),u=async()=>{o(!0),s(null),a(null);try{const f=n(),c=await Pb(f);s(c)}catch(f){a(f instanceof Error?f.message:"Dogrulama basarisiz")}finally{o(!1)}};return d.jsxs("div",{className:"w-64 bg-white border-l border-slate-200 flex-shrink-0 overflow-y-auto",children:[d.jsx("div",{className:"p-3 border-b border-slate-200",children:d.jsx("span",{className:"text-base font-medium text-slate-700",children:"Flow Ayarlari"})}),d.jsxs("div",{className:"p-3 space-y-3",children:[d.jsx("button",{onClick:u,disabled:r,className:Fe("w-full px-3 py-2 rounded-lg text-sm font-medium transition-colors",r?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white"),children:r?"Dogrulaniyor...":"Akisi Dogrula"}),i&&d.jsxs("div",{className:Fe("rounded-lg border p-2.5 text-xs space-y-1",i.is_valid?"bg-green-50 border-green-200":i.errors.length>0?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"),children:[i.is_valid&&i.warnings.length===0&&d.jsxs("div",{className:"flex items-center gap-1.5 text-green-700 font-medium",children:[d.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Akis gecerli, sorun yok."]}),i.errors.length>0&&d.jsxs("div",{children:[d.jsxs("span",{className:"text-red-700 font-medium",children:["Hatalar (",i.errors.length,")"]}),d.jsx("ul",{className:"mt-1 space-y-0.5",children:i.errors.map((f,c)=>d.jsx("li",{className:"text-red-600 leading-tight",children:f},c))})]}),i.warnings.length>0&&d.jsxs("div",{children:[d.jsxs("span",{className:"text-amber-700 font-medium",children:["Uyarilar (",i.warnings.length,")"]}),d.jsx("ul",{className:"mt-1 space-y-0.5",children:i.warnings.map((f,c)=>d.jsx("li",{className:"text-amber-600 leading-tight",children:f},c))})]})]}),l&&d.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-2.5 text-xs text-red-600",children:l}),d.jsx(fo,{label:"Mesai Disi Mesaji",children:d.jsx("textarea",{value:e.off_hours_message??"",onChange:f=>t({off_hours_message:f.target.value}),rows:3,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Mesai saatleri disinda gonderilecek mesaj..."})}),d.jsx(fo,{label:"Bilinmeyen Girdi Mesaji",children:d.jsx("textarea",{value:e.unknown_input_message??"",onChange:f=>t({unknown_input_message:f.target.value}),rows:2,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Gecersiz girdi mesaji..."})}),d.jsx(fo,{label:"Handoff Guven Esigi",children:d.jsx("input",{type:"number",min:0,max:1,step:.1,value:e.handoff_confidence_threshold,onChange:f=>t({handoff_confidence_threshold:parseFloat(f.target.value)||.5}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500"})}),d.jsx(fo,{label:"Session Zaman Asimi (dk)",children:d.jsx("input",{type:"number",min:1,max:1440,value:e.session_timeout_minutes,onChange:f=>t({session_timeout_minutes:parseInt(f.target.value)||30}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500"})}),d.jsx(fo,{label:"Maks. Dongu Sayisi",children:d.jsx("input",{type:"number",min:1,max:100,value:e.max_loop_count,onChange:f=>t({max_loop_count:parseInt(f.target.value)||10}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500"})})]})]})}function fo({label:e,children:t}){return d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-500 uppercase tracking-wider mb-1",children:e}),t]})}function d5(){const{flowId:e}=j1(),t=fi(),{session:n}=Lc(),r=(n==null?void 0:n.tenant_id)??0,o=parseInt(e??"0",10),[i,s]=_.useState("properties"),[l,a]=_.useState(!1),[u,f]=_.useState(null),[c,h]=_.useState(null),[g,x]=_.useState(!0),v=ee(w=>w.selectedNodeId),b=ee(w=>w.loadFlow);_.useEffect(()=>{if(!o||!r){t("/",{replace:!0});return}let w=!1;return x(!0),f(null),pu(r,o).then(S=>{if(w)return;const N=S.flow_config??{},k={version:N.version??2,metadata:{name:S.flow_name,...N.metadata},nodes:N.nodes??[],edges:N.edges??[],settings:N.settings??{}};b(k),x(!1)}).catch(S=>{w||(S instanceof at&&S.status===404?f("Flow bulunamadi."):f(S instanceof Error?S.message:"Flow yuklenemedi"),x(!1))}),()=>{w=!0}},[o,r,b,t]),_.useEffect(()=>{v&&s("properties")},[v]);const m=_.useCallback(async()=>{a(!0),h(null);try{const w=ee.getState().toFlowConfig();await Nb(r,o,{flow_name:w.metadata.name,flow_config:w}),ee.getState().markClean()}catch(w){h(w instanceof Error?w.message:"Kaydetme basarisiz")}finally{a(!1)}},[r,o]),y=_.useCallback(()=>{ee.getState().isDirty&&!window.confirm("Kaydedilmemis degisiklikler var. Yine de cikis yapilsin mi?")||(je.getState().close(),t("/"))},[t]),p=_.useCallback(async()=>{const w=ee.getState(),S=je.getState();if(S.isOpen){S.close();return}if(w.isDirty){h("Once flow'u kaydedin, sonra test edin.");return}await S.start(r,o)},[r,o]);return _.useEffect(()=>()=>{je.getState().close()},[]),_.useEffect(()=>{const w=S=>{S.ctrlKey&&S.key==="s"&&(S.preventDefault(),m()),S.ctrlKey&&S.key==="z"&&(S.preventDefault(),ee.getState().undo()),S.ctrlKey&&S.key==="y"&&(S.preventDefault(),ee.getState().redo())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[m]),g?d.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 text-slate-500",children:"Flow yukleniyor..."}):u?d.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-slate-50 gap-4",children:[d.jsx("p",{className:"text-red-600",children:u}),d.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg",children:"Flow Listesine Don"})]}):d.jsx(sy,{children:d.jsxs("div",{className:"h-screen flex flex-col bg-slate-50",children:[d.jsx(Y3,{onSave:m,isSaving:l,onBack:y,onTest:p}),c&&d.jsxs("div",{className:"bg-red-50 border-b border-red-200 px-4 py-2 text-xs text-red-600 flex items-center justify-between",children:[d.jsxs("span",{children:["Kaydetme hatasi: ",c]}),d.jsx("button",{onClick:()=>h(null),className:"text-red-400 hover:text-red-600",children:""})]}),d.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[d.jsx(W3,{}),d.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[d.jsx(R3,{}),d.jsx(B3,{})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("div",{className:"flex border-b border-slate-200 bg-white",children:[d.jsx("button",{onClick:()=>s("properties"),className:`px-3 py-2 text-xs font-medium transition-colors ${i==="properties"?"text-blue-600 border-b-2 border-blue-600":"text-slate-400 hover:text-slate-700"}`,children:"Ozellikler"}),d.jsx("button",{onClick:()=>s("settings"),className:`px-3 py-2 text-xs font-medium transition-colors ${i==="settings"?"text-blue-600 border-b-2 border-blue-600":"text-slate-400 hover:text-slate-700"}`,children:"Ayarlar"})]}),i==="properties"?d.jsx(q3,{}):d.jsx(c5,{})]}),d.jsx(Q3,{})]})]})})}function f5({children:e}){const[t,n]=_.useState(Ic),r=_.useCallback(async(i,s)=>{const l=await kb(i,s),a={token:l.token,tenant_id:l.tenant_id,expires_at:Date.now()+l.expires_in*1e3};Sb(a),n(a)},[]),o=_.useCallback(()=>{hu(),n(null)},[]);return d.jsx(mg.Provider,{value:{session:t,login:r,logout:o,isAuthenticated:t!==null},children:e})}function Rh({children:e}){return Ic()?d.jsx(d.Fragment,{children:e}):d.jsx(ug,{to:"/login",replace:!0})}function h5(){return d.jsx(hb,{basename:"/flow-builder",children:d.jsx(f5,{children:d.jsxs(V1,{children:[d.jsx(xo,{path:"/login",element:d.jsx(Tb,{})}),d.jsx(xo,{path:"/",element:d.jsx(Rh,{children:d.jsx(Rb,{})})}),d.jsx(xo,{path:"/editor/:flowId",element:d.jsx(Rh,{children:d.jsx(d5,{})})}),d.jsx(xo,{path:"*",element:d.jsx(ug,{to:"/",replace:!0})})]})})})}Xm(document.getElementById("root")).render(d.jsx(_.StrictMode,{children:d.jsx(h5,{})}));
