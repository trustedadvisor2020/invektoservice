(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Rh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Th={exports:{}},Qs={},Lh={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oi=Symbol.for("react.element"),yv=Symbol.for("react.portal"),vv=Symbol.for("react.fragment"),xv=Symbol.for("react.strict_mode"),wv=Symbol.for("react.profiler"),Sv=Symbol.for("react.provider"),kv=Symbol.for("react.context"),_v=Symbol.for("react.forward_ref"),Ev=Symbol.for("react.suspense"),bv=Symbol.for("react.memo"),Nv=Symbol.for("react.lazy"),id=Symbol.iterator;function Cv(e){return e===null||typeof e!="object"?null:(e=id&&e[id]||e["@@iterator"],typeof e=="function"?e:null)}var zh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$h=Object.assign,Ah={};function Dr(e,t,n){this.props=e,this.context=t,this.refs=Ah,this.updater=n||zh}Dr.prototype.isReactComponent={};Dr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dh(){}Dh.prototype=Dr.prototype;function Pu(e,t,n){this.props=e,this.context=t,this.refs=Ah,this.updater=n||zh}var ju=Pu.prototype=new Dh;ju.constructor=Pu;$h(ju,Dr.prototype);ju.isPureReactComponent=!0;var sd=Array.isArray,Oh=Object.prototype.hasOwnProperty,Iu={current:null},Fh={key:!0,ref:!0,__self:!0,__source:!0};function Hh(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Oh.call(t,r)&&!Fh.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:oi,type:e,key:i,ref:s,props:o,_owner:Iu.current}}function Mv(e,t){return{$$typeof:oi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ru(e){return typeof e=="object"&&e!==null&&e.$$typeof===oi}function Pv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ld=/\/+/g;function Il(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pv(""+e.key):t.toString(36)}function Gi(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case oi:case yv:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Il(s,0):r,sd(o)?(n="",e!=null&&(n=e.replace(ld,"$&/")+"/"),Gi(o,t,n,"",function(u){return u})):o!=null&&(Ru(o)&&(o=Mv(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(ld,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",sd(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Il(i,l);s+=Gi(i,t,n,a,o)}else if(a=Cv(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Il(i,l++),s+=Gi(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Si(e,t,n){if(e==null)return e;var r=[],o=0;return Gi(e,r,"","",function(i){return t.call(n,i,o++)}),r}function jv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},Ki={transition:null},Iv={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:Ki,ReactCurrentOwner:Iu};function Bh(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Si,forEach:function(e,t,n){Si(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Si(e,function(){t++}),t},toArray:function(e){return Si(e,function(t){return t})||[]},only:function(e){if(!Ru(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=Dr;ne.Fragment=vv;ne.Profiler=wv;ne.PureComponent=Pu;ne.StrictMode=xv;ne.Suspense=Ev;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iv;ne.act=Bh;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=$h({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Iu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Oh.call(t,a)&&!Fh.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:oi,type:e.type,key:o,ref:i,props:r,_owner:s}};ne.createContext=function(e){return e={$$typeof:kv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sv,_context:e},e.Consumer=e};ne.createElement=Hh;ne.createFactory=function(e){var t=Hh.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:_v,render:e}};ne.isValidElement=Ru;ne.lazy=function(e){return{$$typeof:Nv,_payload:{_status:-1,_result:e},_init:jv}};ne.memo=function(e,t){return{$$typeof:bv,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Ki.transition;Ki.transition={};try{e()}finally{Ki.transition=t}};ne.unstable_act=Bh;ne.useCallback=function(e,t){return Oe.current.useCallback(e,t)};ne.useContext=function(e){return Oe.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Oe.current.useEffect(e,t)};ne.useId=function(){return Oe.current.useId()};ne.useImperativeHandle=function(e,t,n){return Oe.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Oe.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return Oe.current.useReducer(e,t,n)};ne.useRef=function(e){return Oe.current.useRef(e)};ne.useState=function(e){return Oe.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return Oe.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return Oe.current.useTransition()};ne.version="18.3.1";Lh.exports=ne;var k=Lh.exports;const uo=Rh(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv=k,Tv=Symbol.for("react.element"),Lv=Symbol.for("react.fragment"),zv=Object.prototype.hasOwnProperty,$v=Rv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Av={key:!0,ref:!0,__self:!0,__source:!0};function Vh(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)zv.call(t,r)&&!Av.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Tv,type:e,key:i,ref:s,props:o,_owner:$v.current}}Qs.Fragment=Lv;Qs.jsx=Vh;Qs.jsxs=Vh;Th.exports=Qs;var v=Th.exports,Wh={exports:{}},Je={},Uh={exports:{}},Yh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,M){var z=C.length;C.push(M);e:for(;0<z;){var D=z-1>>>1,O=C[D];if(0<o(O,M))C[D]=M,C[z]=O,z=D;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var M=C[0],z=C.pop();if(z!==M){C[0]=z;e:for(var D=0,O=C.length,W=O>>>1;D<W;){var V=2*(D+1)-1,X=C[V],G=V+1,K=C[G];if(0>o(X,z))G<O&&0>o(K,X)?(C[D]=K,C[G]=z,D=G):(C[D]=X,C[V]=z,D=V);else if(G<O&&0>o(K,z))C[D]=K,C[G]=z,D=G;else break e}}return M}function o(C,M){var z=C.sortIndex-M.sortIndex;return z!==0?z:C.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],f=1,c=null,d=3,g=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(C){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=C)r(u),M.sortIndex=M.expirationTime,t(a,M);else break;M=n(u)}}function S(C){if(x=!1,h(C),!y)if(n(a)!==null)y=!0,j(E);else{var M=n(u);M!==null&&$(S,M.startTime-C)}}function E(C,M){y=!1,x&&(x=!1,p(P),P=-1),g=!0;var z=d;try{for(h(M),c=n(a);c!==null&&(!(c.expirationTime>M)||C&&!L());){var D=c.callback;if(typeof D=="function"){c.callback=null,d=c.priorityLevel;var O=D(c.expirationTime<=M);M=e.unstable_now(),typeof O=="function"?c.callback=O:c===n(a)&&r(a),h(M)}else r(a);c=n(a)}if(c!==null)var W=!0;else{var V=n(u);V!==null&&$(S,V.startTime-M),W=!1}return W}finally{c=null,d=z,g=!1}}var b=!1,N=null,P=-1,T=5,A=-1;function L(){return!(e.unstable_now()-A<T)}function R(){if(N!==null){var C=e.unstable_now();A=C;var M=!0;try{M=N(!0,C)}finally{M?F():(b=!1,N=null)}}else b=!1}var F;if(typeof m=="function")F=function(){m(R)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,I=_.port2;_.port1.onmessage=R,F=function(){I.postMessage(null)}}else F=function(){w(R,0)};function j(C){N=C,b||(b=!0,F())}function $(C,M){P=w(function(){C(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,j(E))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(C){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var z=d;d=M;try{return C()}finally{d=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,M){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var z=d;d=C;try{return M()}finally{d=z}},e.unstable_scheduleCallback=function(C,M,z){var D=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?D+z:D):z=D,C){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=z+O,C={id:f++,callback:M,priorityLevel:C,startTime:z,expirationTime:O,sortIndex:-1},z>D?(C.sortIndex=z,t(u,C),n(a)===null&&C===n(u)&&(x?(p(P),P=-1):x=!0,$(S,z-D))):(C.sortIndex=O,t(a,C),y||g||(y=!0,j(E))),C},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(C){var M=d;return function(){var z=d;d=M;try{return C.apply(this,arguments)}finally{d=z}}}})(Yh);Uh.exports=Yh;var Dv=Uh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov=k,qe=Dv;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xh=new Set,Io={};function Gn(e,t){_r(e,t),_r(e+"Capture",t)}function _r(e,t){for(Io[e]=t,e=0;e<t.length;e++)Xh.add(t[e])}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=Object.prototype.hasOwnProperty,Fv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ad={},ud={};function Hv(e){return va.call(ud,e)?!0:va.call(ad,e)?!1:Fv.test(e)?ud[e]=!0:(ad[e]=!0,!1)}function Bv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vv(e,t,n,r){if(t===null||typeof t>"u"||Bv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tu=/[\-:]([a-z])/g;function Lu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tu,Lu);Ie[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tu,Lu);Ie[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tu,Lu);Ie[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function zu(e,t,n,r){var o=Ie.hasOwnProperty(t)?Ie[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vv(t,n,o,r)&&(n=null),r||o===null?Hv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Kt=Ov.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ki=Symbol.for("react.element"),er=Symbol.for("react.portal"),tr=Symbol.for("react.fragment"),$u=Symbol.for("react.strict_mode"),xa=Symbol.for("react.profiler"),Gh=Symbol.for("react.provider"),Kh=Symbol.for("react.context"),Au=Symbol.for("react.forward_ref"),wa=Symbol.for("react.suspense"),Sa=Symbol.for("react.suspense_list"),Du=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),Qh=Symbol.for("react.offscreen"),cd=Symbol.iterator;function Kr(e){return e===null||typeof e!="object"?null:(e=cd&&e[cd]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,Rl;function co(e){if(Rl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Rl=t&&t[1]||""}return`
`+Rl+e}var Tl=!1;function Ll(e,t){if(!e||Tl)return"";Tl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Tl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?co(e):""}function Wv(e){switch(e.tag){case 5:return co(e.type);case 16:return co("Lazy");case 13:return co("Suspense");case 19:return co("SuspenseList");case 0:case 2:case 15:return e=Ll(e.type,!1),e;case 11:return e=Ll(e.type.render,!1),e;case 1:return e=Ll(e.type,!0),e;default:return""}}function ka(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tr:return"Fragment";case er:return"Portal";case xa:return"Profiler";case $u:return"StrictMode";case wa:return"Suspense";case Sa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kh:return(e.displayName||"Context")+".Consumer";case Gh:return(e._context.displayName||"Context")+".Provider";case Au:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Du:return t=e.displayName||null,t!==null?t:ka(e.type)||"Memo";case rn:t=e._payload,e=e._init;try{return ka(e(t))}catch{}}return null}function Uv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ka(t);case 8:return t===$u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yv(e){var t=qh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _i(e){e._valueTracker||(e._valueTracker=Yv(e))}function Zh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _a(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function dd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jh(e,t){t=t.checked,t!=null&&zu(e,"checked",t,!1)}function Ea(e,t){Jh(e,t);var n=xn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ba(e,t.type,n):t.hasOwnProperty("defaultValue")&&ba(e,t.type,xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ba(e,t,n){(t!=="number"||hs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fo=Array.isArray;function pr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Na(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(fo(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xn(n)}}function ep(e,t){var n=xn(t.value),r=xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function pd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ca(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ei,np=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ei=Ei||document.createElement("div"),Ei.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ei.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ro(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xv=["Webkit","ms","Moz","O"];Object.keys(vo).forEach(function(e){Xv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vo[t]=vo[e]})});function rp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vo.hasOwnProperty(e)&&vo[e]?(""+t).trim():t+"px"}function op(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=rp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Gv=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ma(e,t){if(t){if(Gv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Pa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ja=null;function Ou(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ia=null,mr=null,gr=null;function md(e){if(e=li(e)){if(typeof Ia!="function")throw Error(H(280));var t=e.stateNode;t&&(t=tl(t),Ia(e.stateNode,e.type,t))}}function ip(e){mr?gr?gr.push(e):gr=[e]:mr=e}function sp(){if(mr){var e=mr,t=gr;if(gr=mr=null,md(e),t)for(e=0;e<t.length;e++)md(t[e])}}function lp(e,t){return e(t)}function ap(){}var zl=!1;function up(e,t,n){if(zl)return e(t,n);zl=!0;try{return lp(e,t,n)}finally{zl=!1,(mr!==null||gr!==null)&&(ap(),sp())}}function To(e,t){var n=e.stateNode;if(n===null)return null;var r=tl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Ra=!1;if(Vt)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{Ra=!1}function Kv(e,t,n,r,o,i,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var xo=!1,ps=null,ms=!1,Ta=null,Qv={onError:function(e){xo=!0,ps=e}};function qv(e,t,n,r,o,i,s,l,a){xo=!1,ps=null,Kv.apply(Qv,arguments)}function Zv(e,t,n,r,o,i,s,l,a){if(qv.apply(this,arguments),xo){if(xo){var u=ps;xo=!1,ps=null}else throw Error(H(198));ms||(ms=!0,Ta=u)}}function Kn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gd(e){if(Kn(e)!==e)throw Error(H(188))}function Jv(e){var t=e.alternate;if(!t){if(t=Kn(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return gd(o),e;if(i===r)return gd(o),t;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function dp(e){return e=Jv(e),e!==null?fp(e):null}function fp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fp(e);if(t!==null)return t;e=e.sibling}return null}var hp=qe.unstable_scheduleCallback,yd=qe.unstable_cancelCallback,ex=qe.unstable_shouldYield,tx=qe.unstable_requestPaint,ke=qe.unstable_now,nx=qe.unstable_getCurrentPriorityLevel,Fu=qe.unstable_ImmediatePriority,pp=qe.unstable_UserBlockingPriority,gs=qe.unstable_NormalPriority,rx=qe.unstable_LowPriority,mp=qe.unstable_IdlePriority,qs=null,Ct=null;function ox(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(qs,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:lx,ix=Math.log,sx=Math.LN2;function lx(e){return e>>>=0,e===0?32:31-(ix(e)/sx|0)|0}var bi=64,Ni=4194304;function ho(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ys(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=ho(l):(i&=s,i!==0&&(r=ho(i)))}else s=n&~o,s!==0?r=ho(s):i!==0&&(r=ho(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gt(t),o=1<<n,r|=e[n],t&=~o;return r}function ax(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ux(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-gt(i),l=1<<s,a=o[s];a===-1?(!(l&n)||l&r)&&(o[s]=ax(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function La(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gp(){var e=bi;return bi<<=1,!(bi&4194240)&&(bi=64),e}function $l(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ii(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=n}function cx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-gt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Hu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ae=0;function yp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vp,Bu,xp,wp,Sp,za=!1,Ci=[],dn=null,fn=null,hn=null,Lo=new Map,zo=new Map,sn=[],dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vd(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":Lo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(t.pointerId)}}function qr(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=li(t),t!==null&&Bu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function fx(e,t,n,r,o){switch(t){case"focusin":return dn=qr(dn,e,t,n,r,o),!0;case"dragenter":return fn=qr(fn,e,t,n,r,o),!0;case"mouseover":return hn=qr(hn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Lo.set(i,qr(Lo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,zo.set(i,qr(zo.get(i)||null,e,t,n,r,o)),!0}return!1}function kp(e){var t=Pn(e.target);if(t!==null){var n=Kn(t);if(n!==null){if(t=n.tag,t===13){if(t=cp(n),t!==null){e.blockedOn=t,Sp(e.priority,function(){xp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$a(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ja=r,n.target.dispatchEvent(r),ja=null}else return t=li(n),t!==null&&Bu(t),e.blockedOn=n,!1;t.shift()}return!0}function xd(e,t,n){Qi(e)&&n.delete(t)}function hx(){za=!1,dn!==null&&Qi(dn)&&(dn=null),fn!==null&&Qi(fn)&&(fn=null),hn!==null&&Qi(hn)&&(hn=null),Lo.forEach(xd),zo.forEach(xd)}function Zr(e,t){e.blockedOn===t&&(e.blockedOn=null,za||(za=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,hx)))}function $o(e){function t(o){return Zr(o,e)}if(0<Ci.length){Zr(Ci[0],e);for(var n=1;n<Ci.length;n++){var r=Ci[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dn!==null&&Zr(dn,e),fn!==null&&Zr(fn,e),hn!==null&&Zr(hn,e),Lo.forEach(t),zo.forEach(t),n=0;n<sn.length;n++)r=sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)kp(n),n.blockedOn===null&&sn.shift()}var yr=Kt.ReactCurrentBatchConfig,vs=!0;function px(e,t,n,r){var o=ae,i=yr.transition;yr.transition=null;try{ae=1,Vu(e,t,n,r)}finally{ae=o,yr.transition=i}}function mx(e,t,n,r){var o=ae,i=yr.transition;yr.transition=null;try{ae=4,Vu(e,t,n,r)}finally{ae=o,yr.transition=i}}function Vu(e,t,n,r){if(vs){var o=$a(e,t,n,r);if(o===null)Yl(e,t,r,xs,n),vd(e,r);else if(fx(o,e,t,n,r))r.stopPropagation();else if(vd(e,r),t&4&&-1<dx.indexOf(e)){for(;o!==null;){var i=li(o);if(i!==null&&vp(i),i=$a(e,t,n,r),i===null&&Yl(e,t,r,xs,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Yl(e,t,r,null,n)}}var xs=null;function $a(e,t,n,r){if(xs=null,e=Ou(r),e=Pn(e),e!==null)if(t=Kn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=cp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xs=e,null}function _p(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nx()){case Fu:return 1;case pp:return 4;case gs:case rx:return 16;case mp:return 536870912;default:return 16}default:return 16}}var un=null,Wu=null,qi=null;function Ep(){if(qi)return qi;var e,t=Wu,n=t.length,r,o="value"in un?un.value:un.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return qi=o.slice(e,1<r?1-r:void 0)}function Zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function wd(){return!1}function et(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mi:wd,this.isPropagationStopped=wd,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),t}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uu=et(Or),si=we({},Or,{view:0,detail:0}),gx=et(si),Al,Dl,Jr,Zs=we({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jr&&(Jr&&e.type==="mousemove"?(Al=e.screenX-Jr.screenX,Dl=e.screenY-Jr.screenY):Dl=Al=0,Jr=e),Al)},movementY:function(e){return"movementY"in e?e.movementY:Dl}}),Sd=et(Zs),yx=we({},Zs,{dataTransfer:0}),vx=et(yx),xx=we({},si,{relatedTarget:0}),Ol=et(xx),wx=we({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),Sx=et(wx),kx=we({},Or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_x=et(kx),Ex=we({},Or,{data:0}),kd=et(Ex),bx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cx[e])?!!t[e]:!1}function Yu(){return Mx}var Px=we({},si,{key:function(e){if(e.key){var t=bx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yu,charCode:function(e){return e.type==="keypress"?Zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jx=et(Px),Ix=we({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_d=et(Ix),Rx=we({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yu}),Tx=et(Rx),Lx=we({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),zx=et(Lx),$x=we({},Zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ax=et($x),Dx=[9,13,27,32],Xu=Vt&&"CompositionEvent"in window,wo=null;Vt&&"documentMode"in document&&(wo=document.documentMode);var Ox=Vt&&"TextEvent"in window&&!wo,bp=Vt&&(!Xu||wo&&8<wo&&11>=wo),Ed=" ",bd=!1;function Np(e,t){switch(e){case"keyup":return Dx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nr=!1;function Fx(e,t){switch(e){case"compositionend":return Cp(t);case"keypress":return t.which!==32?null:(bd=!0,Ed);case"textInput":return e=t.data,e===Ed&&bd?null:e;default:return null}}function Hx(e,t){if(nr)return e==="compositionend"||!Xu&&Np(e,t)?(e=Ep(),qi=Wu=un=null,nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bp&&t.locale!=="ko"?null:t.data;default:return null}}var Bx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bx[e.type]:t==="textarea"}function Mp(e,t,n,r){ip(r),t=ws(t,"onChange"),0<t.length&&(n=new Uu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var So=null,Ao=null;function Vx(e){Op(e,0)}function Js(e){var t=ir(e);if(Zh(t))return e}function Wx(e,t){if(e==="change")return t}var Pp=!1;if(Vt){var Fl;if(Vt){var Hl="oninput"in document;if(!Hl){var Cd=document.createElement("div");Cd.setAttribute("oninput","return;"),Hl=typeof Cd.oninput=="function"}Fl=Hl}else Fl=!1;Pp=Fl&&(!document.documentMode||9<document.documentMode)}function Md(){So&&(So.detachEvent("onpropertychange",jp),Ao=So=null)}function jp(e){if(e.propertyName==="value"&&Js(Ao)){var t=[];Mp(t,Ao,e,Ou(e)),up(Vx,t)}}function Ux(e,t,n){e==="focusin"?(Md(),So=t,Ao=n,So.attachEvent("onpropertychange",jp)):e==="focusout"&&Md()}function Yx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Js(Ao)}function Xx(e,t){if(e==="click")return Js(t)}function Gx(e,t){if(e==="input"||e==="change")return Js(t)}function Kx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:Kx;function Do(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!va.call(t,o)||!vt(e[o],t[o]))return!1}return!0}function Pd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jd(e,t){var n=Pd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pd(n)}}function Ip(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ip(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rp(){for(var e=window,t=hs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hs(e.document)}return t}function Gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qx(e){var t=Rp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ip(n.ownerDocument.documentElement,n)){if(r!==null&&Gu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=jd(n,i);var s=jd(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qx=Vt&&"documentMode"in document&&11>=document.documentMode,rr=null,Aa=null,ko=null,Da=!1;function Id(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Da||rr==null||rr!==hs(r)||(r=rr,"selectionStart"in r&&Gu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ko&&Do(ko,r)||(ko=r,r=ws(Aa,"onSelect"),0<r.length&&(t=new Uu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function Pi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var or={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionend:Pi("Transition","TransitionEnd")},Bl={},Tp={};Vt&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function el(e){if(Bl[e])return Bl[e];if(!or[e])return e;var t=or[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Tp)return Bl[e]=t[n];return e}var Lp=el("animationend"),zp=el("animationiteration"),$p=el("animationstart"),Ap=el("transitionend"),Dp=new Map,Rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){Dp.set(e,t),Gn(t,[e])}for(var Vl=0;Vl<Rd.length;Vl++){var Wl=Rd[Vl],Zx=Wl.toLowerCase(),Jx=Wl[0].toUpperCase()+Wl.slice(1);Sn(Zx,"on"+Jx)}Sn(Lp,"onAnimationEnd");Sn(zp,"onAnimationIteration");Sn($p,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(Ap,"onTransitionEnd");_r("onMouseEnter",["mouseout","mouseover"]);_r("onMouseLeave",["mouseout","mouseover"]);_r("onPointerEnter",["pointerout","pointerover"]);_r("onPointerLeave",["pointerout","pointerover"]);Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ew=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function Td(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Zv(r,t,void 0,e),e.currentTarget=null}function Op(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;Td(o,l,u),i=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;Td(o,l,u),i=a}}}if(ms)throw e=Ta,ms=!1,Ta=null,e}function fe(e,t){var n=t[Va];n===void 0&&(n=t[Va]=new Set);var r=e+"__bubble";n.has(r)||(Fp(t,e,2,!1),n.add(r))}function Ul(e,t,n){var r=0;t&&(r|=4),Fp(n,e,r,t)}var ji="_reactListening"+Math.random().toString(36).slice(2);function Oo(e){if(!e[ji]){e[ji]=!0,Xh.forEach(function(n){n!=="selectionchange"&&(ew.has(n)||Ul(n,!1,e),Ul(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ji]||(t[ji]=!0,Ul("selectionchange",!1,t))}}function Fp(e,t,n,r){switch(_p(t)){case 1:var o=px;break;case 4:o=mx;break;default:o=Vu}n=o.bind(null,t,n,e),o=void 0,!Ra||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Yl(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=Pn(l),s===null)return;if(a=s.tag,a===5||a===6){r=i=s;continue e}l=l.parentNode}}r=r.return}up(function(){var u=i,f=Ou(n),c=[];e:{var d=Dp.get(e);if(d!==void 0){var g=Uu,y=e;switch(e){case"keypress":if(Zi(n)===0)break e;case"keydown":case"keyup":g=jx;break;case"focusin":y="focus",g=Ol;break;case"focusout":y="blur",g=Ol;break;case"beforeblur":case"afterblur":g=Ol;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Tx;break;case Lp:case zp:case $p:g=Sx;break;case Ap:g=zx;break;case"scroll":g=gx;break;case"wheel":g=Ax;break;case"copy":case"cut":case"paste":g=_x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=_d}var x=(t&4)!==0,w=!x&&e==="scroll",p=x?d!==null?d+"Capture":null:d;x=[];for(var m=u,h;m!==null;){h=m;var S=h.stateNode;if(h.tag===5&&S!==null&&(h=S,p!==null&&(S=To(m,p),S!=null&&x.push(Fo(m,S,h)))),w)break;m=m.return}0<x.length&&(d=new g(d,y,null,n,f),c.push({event:d,listeners:x}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==ja&&(y=n.relatedTarget||n.fromElement)&&(Pn(y)||y[Wt]))break e;if((g||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?Pn(y):null,y!==null&&(w=Kn(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(x=Sd,S="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=_d,S="onPointerLeave",p="onPointerEnter",m="pointer"),w=g==null?d:ir(g),h=y==null?d:ir(y),d=new x(S,m+"leave",g,n,f),d.target=w,d.relatedTarget=h,S=null,Pn(f)===u&&(x=new x(p,m+"enter",y,n,f),x.target=h,x.relatedTarget=w,S=x),w=S,g&&y)t:{for(x=g,p=y,m=0,h=x;h;h=Zn(h))m++;for(h=0,S=p;S;S=Zn(S))h++;for(;0<m-h;)x=Zn(x),m--;for(;0<h-m;)p=Zn(p),h--;for(;m--;){if(x===p||p!==null&&x===p.alternate)break t;x=Zn(x),p=Zn(p)}x=null}else x=null;g!==null&&Ld(c,d,g,x,!1),y!==null&&w!==null&&Ld(c,w,y,x,!0)}}e:{if(d=u?ir(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var E=Wx;else if(Nd(d))if(Pp)E=Gx;else{E=Yx;var b=Ux}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=Xx);if(E&&(E=E(e,u))){Mp(c,E,n,f);break e}b&&b(e,d,u),e==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&ba(d,"number",d.value)}switch(b=u?ir(u):window,e){case"focusin":(Nd(b)||b.contentEditable==="true")&&(rr=b,Aa=u,ko=null);break;case"focusout":ko=Aa=rr=null;break;case"mousedown":Da=!0;break;case"contextmenu":case"mouseup":case"dragend":Da=!1,Id(c,n,f);break;case"selectionchange":if(qx)break;case"keydown":case"keyup":Id(c,n,f)}var N;if(Xu)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else nr?Np(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(bp&&n.locale!=="ko"&&(nr||P!=="onCompositionStart"?P==="onCompositionEnd"&&nr&&(N=Ep()):(un=f,Wu="value"in un?un.value:un.textContent,nr=!0)),b=ws(u,P),0<b.length&&(P=new kd(P,e,null,n,f),c.push({event:P,listeners:b}),N?P.data=N:(N=Cp(n),N!==null&&(P.data=N)))),(N=Ox?Fx(e,n):Hx(e,n))&&(u=ws(u,"onBeforeInput"),0<u.length&&(f=new kd("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=N))}Op(c,t)})}function Fo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ws(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=To(e,n),i!=null&&r.unshift(Fo(e,i,o)),i=To(e,t),i!=null&&r.push(Fo(e,i,o))),e=e.return}return r}function Zn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ld(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=To(n,i),a!=null&&s.unshift(Fo(n,a,l))):o||(a=To(n,i),a!=null&&s.push(Fo(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var tw=/\r\n?/g,nw=/\u0000|\uFFFD/g;function zd(e){return(typeof e=="string"?e:""+e).replace(tw,`
`).replace(nw,"")}function Ii(e,t,n){if(t=zd(t),zd(e)!==t&&n)throw Error(H(425))}function Ss(){}var Oa=null,Fa=null;function Ha(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ba=typeof setTimeout=="function"?setTimeout:void 0,rw=typeof clearTimeout=="function"?clearTimeout:void 0,$d=typeof Promise=="function"?Promise:void 0,ow=typeof queueMicrotask=="function"?queueMicrotask:typeof $d<"u"?function(e){return $d.resolve(null).then(e).catch(iw)}:Ba;function iw(e){setTimeout(function(){throw e})}function Xl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),$o(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);$o(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ad(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),bt="__reactFiber$"+Fr,Ho="__reactProps$"+Fr,Wt="__reactContainer$"+Fr,Va="__reactEvents$"+Fr,sw="__reactListeners$"+Fr,lw="__reactHandles$"+Fr;function Pn(e){var t=e[bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wt]||n[bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ad(e);e!==null;){if(n=e[bt])return n;e=Ad(e)}return t}e=n,n=e.parentNode}return null}function li(e){return e=e[bt]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function tl(e){return e[Ho]||null}var Wa=[],sr=-1;function kn(e){return{current:e}}function he(e){0>sr||(e.current=Wa[sr],Wa[sr]=null,sr--)}function ue(e,t){sr++,Wa[sr]=e.current,e.current=t}var wn={},$e=kn(wn),We=kn(!1),Dn=wn;function Er(e,t){var n=e.type.contextTypes;if(!n)return wn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ue(e){return e=e.childContextTypes,e!=null}function ks(){he(We),he($e)}function Dd(e,t,n){if($e.current!==wn)throw Error(H(168));ue($e,t),ue(We,n)}function Hp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(H(108,Uv(e)||"Unknown",o));return we({},n,r)}function _s(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wn,Dn=$e.current,ue($e,e),ue(We,We.current),!0}function Od(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=Hp(e,t,Dn),r.__reactInternalMemoizedMergedChildContext=e,he(We),he($e),ue($e,e)):he(We),ue(We,n)}var $t=null,nl=!1,Gl=!1;function Bp(e){$t===null?$t=[e]:$t.push(e)}function aw(e){nl=!0,Bp(e)}function _n(){if(!Gl&&$t!==null){Gl=!0;var e=0,t=ae;try{var n=$t;for(ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$t=null,nl=!1}catch(o){throw $t!==null&&($t=$t.slice(e+1)),hp(Fu,_n),o}finally{ae=t,Gl=!1}}return null}var lr=[],ar=0,Es=null,bs=0,nt=[],rt=0,On=null,At=1,Dt="";function Nn(e,t){lr[ar++]=bs,lr[ar++]=Es,Es=e,bs=t}function Vp(e,t,n){nt[rt++]=At,nt[rt++]=Dt,nt[rt++]=On,On=e;var r=At;e=Dt;var o=32-gt(r)-1;r&=~(1<<o),n+=1;var i=32-gt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,At=1<<32-gt(t)+o|n<<o|r,Dt=i+e}else At=1<<i|n<<o|r,Dt=e}function Ku(e){e.return!==null&&(Nn(e,1),Vp(e,1,0))}function Qu(e){for(;e===Es;)Es=lr[--ar],lr[ar]=null,bs=lr[--ar],lr[ar]=null;for(;e===On;)On=nt[--rt],nt[rt]=null,Dt=nt[--rt],nt[rt]=null,At=nt[--rt],nt[rt]=null}var Qe=null,Ke=null,pe=!1,ft=null;function Wp(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Fd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qe=e,Ke=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qe=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=On!==null?{id:At,overflow:Dt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qe=e,Ke=null,!0):!1;default:return!1}}function Ua(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ya(e){if(pe){var t=Ke;if(t){var n=t;if(!Fd(e,t)){if(Ua(e))throw Error(H(418));t=pn(n.nextSibling);var r=Qe;t&&Fd(e,t)?Wp(r,n):(e.flags=e.flags&-4097|2,pe=!1,Qe=e)}}else{if(Ua(e))throw Error(H(418));e.flags=e.flags&-4097|2,pe=!1,Qe=e}}}function Hd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qe=e}function Ri(e){if(e!==Qe)return!1;if(!pe)return Hd(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ha(e.type,e.memoizedProps)),t&&(t=Ke)){if(Ua(e))throw Up(),Error(H(418));for(;t;)Wp(e,t),t=pn(t.nextSibling)}if(Hd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ke=pn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Qe?pn(e.stateNode.nextSibling):null;return!0}function Up(){for(var e=Ke;e;)e=pn(e.nextSibling)}function br(){Ke=Qe=null,pe=!1}function qu(e){ft===null?ft=[e]:ft.push(e)}var uw=Kt.ReactCurrentBatchConfig;function eo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Ti(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bd(e){var t=e._init;return t(e._payload)}function Yp(e){function t(p,m){if(e){var h=p.deletions;h===null?(p.deletions=[m],p.flags|=16):h.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function o(p,m){return p=vn(p,m),p.index=0,p.sibling=null,p}function i(p,m,h){return p.index=h,e?(h=p.alternate,h!==null?(h=h.index,h<m?(p.flags|=2,m):h):(p.flags|=2,m)):(p.flags|=1048576,m)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,m,h,S){return m===null||m.tag!==6?(m=ta(h,p.mode,S),m.return=p,m):(m=o(m,h),m.return=p,m)}function a(p,m,h,S){var E=h.type;return E===tr?f(p,m,h.props.children,S,h.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rn&&Bd(E)===m.type)?(S=o(m,h.props),S.ref=eo(p,m,h),S.return=p,S):(S=is(h.type,h.key,h.props,null,p.mode,S),S.ref=eo(p,m,h),S.return=p,S)}function u(p,m,h,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==h.containerInfo||m.stateNode.implementation!==h.implementation?(m=na(h,p.mode,S),m.return=p,m):(m=o(m,h.children||[]),m.return=p,m)}function f(p,m,h,S,E){return m===null||m.tag!==7?(m=Ln(h,p.mode,S,E),m.return=p,m):(m=o(m,h),m.return=p,m)}function c(p,m,h){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ta(""+m,p.mode,h),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ki:return h=is(m.type,m.key,m.props,null,p.mode,h),h.ref=eo(p,null,m),h.return=p,h;case er:return m=na(m,p.mode,h),m.return=p,m;case rn:var S=m._init;return c(p,S(m._payload),h)}if(fo(m)||Kr(m))return m=Ln(m,p.mode,h,null),m.return=p,m;Ti(p,m)}return null}function d(p,m,h,S){var E=m!==null?m.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return E!==null?null:l(p,m,""+h,S);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ki:return h.key===E?a(p,m,h,S):null;case er:return h.key===E?u(p,m,h,S):null;case rn:return E=h._init,d(p,m,E(h._payload),S)}if(fo(h)||Kr(h))return E!==null?null:f(p,m,h,S,null);Ti(p,h)}return null}function g(p,m,h,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(h)||null,l(m,p,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ki:return p=p.get(S.key===null?h:S.key)||null,a(m,p,S,E);case er:return p=p.get(S.key===null?h:S.key)||null,u(m,p,S,E);case rn:var b=S._init;return g(p,m,h,b(S._payload),E)}if(fo(S)||Kr(S))return p=p.get(h)||null,f(m,p,S,E,null);Ti(m,S)}return null}function y(p,m,h,S){for(var E=null,b=null,N=m,P=m=0,T=null;N!==null&&P<h.length;P++){N.index>P?(T=N,N=null):T=N.sibling;var A=d(p,N,h[P],S);if(A===null){N===null&&(N=T);break}e&&N&&A.alternate===null&&t(p,N),m=i(A,m,P),b===null?E=A:b.sibling=A,b=A,N=T}if(P===h.length)return n(p,N),pe&&Nn(p,P),E;if(N===null){for(;P<h.length;P++)N=c(p,h[P],S),N!==null&&(m=i(N,m,P),b===null?E=N:b.sibling=N,b=N);return pe&&Nn(p,P),E}for(N=r(p,N);P<h.length;P++)T=g(N,p,P,h[P],S),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?P:T.key),m=i(T,m,P),b===null?E=T:b.sibling=T,b=T);return e&&N.forEach(function(L){return t(p,L)}),pe&&Nn(p,P),E}function x(p,m,h,S){var E=Kr(h);if(typeof E!="function")throw Error(H(150));if(h=E.call(h),h==null)throw Error(H(151));for(var b=E=null,N=m,P=m=0,T=null,A=h.next();N!==null&&!A.done;P++,A=h.next()){N.index>P?(T=N,N=null):T=N.sibling;var L=d(p,N,A.value,S);if(L===null){N===null&&(N=T);break}e&&N&&L.alternate===null&&t(p,N),m=i(L,m,P),b===null?E=L:b.sibling=L,b=L,N=T}if(A.done)return n(p,N),pe&&Nn(p,P),E;if(N===null){for(;!A.done;P++,A=h.next())A=c(p,A.value,S),A!==null&&(m=i(A,m,P),b===null?E=A:b.sibling=A,b=A);return pe&&Nn(p,P),E}for(N=r(p,N);!A.done;P++,A=h.next())A=g(N,p,P,A.value,S),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?P:A.key),m=i(A,m,P),b===null?E=A:b.sibling=A,b=A);return e&&N.forEach(function(R){return t(p,R)}),pe&&Nn(p,P),E}function w(p,m,h,S){if(typeof h=="object"&&h!==null&&h.type===tr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case ki:e:{for(var E=h.key,b=m;b!==null;){if(b.key===E){if(E=h.type,E===tr){if(b.tag===7){n(p,b.sibling),m=o(b,h.props.children),m.return=p,p=m;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rn&&Bd(E)===b.type){n(p,b.sibling),m=o(b,h.props),m.ref=eo(p,b,h),m.return=p,p=m;break e}n(p,b);break}else t(p,b);b=b.sibling}h.type===tr?(m=Ln(h.props.children,p.mode,S,h.key),m.return=p,p=m):(S=is(h.type,h.key,h.props,null,p.mode,S),S.ref=eo(p,m,h),S.return=p,p=S)}return s(p);case er:e:{for(b=h.key;m!==null;){if(m.key===b)if(m.tag===4&&m.stateNode.containerInfo===h.containerInfo&&m.stateNode.implementation===h.implementation){n(p,m.sibling),m=o(m,h.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=na(h,p.mode,S),m.return=p,p=m}return s(p);case rn:return b=h._init,w(p,m,b(h._payload),S)}if(fo(h))return y(p,m,h,S);if(Kr(h))return x(p,m,h,S);Ti(p,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,m!==null&&m.tag===6?(n(p,m.sibling),m=o(m,h),m.return=p,p=m):(n(p,m),m=ta(h,p.mode,S),m.return=p,p=m),s(p)):n(p,m)}return w}var Nr=Yp(!0),Xp=Yp(!1),Ns=kn(null),Cs=null,ur=null,Zu=null;function Ju(){Zu=ur=Cs=null}function ec(e){var t=Ns.current;he(Ns),e._currentValue=t}function Xa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vr(e,t){Cs=e,Zu=ur=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function st(e){var t=e._currentValue;if(Zu!==e)if(e={context:e,memoizedValue:t,next:null},ur===null){if(Cs===null)throw Error(H(308));ur=e,Cs.dependencies={lanes:0,firstContext:e}}else ur=ur.next=e;return t}var jn=null;function tc(e){jn===null?jn=[e]:jn.push(e)}function Gp(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,tc(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ut(e,r)}function Ut(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var on=!1;function nc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ut(e,n)}return o=r.interleaved,o===null?(t.next=t,tc(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ut(e,n)}function Ji(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hu(e,n)}}function Vd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ms(e,t,n,r){var o=e.updateQueue;on=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?i=u:s.next=u,s=a;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(i!==null){var c=o.baseState;s=0,f=u=a=null,l=i;do{var d=l.lane,g=l.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(d=t,g=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){c=y.call(g,c,d);break e}c=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,d=typeof y=="function"?y.call(g,c,d):y,d==null)break e;c=we({},c,d);break e;case 2:on=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[l]:d.push(l))}else g={eventTime:g,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=g,a=c):f=f.next=g,s|=d;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;d=l,l=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(f===null&&(a=c),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Hn|=s,e.lanes=s,e.memoizedState=c}}function Wd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(H(191,o));o.call(r)}}}var ai={},Mt=kn(ai),Bo=kn(ai),Vo=kn(ai);function In(e){if(e===ai)throw Error(H(174));return e}function rc(e,t){switch(ue(Vo,t),ue(Bo,e),ue(Mt,ai),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ca(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ca(t,e)}he(Mt),ue(Mt,t)}function Cr(){he(Mt),he(Bo),he(Vo)}function Qp(e){In(Vo.current);var t=In(Mt.current),n=Ca(t,e.type);t!==n&&(ue(Bo,e),ue(Mt,n))}function oc(e){Bo.current===e&&(he(Mt),he(Bo))}var ve=kn(0);function Ps(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kl=[];function ic(){for(var e=0;e<Kl.length;e++)Kl[e]._workInProgressVersionPrimary=null;Kl.length=0}var es=Kt.ReactCurrentDispatcher,Ql=Kt.ReactCurrentBatchConfig,Fn=0,xe=null,be=null,Ce=null,js=!1,_o=!1,Wo=0,cw=0;function Te(){throw Error(H(321))}function sc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vt(e[n],t[n]))return!1;return!0}function lc(e,t,n,r,o,i){if(Fn=i,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,es.current=e===null||e.memoizedState===null?pw:mw,e=n(r,o),_o){i=0;do{if(_o=!1,Wo=0,25<=i)throw Error(H(301));i+=1,Ce=be=null,t.updateQueue=null,es.current=gw,e=n(r,o)}while(_o)}if(es.current=Is,t=be!==null&&be.next!==null,Fn=0,Ce=be=xe=null,js=!1,t)throw Error(H(300));return e}function ac(){var e=Wo!==0;return Wo=0,e}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?xe.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function lt(){if(be===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Ce===null?xe.memoizedState:Ce.next;if(t!==null)Ce=t,be=e;else{if(e===null)throw Error(H(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ce===null?xe.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Uo(e,t){return typeof t=="function"?t(e):t}function ql(e){var t=lt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=be,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,a=null,u=i;do{var f=u.lane;if((Fn&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,s=r):a=a.next=c,xe.lanes|=f,Hn|=f}u=u.next}while(u!==null&&u!==i);a===null?s=r:a.next=l,vt(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,xe.lanes|=i,Hn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zl(e){var t=lt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);vt(i,t.memoizedState)||(Be=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function qp(){}function Zp(e,t){var n=xe,r=lt(),o=t(),i=!vt(r.memoizedState,o);if(i&&(r.memoizedState=o,Be=!0),r=r.queue,uc(tm.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,Yo(9,em.bind(null,n,r,o,t),void 0,null),Me===null)throw Error(H(349));Fn&30||Jp(n,t,o)}return o}function Jp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function em(e,t,n,r){t.value=n,t.getSnapshot=r,nm(t)&&rm(e)}function tm(e,t,n){return n(function(){nm(t)&&rm(e)})}function nm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vt(e,n)}catch{return!0}}function rm(e){var t=Ut(e,1);t!==null&&yt(t,e,1,-1)}function Ud(e){var t=_t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:e},t.queue=e,e=e.dispatch=hw.bind(null,xe,e),[t.memoizedState,e]}function Yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function om(){return lt().memoizedState}function ts(e,t,n,r){var o=_t();xe.flags|=e,o.memoizedState=Yo(1|t,n,void 0,r===void 0?null:r)}function rl(e,t,n,r){var o=lt();r=r===void 0?null:r;var i=void 0;if(be!==null){var s=be.memoizedState;if(i=s.destroy,r!==null&&sc(r,s.deps)){o.memoizedState=Yo(t,n,i,r);return}}xe.flags|=e,o.memoizedState=Yo(1|t,n,i,r)}function Yd(e,t){return ts(8390656,8,e,t)}function uc(e,t){return rl(2048,8,e,t)}function im(e,t){return rl(4,2,e,t)}function sm(e,t){return rl(4,4,e,t)}function lm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function am(e,t,n){return n=n!=null?n.concat([e]):null,rl(4,4,lm.bind(null,t,e),n)}function cc(){}function um(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cm(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function dm(e,t,n){return Fn&21?(vt(n,t)||(n=gp(),xe.lanes|=n,Hn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function dw(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var r=Ql.transition;Ql.transition={};try{e(!1),t()}finally{ae=n,Ql.transition=r}}function fm(){return lt().memoizedState}function fw(e,t,n){var r=yn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hm(e))pm(t,n);else if(n=Gp(e,t,n,r),n!==null){var o=De();yt(n,e,r,o),mm(n,t,r)}}function hw(e,t,n){var r=yn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hm(e))pm(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,vt(l,s)){var a=t.interleaved;a===null?(o.next=o,tc(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=Gp(e,t,o,r),n!==null&&(o=De(),yt(n,e,r,o),mm(n,t,r))}}function hm(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function pm(e,t){_o=js=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hu(e,n)}}var Is={readContext:st,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},pw={readContext:st,useCallback:function(e,t){return _t().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:Yd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ts(4194308,4,lm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return ts(4,2,e,t)},useMemo:function(e,t){var n=_t();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_t();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fw.bind(null,xe,e),[r.memoizedState,e]},useRef:function(e){var t=_t();return e={current:e},t.memoizedState=e},useState:Ud,useDebugValue:cc,useDeferredValue:function(e){return _t().memoizedState=e},useTransition:function(){var e=Ud(!1),t=e[0];return e=dw.bind(null,e[1]),_t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xe,o=_t();if(pe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Me===null)throw Error(H(349));Fn&30||Jp(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Yd(tm.bind(null,r,i,e),[e]),r.flags|=2048,Yo(9,em.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=_t(),t=Me.identifierPrefix;if(pe){var n=Dt,r=At;n=(r&~(1<<32-gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mw={readContext:st,useCallback:um,useContext:st,useEffect:uc,useImperativeHandle:am,useInsertionEffect:im,useLayoutEffect:sm,useMemo:cm,useReducer:ql,useRef:om,useState:function(){return ql(Uo)},useDebugValue:cc,useDeferredValue:function(e){var t=lt();return dm(t,be.memoizedState,e)},useTransition:function(){var e=ql(Uo)[0],t=lt().memoizedState;return[e,t]},useMutableSource:qp,useSyncExternalStore:Zp,useId:fm,unstable_isNewReconciler:!1},gw={readContext:st,useCallback:um,useContext:st,useEffect:uc,useImperativeHandle:am,useInsertionEffect:im,useLayoutEffect:sm,useMemo:cm,useReducer:Zl,useRef:om,useState:function(){return Zl(Uo)},useDebugValue:cc,useDeferredValue:function(e){var t=lt();return be===null?t.memoizedState=e:dm(t,be.memoizedState,e)},useTransition:function(){var e=Zl(Uo)[0],t=lt().memoizedState;return[e,t]},useMutableSource:qp,useSyncExternalStore:Zp,useId:fm,unstable_isNewReconciler:!1};function ut(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ga(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ol={isMounted:function(e){return(e=e._reactInternals)?Kn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=De(),o=yn(e),i=Ft(r,o);i.payload=t,n!=null&&(i.callback=n),t=mn(e,i,o),t!==null&&(yt(t,e,o,r),Ji(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=De(),o=yn(e),i=Ft(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=mn(e,i,o),t!==null&&(yt(t,e,o,r),Ji(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=De(),r=yn(e),o=Ft(n,r);o.tag=2,t!=null&&(o.callback=t),t=mn(e,o,r),t!==null&&(yt(t,e,r,n),Ji(t,e,r))}};function Xd(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Do(n,r)||!Do(o,i):!0}function gm(e,t,n){var r=!1,o=wn,i=t.contextType;return typeof i=="object"&&i!==null?i=st(i):(o=Ue(t)?Dn:$e.current,r=t.contextTypes,i=(r=r!=null)?Er(e,o):wn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ol,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Gd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ol.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},nc(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=st(i):(i=Ue(t)?Dn:$e.current,o.context=Er(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ga(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ol.enqueueReplaceState(o,o.state,null),Ms(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Mr(e,t){try{var n="",r=t;do n+=Wv(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Jl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Qa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yw=typeof WeakMap=="function"?WeakMap:Map;function ym(e,t,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ts||(Ts=!0,su=r),Qa(e,t)},n}function vm(e,t,n){n=Ft(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Qa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Qa(e,t),typeof r!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Kd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yw;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Iw.bind(null,e,t,n),t.then(e,e))}function Qd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ft(-1,1),t.tag=2,mn(n,t,1))),n.lanes|=1),e)}var vw=Kt.ReactCurrentOwner,Be=!1;function Ae(e,t,n,r){t.child=e===null?Xp(t,null,n,r):Nr(t,e.child,n,r)}function Zd(e,t,n,r,o){n=n.render;var i=t.ref;return vr(t,o),r=lc(e,t,n,r,i,o),n=ac(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Yt(e,t,o)):(pe&&n&&Ku(t),t.flags|=1,Ae(e,t,r,o),t.child)}function Jd(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!vc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,xm(e,t,i,r,o)):(e=is(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Do,n(s,r)&&e.ref===t.ref)return Yt(e,t,o)}return t.flags|=1,e=vn(i,r),e.ref=t.ref,e.return=t,t.child=e}function xm(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Do(i,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Yt(e,t,o)}return qa(e,t,n,r,o)}function wm(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(dr,Xe),Xe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(dr,Xe),Xe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ue(dr,Xe),Xe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ue(dr,Xe),Xe|=r;return Ae(e,t,o,n),t.child}function Sm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qa(e,t,n,r,o){var i=Ue(n)?Dn:$e.current;return i=Er(t,i),vr(t,o),n=lc(e,t,n,r,i,o),r=ac(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Yt(e,t,o)):(pe&&r&&Ku(t),t.flags|=1,Ae(e,t,n,o),t.child)}function ef(e,t,n,r,o){if(Ue(n)){var i=!0;_s(t)}else i=!1;if(vr(t,o),t.stateNode===null)ns(e,t),gm(t,n,r),Ka(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=st(u):(u=Ue(n)?Dn:$e.current,u=Er(t,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Gd(t,s,r,u),on=!1;var d=t.memoizedState;s.state=d,Ms(t,r,s,o),a=t.memoizedState,l!==r||d!==a||We.current||on?(typeof f=="function"&&(Ga(t,n,f,r),a=t.memoizedState),(l=on||Xd(t,n,l,r,d,a,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Kp(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ut(t.type,l),s.props=u,c=t.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=st(a):(a=Ue(n)?Dn:$e.current,a=Er(t,a));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==c||d!==a)&&Gd(t,s,r,a),on=!1,d=t.memoizedState,s.state=d,Ms(t,r,s,o);var y=t.memoizedState;l!==c||d!==y||We.current||on?(typeof g=="function"&&(Ga(t,n,g,r),y=t.memoizedState),(u=on||Xd(t,n,u,r,d,y,a)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Za(e,t,n,r,i,o)}function Za(e,t,n,r,o,i){Sm(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Od(t,n,!1),Yt(e,t,i);r=t.stateNode,vw.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Nr(t,e.child,null,i),t.child=Nr(t,null,l,i)):Ae(e,t,l,i),t.memoizedState=r.state,o&&Od(t,n,!0),t.child}function km(e){var t=e.stateNode;t.pendingContext?Dd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dd(e,t.context,!1),rc(e,t.containerInfo)}function tf(e,t,n,r,o){return br(),qu(o),t.flags|=256,Ae(e,t,n,r),t.child}var Ja={dehydrated:null,treeContext:null,retryLane:0};function eu(e){return{baseLanes:e,cachePool:null,transitions:null}}function _m(e,t,n){var r=t.pendingProps,o=ve.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ue(ve,o&1),e===null)return Ya(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=ll(s,r,0,null),e=Ln(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=eu(n),t.memoizedState=Ja,e):dc(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return xw(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=vn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=vn(l,i):(i=Ln(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?eu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Ja,r}return i=e.child,e=i.sibling,r=vn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function dc(e,t){return t=ll({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Li(e,t,n,r){return r!==null&&qu(r),Nr(t,e.child,null,n),e=dc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xw(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Jl(Error(H(422))),Li(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=ll({mode:"visible",children:r.children},o,0,null),i=Ln(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Nr(t,e.child,null,s),t.child.memoizedState=eu(s),t.memoizedState=Ja,i);if(!(t.mode&1))return Li(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(H(419)),r=Jl(i,r,void 0),Li(e,t,s,r)}if(l=(s&e.childLanes)!==0,Be||l){if(r=Me,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Ut(e,o),yt(r,e,o,-1))}return yc(),r=Jl(Error(H(421))),Li(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Rw.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Ke=pn(o.nextSibling),Qe=t,pe=!0,ft=null,e!==null&&(nt[rt++]=At,nt[rt++]=Dt,nt[rt++]=On,At=e.id,Dt=e.overflow,On=t),t=dc(t,r.children),t.flags|=4096,t)}function nf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Xa(e.return,t,n)}function ea(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Em(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ae(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nf(e,n,t);else if(e.tag===19)nf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(ve,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ps(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ea(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ps(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ea(t,!0,n,null,i);break;case"together":ea(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ns(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ww(e,t,n){switch(t.tag){case 3:km(t),br();break;case 5:Qp(t);break;case 1:Ue(t.type)&&_s(t);break;case 4:rc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ue(Ns,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?_m(e,t,n):(ue(ve,ve.current&1),e=Yt(e,t,n),e!==null?e.sibling:null);ue(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Em(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ue(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,wm(e,t,n)}return Yt(e,t,n)}var bm,tu,Nm,Cm;bm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tu=function(){};Nm=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,In(Mt.current);var i=null;switch(n){case"input":o=_a(e,o),r=_a(e,r),i=[];break;case"select":o=we({},o,{value:void 0}),r=we({},r,{value:void 0}),i=[];break;case"textarea":o=Na(e,o),r=Na(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ss)}Ma(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Io.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Io.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&fe("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Cm=function(e,t,n,r){n!==r&&(t.flags|=4)};function to(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Sw(e,t,n){var r=t.pendingProps;switch(Qu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Ue(t.type)&&ks(),Le(t),null;case 3:return r=t.stateNode,Cr(),he(We),he($e),ic(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ri(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(uu(ft),ft=null))),tu(e,t),Le(t),null;case 5:oc(t);var o=In(Vo.current);if(n=t.type,e!==null&&t.stateNode!=null)Nm(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Le(t),null}if(e=In(Mt.current),Ri(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[bt]=t,r[Ho]=i,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(o=0;o<po.length;o++)fe(po[o],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":dd(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":hd(r,i),fe("invalid",r)}Ma(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ii(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ii(r.textContent,l,e),o=["children",""+l]):Io.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&fe("scroll",r)}switch(n){case"input":_i(r),fd(r,i,!0);break;case"textarea":_i(r),pd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ss)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[bt]=t,e[Ho]=r,bm(e,t,!1,!1),t.stateNode=e;e:{switch(s=Pa(n,r),n){case"dialog":fe("cancel",e),fe("close",e),o=r;break;case"iframe":case"object":case"embed":fe("load",e),o=r;break;case"video":case"audio":for(o=0;o<po.length;o++)fe(po[o],e);o=r;break;case"source":fe("error",e),o=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),o=r;break;case"details":fe("toggle",e),o=r;break;case"input":dd(e,r),o=_a(e,r),fe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=we({},r,{value:void 0}),fe("invalid",e);break;case"textarea":hd(e,r),o=Na(e,r),fe("invalid",e);break;default:o=r}Ma(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?op(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&np(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ro(e,a):typeof a=="number"&&Ro(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Io.hasOwnProperty(i)?a!=null&&i==="onScroll"&&fe("scroll",e):a!=null&&zu(e,i,a,s))}switch(n){case"input":_i(e),fd(e,r,!1);break;case"textarea":_i(e),pd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?pr(e,!!r.multiple,i,!1):r.defaultValue!=null&&pr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ss)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)Cm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=In(Vo.current),In(Mt.current),Ri(t)){if(r=t.stateNode,n=t.memoizedProps,r[bt]=t,(i=r.nodeValue!==n)&&(e=Qe,e!==null))switch(e.tag){case 3:Ii(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ii(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bt]=t,t.stateNode=r}return Le(t),null;case 13:if(he(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&Ke!==null&&t.mode&1&&!(t.flags&128))Up(),br(),t.flags|=98560,i=!1;else if(i=Ri(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(H(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[bt]=t}else br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),i=!1}else ft!==null&&(uu(ft),ft=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Ne===0&&(Ne=3):yc())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return Cr(),tu(e,t),e===null&&Oo(t.stateNode.containerInfo),Le(t),null;case 10:return ec(t.type._context),Le(t),null;case 17:return Ue(t.type)&&ks(),Le(t),null;case 19:if(he(ve),i=t.memoizedState,i===null)return Le(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)to(i,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ps(e),s!==null){for(t.flags|=128,to(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(ve,ve.current&1|2),t.child}e=e.sibling}i.tail!==null&&ke()>Pr&&(t.flags|=128,r=!0,to(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ps(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),to(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!pe)return Le(t),null}else 2*ke()-i.renderingStartTime>Pr&&n!==1073741824&&(t.flags|=128,r=!0,to(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ke(),t.sibling=null,n=ve.current,ue(ve,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return gc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xe&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function kw(e,t){switch(Qu(t),t.tag){case 1:return Ue(t.type)&&ks(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cr(),he(We),he($e),ic(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return oc(t),null;case 13:if(he(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(ve),null;case 4:return Cr(),null;case 10:return ec(t.type._context),null;case 22:case 23:return gc(),null;case 24:return null;default:return null}}var zi=!1,ze=!1,_w=typeof WeakSet=="function"?WeakSet:Set,U=null;function cr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function nu(e,t,n){try{n()}catch(r){Se(e,t,r)}}var rf=!1;function Ew(e,t){if(Oa=vs,e=Rp(),Gu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,f=0,c=e,d=null;t:for(;;){for(var g;c!==n||o!==0&&c.nodeType!==3||(l=s+o),c!==i||r!==0&&c.nodeType!==3||(a=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(g=c.firstChild)!==null;)d=c,c=g;for(;;){if(c===e)break t;if(d===n&&++u===o&&(l=s),d===i&&++f===r&&(a=s),(g=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fa={focusedElem:e,selectionRange:n},vs=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,w=y.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:ut(t.type,x),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(S){Se(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return y=rf,rf=!1,y}function Eo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&nu(t,n,i)}o=o.next}while(o!==r)}}function il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ru(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Mm(e){var t=e.alternate;t!==null&&(e.alternate=null,Mm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bt],delete t[Ho],delete t[Va],delete t[sw],delete t[lw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pm(e){return e.tag===5||e.tag===3||e.tag===4}function of(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ou(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ss));else if(r!==4&&(e=e.child,e!==null))for(ou(e,t,n),e=e.sibling;e!==null;)ou(e,t,n),e=e.sibling}function iu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(iu(e,t,n),e=e.sibling;e!==null;)iu(e,t,n),e=e.sibling}var Pe=null,ct=!1;function Zt(e,t,n){for(n=n.child;n!==null;)jm(e,t,n),n=n.sibling}function jm(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(qs,n)}catch{}switch(n.tag){case 5:ze||cr(n,t);case 6:var r=Pe,o=ct;Pe=null,Zt(e,t,n),Pe=r,ct=o,Pe!==null&&(ct?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(ct?(e=Pe,n=n.stateNode,e.nodeType===8?Xl(e.parentNode,n):e.nodeType===1&&Xl(e,n),$o(e)):Xl(Pe,n.stateNode));break;case 4:r=Pe,o=ct,Pe=n.stateNode.containerInfo,ct=!0,Zt(e,t,n),Pe=r,ct=o;break;case 0:case 11:case 14:case 15:if(!ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&nu(n,t,s),o=o.next}while(o!==r)}Zt(e,t,n);break;case 1:if(!ze&&(cr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Se(n,t,l)}Zt(e,t,n);break;case 21:Zt(e,t,n);break;case 22:n.mode&1?(ze=(r=ze)||n.memoizedState!==null,Zt(e,t,n),ze=r):Zt(e,t,n);break;default:Zt(e,t,n)}}function sf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _w),t.forEach(function(r){var o=Tw.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function at(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Pe=l.stateNode,ct=!1;break e;case 3:Pe=l.stateNode.containerInfo,ct=!0;break e;case 4:Pe=l.stateNode.containerInfo,ct=!0;break e}l=l.return}if(Pe===null)throw Error(H(160));jm(i,s,o),Pe=null,ct=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){Se(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Im(t,e),t=t.sibling}function Im(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(at(t,e),kt(e),r&4){try{Eo(3,e,e.return),il(3,e)}catch(x){Se(e,e.return,x)}try{Eo(5,e,e.return)}catch(x){Se(e,e.return,x)}}break;case 1:at(t,e),kt(e),r&512&&n!==null&&cr(n,n.return);break;case 5:if(at(t,e),kt(e),r&512&&n!==null&&cr(n,n.return),e.flags&32){var o=e.stateNode;try{Ro(o,"")}catch(x){Se(e,e.return,x)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Jh(o,i),Pa(l,s);var u=Pa(l,i);for(s=0;s<a.length;s+=2){var f=a[s],c=a[s+1];f==="style"?op(o,c):f==="dangerouslySetInnerHTML"?np(o,c):f==="children"?Ro(o,c):zu(o,f,c,u)}switch(l){case"input":Ea(o,i);break;case"textarea":ep(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?pr(o,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?pr(o,!!i.multiple,i.defaultValue,!0):pr(o,!!i.multiple,i.multiple?[]:"",!1))}o[Ho]=i}catch(x){Se(e,e.return,x)}}break;case 6:if(at(t,e),kt(e),r&4){if(e.stateNode===null)throw Error(H(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(x){Se(e,e.return,x)}}break;case 3:if(at(t,e),kt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$o(t.containerInfo)}catch(x){Se(e,e.return,x)}break;case 4:at(t,e),kt(e);break;case 13:at(t,e),kt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(pc=ke())),r&4&&sf(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ze=(u=ze)||f,at(t,e),ze=u):at(t,e),kt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(U=e,f=e.child;f!==null;){for(c=U=f;U!==null;){switch(d=U,g=d.child,d.tag){case 0:case 11:case 14:case 15:Eo(4,d,d.return);break;case 1:cr(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){Se(r,n,x)}}break;case 5:cr(d,d.return);break;case 22:if(d.memoizedState!==null){af(c);continue}}g!==null?(g.return=d,U=g):af(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{o=c.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=c.stateNode,a=c.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=rp("display",s))}catch(x){Se(e,e.return,x)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(x){Se(e,e.return,x)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:at(t,e),kt(e),r&4&&sf(e);break;case 21:break;default:at(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Pm(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ro(o,""),r.flags&=-33);var i=of(e);iu(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=of(e);ou(e,l,s);break;default:throw Error(H(161))}}catch(a){Se(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bw(e,t,n){U=e,Rm(e)}function Rm(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var o=U,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||zi;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||ze;l=zi;var u=ze;if(zi=s,(ze=a)&&!u)for(U=o;U!==null;)s=U,a=s.child,s.tag===22&&s.memoizedState!==null?uf(o):a!==null?(a.return=s,U=a):uf(o);for(;i!==null;)U=i,Rm(i),i=i.sibling;U=o,zi=l,ze=u}lf(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,U=i):lf(e)}}function lf(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ze||il(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ze)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ut(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Wd(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wd(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&$o(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}ze||t.flags&512&&ru(t)}catch(d){Se(t,t.return,d)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function af(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function uf(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(a){Se(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){Se(t,o,a)}}var i=t.return;try{ru(t)}catch(a){Se(t,i,a)}break;case 5:var s=t.return;try{ru(t)}catch(a){Se(t,s,a)}}}catch(a){Se(t,t.return,a)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var Nw=Math.ceil,Rs=Kt.ReactCurrentDispatcher,fc=Kt.ReactCurrentOwner,it=Kt.ReactCurrentBatchConfig,ie=0,Me=null,_e=null,je=0,Xe=0,dr=kn(0),Ne=0,Xo=null,Hn=0,sl=0,hc=0,bo=null,He=null,pc=0,Pr=1/0,zt=null,Ts=!1,su=null,gn=null,$i=!1,cn=null,Ls=0,No=0,lu=null,rs=-1,os=0;function De(){return ie&6?ke():rs!==-1?rs:rs=ke()}function yn(e){return e.mode&1?ie&2&&je!==0?je&-je:uw.transition!==null?(os===0&&(os=gp()),os):(e=ae,e!==0||(e=window.event,e=e===void 0?16:_p(e.type)),e):1}function yt(e,t,n,r){if(50<No)throw No=0,lu=null,Error(H(185));ii(e,n,r),(!(ie&2)||e!==Me)&&(e===Me&&(!(ie&2)&&(sl|=n),Ne===4&&ln(e,je)),Ye(e,r),n===1&&ie===0&&!(t.mode&1)&&(Pr=ke()+500,nl&&_n()))}function Ye(e,t){var n=e.callbackNode;ux(e,t);var r=ys(e,e===Me?je:0);if(r===0)n!==null&&yd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&yd(n),t===1)e.tag===0?aw(cf.bind(null,e)):Bp(cf.bind(null,e)),ow(function(){!(ie&6)&&_n()}),n=null;else{switch(yp(r)){case 1:n=Fu;break;case 4:n=pp;break;case 16:n=gs;break;case 536870912:n=mp;break;default:n=gs}n=Fm(n,Tm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Tm(e,t){if(rs=-1,os=0,ie&6)throw Error(H(327));var n=e.callbackNode;if(xr()&&e.callbackNode!==n)return null;var r=ys(e,e===Me?je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=zs(e,r);else{t=r;var o=ie;ie|=2;var i=zm();(Me!==e||je!==t)&&(zt=null,Pr=ke()+500,Tn(e,t));do try{Pw();break}catch(l){Lm(e,l)}while(!0);Ju(),Rs.current=i,ie=o,_e!==null?t=0:(Me=null,je=0,t=Ne)}if(t!==0){if(t===2&&(o=La(e),o!==0&&(r=o,t=au(e,o))),t===1)throw n=Xo,Tn(e,0),ln(e,r),Ye(e,ke()),n;if(t===6)ln(e,r);else{if(o=e.current.alternate,!(r&30)&&!Cw(o)&&(t=zs(e,r),t===2&&(i=La(e),i!==0&&(r=i,t=au(e,i))),t===1))throw n=Xo,Tn(e,0),ln(e,r),Ye(e,ke()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:Cn(e,He,zt);break;case 3:if(ln(e,r),(r&130023424)===r&&(t=pc+500-ke(),10<t)){if(ys(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){De(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ba(Cn.bind(null,e,He,zt),t);break}Cn(e,He,zt);break;case 4:if(ln(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-gt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nw(r/1960))-r,10<r){e.timeoutHandle=Ba(Cn.bind(null,e,He,zt),r);break}Cn(e,He,zt);break;case 5:Cn(e,He,zt);break;default:throw Error(H(329))}}}return Ye(e,ke()),e.callbackNode===n?Tm.bind(null,e):null}function au(e,t){var n=bo;return e.current.memoizedState.isDehydrated&&(Tn(e,t).flags|=256),e=zs(e,t),e!==2&&(t=He,He=n,t!==null&&uu(t)),e}function uu(e){He===null?He=e:He.push.apply(He,e)}function Cw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!vt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t){for(t&=~hc,t&=~sl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),r=1<<n;e[n]=-1,t&=~r}}function cf(e){if(ie&6)throw Error(H(327));xr();var t=ys(e,0);if(!(t&1))return Ye(e,ke()),null;var n=zs(e,t);if(e.tag!==0&&n===2){var r=La(e);r!==0&&(t=r,n=au(e,r))}if(n===1)throw n=Xo,Tn(e,0),ln(e,t),Ye(e,ke()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,He,zt),Ye(e,ke()),null}function mc(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(Pr=ke()+500,nl&&_n())}}function Bn(e){cn!==null&&cn.tag===0&&!(ie&6)&&xr();var t=ie;ie|=1;var n=it.transition,r=ae;try{if(it.transition=null,ae=1,e)return e()}finally{ae=r,it.transition=n,ie=t,!(ie&6)&&_n()}}function gc(){Xe=dr.current,he(dr)}function Tn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rw(n)),_e!==null)for(n=_e.return;n!==null;){var r=n;switch(Qu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ks();break;case 3:Cr(),he(We),he($e),ic();break;case 5:oc(r);break;case 4:Cr();break;case 13:he(ve);break;case 19:he(ve);break;case 10:ec(r.type._context);break;case 22:case 23:gc()}n=n.return}if(Me=e,_e=e=vn(e.current,null),je=Xe=t,Ne=0,Xo=null,hc=sl=Hn=0,He=bo=null,jn!==null){for(t=0;t<jn.length;t++)if(n=jn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}jn=null}return e}function Lm(e,t){do{var n=_e;try{if(Ju(),es.current=Is,js){for(var r=xe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}js=!1}if(Fn=0,Ce=be=xe=null,_o=!1,Wo=0,fc.current=null,n===null||n.return===null){Ne=1,Xo=t,_e=null;break}e:{var i=e,s=n.return,l=n,a=t;if(t=je,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=Qd(s);if(g!==null){g.flags&=-257,qd(g,s,l,i,t),g.mode&1&&Kd(i,u,t),t=g,a=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(a),t.updateQueue=x}else y.add(a);break e}else{if(!(t&1)){Kd(i,u,t),yc();break e}a=Error(H(426))}}else if(pe&&l.mode&1){var w=Qd(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),qd(w,s,l,i,t),qu(Mr(a,l));break e}}i=a=Mr(a,l),Ne!==4&&(Ne=2),bo===null?bo=[i]:bo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=ym(i,a,t);Vd(i,p);break e;case 1:l=a;var m=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(gn===null||!gn.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=vm(i,l,t);Vd(i,S);break e}}i=i.return}while(i!==null)}Am(n)}catch(E){t=E,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function zm(){var e=Rs.current;return Rs.current=Is,e===null?Is:e}function yc(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Me===null||!(Hn&268435455)&&!(sl&268435455)||ln(Me,je)}function zs(e,t){var n=ie;ie|=2;var r=zm();(Me!==e||je!==t)&&(zt=null,Tn(e,t));do try{Mw();break}catch(o){Lm(e,o)}while(!0);if(Ju(),ie=n,Rs.current=r,_e!==null)throw Error(H(261));return Me=null,je=0,Ne}function Mw(){for(;_e!==null;)$m(_e)}function Pw(){for(;_e!==null&&!ex();)$m(_e)}function $m(e){var t=Om(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,t===null?Am(e):_e=t,fc.current=null}function Am(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kw(n,t),n!==null){n.flags&=32767,_e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,_e=null;return}}else if(n=Sw(n,t,Xe),n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Ne===0&&(Ne=5)}function Cn(e,t,n){var r=ae,o=it.transition;try{it.transition=null,ae=1,jw(e,t,n,r)}finally{it.transition=o,ae=r}return null}function jw(e,t,n,r){do xr();while(cn!==null);if(ie&6)throw Error(H(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(cx(e,i),e===Me&&(_e=Me=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$i||($i=!0,Fm(gs,function(){return xr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=it.transition,it.transition=null;var s=ae;ae=1;var l=ie;ie|=4,fc.current=null,Ew(e,n),Im(n,e),Qx(Fa),vs=!!Oa,Fa=Oa=null,e.current=n,bw(n),tx(),ie=l,ae=s,it.transition=i}else e.current=n;if($i&&($i=!1,cn=e,Ls=o),i=e.pendingLanes,i===0&&(gn=null),ox(n.stateNode),Ye(e,ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ts)throw Ts=!1,e=su,su=null,e;return Ls&1&&e.tag!==0&&xr(),i=e.pendingLanes,i&1?e===lu?No++:(No=0,lu=e):No=0,_n(),null}function xr(){if(cn!==null){var e=yp(Ls),t=it.transition,n=ae;try{if(it.transition=null,ae=16>e?16:e,cn===null)var r=!1;else{if(e=cn,cn=null,Ls=0,ie&6)throw Error(H(331));var o=ie;for(ie|=4,U=e.current;U!==null;){var i=U,s=i.child;if(U.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(U=u;U!==null;){var f=U;switch(f.tag){case 0:case 11:case 15:Eo(8,f,i)}var c=f.child;if(c!==null)c.return=f,U=c;else for(;U!==null;){f=U;var d=f.sibling,g=f.return;if(Mm(f),f===u){U=null;break}if(d!==null){d.return=g,U=d;break}U=g}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}U=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,U=s;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Eo(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,U=p;break e}U=i.return}}var m=e.current;for(U=m;U!==null;){s=U;var h=s.child;if(s.subtreeFlags&2064&&h!==null)h.return=s,U=h;else e:for(s=m;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){Se(l,l.return,E)}if(l===s){U=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,U=S;break e}U=l.return}}if(ie=o,_n(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(qs,e)}catch{}r=!0}return r}finally{ae=n,it.transition=t}}return!1}function df(e,t,n){t=Mr(n,t),t=ym(e,t,1),e=mn(e,t,1),t=De(),e!==null&&(ii(e,1,t),Ye(e,t))}function Se(e,t,n){if(e.tag===3)df(e,e,n);else for(;t!==null;){if(t.tag===3){df(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gn===null||!gn.has(r))){e=Mr(n,e),e=vm(t,e,1),t=mn(t,e,1),e=De(),t!==null&&(ii(t,1,e),Ye(t,e));break}}t=t.return}}function Iw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&n,Me===e&&(je&n)===n&&(Ne===4||Ne===3&&(je&130023424)===je&&500>ke()-pc?Tn(e,0):hc|=n),Ye(e,t)}function Dm(e,t){t===0&&(e.mode&1?(t=Ni,Ni<<=1,!(Ni&130023424)&&(Ni=4194304)):t=1);var n=De();e=Ut(e,t),e!==null&&(ii(e,t,n),Ye(e,n))}function Rw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Dm(e,n)}function Tw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),Dm(e,n)}var Om;Om=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||We.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,ww(e,t,n);Be=!!(e.flags&131072)}else Be=!1,pe&&t.flags&1048576&&Vp(t,bs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ns(e,t),e=t.pendingProps;var o=Er(t,$e.current);vr(t,n),o=lc(null,t,r,e,o,n);var i=ac();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(r)?(i=!0,_s(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,nc(t),o.updater=ol,t.stateNode=o,o._reactInternals=t,Ka(t,r,e,n),t=Za(null,t,r,!0,i,n)):(t.tag=0,pe&&i&&Ku(t),Ae(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ns(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=zw(r),e=ut(r,e),o){case 0:t=qa(null,t,r,e,n);break e;case 1:t=ef(null,t,r,e,n);break e;case 11:t=Zd(null,t,r,e,n);break e;case 14:t=Jd(null,t,r,ut(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ut(r,o),qa(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ut(r,o),ef(e,t,r,o,n);case 3:e:{if(km(t),e===null)throw Error(H(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Kp(e,t),Ms(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Mr(Error(H(423)),t),t=tf(e,t,r,n,o);break e}else if(r!==o){o=Mr(Error(H(424)),t),t=tf(e,t,r,n,o);break e}else for(Ke=pn(t.stateNode.containerInfo.firstChild),Qe=t,pe=!0,ft=null,n=Xp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(br(),r===o){t=Yt(e,t,n);break e}Ae(e,t,r,n)}t=t.child}return t;case 5:return Qp(t),e===null&&Ya(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Ha(r,o)?s=null:i!==null&&Ha(r,i)&&(t.flags|=32),Sm(e,t),Ae(e,t,s,n),t.child;case 6:return e===null&&Ya(t),null;case 13:return _m(e,t,n);case 4:return rc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Nr(t,null,r,n):Ae(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ut(r,o),Zd(e,t,r,o,n);case 7:return Ae(e,t,t.pendingProps,n),t.child;case 8:return Ae(e,t,t.pendingProps.children,n),t.child;case 12:return Ae(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ue(Ns,r._currentValue),r._currentValue=s,i!==null)if(vt(i.value,s)){if(i.children===o.children&&!We.current){t=Yt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Ft(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Xa(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(H(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Xa(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ae(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,vr(t,n),o=st(o),r=r(o),t.flags|=1,Ae(e,t,r,n),t.child;case 14:return r=t.type,o=ut(r,t.pendingProps),o=ut(r.type,o),Jd(e,t,r,o,n);case 15:return xm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ut(r,o),ns(e,t),t.tag=1,Ue(r)?(e=!0,_s(t)):e=!1,vr(t,n),gm(t,r,o),Ka(t,r,o,n),Za(null,t,r,!0,e,n);case 19:return Em(e,t,n);case 22:return wm(e,t,n)}throw Error(H(156,t.tag))};function Fm(e,t){return hp(e,t)}function Lw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,r){return new Lw(e,t,n,r)}function vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zw(e){if(typeof e=="function")return vc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Au)return 11;if(e===Du)return 14}return 2}function vn(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function is(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")vc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case tr:return Ln(n.children,o,i,t);case $u:s=8,o|=8;break;case xa:return e=ot(12,n,t,o|2),e.elementType=xa,e.lanes=i,e;case wa:return e=ot(13,n,t,o),e.elementType=wa,e.lanes=i,e;case Sa:return e=ot(19,n,t,o),e.elementType=Sa,e.lanes=i,e;case Qh:return ll(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gh:s=10;break e;case Kh:s=9;break e;case Au:s=11;break e;case Du:s=14;break e;case rn:s=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=ot(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Ln(e,t,n,r){return e=ot(7,e,r,t),e.lanes=n,e}function ll(e,t,n,r){return e=ot(22,e,r,t),e.elementType=Qh,e.lanes=n,e.stateNode={isHidden:!1},e}function ta(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function na(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $w(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function xc(e,t,n,r,o,i,s,l,a){return e=new $w(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nc(i),e}function Aw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:er,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Hm(e){if(!e)return wn;e=e._reactInternals;e:{if(Kn(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(Ue(n))return Hp(e,n,t)}return t}function Bm(e,t,n,r,o,i,s,l,a){return e=xc(n,r,!0,e,o,i,s,l,a),e.context=Hm(null),n=e.current,r=De(),o=yn(n),i=Ft(r,o),i.callback=t??null,mn(n,i,o),e.current.lanes=o,ii(e,o,r),Ye(e,r),e}function al(e,t,n,r){var o=t.current,i=De(),s=yn(o);return n=Hm(n),t.context===null?t.context=n:t.pendingContext=n,t=Ft(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=mn(o,t,s),e!==null&&(yt(e,o,s,i),Ji(e,o,s)),s}function $s(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ff(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wc(e,t){ff(e,t),(e=e.alternate)&&ff(e,t)}function Dw(){return null}var Vm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sc(e){this._internalRoot=e}ul.prototype.render=Sc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));al(e,t,null,null)};ul.prototype.unmount=Sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bn(function(){al(null,e,null,null)}),t[Wt]=null}};function ul(e){this._internalRoot=e}ul.prototype.unstable_scheduleHydration=function(e){if(e){var t=wp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sn.length&&t!==0&&t<sn[n].priority;n++);sn.splice(n,0,e),n===0&&kp(e)}};function kc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hf(){}function Ow(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=$s(s);i.call(u)}}var s=Bm(t,r,e,0,null,!1,!1,"",hf);return e._reactRootContainer=s,e[Wt]=s.current,Oo(e.nodeType===8?e.parentNode:e),Bn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=$s(a);l.call(u)}}var a=xc(e,0,!1,null,null,!1,!1,"",hf);return e._reactRootContainer=a,e[Wt]=a.current,Oo(e.nodeType===8?e.parentNode:e),Bn(function(){al(t,a,n,r)}),a}function dl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=$s(s);l.call(a)}}al(t,s,e,o)}else s=Ow(n,t,e,o,r);return $s(s)}vp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ho(t.pendingLanes);n!==0&&(Hu(t,n|1),Ye(t,ke()),!(ie&6)&&(Pr=ke()+500,_n()))}break;case 13:Bn(function(){var r=Ut(e,1);if(r!==null){var o=De();yt(r,e,1,o)}}),wc(e,1)}};Bu=function(e){if(e.tag===13){var t=Ut(e,134217728);if(t!==null){var n=De();yt(t,e,134217728,n)}wc(e,134217728)}};xp=function(e){if(e.tag===13){var t=yn(e),n=Ut(e,t);if(n!==null){var r=De();yt(n,e,t,r)}wc(e,t)}};wp=function(){return ae};Sp=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};Ia=function(e,t,n){switch(t){case"input":if(Ea(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=tl(r);if(!o)throw Error(H(90));Zh(r),Ea(r,o)}}}break;case"textarea":ep(e,n);break;case"select":t=n.value,t!=null&&pr(e,!!n.multiple,t,!1)}};lp=mc;ap=Bn;var Fw={usingClientEntryPoint:!1,Events:[li,ir,tl,ip,sp,mc]},no={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hw={bundleType:no.bundleType,version:no.version,rendererPackageName:no.rendererPackageName,rendererConfig:no.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dp(e),e===null?null:e.stateNode},findFiberByHostInstance:no.findFiberByHostInstance||Dw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ai=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ai.isDisabled&&Ai.supportsFiber)try{qs=Ai.inject(Hw),Ct=Ai}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fw;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kc(t))throw Error(H(200));return Aw(e,t,null,n)};Je.createRoot=function(e,t){if(!kc(e))throw Error(H(299));var n=!1,r="",o=Vm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=xc(e,1,!1,null,null,n,!1,r,o),e[Wt]=t.current,Oo(e.nodeType===8?e.parentNode:e),new Sc(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=dp(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return Bn(e)};Je.hydrate=function(e,t,n){if(!cl(t))throw Error(H(200));return dl(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!kc(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Vm;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Bm(t,null,e,1,n??null,o,!1,i,s),e[Wt]=t.current,Oo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ul(t)};Je.render=function(e,t,n){if(!cl(t))throw Error(H(200));return dl(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!cl(e))throw Error(H(40));return e._reactRootContainer?(Bn(function(){dl(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1};Je.unstable_batchedUpdates=mc;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!cl(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return dl(e,t,n,!1,r)};Je.version="18.3.1-next-f1338f8080-20240426";function Wm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wm)}catch(e){console.error(e)}}Wm(),Wh.exports=Je;var Um=Wh.exports,Ym,pf=Um;Ym=pf.createRoot,pf.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mf="popstate";function Bw(e={}){function t(r,o){let{pathname:i,search:s,hash:l}=r.location;return cu("",{pathname:i,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Go(o)}return Ww(t,n,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Vw(){return Math.random().toString(36).substring(2,10)}function gf(e,t){return{usr:e.state,key:e.key,idx:t}}function cu(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Hr(t):t,state:n,key:t&&t.key||r||Vw()}}function Go({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Hr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Ww(e,t,n,r={}){let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,l="POP",a=null,u=f();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function f(){return(s.state||{idx:null}).idx}function c(){l="POP";let w=f(),p=w==null?null:w-u;u=w,a&&a({action:l,location:x.location,delta:p})}function d(w,p){l="PUSH";let m=cu(x.location,w,p);u=f()+1;let h=gf(m,u),S=x.createHref(m);try{s.pushState(h,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;o.location.assign(S)}i&&a&&a({action:l,location:x.location,delta:1})}function g(w,p){l="REPLACE";let m=cu(x.location,w,p);u=f();let h=gf(m,u),S=x.createHref(m);s.replaceState(h,"",S),i&&a&&a({action:l,location:x.location,delta:0})}function y(w){return Uw(w)}let x={get action(){return l},get location(){return e(o,s)},listen(w){if(a)throw new Error("A history only accepts one active listener");return o.addEventListener(mf,c),a=w,()=>{o.removeEventListener(mf,c),a=null}},createHref(w){return t(o,w)},createURL:y,encodeLocation(w){let p=y(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:g,go(w){return s.go(w)}};return x}function Uw(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),me(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Go(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Xm(e,t,n="/"){return Yw(e,t,n,!1)}function Yw(e,t,n,r){let o=typeof t=="string"?Hr(t):t,i=Xt(o.pathname||"/",n);if(i==null)return null;let s=Gm(e);Xw(s);let l=null;for(let a=0;l==null&&a<s.length;++a){let u=o1(i);l=n1(s[a],u,r)}return l}function Gm(e,t=[],n=[],r="",o=!1){let i=(s,l,a=o,u)=>{let f={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&a)return;me(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let c=Ht([r,f.relativePath]),d=n.concat(f);s.children&&s.children.length>0&&(me(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Gm(s.children,t,d,c,a)),!(s.path==null&&!s.index)&&t.push({path:c,score:e1(c,s.index),routesMeta:d})};return e.forEach((s,l)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,l);else for(let u of Km(s.path))i(s,l,!0,u)}),t}function Km(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=Km(r.join("/")),l=[];return l.push(...s.map(a=>a===""?i:[i,a].join("/"))),o&&l.push(...s),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function Xw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:t1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Gw=/^:[\w-]+$/,Kw=3,Qw=2,qw=1,Zw=10,Jw=-2,yf=e=>e==="*";function e1(e,t){let n=e.split("/"),r=n.length;return n.some(yf)&&(r+=Jw),t&&(r+=Qw),n.filter(o=>!yf(o)).reduce((o,i)=>o+(Gw.test(i)?Kw:i===""?qw:Zw),r)}function t1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function n1(e,t,n=!1){let{routesMeta:r}=e,o={},i="/",s=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",c=As({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},f),d=a.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=As({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},f)),!c)return null;Object.assign(o,c.params),s.push({params:o,pathname:Ht([i,c.pathname]),pathnameBase:a1(Ht([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Ht([i,c.pathnameBase]))}return s}function As(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=r1(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:c},d)=>{if(f==="*"){let y=l[d]||"";s=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[d];return c&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function r1(e,t=!1,n=!0){xt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function o1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Xt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var i1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function s1(e,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Hr(e):e,i;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?i=vf(n.substring(1),"/"):i=vf(n,t)):i=t,{pathname:i,search:u1(r),hash:c1(o)}}function vf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ra(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _c(e){let t=l1(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Ec(e,t,n,r=!1){let o;typeof e=="string"?o=Hr(e):(o={...e},me(!o.pathname||!o.pathname.includes("?"),ra("?","pathname","search",o)),me(!o.pathname||!o.pathname.includes("#"),ra("#","pathname","hash",o)),me(!o.search||!o.search.includes("#"),ra("#","search","hash",o)));let i=e===""||o.pathname==="",s=i?"/":o.pathname,l;if(s==null)l=n;else{let c=t.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),c-=1;o.pathname=d.join("/")}l=c>=0?t[c]:"/"}let a=s1(o,l),u=s&&s!=="/"&&s.endsWith("/"),f=(i||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||f)&&(a.pathname+="/"),a}var Ht=e=>e.join("/").replace(/\/\/+/g,"/"),a1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,c1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,d1=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function f1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function h1(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Qm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function qm(e,t){let n=e;if(typeof n!="string"||!i1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(Qm)try{let i=new URL(window.location.href),s=n.startsWith("//")?new URL(i.protocol+n):new URL(n),l=Xt(s.pathname,t);s.origin===i.origin&&l!=null?n=l+s.search+s.hash:o=!0}catch{xt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Zm=["POST","PUT","PATCH","DELETE"];new Set(Zm);var p1=["GET",...Zm];new Set(p1);var Br=k.createContext(null);Br.displayName="DataRouter";var fl=k.createContext(null);fl.displayName="DataRouterState";var m1=k.createContext(!1),Jm=k.createContext({isTransitioning:!1});Jm.displayName="ViewTransition";var g1=k.createContext(new Map);g1.displayName="Fetchers";var y1=k.createContext(null);y1.displayName="Await";var tt=k.createContext(null);tt.displayName="Navigation";var ui=k.createContext(null);ui.displayName="Location";var wt=k.createContext({outlet:null,matches:[],isDataRoute:!1});wt.displayName="Route";var bc=k.createContext(null);bc.displayName="RouteError";var eg="REACT_ROUTER_ERROR",v1="REDIRECT",x1="ROUTE_ERROR_RESPONSE";function w1(e){if(e.startsWith(`${eg}:${v1}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function S1(e){if(e.startsWith(`${eg}:${x1}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new d1(t.status,t.statusText,t.data)}catch{}}function k1(e,{relative:t}={}){me(Vr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(tt),{hash:o,pathname:i,search:s}=di(e,{relative:t}),l=i;return n!=="/"&&(l=i==="/"?n:Ht([n,i])),r.createHref({pathname:l,search:s,hash:o})}function Vr(){return k.useContext(ui)!=null}function En(){return me(Vr(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(ui).location}var tg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ng(e){k.useContext(tt).static||k.useLayoutEffect(e)}function ci(){let{isDataRoute:e}=k.useContext(wt);return e?$1():_1()}function _1(){me(Vr(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(Br),{basename:t,navigator:n}=k.useContext(tt),{matches:r}=k.useContext(wt),{pathname:o}=En(),i=JSON.stringify(_c(r)),s=k.useRef(!1);return ng(()=>{s.current=!0}),k.useCallback((a,u={})=>{if(xt(s.current,tg),!s.current)return;if(typeof a=="number"){n.go(a);return}let f=Ec(a,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ht([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,i,o,e])}k.createContext(null);function E1(){let{matches:e}=k.useContext(wt),t=e[e.length-1];return t?t.params:{}}function di(e,{relative:t}={}){let{matches:n}=k.useContext(wt),{pathname:r}=En(),o=JSON.stringify(_c(n));return k.useMemo(()=>Ec(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function b1(e,t){return rg(e,t)}function rg(e,t,n,r,o){var m;me(Vr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=k.useContext(tt),{matches:s}=k.useContext(wt),l=s[s.length-1],a=l?l.params:{},u=l?l.pathname:"/",f=l?l.pathnameBase:"/",c=l&&l.route;{let h=c&&c.path||"";ig(u,!c||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let d=En(),g;if(t){let h=typeof t=="string"?Hr(t):t;me(f==="/"||((m=h.pathname)==null?void 0:m.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${h.pathname}" was given in the \`location\` prop.`),g=h}else g=d;let y=g.pathname||"/",x=y;if(f!=="/"){let h=f.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(h.length).join("/")}let w=Xm(e,{pathname:x});xt(c||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),xt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let p=j1(w&&w.map(h=>Object.assign({},h,{params:Object.assign({},a,h.params),pathname:Ht([f,i.encodeLocation?i.encodeLocation(h.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?f:Ht([f,i.encodeLocation?i.encodeLocation(h.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathnameBase])})),s,n,r,o);return t&&p?k.createElement(ui.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},p):p}function N1(){let e=z1(),t=f1(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:i},"ErrorBoundary")," or"," ",k.createElement("code",{style:i},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:o},n):null,s)}var C1=k.createElement(N1,null),og=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=S1(e.digest);n&&(e=n)}let t=e!==void 0?k.createElement(wt.Provider,{value:this.props.routeContext},k.createElement(bc.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?k.createElement(M1,{error:e},t):t}};og.contextType=m1;var oa=new WeakMap;function M1({children:e,error:t}){let{basename:n}=k.useContext(tt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=w1(t.digest);if(r){let o=oa.get(t);if(o)throw o;let i=qm(r.location,n);if(Qm&&!oa.get(t))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw oa.set(t,s),s}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function P1({routeContext:e,match:t,children:n}){let r=k.useContext(Br);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(wt.Provider,{value:e},n)}function j1(e,t=[],n=null,r=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let f=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);me(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,a=-1;if(n)for(let f=0;f<i.length;f++){let c=i[f];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=f),c.route.id){let{loaderData:d,errors:g}=n,y=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!g||g[c.route.id]===void 0);if(c.route.lazy||y){l=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}let u=n&&r?(f,c)=>{var d,g;r(f,{location:n.location,params:((g=(d=n.matches)==null?void 0:d[0])==null?void 0:g.params)??{},unstable_pattern:h1(n.matches),errorInfo:c})}:void 0;return i.reduceRight((f,c,d)=>{let g,y=!1,x=null,w=null;n&&(g=s&&c.route.id?s[c.route.id]:void 0,x=c.route.errorElement||C1,l&&(a<0&&d===0?(ig("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):a===d&&(y=!0,w=c.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,d+1)),m=()=>{let h;return g?h=x:y?h=w:c.route.Component?h=k.createElement(c.route.Component,null):c.route.element?h=c.route.element:h=f,k.createElement(P1,{match:c,routeContext:{outlet:f,matches:p,isDataRoute:n!=null},children:h})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?k.createElement(og,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:u}):m()},null)}function Nc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I1(e){let t=k.useContext(Br);return me(t,Nc(e)),t}function R1(e){let t=k.useContext(fl);return me(t,Nc(e)),t}function T1(e){let t=k.useContext(wt);return me(t,Nc(e)),t}function Cc(e){let t=T1(e),n=t.matches[t.matches.length-1];return me(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function L1(){return Cc("useRouteId")}function z1(){var r;let e=k.useContext(bc),t=R1("useRouteError"),n=Cc("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function $1(){let{router:e}=I1("useNavigate"),t=Cc("useNavigate"),n=k.useRef(!1);return ng(()=>{n.current=!0}),k.useCallback(async(o,i={})=>{xt(n.current,tg),n.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...i}))},[e,t])}var xf={};function ig(e,t,n){!t&&!xf[e]&&(xf[e]=!0,xt(!1,n))}k.memo(A1);function A1({routes:e,future:t,state:n,onError:r}){return rg(e,void 0,n,r,t)}function sg({to:e,replace:t,state:n,relative:r}){me(Vr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(tt);xt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=k.useContext(wt),{pathname:s}=En(),l=ci(),a=Ec(e,_c(i),s,r==="path"),u=JSON.stringify(a);return k.useEffect(()=>{l(JSON.parse(u),{replace:t,state:n,relative:r})},[l,u,r,t,n]),null}function mo(e){me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function D1({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:i=!1,unstable_useTransitions:s}){me(!Vr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),a=k.useMemo(()=>({basename:l,navigator:o,static:i,unstable_useTransitions:s,future:{}}),[l,o,i,s]);typeof n=="string"&&(n=Hr(n));let{pathname:u="/",search:f="",hash:c="",state:d=null,key:g="default"}=n,y=k.useMemo(()=>{let x=Xt(u,l);return x==null?null:{location:{pathname:x,search:f,hash:c,state:d,key:g},navigationType:r}},[l,u,f,c,d,g,r]);return xt(y!=null,`<Router basename="${l}"> is not able to match the URL "${u}${f}${c}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:k.createElement(tt.Provider,{value:a},k.createElement(ui.Provider,{children:t,value:y}))}function O1({children:e,location:t}){return b1(du(e),t)}function du(e,t=[]){let n=[];return k.Children.forEach(e,(r,o)=>{if(!k.isValidElement(r))return;let i=[...t,o];if(r.type===k.Fragment){n.push.apply(n,du(r.props.children,i));return}me(r.type===mo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),me(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=du(r.props.children,i)),n.push(s)}),n}var ss="get",ls="application/x-www-form-urlencoded";function hl(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function F1(e){return hl(e)&&e.tagName.toLowerCase()==="button"}function H1(e){return hl(e)&&e.tagName.toLowerCase()==="form"}function B1(e){return hl(e)&&e.tagName.toLowerCase()==="input"}function V1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function W1(e,t){return e.button===0&&(!t||t==="_self")&&!V1(e)}var Di=null;function U1(){if(Di===null)try{new FormData(document.createElement("form"),0),Di=!1}catch{Di=!0}return Di}var Y1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ia(e){return e!=null&&!Y1.has(e)?(xt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ls}"`),null):e}function X1(e,t){let n,r,o,i,s;if(H1(e)){let l=e.getAttribute("action");r=l?Xt(l,t):null,n=e.getAttribute("method")||ss,o=ia(e.getAttribute("enctype"))||ls,i=new FormData(e)}else if(F1(e)||B1(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||l.getAttribute("action");if(r=a?Xt(a,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||ss,o=ia(e.getAttribute("formenctype"))||ia(l.getAttribute("enctype"))||ls,i=new FormData(l,e),!U1()){let{name:u,type:f,value:c}=e;if(f==="image"){let d=u?`${u}.`:"";i.append(`${d}x`,"0"),i.append(`${d}y`,"0")}else u&&i.append(u,c)}}else{if(hl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ss,r=null,o=ls,s=e}return i&&o==="text/plain"&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function G1(e,t,n,r){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:t&&Xt(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function K1(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Q1(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function q1(e,t,n){let r=await Promise.all(e.map(async o=>{let i=t.routes[o.route.id];if(i){let s=await K1(i,n);return s.links?s.links():[]}return[]}));return tS(r.flat(1).filter(Q1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wf(e,t,n,r,o,i){let s=(a,u)=>n[u]?a.route.id!==n[u].route.id:!0,l=(a,u)=>{var f;return n[u].pathname!==a.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==a.params["*"]};return i==="assets"?t.filter((a,u)=>s(a,u)||l(a,u)):i==="data"?t.filter((a,u)=>{var c;let f=r.routes[a.route.id];if(!f||!f.hasLoader)return!1;if(s(a,u)||l(a,u))return!0;if(a.route.shouldRevalidate){let d=a.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((c=n[0])==null?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function Z1(e,t,{includeHydrateFallback:n}={}){return J1(e.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let i=[o.module];return o.clientActionModule&&(i=i.concat(o.clientActionModule)),o.clientLoaderModule&&(i=i.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(i=i.concat(o.hydrateFallbackModule)),o.imports&&(i=i.concat(o.imports)),i}).flat(1))}function J1(e){return[...new Set(e)]}function eS(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function tS(e,t){let n=new Set;return new Set(t),e.reduce((r,o)=>{let i=JSON.stringify(eS(o));return n.has(i)||(n.add(i),r.push({key:i,link:o})),r},[])}function lg(){let e=k.useContext(Br);return Mc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nS(){let e=k.useContext(fl);return Mc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Pc=k.createContext(void 0);Pc.displayName="FrameworkContext";function ag(){let e=k.useContext(Pc);return Mc(e,"You must render this element inside a <HydratedRouter> element"),e}function rS(e,t){let n=k.useContext(Pc),[r,o]=k.useState(!1),[i,s]=k.useState(!1),{onFocus:l,onBlur:a,onMouseEnter:u,onMouseLeave:f,onTouchStart:c}=t,d=k.useRef(null);k.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let x=p=>{p.forEach(m=>{s(m.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return d.current&&w.observe(d.current),()=>{w.disconnect()}}},[e]),k.useEffect(()=>{if(r){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[r]);let g=()=>{o(!0)},y=()=>{o(!1),s(!1)};return n?e!=="intent"?[i,d,{}]:[i,d,{onFocus:ro(l,g),onBlur:ro(a,y),onMouseEnter:ro(u,g),onMouseLeave:ro(f,y),onTouchStart:ro(c,g)}]:[!1,d,{}]}function ro(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function oS({page:e,...t}){let{router:n}=lg(),r=k.useMemo(()=>Xm(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?k.createElement(sS,{page:e,matches:r,...t}):null}function iS(e){let{manifest:t,routeModules:n}=ag(),[r,o]=k.useState([]);return k.useEffect(()=>{let i=!1;return q1(e,t,n).then(s=>{i||o(s)}),()=>{i=!0}},[e,t,n]),r}function sS({page:e,matches:t,...n}){let r=En(),{future:o,manifest:i,routeModules:s}=ag(),{basename:l}=lg(),{loaderData:a,matches:u}=nS(),f=k.useMemo(()=>wf(e,t,u,i,r,"data"),[e,t,u,i,r]),c=k.useMemo(()=>wf(e,t,u,i,r,"assets"),[e,t,u,i,r]),d=k.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let x=new Set,w=!1;if(t.forEach(m=>{var S;let h=i.routes[m.route.id];!h||!h.hasLoader||(!f.some(E=>E.route.id===m.route.id)&&m.route.id in a&&((S=s[m.route.id])!=null&&S.shouldRevalidate)||h.hasClientLoader?w=!0:x.add(m.route.id))}),x.size===0)return[];let p=G1(e,l,o.unstable_trailingSlashAwareDataRequests,"data");return w&&x.size>0&&p.searchParams.set("_routes",t.filter(m=>x.has(m.route.id)).map(m=>m.route.id).join(",")),[p.pathname+p.search]},[l,o.unstable_trailingSlashAwareDataRequests,a,r,i,f,t,e,s]),g=k.useMemo(()=>Z1(c,i),[c,i]),y=iS(c);return k.createElement(k.Fragment,null,d.map(x=>k.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),g.map(x=>k.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:w})=>k.createElement("link",{key:x,nonce:n.nonce,...w,crossOrigin:w.crossOrigin??n.crossOrigin})))}function lS(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var aS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aS&&(window.__reactRouterVersion="7.13.0")}catch{}function uS({basename:e,children:t,unstable_useTransitions:n,window:r}){let o=k.useRef();o.current==null&&(o.current=Bw({window:r,v5Compat:!0}));let i=o.current,[s,l]=k.useState({action:i.action,location:i.location}),a=k.useCallback(u=>{n===!1?l(u):k.startTransition(()=>l(u))},[n]);return k.useLayoutEffect(()=>i.listen(a),[i,a]),k.createElement(D1,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:n})}var ug=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cg=k.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:i,replace:s,state:l,target:a,to:u,preventScrollReset:f,viewTransition:c,unstable_defaultShouldRevalidate:d,...g},y){let{basename:x,unstable_useTransitions:w}=k.useContext(tt),p=typeof u=="string"&&ug.test(u),m=qm(u,x);u=m.to;let h=k1(u,{relative:o}),[S,E,b]=rS(r,g),N=hS(u,{replace:s,state:l,target:a,preventScrollReset:f,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:w});function P(A){t&&t(A),A.defaultPrevented||N(A)}let T=k.createElement("a",{...g,...b,href:m.absoluteURL||h,onClick:m.isExternal||i?t:P,ref:lS(y,E),target:a,"data-discover":!p&&n==="render"?"true":void 0});return S&&!p?k.createElement(k.Fragment,null,T,k.createElement(oS,{page:h})):T});cg.displayName="Link";var cS=k.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:i,to:s,viewTransition:l,children:a,...u},f){let c=di(s,{relative:u.relative}),d=En(),g=k.useContext(fl),{navigator:y,basename:x}=k.useContext(tt),w=g!=null&&vS(c)&&l===!0,p=y.encodeLocation?y.encodeLocation(c).pathname:c.pathname,m=d.pathname,h=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(m=m.toLowerCase(),h=h?h.toLowerCase():null,p=p.toLowerCase()),h&&x&&(h=Xt(h,x)||h);const S=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let E=m===p||!o&&m.startsWith(p)&&m.charAt(S)==="/",b=h!=null&&(h===p||!o&&h.startsWith(p)&&h.charAt(p.length)==="/"),N={isActive:E,isPending:b,isTransitioning:w},P=E?t:void 0,T;typeof r=="function"?T=r(N):T=[r,E?"active":null,b?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let A=typeof i=="function"?i(N):i;return k.createElement(cg,{...u,"aria-current":P,className:T,ref:f,style:A,to:s,viewTransition:l},typeof a=="function"?a(N):a)});cS.displayName="NavLink";var dS=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:i,method:s=ss,action:l,onSubmit:a,relative:u,preventScrollReset:f,viewTransition:c,unstable_defaultShouldRevalidate:d,...g},y)=>{let{unstable_useTransitions:x}=k.useContext(tt),w=gS(),p=yS(l,{relative:u}),m=s.toLowerCase()==="get"?"get":"post",h=typeof l=="string"&&ug.test(l),S=E=>{if(a&&a(E),E.defaultPrevented)return;E.preventDefault();let b=E.nativeEvent.submitter,N=(b==null?void 0:b.getAttribute("formmethod"))||s,P=()=>w(b||E.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:o,state:i,relative:u,preventScrollReset:f,viewTransition:c,unstable_defaultShouldRevalidate:d});x&&n!==!1?k.startTransition(()=>P()):P()};return k.createElement("form",{ref:y,method:m,action:p,onSubmit:r?a:S,...g,"data-discover":!h&&e==="render"?"true":void 0})});dS.displayName="Form";function fS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dg(e){let t=k.useContext(Br);return me(t,fS(e)),t}function hS(e,{target:t,replace:n,state:r,preventScrollReset:o,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:a}={}){let u=ci(),f=En(),c=di(e,{relative:i});return k.useCallback(d=>{if(W1(d,t)){d.preventDefault();let g=n!==void 0?n:Go(f)===Go(c),y=()=>u(e,{replace:g,state:r,preventScrollReset:o,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l});a?k.startTransition(()=>y()):y()}},[f,u,c,n,r,t,e,o,i,s,l,a])}var pS=0,mS=()=>`__${String(++pS)}__`;function gS(){let{router:e}=dg("useSubmit"),{basename:t}=k.useContext(tt),n=L1(),r=e.fetch,o=e.navigate;return k.useCallback(async(i,s={})=>{let{action:l,method:a,encType:u,formData:f,body:c}=X1(i,t);if(s.navigate===!1){let d=s.fetcherKey||mS();await r(d,n,s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:c,formMethod:s.method||a,formEncType:s.encType||u,flushSync:s.flushSync})}else await o(s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:c,formMethod:s.method||a,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,o,t,n])}function yS(e,{relative:t}={}){let{basename:n}=k.useContext(tt),r=k.useContext(wt);me(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),i={...di(e||".",{relative:t})},s=En();if(e==null){i.search=s.search;let l=new URLSearchParams(i.search),a=l.getAll("index");if(a.some(f=>f==="")){l.delete("index"),a.filter(c=>c).forEach(c=>l.append("index",c));let f=l.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ht([n,i.pathname])),Go(i)}function vS(e,{relative:t}={}){let n=k.useContext(Jm);me(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dg("useViewTransitionState"),o=di(e,{relative:t});if(!n.isTransitioning)return!1;let i=Xt(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Xt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return As(o.pathname,s)!=null||As(o.pathname,i)!=null}const Co="fb_session";function jc(){try{const e=sessionStorage.getItem(Co);if(!e)return null;const t=JSON.parse(e);return Date.now()>=t.expires_at?(sessionStorage.removeItem(Co),null):t}catch{return sessionStorage.removeItem(Co),null}}function xS(e){sessionStorage.setItem(Co,JSON.stringify(e))}function fu(){sessionStorage.removeItem(Co)}const fg=k.createContext({session:null,login:async()=>{},logout:()=>{},isAuthenticated:!1});function Ic(){return k.useContext(fg)}const hg="/api/v1/flow-builder";class Nt extends Error{constructor(t,n,r,o){super(r),this.status=t,this.errorCode=n,this.requestId=o,this.name="ApiClientError"}}async function Qn(e,t,n){const r=jc();if(!r)throw fu(),window.location.replace("/flow-builder/login"),new Nt(401,"NO_SESSION","Oturum bulunamadi");const o={Authorization:`Bearer ${r.token}`};let i={method:e,headers:o};n!==void 0&&(o["Content-Type"]="application/json",i={...i,body:JSON.stringify(n)});let s;try{s=await fetch(`${hg}${t}`,i)}catch{throw new Nt(0,"NETWORK_ERROR","Sunucuya baglanilamadi. Internet baglantinizi kontrol edin.")}if(s.status===401)throw fu(),window.location.replace("/flow-builder/login"),new Nt(401,"UNAUTHORIZED","Oturum suresi doldu");if(!s.ok){let l=null;try{l=await s.json()}catch{}throw new Nt(s.status,(l==null?void 0:l.error_code)??"UNKNOWN",(l==null?void 0:l.message)??`HTTP ${s.status}`,l==null?void 0:l.request_id)}if(s.status!==204)return s.json()}async function wS(e,t){let n;try{n=await fetch(`${hg}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenant_id:e,api_key:t})})}catch{throw new Nt(0,"NETWORK_ERROR","Sunucuya baglanilamadi. Internet baglantinizi kontrol edin.")}if(!n.ok){let r=null;try{r=await n.json()}catch{}throw new Nt(n.status,(r==null?void 0:r.error_code)??"UNKNOWN",(r==null?void 0:r.message)??`Giris basarisiz (HTTP ${n.status})`,r==null?void 0:r.request_id)}return n.json()}function SS(e){return Qn("GET",`/flows/${e}`)}function hu(e,t){return Qn("GET",`/flows/${e}/${t}`)}function Sf(e,t){return Qn("POST",`/flows/${e}`,t)}function kS(e,t,n){return Qn("PUT",`/flows/${e}/${t}`,n)}function _S(e,t){return Qn("DELETE",`/flows/${e}/${t}`)}function ES(e,t){return Qn("POST",`/flows/${e}/${t}/activate`)}function bS(e,t){return Qn("POST",`/flows/${e}/${t}/deactivate`)}function NS(){const[e,t]=k.useState(""),[n,r]=k.useState(""),[o,i]=k.useState(null),[s,l]=k.useState(!1),{login:a}=Ic(),u=ci(),f=async c=>{c.preventDefault(),i(null);const d=parseInt(e,10);if(!d||d<=0){i("Gecerli bir Tenant ID girin.");return}if(!n.trim()){i("API Key bos olamaz.");return}l(!0);try{await a(d,n.trim()),u("/",{replace:!0})}catch(g){i(g instanceof Error?g.message:"Giris basarisiz")}finally{l(!1)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:v.jsxs("div",{className:"w-full max-w-sm",children:[v.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-8 shadow-sm",children:[v.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Flow Builder"}),v.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Giris yapmak icin tenant bilgilerinizi girin."}),v.jsxs("form",{onSubmit:f,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"tenantId",className:"block text-sm text-slate-700 mb-1",children:"Tenant ID"}),v.jsx("input",{id:"tenantId",type:"number",min:"1",value:e,onChange:c=>t(c.target.value),className:"w-full px-3 py-2 bg-white border border-slate-300 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition",placeholder:"ornek: 1",required:!0,disabled:s})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"apiKey",className:"block text-sm text-slate-700 mb-1",children:"API Key"}),v.jsx("input",{id:"apiKey",type:"password",value:n,onChange:c=>r(c.target.value),className:"w-full px-3 py-2 bg-white border border-slate-300 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition",placeholder:"flow_builder_api_key",required:!0,disabled:s})]}),o&&v.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg px-3 py-2",children:o}),v.jsx("button",{type:"submit",disabled:s,className:"w-full py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 disabled:opacity-50 text-white font-medium rounded-lg transition",children:s?"Giris yapiliyor...":"Giris Yap"})]})]}),v.jsx("p",{className:"text-center text-xs text-slate-400 mt-4",children:"Invekto Flow Builder v2"})]})})}const pg=[{type:"trigger_start",category:"trigger",label:"Baslangic",description:"Flow giris noktasi",color:"#10b981",maxInstances:1,defaultData:{label:"Baslangic"}},{type:"message_text",category:"message",label:"Mesaj",description:"Metin mesaj gonder",color:"#3b82f6",defaultData:{label:"Mesaj",text:""}},{type:"message_menu",category:"message",label:"Menu",description:"Secenekli menu goster",color:"#3b82f6",defaultData:{label:"Menu",text:"Secim yapin:",options:[{key:"1",label:"Secenek 1",handle_id:"opt_1"}]}},{type:"logic_condition",category:"logic",label:"Kosul",description:"If/else dallanma",color:"#f59e0b",defaultData:{label:"Kosul",variable:"",operator:"equals",value:""}},{type:"logic_switch",category:"logic",label:"Switch",description:"Coklu dallanma",color:"#f59e0b",defaultData:{label:"Switch",variable:"",cases:[{value:"",handle_id:"case_1"}],default_handle_id:"default"}},{type:"ai_intent",category:"ai",label:"Intent Algilama",description:"Claude AI ile niyet tespiti",color:"#8b5cf6",defaultData:{label:"Intent",confidence_threshold:.5}},{type:"ai_faq",category:"ai",label:"FAQ Arama",description:"SSS veritabaninda ara",color:"#8b5cf6",defaultData:{label:"FAQ",min_confidence:.3}},{type:"action_handoff",category:"action",label:"Temsilciye Aktar",description:"Insana yonlendir (terminal)",color:"#ef4444",defaultData:{label:"Temsilciye Aktar"}},{type:"action_api_call",category:"action",label:"API Cagrisi",description:"Harici API endpoint cagir",color:"#ef4444",defaultData:{label:"API",method:"POST",url:"",timeout_ms:5e3}},{type:"action_delay",category:"action",label:"Bekle",description:"N saniye bekle",color:"#ef4444",defaultData:{label:"Bekle",seconds:5}},{type:"utility_set_variable",category:"utility",label:"Degisken Ata",description:"Session degiskeni ayarla",color:"#6b7280",defaultData:{label:"Degisken",variable_name:"",value_expression:""}},{type:"utility_note",category:"utility",label:"Not",description:"Gorsel yorum (calistirilmaz)",color:"#6b7280",defaultData:{label:"Not",text:""}}];function mg(e){return pg.find(t=>t.type===e)}function Ds(){return{version:2,metadata:{name:"Yeni Flow",canvas_viewport:{x:0,y:0,zoom:1}},nodes:[{id:"trigger_start_1",type:"trigger_start",position:{x:300,y:50},data:{label:"Baslangic"}}],edges:[],settings:{off_hours_message:"Su anda mesai saatleri disindayiz.",unknown_input_message:"Anlayamadim. Lutfen gecerli bir secenek girin.",handoff_confidence_threshold:.5,session_timeout_minutes:30,max_loop_count:10}}}function CS(){const{session:e,logout:t}=Ic(),n=ci(),r=(e==null?void 0:e.tenant_id)??0,[o,i]=k.useState([]),[s,l]=k.useState(!0),[a,u]=k.useState(null),[f,c]=k.useState(null),[d,g]=k.useState(!1),[y,x]=k.useState(""),[w,p]=k.useState(null),[m,h]=k.useState(!1),[S,E]=k.useState(null),b=k.useCallback(async()=>{if(r){l(!0),u(null);try{const _=await SS(r);i(_)}catch(_){u(_ instanceof Error?_.message:"Flow listesi alinamadi")}finally{l(!1)}}},[r]);k.useEffect(()=>{b()},[b]);const N=async()=>{if(!y.trim()){p("Flow adi bos olamaz.");return}h(!0),p(null);try{const _=Ds();_.metadata.name=y.trim();const I=await Sf(r,{flow_name:y.trim(),flow_config:_});g(!1),x(""),n(`/editor/${I.flow_id}`)}catch(_){_ instanceof Nt&&_.status===409?p("Bu isimde bir flow zaten mevcut."):p(_ instanceof Error?_.message:"Olusturma basarisiz")}finally{h(!1)}},P=async _=>{E(null),c(_.flow_id);try{await _S(r,_.flow_id),i(I=>I.filter(j=>j.flow_id!==_.flow_id))}catch(I){I instanceof Nt&&I.status===409?u("Aktif flow silinemez. Once deaktif edin."):u(I instanceof Error?I.message:"Silme basarisiz")}finally{c(null)}},T=async _=>{c(_),u(null);try{await ES(r,_),await b()}catch(I){u(I instanceof Error?I.message:"Aktivasyon basarisiz")}finally{c(null)}},A=async _=>{c(_),u(null);try{await bS(r,_),await b()}catch(I){u(I instanceof Error?I.message:"Deaktivasyon basarisiz")}finally{c(null)}},L=async _=>{c(_.flow_id),u(null);try{const j=(await hu(r,_.flow_id)).flow_config,$=_.flow_name,C=new Set(o.map(O=>O.flow_name));let M=`${$} - Kopya`;if(C.has(M)){let O=2;for(;C.has(`${$} - Kopya (${O})`);)O++;M=`${$} - Kopya (${O})`}const z={...j,metadata:{...j.metadata,name:M}},D=await Sf(r,{flow_name:M,flow_config:z});n(`/editor/${D.flow_id}`)}catch(I){I instanceof Nt&&I.status===409?u("Bu isimde bir flow zaten mevcut. Lutfen tekrar deneyin."):u(I instanceof Error?I.message:"Kopyalama basarisiz")}finally{c(null)}},R=async _=>{c(_.flow_id);try{const I=await hu(r,_.flow_id);await navigator.clipboard.writeText(JSON.stringify(I.flow_config,null,2)),u(null)}catch(I){u(I instanceof Error?I.message:"Kopyalama basarisiz")}finally{c(null)}},F=_=>new Date(_).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return v.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-800",children:[v.jsxs("header",{className:"bg-white border-b border-slate-200 px-6 py-3 flex items-center justify-between shadow-sm",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Flow Builder"}),v.jsxs("span",{className:"text-xs text-slate-500",children:["Tenant #",r]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:()=>{x(""),p(null),g(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition",children:"+ Yeni Flow"}),v.jsx("button",{onClick:t,className:"px-3 py-2 text-sm text-slate-500 hover:text-slate-900 transition",children:"Cikis"})]})]}),v.jsxs("main",{className:"max-w-5xl mx-auto px-6 py-8",children:[a&&v.jsxs("div",{className:"mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg px-4 py-3 flex items-center justify-between",children:[v.jsx("span",{children:a}),v.jsx("button",{onClick:()=>u(null),className:"text-red-400 hover:text-red-600 ml-4",children:""})]}),s?v.jsx("div",{className:"text-center py-20 text-slate-500",children:"Yukleniyor..."}):o.length===0?v.jsxs("div",{className:"text-center py-20",children:[v.jsx("p",{className:"text-slate-500 mb-4",children:"Henuz bir flow olusturulmamis."}),v.jsx("button",{onClick:()=>{x(""),p(null),g(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition",children:"Ilk Flow'u Olustur"})]}):v.jsx("div",{className:"space-y-3",children:o.map(_=>v.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl px-5 py-4 flex items-center justify-between hover:border-slate-300 hover:shadow-sm transition",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx("span",{className:"font-semibold text-slate-900 truncate",children:_.flow_name}),_.is_active&&v.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-50 text-green-700 border border-green-200 rounded-full",children:"Aktif"})]}),v.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[v.jsxs("span",{children:["v",_.config_version]}),v.jsxs("span",{children:[_.node_count," node / ",_.edge_count," edge"]}),v.jsxs("span",{children:["Guncelleme: ",F(_.updated_at)]})]})]}),v.jsxs("div",{className:"flex items-center gap-2 ml-4 flex-shrink-0",children:[v.jsx("button",{onClick:()=>n(`/editor/${_.flow_id}`),className:"px-3 py-1.5 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:"Duzenle"}),_.is_active?v.jsx("button",{onClick:()=>A(_.flow_id),disabled:f===_.flow_id,className:"px-3 py-1.5 text-xs bg-amber-50 hover:bg-amber-100 text-amber-700 border border-amber-200 rounded-lg transition disabled:opacity-50",children:"Deaktif Et"}):v.jsx("button",{onClick:()=>T(_.flow_id),disabled:f===_.flow_id,className:"px-3 py-1.5 text-xs bg-green-50 hover:bg-green-100 text-green-700 border border-green-200 rounded-lg transition disabled:opacity-50",children:"Aktif Et"}),v.jsx("button",{onClick:()=>L(_),disabled:f===_.flow_id,className:"px-3 py-1.5 text-xs bg-indigo-50 hover:bg-indigo-100 text-indigo-600 border border-indigo-200 rounded-lg transition disabled:opacity-50",title:"Flow'un kopyasini olustur",children:"Kopyala"}),v.jsx("button",{onClick:()=>R(_),disabled:f===_.flow_id,className:"px-3 py-1.5 text-xs bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-lg transition disabled:opacity-50",title:"Flow JSON'u panoya kopyala",children:"JSON"}),v.jsx("button",{onClick:()=>E(_),disabled:f===_.flow_id||_.is_active,className:"px-3 py-1.5 text-xs bg-red-50 hover:bg-red-100 text-red-600 border border-red-200 rounded-lg transition disabled:opacity-30 disabled:cursor-not-allowed",title:_.is_active?"Aktif flow silinemez":"Flow sil",children:"Sil"})]})]},_.flow_id))})]}),d&&v.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl w-full max-w-md p-6 shadow-xl",children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Yeni Flow Olustur"}),v.jsx("input",{type:"text",value:y,onChange:_=>x(_.target.value),onKeyDown:_=>_.key==="Enter"&&N(),placeholder:"Flow adi (ornek: Satis Chatbot)",className:"w-full px-3 py-2 bg-white border border-slate-300 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition mb-3",autoFocus:!0,disabled:m}),w&&v.jsx("p",{className:"text-sm text-red-600 mb-3",children:w}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>g(!1),disabled:m,className:"px-4 py-2 text-sm text-slate-500 hover:text-slate-900 transition",children:"Iptal"}),v.jsx("button",{onClick:N,disabled:m,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 disabled:opacity-50 text-white font-medium rounded-lg transition",children:m?"Olusturuluyor...":"Olustur"})]})]})}),S&&v.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl w-full max-w-sm p-6 shadow-xl",children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Flow'u Sil"}),v.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:[v.jsx("strong",{className:"text-slate-900",children:S.flow_name})," flow'u kalici olarak silinecek. Bu islem geri alinamaz."]}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>E(null),className:"px-4 py-2 text-sm text-slate-500 hover:text-slate-900 transition",children:"Iptal"}),v.jsx("button",{onClick:()=>P(S),className:"px-4 py-2 text-sm bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition",children:"Evet, Sil"})]})]})})]})}function Ee(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ee(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var MS={value:()=>{}};function pl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new as(n)}function as(e){this._=e}function PS(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}as.prototype=pl.prototype={constructor:as,on:function(e,t){var n=this._,r=PS(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=jS(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=kf(n[o],e.name,t);else if(t==null)for(o in n)n[o]=kf(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new as(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function jS(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function kf(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=MS,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var pu="http://www.w3.org/1999/xhtml";const _f={svg:"http://www.w3.org/2000/svg",xhtml:pu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ml(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_f.hasOwnProperty(t)?{space:_f[t],local:e}:e}function IS(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===pu&&t.documentElement.namespaceURI===pu?t.createElement(e):t.createElementNS(n,e)}}function RS(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function gg(e){var t=ml(e);return(t.local?RS:IS)(t)}function TS(){}function Rc(e){return e==null?TS:function(){return this.querySelector(e)}}function LS(e){typeof e!="function"&&(e=Rc(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=new Array(s),a,u,f=0;f<s;++f)(a=i[f])&&(u=e.call(a,a.__data__,f,i))&&("__data__"in a&&(u.__data__=a.__data__),l[f]=u);return new Ze(r,this._parents)}function zS(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function $S(){return[]}function yg(e){return e==null?$S:function(){return this.querySelectorAll(e)}}function AS(e){return function(){return zS(e.apply(this,arguments))}}function DS(e){typeof e=="function"?e=AS(e):e=yg(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),o.push(a));return new Ze(r,o)}function vg(e){return function(){return this.matches(e)}}function xg(e){return function(t){return t.matches(e)}}var OS=Array.prototype.find;function FS(e){return function(){return OS.call(this.children,e)}}function HS(){return this.firstElementChild}function BS(e){return this.select(e==null?HS:FS(typeof e=="function"?e:xg(e)))}var VS=Array.prototype.filter;function WS(){return Array.from(this.children)}function US(e){return function(){return VS.call(this.children,e)}}function YS(e){return this.selectAll(e==null?WS:US(typeof e=="function"?e:xg(e)))}function XS(e){typeof e!="function"&&(e=vg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new Ze(r,this._parents)}function wg(e){return new Array(e.length)}function GS(){return new Ze(this._enter||this._groups.map(wg),this._parents)}function Os(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Os.prototype={constructor:Os,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function KS(e){return function(){return e}}function QS(e,t,n,r,o,i){for(var s=0,l,a=t.length,u=i.length;s<u;++s)(l=t[s])?(l.__data__=i[s],r[s]=l):n[s]=new Os(e,i[s]);for(;s<a;++s)(l=t[s])&&(o[s]=l)}function qS(e,t,n,r,o,i,s){var l,a,u=new Map,f=t.length,c=i.length,d=new Array(f),g;for(l=0;l<f;++l)(a=t[l])&&(d[l]=g=s.call(a,a.__data__,l,t)+"",u.has(g)?o[l]=a:u.set(g,a));for(l=0;l<c;++l)g=s.call(e,i[l],l,i)+"",(a=u.get(g))?(r[l]=a,a.__data__=i[l],u.delete(g)):n[l]=new Os(e,i[l]);for(l=0;l<f;++l)(a=t[l])&&u.get(d[l])===a&&(o[l]=a)}function ZS(e){return e.__data__}function JS(e,t){if(!arguments.length)return Array.from(this,ZS);var n=t?qS:QS,r=this._parents,o=this._groups;typeof e!="function"&&(e=KS(e));for(var i=o.length,s=new Array(i),l=new Array(i),a=new Array(i),u=0;u<i;++u){var f=r[u],c=o[u],d=c.length,g=ek(e.call(f,f&&f.__data__,u,r)),y=g.length,x=l[u]=new Array(y),w=s[u]=new Array(y),p=a[u]=new Array(d);n(f,c,x,w,p,g,t);for(var m=0,h=0,S,E;m<y;++m)if(S=x[m]){for(m>=h&&(h=m+1);!(E=w[h])&&++h<y;);S._next=E||null}}return s=new Ze(s,r),s._enter=l,s._exit=a,s}function ek(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tk(){return new Ze(this._exit||this._groups.map(wg),this._parents)}function nk(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function rk(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),l=new Array(o),a=0;a<s;++a)for(var u=n[a],f=r[a],c=u.length,d=l[a]=new Array(c),g,y=0;y<c;++y)(g=u[y]||f[y])&&(d[y]=g);for(;a<o;++a)l[a]=n[a];return new Ze(l,this._parents)}function ok(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function ik(e){e||(e=sk);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],l=s.length,a=o[i]=new Array(l),u,f=0;f<l;++f)(u=s[f])&&(a[f]=u);a.sort(t)}return new Ze(o,this._parents).order()}function sk(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function lk(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ak(){return Array.from(this)}function uk(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function ck(){let e=0;for(const t of this)++e;return e}function dk(){return!this.node()}function fk(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,l;i<s;++i)(l=o[i])&&e.call(l,l.__data__,i,o);return this}function hk(e){return function(){this.removeAttribute(e)}}function pk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mk(e,t){return function(){this.setAttribute(e,t)}}function gk(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function vk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function xk(e,t){var n=ml(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?pk:hk:typeof t=="function"?n.local?vk:yk:n.local?gk:mk)(n,t))}function Sg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wk(e){return function(){this.style.removeProperty(e)}}function Sk(e,t,n){return function(){this.style.setProperty(e,t,n)}}function kk(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function _k(e,t,n){return arguments.length>1?this.each((t==null?wk:typeof t=="function"?kk:Sk)(e,t,n??"")):jr(this.node(),e)}function jr(e,t){return e.style.getPropertyValue(t)||Sg(e).getComputedStyle(e,null).getPropertyValue(t)}function Ek(e){return function(){delete this[e]}}function bk(e,t){return function(){this[e]=t}}function Nk(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Ck(e,t){return arguments.length>1?this.each((t==null?Ek:typeof t=="function"?Nk:bk)(e,t)):this.node()[e]}function kg(e){return e.trim().split(/^|\s+/)}function Tc(e){return e.classList||new _g(e)}function _g(e){this._node=e,this._names=kg(e.getAttribute("class")||"")}_g.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Eg(e,t){for(var n=Tc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function bg(e,t){for(var n=Tc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Mk(e){return function(){Eg(this,e)}}function Pk(e){return function(){bg(this,e)}}function jk(e,t){return function(){(t.apply(this,arguments)?Eg:bg)(this,e)}}function Ik(e,t){var n=kg(e+"");if(arguments.length<2){for(var r=Tc(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?jk:t?Mk:Pk)(n,t))}function Rk(){this.textContent=""}function Tk(e){return function(){this.textContent=e}}function Lk(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function zk(e){return arguments.length?this.each(e==null?Rk:(typeof e=="function"?Lk:Tk)(e)):this.node().textContent}function $k(){this.innerHTML=""}function Ak(e){return function(){this.innerHTML=e}}function Dk(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ok(e){return arguments.length?this.each(e==null?$k:(typeof e=="function"?Dk:Ak)(e)):this.node().innerHTML}function Fk(){this.nextSibling&&this.parentNode.appendChild(this)}function Hk(){return this.each(Fk)}function Bk(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Vk(){return this.each(Bk)}function Wk(e){var t=typeof e=="function"?e:gg(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Uk(){return null}function Yk(e,t){var n=typeof e=="function"?e:gg(e),r=t==null?Uk:typeof t=="function"?t:Rc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Xk(){var e=this.parentNode;e&&e.removeChild(this)}function Gk(){return this.each(Xk)}function Kk(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Qk(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qk(e){return this.select(e?Qk:Kk)}function Zk(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Jk(e){return function(t){e.call(this,t,this.__data__)}}function e_(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function t_(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function n_(e,t,n){return function(){var r=this.__on,o,i=Jk(t);if(r){for(var s=0,l=r.length;s<l;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function r_(e,t,n){var r=e_(e+""),o,i=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,f;a<u;++a)for(o=0,f=l[a];o<i;++o)if((s=r[o]).type===f.type&&s.name===f.name)return f.value}return}for(l=t?n_:t_,o=0;o<i;++o)this.each(l(r[o],t,n));return this}function Ng(e,t,n){var r=Sg(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function o_(e,t){return function(){return Ng(this,e,t)}}function i_(e,t){return function(){return Ng(this,e,t.apply(this,arguments))}}function s_(e,t){return this.each((typeof t=="function"?i_:o_)(e,t))}function*l_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var Cg=[null];function Ze(e,t){this._groups=e,this._parents=t}function fi(){return new Ze([[document.documentElement]],Cg)}function a_(){return this}Ze.prototype=fi.prototype={constructor:Ze,select:LS,selectAll:DS,selectChild:BS,selectChildren:YS,filter:XS,data:JS,enter:GS,exit:tk,join:nk,merge:rk,selection:a_,order:ok,sort:ik,call:lk,nodes:ak,node:uk,size:ck,empty:dk,each:fk,attr:xk,style:_k,property:Ck,classed:Ik,text:zk,html:Ok,raise:Hk,lower:Vk,append:Wk,insert:Yk,remove:Gk,clone:qk,datum:Zk,on:r_,dispatch:s_,[Symbol.iterator]:l_};function Ge(e){return typeof e=="string"?new Ze([[document.querySelector(e)]],[document.documentElement]):new Ze([[e]],Cg)}function u_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function dt(e,t){if(e=u_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const c_={passive:!1},Ko={capture:!0,passive:!1};function sa(e){e.stopImmediatePropagation()}function wr(e){e.preventDefault(),e.stopImmediatePropagation()}function Mg(e){var t=e.document.documentElement,n=Ge(e).on("dragstart.drag",wr,Ko);"onselectstart"in t?n.on("selectstart.drag",wr,Ko):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Pg(e,t){var n=e.document.documentElement,r=Ge(e).on("dragstart.drag",null);t&&(r.on("click.drag",wr,Ko),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Oi=e=>()=>e;function mu(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:l,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}mu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function d_(e){return!e.ctrlKey&&!e.button}function f_(){return this.parentNode}function h_(e,t){return t??{x:e.x,y:e.y}}function p_(){return navigator.maxTouchPoints||"ontouchstart"in this}function jg(){var e=d_,t=f_,n=h_,r=p_,o={},i=pl("start","drag","end"),s=0,l,a,u,f,c=0;function d(S){S.on("mousedown.drag",g).filter(r).on("touchstart.drag",w).on("touchmove.drag",p,c_).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(S,E){if(!(f||!e.call(this,S,E))){var b=h(this,t.call(this,S,E),S,E,"mouse");b&&(Ge(S.view).on("mousemove.drag",y,Ko).on("mouseup.drag",x,Ko),Mg(S.view),sa(S),u=!1,l=S.clientX,a=S.clientY,b("start",S))}}function y(S){if(wr(S),!u){var E=S.clientX-l,b=S.clientY-a;u=E*E+b*b>c}o.mouse("drag",S)}function x(S){Ge(S.view).on("mousemove.drag mouseup.drag",null),Pg(S.view,u),wr(S),o.mouse("end",S)}function w(S,E){if(e.call(this,S,E)){var b=S.changedTouches,N=t.call(this,S,E),P=b.length,T,A;for(T=0;T<P;++T)(A=h(this,N,S,E,b[T].identifier,b[T]))&&(sa(S),A("start",S,b[T]))}}function p(S){var E=S.changedTouches,b=E.length,N,P;for(N=0;N<b;++N)(P=o[E[N].identifier])&&(wr(S),P("drag",S,E[N]))}function m(S){var E=S.changedTouches,b=E.length,N,P;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),N=0;N<b;++N)(P=o[E[N].identifier])&&(sa(S),P("end",S,E[N]))}function h(S,E,b,N,P,T){var A=i.copy(),L=dt(T||b,E),R,F,_;if((_=n.call(S,new mu("beforestart",{sourceEvent:b,target:d,identifier:P,active:s,x:L[0],y:L[1],dx:0,dy:0,dispatch:A}),N))!=null)return R=_.x-L[0]||0,F=_.y-L[1]||0,function I(j,$,C){var M=L,z;switch(j){case"start":o[P]=I,z=s++;break;case"end":delete o[P],--s;case"drag":L=dt(C||$,E),z=s;break}A.call(j,S,new mu(j,{sourceEvent:$,subject:_,target:d,identifier:P,active:z,x:L[0]+R,y:L[1]+F,dx:L[0]-M[0],dy:L[1]-M[1],dispatch:A}),N)}}return d.filter=function(S){return arguments.length?(e=typeof S=="function"?S:Oi(!!S),d):e},d.container=function(S){return arguments.length?(t=typeof S=="function"?S:Oi(S),d):t},d.subject=function(S){return arguments.length?(n=typeof S=="function"?S:Oi(S),d):n},d.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:Oi(!!S),d):r},d.on=function(){var S=i.on.apply(i,arguments);return S===i?d:S},d.clickDistance=function(S){return arguments.length?(c=(S=+S)*S,d):Math.sqrt(c)},d}function Lc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ig(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hi(){}var Qo=.7,Fs=1/Qo,Sr="\\s*([+-]?\\d+)\\s*",qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",m_=/^#([0-9a-f]{3,8})$/,g_=new RegExp(`^rgb\\(${Sr},${Sr},${Sr}\\)$`),y_=new RegExp(`^rgb\\(${Pt},${Pt},${Pt}\\)$`),v_=new RegExp(`^rgba\\(${Sr},${Sr},${Sr},${qo}\\)$`),x_=new RegExp(`^rgba\\(${Pt},${Pt},${Pt},${qo}\\)$`),w_=new RegExp(`^hsl\\(${qo},${Pt},${Pt}\\)$`),S_=new RegExp(`^hsla\\(${qo},${Pt},${Pt},${qo}\\)$`),Ef={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lc(hi,Vn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bf,formatHex:bf,formatHex8:k_,formatHsl:__,formatRgb:Nf,toString:Nf});function bf(){return this.rgb().formatHex()}function k_(){return this.rgb().formatHex8()}function __(){return Rg(this).formatHsl()}function Nf(){return this.rgb().formatRgb()}function Vn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=m_.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Cf(t):n===3?new Ve(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Fi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Fi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=g_.exec(e))?new Ve(t[1],t[2],t[3],1):(t=y_.exec(e))?new Ve(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=v_.exec(e))?Fi(t[1],t[2],t[3],t[4]):(t=x_.exec(e))?Fi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=w_.exec(e))?jf(t[1],t[2]/100,t[3]/100,1):(t=S_.exec(e))?jf(t[1],t[2]/100,t[3]/100,t[4]):Ef.hasOwnProperty(e)?Cf(Ef[e]):e==="transparent"?new Ve(NaN,NaN,NaN,0):null}function Cf(e){return new Ve(e>>16&255,e>>8&255,e&255,1)}function Fi(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ve(e,t,n,r)}function E_(e){return e instanceof hi||(e=Vn(e)),e?(e=e.rgb(),new Ve(e.r,e.g,e.b,e.opacity)):new Ve}function gu(e,t,n,r){return arguments.length===1?E_(e):new Ve(e,t,n,r??1)}function Ve(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Lc(Ve,gu,Ig(hi,{brighter(e){return e=e==null?Fs:Math.pow(Fs,e),new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qo:Math.pow(Qo,e),new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ve(zn(this.r),zn(this.g),zn(this.b),Hs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mf,formatHex:Mf,formatHex8:b_,formatRgb:Pf,toString:Pf}));function Mf(){return`#${Rn(this.r)}${Rn(this.g)}${Rn(this.b)}`}function b_(){return`#${Rn(this.r)}${Rn(this.g)}${Rn(this.b)}${Rn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Pf(){const e=Hs(this.opacity);return`${e===1?"rgb(":"rgba("}${zn(this.r)}, ${zn(this.g)}, ${zn(this.b)}${e===1?")":`, ${e})`}`}function Hs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Rn(e){return e=zn(e),(e<16?"0":"")+e.toString(16)}function jf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ht(e,t,n,r)}function Rg(e){if(e instanceof ht)return new ht(e.h,e.s,e.l,e.opacity);if(e instanceof hi||(e=Vn(e)),!e)return new ht;if(e instanceof ht)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,l=i-o,a=(i+o)/2;return l?(t===i?s=(n-r)/l+(n<r)*6:n===i?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?i+o:2-i-o,s*=60):l=a>0&&a<1?0:s,new ht(s,l,a,e.opacity)}function N_(e,t,n,r){return arguments.length===1?Rg(e):new ht(e,t,n,r??1)}function ht(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Lc(ht,N_,Ig(hi,{brighter(e){return e=e==null?Fs:Math.pow(Fs,e),new ht(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qo:Math.pow(Qo,e),new ht(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ve(la(e>=240?e-240:e+120,o,r),la(e,o,r),la(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new ht(If(this.h),Hi(this.s),Hi(this.l),Hs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hs(this.opacity);return`${e===1?"hsl(":"hsla("}${If(this.h)}, ${Hi(this.s)*100}%, ${Hi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function If(e){return e=(e||0)%360,e<0?e+360:e}function Hi(e){return Math.max(0,Math.min(1,e||0))}function la(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const zc=e=>()=>e;function C_(e,t){return function(n){return e+n*t}}function M_(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function P_(e){return(e=+e)==1?Tg:function(t,n){return n-t?M_(t,n,e):zc(isNaN(t)?n:t)}}function Tg(e,t){var n=t-e;return n?C_(e,n):zc(isNaN(e)?t:e)}const Bs=function e(t){var n=P_(t);function r(o,i){var s=n((o=gu(o)).r,(i=gu(i)).r),l=n(o.g,i.g),a=n(o.b,i.b),u=Tg(o.opacity,i.opacity);return function(f){return o.r=s(f),o.g=l(f),o.b=a(f),o.opacity=u(f),o+""}}return r.gamma=e,r}(1);function j_(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function I_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function R_(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)o[s]=Mo(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(l){for(s=0;s<r;++s)i[s]=o[s](l);return i}}function T_(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Et(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function L_(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Mo(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var yu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aa=new RegExp(yu.source,"g");function z_(e){return function(){return e}}function $_(e){return function(t){return e(t)+""}}function Lg(e,t){var n=yu.lastIndex=aa.lastIndex=0,r,o,i,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=yu.exec(e))&&(o=aa.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[s]?l[s]+=i:l[++s]=i),(r=r[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:Et(r,o)})),n=aa.lastIndex;return n<t.length&&(i=t.slice(n),l[s]?l[s]+=i:l[++s]=i),l.length<2?a[0]?$_(a[0].x):z_(t):(t=a.length,function(u){for(var f=0,c;f<t;++f)l[(c=a[f]).i]=c.x(u);return l.join("")})}function Mo(e,t){var n=typeof t,r;return t==null||n==="boolean"?zc(t):(n==="number"?Et:n==="string"?(r=Vn(t))?(t=r,Bs):Lg:t instanceof Vn?Bs:t instanceof Date?T_:I_(t)?j_:Array.isArray(t)?R_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?L_:Et)(e,t)}var Rf=180/Math.PI,vu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zg(e,t,n,r,o,i){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Rf,skewX:Math.atan(a)*Rf,scaleX:s,scaleY:l}}var Bi;function A_(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?vu:zg(t.a,t.b,t.c,t.d,t.e,t.f)}function D_(e){return e==null||(Bi||(Bi=document.createElementNS("http://www.w3.org/2000/svg","g")),Bi.setAttribute("transform",e),!(e=Bi.transform.baseVal.consolidate()))?vu:(e=e.matrix,zg(e.a,e.b,e.c,e.d,e.e,e.f))}function $g(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,f,c,d,g,y){if(u!==c||f!==d){var x=g.push("translate(",null,t,null,n);y.push({i:x-4,x:Et(u,c)},{i:x-2,x:Et(f,d)})}else(c||d)&&g.push("translate("+c+t+d+n)}function s(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(o(c)+"rotate(",null,r)-2,x:Et(u,f)})):f&&c.push(o(c)+"rotate("+f+r)}function l(u,f,c,d){u!==f?d.push({i:c.push(o(c)+"skewX(",null,r)-2,x:Et(u,f)}):f&&c.push(o(c)+"skewX("+f+r)}function a(u,f,c,d,g,y){if(u!==c||f!==d){var x=g.push(o(g)+"scale(",null,",",null,")");y.push({i:x-4,x:Et(u,c)},{i:x-2,x:Et(f,d)})}else(c!==1||d!==1)&&g.push(o(g)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=e(u),f=e(f),i(u.translateX,u.translateY,f.translateX,f.translateY,c,d),s(u.rotate,f.rotate,c,d),l(u.skewX,f.skewX,c,d),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(g){for(var y=-1,x=d.length,w;++y<x;)c[(w=d[y]).i]=w.x(g);return c.join("")}}}var O_=$g(A_,"px, ","px)","deg)"),F_=$g(D_,", ",")",")"),H_=1e-12;function Tf(e){return((e=Math.exp(e))+1/e)/2}function B_(e){return((e=Math.exp(e))-1/e)/2}function V_(e){return((e=Math.exp(2*e))-1)/(e+1)}const us=function e(t,n,r){function o(i,s){var l=i[0],a=i[1],u=i[2],f=s[0],c=s[1],d=s[2],g=f-l,y=c-a,x=g*g+y*y,w,p;if(x<H_)p=Math.log(d/u)/t,w=function(N){return[l+N*g,a+N*y,u*Math.exp(t*N*p)]};else{var m=Math.sqrt(x),h=(d*d-u*u+r*x)/(2*u*n*m),S=(d*d-u*u-r*x)/(2*d*n*m),E=Math.log(Math.sqrt(h*h+1)-h),b=Math.log(Math.sqrt(S*S+1)-S);p=(b-E)/t,w=function(N){var P=N*p,T=Tf(E),A=u/(n*m)*(T*V_(t*P+E)-B_(E));return[l+A*g,a+A*y,u*T/Tf(t*P+E)]}}return w.duration=p*1e3*t/Math.SQRT2,w}return o.rho=function(i){var s=Math.max(.001,+i),l=s*s,a=l*l;return e(s,l,a)},o}(Math.SQRT2,2,4);var Ir=0,go=0,oo=0,Ag=1e3,Vs,yo,Ws=0,Wn=0,gl=0,Zo=typeof performance=="object"&&performance.now?performance:Date,Dg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $c(){return Wn||(Dg(W_),Wn=Zo.now()+gl)}function W_(){Wn=0}function Us(){this._call=this._time=this._next=null}Us.prototype=Og.prototype={constructor:Us,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?$c():+n)+(t==null?0:+t),!this._next&&yo!==this&&(yo?yo._next=this:Vs=this,yo=this),this._call=e,this._time=n,xu()},stop:function(){this._call&&(this._call=null,this._time=1/0,xu())}};function Og(e,t,n){var r=new Us;return r.restart(e,t,n),r}function U_(){$c(),++Ir;for(var e=Vs,t;e;)(t=Wn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ir}function Lf(){Wn=(Ws=Zo.now())+gl,Ir=go=0;try{U_()}finally{Ir=0,X_(),Wn=0}}function Y_(){var e=Zo.now(),t=e-Ws;t>Ag&&(gl-=t,Ws=e)}function X_(){for(var e,t=Vs,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Vs=n);yo=e,xu(r)}function xu(e){if(!Ir){go&&(go=clearTimeout(go));var t=e-Wn;t>24?(e<1/0&&(go=setTimeout(Lf,e-Zo.now()-gl)),oo&&(oo=clearInterval(oo))):(oo||(Ws=Zo.now(),oo=setInterval(Y_,Ag)),Ir=1,Dg(Lf))}}function zf(e,t,n){var r=new Us;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var G_=pl("start","end","cancel","interrupt"),K_=[],Fg=0,$f=1,wu=2,cs=3,Af=4,Su=5,ds=6;function yl(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Q_(e,n,{name:t,index:r,group:o,on:G_,tween:K_,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Fg})}function Ac(e,t){var n=St(e,t);if(n.state>Fg)throw new Error("too late; already scheduled");return n}function It(e,t){var n=St(e,t);if(n.state>cs)throw new Error("too late; already running");return n}function St(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Q_(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Og(i,0,n.time);function i(u){n.state=$f,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,c,d,g;if(n.state!==$f)return a();for(f in r)if(g=r[f],g.name===n.name){if(g.state===cs)return zf(s);g.state===Af?(g.state=ds,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[f]):+f<t&&(g.state=ds,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[f])}if(zf(function(){n.state===cs&&(n.state=Af,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=wu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===wu){for(n.state=cs,o=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(g=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(o[++c]=g);o.length=c+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Su,1),c=-1,d=o.length;++c<d;)o[c].call(e,f);n.state===Su&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=ds,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function fs(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>wu&&r.state<Su,r.state=ds,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function q_(e){return this.each(function(){fs(this,e)})}function Z_(e,t){var n,r;return function(){var o=It(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function J_(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=It(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}i.tween=o}}function eE(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=St(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?Z_:J_)(n,e,t))}function Dc(e,t,n){var r=e._id;return e.each(function(){var o=It(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return St(o,r).value[t]}}function Hg(e,t){var n;return(typeof t=="number"?Et:t instanceof Vn?Bs:(n=Vn(t))?(t=n,Bs):Lg)(e,t)}function tE(e){return function(){this.removeAttribute(e)}}function nE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rE(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function oE(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function iE(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function sE(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function lE(e,t){var n=ml(e),r=n==="transform"?F_:Hg;return this.attrTween(e,typeof t=="function"?(n.local?sE:iE)(n,r,Dc(this,"attr."+e,t)):t==null?(n.local?nE:tE)(n):(n.local?oE:rE)(n,r,t))}function aE(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function uE(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function cE(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&uE(e,i)),n}return o._value=t,o}function dE(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&aE(e,i)),n}return o._value=t,o}function fE(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ml(e);return this.tween(n,(r.local?cE:dE)(r,t))}function hE(e,t){return function(){Ac(this,e).delay=+t.apply(this,arguments)}}function pE(e,t){return t=+t,function(){Ac(this,e).delay=t}}function mE(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?hE:pE)(t,e)):St(this.node(),t).delay}function gE(e,t){return function(){It(this,e).duration=+t.apply(this,arguments)}}function yE(e,t){return t=+t,function(){It(this,e).duration=t}}function vE(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gE:yE)(t,e)):St(this.node(),t).duration}function xE(e,t){if(typeof t!="function")throw new Error;return function(){It(this,e).ease=t}}function wE(e){var t=this._id;return arguments.length?this.each(xE(t,e)):St(this.node(),t).ease}function SE(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;It(this,e).ease=n}}function kE(e){if(typeof e!="function")throw new Error;return this.each(SE(this._id,e))}function _E(e){typeof e!="function"&&(e=vg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new Gt(r,this._parents,this._name,this._id)}function EE(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),l=0;l<i;++l)for(var a=t[l],u=n[l],f=a.length,c=s[l]=new Array(f),d,g=0;g<f;++g)(d=a[g]||u[g])&&(c[g]=d);for(;l<r;++l)s[l]=t[l];return new Gt(s,this._parents,this._name,this._id)}function bE(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function NE(e,t,n){var r,o,i=bE(t)?Ac:It;return function(){var s=i(this,e),l=s.on;l!==r&&(o=(r=l).copy()).on(t,n),s.on=o}}function CE(e,t){var n=this._id;return arguments.length<2?St(this.node(),n).on.on(e):this.each(NE(n,e,t))}function ME(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function PE(){return this.on("end.remove",ME(this._id))}function jE(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Rc(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var l=r[s],a=l.length,u=i[s]=new Array(a),f,c,d=0;d<a;++d)(f=l[d])&&(c=e.call(f,f.__data__,d,l))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,yl(u[d],t,n,d,u,St(f,n)));return new Gt(i,this._parents,t,n)}function IE(e){var t=this._name,n=this._id;typeof e!="function"&&(e=yg(e));for(var r=this._groups,o=r.length,i=[],s=[],l=0;l<o;++l)for(var a=r[l],u=a.length,f,c=0;c<u;++c)if(f=a[c]){for(var d=e.call(f,f.__data__,c,a),g,y=St(f,n),x=0,w=d.length;x<w;++x)(g=d[x])&&yl(g,t,n,x,d,y);i.push(d),s.push(f)}return new Gt(i,s,t,n)}var RE=fi.prototype.constructor;function TE(){return new RE(this._groups,this._parents)}function LE(e,t){var n,r,o;return function(){var i=jr(this,e),s=(this.style.removeProperty(e),jr(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function Bg(e){return function(){this.style.removeProperty(e)}}function zE(e,t,n){var r,o=n+"",i;return function(){var s=jr(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function $E(e,t,n){var r,o,i;return function(){var s=jr(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),jr(this,e))),s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l))}}function AE(e,t){var n,r,o,i="style."+t,s="end."+i,l;return function(){var a=It(this,e),u=a.on,f=a.value[i]==null?l||(l=Bg(t)):void 0;(u!==n||o!==f)&&(r=(n=u).copy()).on(s,o=f),a.on=r}}function DE(e,t,n){var r=(e+="")=="transform"?O_:Hg;return t==null?this.styleTween(e,LE(e,r)).on("end.style."+e,Bg(e)):typeof t=="function"?this.styleTween(e,$E(e,r,Dc(this,"style."+e,t))).each(AE(this._id,e)):this.styleTween(e,zE(e,r,t),n).on("end.style."+e,null)}function OE(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function FE(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&OE(e,s,n)),r}return i._value=t,i}function HE(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,FE(e,t,n??""))}function BE(e){return function(){this.textContent=e}}function VE(e){return function(){var t=e(this);this.textContent=t??""}}function WE(e){return this.tween("text",typeof e=="function"?VE(Dc(this,"text",e)):BE(e==null?"":e+""))}function UE(e){return function(t){this.textContent=e.call(this,t)}}function YE(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&UE(o)),t}return r._value=e,r}function XE(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,YE(e))}function GE(){for(var e=this._name,t=this._id,n=Vg(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var f=St(a,t);yl(a,e,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Gt(r,this._parents,e,n)}function KE(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var l={value:s},a={value:function(){--o===0&&i()}};n.each(function(){var u=It(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&i()})}var QE=0;function Gt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Vg(){return++QE}var Tt=fi.prototype;Gt.prototype={constructor:Gt,select:jE,selectAll:IE,selectChild:Tt.selectChild,selectChildren:Tt.selectChildren,filter:_E,merge:EE,selection:TE,transition:GE,call:Tt.call,nodes:Tt.nodes,node:Tt.node,size:Tt.size,empty:Tt.empty,each:Tt.each,on:CE,attr:lE,attrTween:fE,style:DE,styleTween:HE,text:WE,textTween:XE,remove:PE,tween:eE,delay:mE,duration:vE,ease:wE,easeVarying:kE,end:KE,[Symbol.iterator]:Tt[Symbol.iterator]};function qE(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ZE={time:null,delay:0,duration:250,ease:qE};function JE(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function eb(e){var t,n;e instanceof Gt?(t=e._id,e=e._name):(t=Vg(),(n=ZE).time=$c(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&yl(a,e,t,u,s,n||JE(a,t));return new Gt(r,this._parents,e,t)}fi.prototype.interrupt=q_;fi.prototype.transition=eb;const Vi=e=>()=>e;function tb(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Ot(e,t,n){this.k=e,this.x=t,this.y=n}Ot.prototype={constructor:Ot,scale:function(e){return e===1?this:new Ot(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ot(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var vl=new Ot(1,0,0);Wg.prototype=Ot.prototype;function Wg(e){for(;!e.__zoom;)if(!(e=e.parentNode))return vl;return e.__zoom}function ua(e){e.stopImmediatePropagation()}function io(e){e.preventDefault(),e.stopImmediatePropagation()}function nb(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function rb(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Df(){return this.__zoom||vl}function ob(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ib(){return navigator.maxTouchPoints||"ontouchstart"in this}function sb(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function Ug(){var e=nb,t=rb,n=sb,r=ob,o=ib,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=us,u=pl("start","zoom","end"),f,c,d,g=500,y=150,x=0,w=10;function p(_){_.property("__zoom",Df).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",A).filter(o).on("touchstart.zoom",L).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(_,I,j,$){var C=_.selection?_.selection():_;C.property("__zoom",Df),_!==C?E(_,I,j,$):C.interrupt().each(function(){b(this,arguments).event($).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},p.scaleBy=function(_,I,j,$){p.scaleTo(_,function(){var C=this.__zoom.k,M=typeof I=="function"?I.apply(this,arguments):I;return C*M},j,$)},p.scaleTo=function(_,I,j,$){p.transform(_,function(){var C=t.apply(this,arguments),M=this.__zoom,z=j==null?S(C):typeof j=="function"?j.apply(this,arguments):j,D=M.invert(z),O=typeof I=="function"?I.apply(this,arguments):I;return n(h(m(M,O),z,D),C,s)},j,$)},p.translateBy=function(_,I,j,$){p.transform(_,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),s)},null,$)},p.translateTo=function(_,I,j,$,C){p.transform(_,function(){var M=t.apply(this,arguments),z=this.__zoom,D=$==null?S(M):typeof $=="function"?$.apply(this,arguments):$;return n(vl.translate(D[0],D[1]).scale(z.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof j=="function"?-j.apply(this,arguments):-j),M,s)},$,C)};function m(_,I){return I=Math.max(i[0],Math.min(i[1],I)),I===_.k?_:new Ot(I,_.x,_.y)}function h(_,I,j){var $=I[0]-j[0]*_.k,C=I[1]-j[1]*_.k;return $===_.x&&C===_.y?_:new Ot(_.k,$,C)}function S(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function E(_,I,j,$){_.on("start.zoom",function(){b(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event($).end()}).tween("zoom",function(){var C=this,M=arguments,z=b(C,M).event($),D=t.apply(C,M),O=j==null?S(D):typeof j=="function"?j.apply(C,M):j,W=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),V=C.__zoom,X=typeof I=="function"?I.apply(C,M):I,G=a(V.invert(O).concat(W/V.k),X.invert(O).concat(W/X.k));return function(K){if(K===1)K=X;else{var B=G(K),Q=W/B[2];K=new Ot(Q,O[0]-B[0]*Q,O[1]-B[1]*Q)}z.zoom(null,K)}})}function b(_,I,j){return!j&&_.__zooming||new N(_,I)}function N(_,I){this.that=_,this.args=I,this.active=0,this.sourceEvent=null,this.extent=t.apply(_,I),this.taps=0}N.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,I){return this.mouse&&_!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var I=Ge(this.that).datum();u.call(_,this.that,new tb(_,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:u}),I)}};function P(_,...I){if(!e.apply(this,arguments))return;var j=b(this,I).event(_),$=this.__zoom,C=Math.max(i[0],Math.min(i[1],$.k*Math.pow(2,r.apply(this,arguments)))),M=dt(_);if(j.wheel)(j.mouse[0][0]!==M[0]||j.mouse[0][1]!==M[1])&&(j.mouse[1]=$.invert(j.mouse[0]=M)),clearTimeout(j.wheel);else{if($.k===C)return;j.mouse=[M,$.invert(M)],fs(this),j.start()}io(_),j.wheel=setTimeout(z,y),j.zoom("mouse",n(h(m($,C),j.mouse[0],j.mouse[1]),j.extent,s));function z(){j.wheel=null,j.end()}}function T(_,...I){if(d||!e.apply(this,arguments))return;var j=_.currentTarget,$=b(this,I,!0).event(_),C=Ge(_.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",W,!0),M=dt(_,j),z=_.clientX,D=_.clientY;Mg(_.view),ua(_),$.mouse=[M,this.__zoom.invert(M)],fs(this),$.start();function O(V){if(io(V),!$.moved){var X=V.clientX-z,G=V.clientY-D;$.moved=X*X+G*G>x}$.event(V).zoom("mouse",n(h($.that.__zoom,$.mouse[0]=dt(V,j),$.mouse[1]),$.extent,s))}function W(V){C.on("mousemove.zoom mouseup.zoom",null),Pg(V.view,$.moved),io(V),$.event(V).end()}}function A(_,...I){if(e.apply(this,arguments)){var j=this.__zoom,$=dt(_.changedTouches?_.changedTouches[0]:_,this),C=j.invert($),M=j.k*(_.shiftKey?.5:2),z=n(h(m(j,M),$,C),t.apply(this,I),s);io(_),l>0?Ge(this).transition().duration(l).call(E,z,$,_):Ge(this).call(p.transform,z,$,_)}}function L(_,...I){if(e.apply(this,arguments)){var j=_.touches,$=j.length,C=b(this,I,_.changedTouches.length===$).event(_),M,z,D,O;for(ua(_),z=0;z<$;++z)D=j[z],O=dt(D,this),O=[O,this.__zoom.invert(O),D.identifier],C.touch0?!C.touch1&&C.touch0[2]!==O[2]&&(C.touch1=O,C.taps=0):(C.touch0=O,M=!0,C.taps=1+!!f);f&&(f=clearTimeout(f)),M&&(C.taps<2&&(c=O[0],f=setTimeout(function(){f=null},g)),fs(this),C.start())}}function R(_,...I){if(this.__zooming){var j=b(this,I).event(_),$=_.changedTouches,C=$.length,M,z,D,O;for(io(_),M=0;M<C;++M)z=$[M],D=dt(z,this),j.touch0&&j.touch0[2]===z.identifier?j.touch0[0]=D:j.touch1&&j.touch1[2]===z.identifier&&(j.touch1[0]=D);if(z=j.that.__zoom,j.touch1){var W=j.touch0[0],V=j.touch0[1],X=j.touch1[0],G=j.touch1[1],K=(K=X[0]-W[0])*K+(K=X[1]-W[1])*K,B=(B=G[0]-V[0])*B+(B=G[1]-V[1])*B;z=m(z,Math.sqrt(K/B)),D=[(W[0]+X[0])/2,(W[1]+X[1])/2],O=[(V[0]+G[0])/2,(V[1]+G[1])/2]}else if(j.touch0)D=j.touch0[0],O=j.touch0[1];else return;j.zoom("touch",n(h(z,D,O),j.extent,s))}}function F(_,...I){if(this.__zooming){var j=b(this,I).event(_),$=_.changedTouches,C=$.length,M,z;for(ua(_),d&&clearTimeout(d),d=setTimeout(function(){d=null},g),M=0;M<C;++M)z=$[M],j.touch0&&j.touch0[2]===z.identifier?delete j.touch0:j.touch1&&j.touch1[2]===z.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(z=dt(z,this),Math.hypot(c[0]-z[0],c[1]-z[1])<w)){var D=Ge(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return p.wheelDelta=function(_){return arguments.length?(r=typeof _=="function"?_:Vi(+_),p):r},p.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Vi(!!_),p):e},p.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:Vi(!!_),p):o},p.extent=function(_){return arguments.length?(t=typeof _=="function"?_:Vi([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),p):t},p.scaleExtent=function(_){return arguments.length?(i[0]=+_[0],i[1]=+_[1],p):[i[0],i[1]]},p.translateExtent=function(_){return arguments.length?(s[0][0]=+_[0][0],s[1][0]=+_[1][0],s[0][1]=+_[0][1],s[1][1]=+_[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(_){return arguments.length?(n=_,p):n},p.duration=function(_){return arguments.length?(l=+_,p):l},p.interpolate=function(_){return arguments.length?(a=_,p):a},p.on=function(){var _=u.on.apply(u,arguments);return _===u?p:_},p.clickDistance=function(_){return arguments.length?(x=(_=+_)*_,p):Math.sqrt(x)},p.tapDistance=function(_){return arguments.length?(w=+_,p):w},p}const jt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Jo=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Yg=["Enter"," ","Escape"],Xg={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Rr;(function(e){e.Strict="strict",e.Loose="loose"})(Rr||(Rr={}));var $n;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})($n||($n={}));var ei;(function(e){e.Partial="partial",e.Full="full"})(ei||(ei={}));const Gg={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var an;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(an||(an={}));var Ys;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ys||(Ys={}));var Y;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Y||(Y={}));const Of={[Y.Left]:Y.Right,[Y.Right]:Y.Left,[Y.Top]:Y.Bottom,[Y.Bottom]:Y.Top};function Kg(e){return e===null?null:e?"valid":"invalid"}const Qg=e=>"id"in e&&"source"in e&&"target"in e,lb=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Oc=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),pi=(e,t=[0,0])=>{const{width:n,height:r}=Qt(e),o=e.origin??t,i=n*o[0],s=r*o[1];return{x:e.position.x-i,y:e.position.y-s}},ab=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let s=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(o):Oc(o)?o:t.nodeLookup.get(o.id));const l=s?Xs(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return xl(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return wl(n)},mi=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=xl(n,Xs(o)),r=!0)}),r?wl(n):{x:0,y:0,width:0,height:0}},Fc=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1)=>{const l={...yi(t,[n,r,o]),width:t.width/o,height:t.height/o},a=[];for(const u of e.values()){const{measured:f,selectable:c=!0,hidden:d=!1}=u;if(s&&!c||d)continue;const g=f.width??u.width??u.initialWidth??null,y=f.height??u.height??u.initialHeight??null,x=ti(l,Lr(u)),w=(g??0)*(y??0),p=i&&x>0;(!u.internals.handleBounds||p||x>=w||u.dragging)&&a.push(u)}return a},ub=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function cb(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function db({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const l=cb(e,s),a=mi(l),u=Hc(a,t,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await r.setViewport(u,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function qg({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const s=n.get(e),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=s.origin??r;let c=s.extent||o;if(s.extent==="parent"&&!s.expandParent)if(!l)i==null||i("005",jt.error005());else{const g=l.measured.width,y=l.measured.height;g&&y&&(c=[[a,u],[a+g,u+y]])}else l&&zr(s.extent)&&(c=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const d=zr(c)?Un(t,c,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",jt.error015())),{position:{x:d.x-a+(s.measured.width??0)*f[0],y:d.y-u+(s.measured.height??0)*f[1]},positionAbsolute:d}}async function fb({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const g=i.has(d.id),y=!g&&d.parentId&&s.find(x=>x.id===d.parentId);(g||y)&&s.push(d)}const l=new Set(t.map(d=>d.id)),a=r.filter(d=>d.deletable!==!1),f=ub(s,a);for(const d of a)l.has(d.id)&&!f.find(y=>y.id===d.id)&&f.push(d);if(!o)return{edges:f,nodes:s};const c=await o({nodes:s,edges:f});return typeof c=="boolean"?c?{edges:f,nodes:s}:{edges:[],nodes:[]}:c}const Tr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Un=(e={x:0,y:0},t,n)=>({x:Tr(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Tr(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Zg(e,t,n){const{width:r,height:o}=Qt(n),{x:i,y:s}=n.internals.positionAbsolute;return Un(e,[[i,s],[i+r,s+o]],t)}const Ff=(e,t,n)=>e<t?Tr(Math.abs(e-t),1,t)/t:e>n?-Tr(Math.abs(e-n),1,t)/t:0,Jg=(e,t,n=15,r=40)=>{const o=Ff(e.x,r,t.width-r)*n,i=Ff(e.y,r,t.height-r)*n;return[o,i]},xl=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ku=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),wl=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Lr=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Oc(e)?e.internals.positionAbsolute:pi(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Xs=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Oc(e)?e.internals.positionAbsolute:pi(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},e0=(e,t)=>wl(xl(ku(e),ku(t))),ti=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Hf=e=>pt(e.width)&&pt(e.height)&&pt(e.x)&&pt(e.y),pt=e=>!isNaN(e)&&isFinite(e),hb=(e,t)=>{},gi=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),yi=({x:e,y:t},[n,r,o],i=!1,s=[1,1])=>{const l={x:(e-n)/o,y:(t-r)/o};return i?gi(l,s):l},Gs=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function Jn(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function pb(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Jn(e,n),o=Jn(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=Jn(e.top??e.y??0,n),o=Jn(e.bottom??e.y??0,n),i=Jn(e.left??e.x??0,t),s=Jn(e.right??e.x??0,t);return{top:r,right:s,bottom:o,left:i,x:i+s,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function mb(e,t,n,r,o,i){const{x:s,y:l}=Gs(e,[t,n,r]),{x:a,y:u}=Gs({x:e.x+e.width,y:e.y+e.height},[t,n,r]),f=o-a,c=i-u;return{left:Math.floor(s),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(c)}}const Hc=(e,t,n,r,o,i)=>{const s=pb(i,t,n),l=(t-s.x)/e.width,a=(n-s.y)/e.height,u=Math.min(l,a),f=Tr(u,r,o),c=e.x+e.width/2,d=e.y+e.height/2,g=t/2-c*f,y=n/2-d*f,x=mb(e,g,y,f,t,n),w={left:Math.min(x.left-s.left,0),top:Math.min(x.top-s.top,0),right:Math.min(x.right-s.right,0),bottom:Math.min(x.bottom-s.bottom,0)};return{x:g-w.left+w.right,y:y-w.top+w.bottom,zoom:f}},ni=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function zr(e){return e!=null&&e!=="parent"}function Qt(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function t0(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function n0(e,t={width:0,height:0},n,r,o){const i={...e},s=r.get(n);if(s){const l=s.origin||o;i.x+=s.internals.positionAbsolute.x-(t.width??0)*l[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*l[1]}return i}function Bf(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function gb(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function yb(e){return{...Xg,...e||{}}}function Po(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:s}=mt(e),l=yi({x:i-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},r),{x:a,y:u}=n?gi(l,t):l;return{xSnapped:a,ySnapped:u,...l}}const Bc=e=>({width:e.offsetWidth,height:e.offsetHeight}),r0=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},vb=["INPUT","SELECT","TEXTAREA"];function o0(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:vb.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const i0=e=>"clientX"in e,mt=(e,t)=>{var i,s;const n=i0(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Vf=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...Bc(s)}})};function s0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}){const a=e*.125+o*.375+s*.375+n*.125,u=t*.125+i*.375+l*.375+r*.125,f=Math.abs(a-e),c=Math.abs(u-t);return[a,u,f,c]}function Wi(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Wf({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case Y.Left:return[t-Wi(t-r,i),n];case Y.Right:return[t+Wi(r-t,i),n];case Y.Top:return[t,n-Wi(n-o,i)];case Y.Bottom:return[t,n+Wi(o-n,i)]}}function Vc({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top,curvature:s=.25}){const[l,a]=Wf({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[u,f]=Wf({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[c,d,g,y]=s0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${e},${t} C${l},${a} ${u},${f} ${r},${o}`,c,d,g,y]}function l0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[i,l,o,s]}function xb({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const s=o&&n?r+1e3:r,l=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return s+l}function wb({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=xl(Xs(e),Xs(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return ti(s,wl(i))>0}const Sb=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,kb=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),a0=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||Sb;let o;return Qg(e)?o={...e}:o={...e,id:r(e)},kb(o,t)?t:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,t.concat(o))};function u0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,l]=l0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,l]}const Uf={[Y.Left]:{x:-1,y:0},[Y.Right]:{x:1,y:0},[Y.Top]:{x:0,y:-1},[Y.Bottom]:{x:0,y:1}},_b=({source:e,sourcePosition:t=Y.Bottom,target:n})=>t===Y.Left||t===Y.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Yf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Eb({source:e,sourcePosition:t=Y.Bottom,target:n,targetPosition:r=Y.Top,center:o,offset:i,stepPosition:s}){const l=Uf[t],a=Uf[r],u={x:e.x+l.x*i,y:e.y+l.y*i},f={x:n.x+a.x*i,y:n.y+a.y*i},c=_b({source:u,sourcePosition:t,target:f}),d=c.x!==0?"x":"y",g=c[d];let y=[],x,w;const p={x:0,y:0},m={x:0,y:0},[,,h,S]=l0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[d]*a[d]===-1){d==="x"?(x=o.x??u.x+(f.x-u.x)*s,w=o.y??(u.y+f.y)/2):(x=o.x??(u.x+f.x)/2,w=o.y??u.y+(f.y-u.y)*s);const b=[{x,y:u.y},{x,y:f.y}],N=[{x:u.x,y:w},{x:f.x,y:w}];l[d]===g?y=d==="x"?b:N:y=d==="x"?N:b}else{const b=[{x:u.x,y:f.y}],N=[{x:f.x,y:u.y}];if(d==="x"?y=l.x===g?N:b:y=l.y===g?b:N,t===r){const R=Math.abs(e[d]-n[d]);if(R<=i){const F=Math.min(i-1,i-R);l[d]===g?p[d]=(u[d]>e[d]?-1:1)*F:m[d]=(f[d]>n[d]?-1:1)*F}}if(t!==r){const R=d==="x"?"y":"x",F=l[d]===a[R],_=u[R]>f[R],I=u[R]<f[R];(l[d]===1&&(!F&&_||F&&I)||l[d]!==1&&(!F&&I||F&&_))&&(y=d==="x"?b:N)}const P={x:u.x+p.x,y:u.y+p.y},T={x:f.x+m.x,y:f.y+m.y},A=Math.max(Math.abs(P.x-y[0].x),Math.abs(T.x-y[0].x)),L=Math.max(Math.abs(P.y-y[0].y),Math.abs(T.y-y[0].y));A>=L?(x=(P.x+T.x)/2,w=y[0].y):(x=y[0].x,w=(P.y+T.y)/2)}return[[e,{x:u.x+p.x,y:u.y+p.y},...y,{x:f.x+m.x,y:f.y+m.y},n],x,w,h,S]}function bb(e,t,n,r){const o=Math.min(Yf(e,t)/2,Yf(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${i+o*u},${s}Q ${i},${s} ${i},${s+o*f}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${s+o*a}Q ${i},${s} ${i+o*l},${s}`}function _u({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20,stepPosition:f=.5}){const[c,d,g,y,x]=Eb({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:l,y:a},offset:u,stepPosition:f});return[c.reduce((p,m,h)=>{let S="";return h>0&&h<c.length-1?S=bb(c[h-1],m,c[h+1],s):S=`${h===0?"M":"L"}${m.x} ${m.y}`,p+=S,p},""),d,g,y,x]}function Xf(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Nb(e){var c;const{sourceNode:t,targetNode:n}=e;if(!Xf(t)||!Xf(n))return null;const r=t.internals.handleBounds||Gf(t.handles),o=n.internals.handleBounds||Gf(n.handles),i=Kf((r==null?void 0:r.source)??[],e.sourceHandle),s=Kf(e.connectionMode===Rr.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!s)return(c=e.onError)==null||c.call(e,"008",jt.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(i==null?void 0:i.position)||Y.Bottom,a=(s==null?void 0:s.position)||Y.Top,u=Yn(t,i,l),f=Yn(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:a}}function Gf(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Yn(e,t,n=Y.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:l}=t??Qt(e);if(r)return{x:o+s/2,y:i+l/2};switch((t==null?void 0:t.position)??n){case Y.Top:return{x:o+s/2,y:i};case Y.Right:return{x:o+s,y:i+l/2};case Y.Bottom:return{x:o+s/2,y:i+l};case Y.Left:return{x:o,y:i+l/2}}}function Kf(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Eu(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function Cb(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((s,l)=>([l.markerStart||r,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Eu(a,t);i.has(u)||(s.push({id:u,color:a.color||n,...a}),i.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const c0=1e3,Mb=10,Wc={nodeOrigin:[0,0],nodeExtent:Jo,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},Pb={...Wc,checkEquality:!0};function Uc(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function jb(e,t,n){const r=Uc(Wc,n);for(const o of e.values())if(o.parentId)Xc(o,e,t,r);else{const i=pi(o,r.nodeOrigin),s=zr(o.extent)?o.extent:r.nodeExtent,l=Un(i,s,Qt(o));o.internals.positionAbsolute=l}}function Ib(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const o of e.handles){const i={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(i):o.type==="target"&&r.push(i)}return{source:n,target:r}}function Yc(e){return e==="manual"}function bu(e,t,n,r={}){var u,f;const o=Uc(Pb,r),i={i:0},s=new Map(t),l=o!=null&&o.elevateNodesOnSelect&&!Yc(o.zIndexMode)?c0:0;let a=e.length>0;t.clear(),n.clear();for(const c of e){let d=s.get(c.id);if(o.checkEquality&&c===(d==null?void 0:d.internals.userNode))t.set(c.id,d);else{const g=pi(c,o.nodeOrigin),y=zr(c.extent)?c.extent:o.nodeExtent,x=Un(g,y,Qt(c));d={...o.defaults,...c,measured:{width:(u=c.measured)==null?void 0:u.width,height:(f=c.measured)==null?void 0:f.height},internals:{positionAbsolute:x,handleBounds:Ib(c,d),z:d0(c,l,o.zIndexMode),userNode:c}},t.set(c.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(a=!1),c.parentId&&Xc(d,t,n,r,i)}return a}function Rb(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Xc(e,t,n,r,o){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:l,zIndexMode:a}=Uc(Wc,r),u=e.parentId,f=t.get(u);if(!f){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Rb(e,n),o&&!f.parentId&&f.internals.rootParentIndex===void 0&&a==="auto"&&(f.internals.rootParentIndex=++o.i,f.internals.z=f.internals.z+o.i*Mb),o&&f.internals.rootParentIndex!==void 0&&(o.i=f.internals.rootParentIndex);const c=i&&!Yc(a)?c0:0,{x:d,y:g,z:y}=Tb(e,f,s,l,c,a),{positionAbsolute:x}=e.internals,w=d!==x.x||g!==x.y;(w||y!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:w?{x:d,y:g}:x,z:y}})}function d0(e,t,n){const r=pt(e.zIndex)?e.zIndex:0;return Yc(n)?r:r+(e.selected?t:0)}function Tb(e,t,n,r,o,i){const{x:s,y:l}=t.internals.positionAbsolute,a=Qt(e),u=pi(e,n),f=zr(e.extent)?Un(u,e.extent,a):u;let c=Un({x:s+f.x,y:l+f.y},r,a);e.extent==="parent"&&(c=Zg(c,a,t));const d=d0(e,o,i),g=t.internals.z??0;return{x:c.x,y:c.y,z:g>=d?g+1:d}}function Gc(e,t,n,r=[0,0]){var s;const o=[],i=new Map;for(const l of e){const a=t.get(l.parentId);if(!a)continue;const u=((s=i.get(l.parentId))==null?void 0:s.expandedRect)??Lr(a),f=e0(u,l.rect);i.set(l.parentId,{expandedRect:f,parent:a})}return i.size>0&&i.forEach(({expandedRect:l,parent:a},u)=>{var h;const f=a.internals.positionAbsolute,c=Qt(a),d=a.origin??r,g=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,y=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,x=Math.max(c.width,Math.round(l.width)),w=Math.max(c.height,Math.round(l.height)),p=(x-c.width)*d[0],m=(w-c.height)*d[1];(g>0||y>0||p||m)&&(o.push({id:u,type:"position",position:{x:a.position.x-g+p,y:a.position.y-y+m}}),(h=n.get(u))==null||h.forEach(S=>{e.some(E=>E.id===S.id)||o.push({id:S.id,type:"position",position:{x:S.position.x+g,y:S.position.y+y}})})),(c.width<l.width||c.height<l.height||g||y)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:x+(g?d[0]*g-p:0),height:w+(y?d[1]*y-m:0)}})}),o}function Lb(e,t,n,r,o,i,s){const l=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!l)return{changes:[],updatedInternals:a};const u=[],f=window.getComputedStyle(l),{m22:c}=new window.DOMMatrixReadOnly(f.transform),d=[];for(const g of e.values()){const y=t.get(g.id);if(!y)continue;if(y.hidden){t.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),a=!0;continue}const x=Bc(g.nodeElement),w=y.measured.width!==x.width||y.measured.height!==x.height;if(!!(x.width&&x.height&&(w||!y.internals.handleBounds||g.force))){const m=g.nodeElement.getBoundingClientRect(),h=zr(y.extent)?y.extent:i;let{positionAbsolute:S}=y.internals;y.parentId&&y.extent==="parent"?S=Zg(S,x,t.get(y.parentId)):h&&(S=Un(S,h,x));const E={...y,measured:x,internals:{...y.internals,positionAbsolute:S,handleBounds:{source:Vf("source",g.nodeElement,m,c,y.id),target:Vf("target",g.nodeElement,m,c,y.id)}}};t.set(y.id,E),y.parentId&&Xc(E,t,n,{nodeOrigin:o,zIndexMode:s}),a=!0,w&&(u.push({id:y.id,type:"dimensions",dimensions:x}),y.expandParent&&y.parentId&&d.push({id:y.id,parentId:y.parentId,rect:Lr(E,o)}))}}if(d.length>0){const g=Gc(d,t,n,o);u.push(...g)}return{changes:u,updatedInternals:a}}async function zb({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function Qf(e,t,n,r,o,i){let s=o;const l=r.get(s)||new Map;r.set(s,l.set(n,t)),s=`${o}-${e}`;const a=r.get(s)||new Map;if(r.set(s,a.set(n,t)),i){s=`${o}-${e}-${i}`;const u=r.get(s)||new Map;r.set(s,u.set(n,t))}}function f0(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:s=null,targetHandle:l=null}=r,a={edgeId:r.id,source:o,target:i,sourceHandle:s,targetHandle:l},u=`${o}-${s}--${i}-${l}`,f=`${i}-${l}--${o}-${s}`;Qf("source",a,f,e,o,s),Qf("target",a,u,e,i,l),t.set(r.id,r)}}function h0(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:h0(n,t):!1}function qf(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function $b(e,t,n,r){const o=new Map;for(const[i,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!h0(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const l=e.get(i);l&&o.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function ca({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,l,a;const o=[];for(const[u,f]of t){const c=(s=n.get(u))==null?void 0:s.internals.userNode;c&&o.push({...c,position:f.position,dragging:r})}if(!e)return[o[0],o];const i=(l=n.get(e))==null?void 0:l.internals.userNode;return[i?{...i,position:((a=t.get(e))==null?void 0:a.position)||i.position,dragging:r}:o[0],o]}function Ab({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const i={x:n-o.distance.x,y:r-o.distance.y},s=gi(i,t);return{x:s.x-i.x,y:s.y-i.y}}function Db({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},f=null,c=!1,d=null,g=!1,y=!1,x=null;function w({noDragClassName:m,handleSelector:h,domNode:S,isSelectable:E,nodeId:b,nodeClickDistance:N=0}){d=Ge(S);function P({x:R,y:F}){const{nodeLookup:_,nodeExtent:I,snapGrid:j,snapToGrid:$,nodeOrigin:C,onNodeDrag:M,onSelectionDrag:z,onError:D,updateNodePositions:O}=t();i={x:R,y:F};let W=!1;const V=l.size>1,X=V&&I?ku(mi(l)):null,G=V&&$?Ab({dragItems:l,snapGrid:j,x:R,y:F}):null;for(const[K,B]of l){if(!_.has(K))continue;let Q={x:R-B.distance.x,y:F-B.distance.y};$&&(Q=G?{x:Math.round(Q.x+G.x),y:Math.round(Q.y+G.y)}:gi(Q,j));let te=null;if(V&&I&&!B.extent&&X){const{positionAbsolute:q}=B.internals,le=q.x-X.x+I[0][0],ce=q.x+B.measured.width-X.x2+I[1][0],se=q.y-X.y+I[0][1],Re=q.y+B.measured.height-X.y2+I[1][1];te=[[le,se],[ce,Re]]}const{position:J,positionAbsolute:Z}=qg({nodeId:K,nextPosition:Q,nodeLookup:_,nodeExtent:te||I,nodeOrigin:C,onError:D});W=W||B.position.x!==J.x||B.position.y!==J.y,B.position=J,B.internals.positionAbsolute=Z}if(y=y||W,!!W&&(O(l,!0),x&&(r||M||!b&&z))){const[K,B]=ca({nodeId:b,dragItems:l,nodeLookup:_});r==null||r(x,l,K,B),M==null||M(x,K,B),b||z==null||z(x,B)}}async function T(){if(!f)return;const{transform:R,panBy:F,autoPanSpeed:_,autoPanOnNodeDrag:I}=t();if(!I){a=!1,cancelAnimationFrame(s);return}const[j,$]=Jg(u,f,_);(j!==0||$!==0)&&(i.x=(i.x??0)-j/R[2],i.y=(i.y??0)-$/R[2],await F({x:j,y:$})&&P(i)),s=requestAnimationFrame(T)}function A(R){var V;const{nodeLookup:F,multiSelectionActive:_,nodesDraggable:I,transform:j,snapGrid:$,snapToGrid:C,selectNodesOnDrag:M,onNodeDragStart:z,onSelectionDragStart:D,unselectNodesAndEdges:O}=t();c=!0,(!M||!E)&&!_&&b&&((V=F.get(b))!=null&&V.selected||O()),E&&M&&b&&(e==null||e(b));const W=Po(R.sourceEvent,{transform:j,snapGrid:$,snapToGrid:C,containerBounds:f});if(i=W,l=$b(F,I,W,b),l.size>0&&(n||z||!b&&D)){const[X,G]=ca({nodeId:b,dragItems:l,nodeLookup:F});n==null||n(R.sourceEvent,l,X,G),z==null||z(R.sourceEvent,X,G),b||D==null||D(R.sourceEvent,G)}}const L=jg().clickDistance(N).on("start",R=>{const{domNode:F,nodeDragThreshold:_,transform:I,snapGrid:j,snapToGrid:$}=t();f=(F==null?void 0:F.getBoundingClientRect())||null,g=!1,y=!1,x=R.sourceEvent,_===0&&A(R),i=Po(R.sourceEvent,{transform:I,snapGrid:j,snapToGrid:$,containerBounds:f}),u=mt(R.sourceEvent,f)}).on("drag",R=>{const{autoPanOnNodeDrag:F,transform:_,snapGrid:I,snapToGrid:j,nodeDragThreshold:$,nodeLookup:C}=t(),M=Po(R.sourceEvent,{transform:_,snapGrid:I,snapToGrid:j,containerBounds:f});if(x=R.sourceEvent,(R.sourceEvent.type==="touchmove"&&R.sourceEvent.touches.length>1||b&&!C.has(b))&&(g=!0),!g){if(!a&&F&&c&&(a=!0,T()),!c){const z=mt(R.sourceEvent,f),D=z.x-u.x,O=z.y-u.y;Math.sqrt(D*D+O*O)>$&&A(R)}(i.x!==M.xSnapped||i.y!==M.ySnapped)&&l&&c&&(u=mt(R.sourceEvent,f),P(M))}}).on("end",R=>{if(!(!c||g)&&(a=!1,c=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:F,updateNodePositions:_,onNodeDragStop:I,onSelectionDragStop:j}=t();if(y&&(_(l,!1),y=!1),o||I||!b&&j){const[$,C]=ca({nodeId:b,dragItems:l,nodeLookup:F,dragging:!1});o==null||o(R.sourceEvent,l,$,C),I==null||I(R.sourceEvent,$,C),b||j==null||j(R.sourceEvent,C)}}}).filter(R=>{const F=R.target;return!R.button&&(!m||!qf(F,`.${m}`,S))&&(!h||qf(F,h,S))});d.call(L)}function p(){d==null||d.on(".drag",null)}return{update:w,destroy:p}}function Ob(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())ti(o,Lr(i))>0&&r.push(i);return r}const Fb=250;function Hb(e,t,n,r){var l,a;let o=[],i=1/0;const s=Ob(e,n,t+Fb);for(const u of s){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const c of f){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:d,y:g}=Yn(u,c,c.position,!0),y=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(g-e.y,2));y>t||(y<i?(o=[{...c,x:d,y:g}],i=y):y===i&&o.push({...c,x:d,y:g}))}}if(!o.length)return null;if(o.length>1){const u=r.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function p0(e,t,n,r,o,i=!1){var u,f,c;const s=r.get(e);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((c=s.internals.handleBounds)==null?void 0:c.target)??[]],a=(n?l==null?void 0:l.find(d=>d.id===n):l==null?void 0:l[0])??null;return a&&i?{...a,...Yn(s,a,a.position,!0)}:a}function m0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Bb(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const g0=()=>!0;function Vb(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:c,panBy:d,cancelConnection:g,onConnectStart:y,onConnect:x,onConnectEnd:w,isValidConnection:p=g0,onReconnectEnd:m,updateConnection:h,getTransform:S,getFromHandle:E,autoPanSpeed:b,dragThreshold:N=1,handleDomNode:P}){const T=r0(e.target);let A=0,L;const{x:R,y:F}=mt(e),_=m0(i,P),I=l==null?void 0:l.getBoundingClientRect();let j=!1;if(!I||!_)return;const $=p0(o,_,r,a,t);if(!$)return;let C=mt(e,I),M=!1,z=null,D=!1,O=null;function W(){if(!f||!I)return;const[J,Z]=Jg(C,I,b);d({x:J,y:Z}),A=requestAnimationFrame(W)}const V={...$,nodeId:o,type:_,position:$.position},X=a.get(o);let K={inProgress:!0,isValid:null,from:Yn(X,V,Y.Left,!0),fromHandle:V,fromPosition:V.position,fromNode:X,to:C,toHandle:null,toPosition:Of[V.position],toNode:null,pointer:C};function B(){j=!0,h(K),y==null||y(e,{nodeId:o,handleId:r,handleType:_})}N===0&&B();function Q(J){if(!j){const{x:Re,y:qt}=mt(J),Rt=Re-R,bn=qt-F;if(!(Rt*Rt+bn*bn>N*N))return;B()}if(!E()||!V){te(J);return}const Z=S();C=mt(J,I),L=Hb(yi(C,Z,!1,[1,1]),n,a,V),M||(W(),M=!0);const q=y0(J,{handle:L,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:s?"target":"source",isValidConnection:p,doc:T,lib:u,flowId:c,nodeLookup:a});O=q.handleDomNode,z=q.connection,D=Bb(!!L,q.isValid);const le=a.get(o),ce=le?Yn(le,V,Y.Left,!0):K.from,se={...K,from:ce,isValid:D,to:q.toHandle&&D?Gs({x:q.toHandle.x,y:q.toHandle.y},Z):C,toHandle:q.toHandle,toPosition:D&&q.toHandle?q.toHandle.position:Of[V.position],toNode:q.toHandle?a.get(q.toHandle.nodeId):null,pointer:C};h(se),K=se}function te(J){if(!("touches"in J&&J.touches.length>0)){if(j){(L||O)&&z&&D&&(x==null||x(z));const{inProgress:Z,...q}=K,le={...q,toPosition:K.toHandle?K.toPosition:null};w==null||w(J,le),i&&(m==null||m(J,le))}g(),cancelAnimationFrame(A),M=!1,D=!1,z=null,O=null,T.removeEventListener("mousemove",Q),T.removeEventListener("mouseup",te),T.removeEventListener("touchmove",Q),T.removeEventListener("touchend",te)}}T.addEventListener("mousemove",Q),T.addEventListener("mouseup",te),T.addEventListener("touchmove",Q),T.addEventListener("touchend",te)}function y0(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:s,lib:l,flowId:a,isValidConnection:u=g0,nodeLookup:f}){const c=i==="target",d=t?s.querySelector(`.${l}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y}=mt(e),x=s.elementFromPoint(g,y),w=x!=null&&x.classList.contains(`${l}-flow__handle`)?x:d,p={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const m=m0(void 0,w),h=w.getAttribute("data-nodeid"),S=w.getAttribute("data-handleid"),E=w.classList.contains("connectable"),b=w.classList.contains("connectableend");if(!h||!m)return p;const N={source:c?h:r,sourceHandle:c?S:o,target:c?r:h,targetHandle:c?o:S};p.connection=N;const T=E&&b&&(n===Rr.Strict?c&&m==="source"||!c&&m==="target":h!==r||S!==o);p.isValid=T&&u(N),p.toHandle=p0(h,m,S,f,n,!0)}return p}const Nu={onPointerDown:Vb,isValid:y0};function Wb({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=Ge(e);function i({translateExtent:l,width:a,height:u,zoomStep:f=1,pannable:c=!0,zoomable:d=!0,inversePan:g=!1}){const y=h=>{if(h.sourceEvent.type!=="wheel"||!t)return;const S=n(),E=h.sourceEvent.ctrlKey&&ni()?10:1,b=-h.sourceEvent.deltaY*(h.sourceEvent.deltaMode===1?.05:h.sourceEvent.deltaMode?1:.002)*f,N=S[2]*Math.pow(2,b*E);t.scaleTo(N)};let x=[0,0];const w=h=>{(h.sourceEvent.type==="mousedown"||h.sourceEvent.type==="touchstart")&&(x=[h.sourceEvent.clientX??h.sourceEvent.touches[0].clientX,h.sourceEvent.clientY??h.sourceEvent.touches[0].clientY])},p=h=>{const S=n();if(h.sourceEvent.type!=="mousemove"&&h.sourceEvent.type!=="touchmove"||!t)return;const E=[h.sourceEvent.clientX??h.sourceEvent.touches[0].clientX,h.sourceEvent.clientY??h.sourceEvent.touches[0].clientY],b=[E[0]-x[0],E[1]-x[1]];x=E;const N=r()*Math.max(S[2],Math.log(S[2]))*(g?-1:1),P={x:S[0]-b[0]*N,y:S[1]-b[1]*N},T=[[0,0],[a,u]];t.setViewportConstrained({x:P.x,y:P.y,zoom:S[2]},T,l)},m=Ug().on("start",w).on("zoom",c?p:null).on("zoom.wheel",d?y:null);o.call(m,{})}function s(){o.on("zoom",null)}return{update:i,destroy:s,pointer:dt}}const Sl=e=>({x:e.x,y:e.y,zoom:e.k}),da=({x:e,y:t,zoom:n})=>vl.translate(e,t).scale(n),fr=(e,t)=>e.target.closest(`.${t}`),v0=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Ub=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,fa=(e,t=0,n=Ub,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},x0=e=>{const t=e.ctrlKey&&ni()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Yb({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(fr(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const c=n.property("__zoom").k||1;if(f.ctrlKey&&s){const w=dt(f),p=x0(f),m=c*Math.pow(2,p);r.scaleTo(n,m,w,f);return}const d=f.deltaMode===1?20:1;let g=o===$n.Vertical?0:f.deltaX*d,y=o===$n.Horizontal?0:f.deltaY*d;!ni()&&f.shiftKey&&o!==$n.Vertical&&(g=f.deltaY*d,y=0),r.translateBy(n,-(g/c)*i,-(y/c)*i,{internal:!0});const x=Sl(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(a==null||a(f,x),e.panScrollTimeout=setTimeout(()=>{u==null||u(f,x),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(f,x))}}function Xb({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",s=!t&&i&&!r.ctrlKey,l=fr(r,e);if(r.ctrlKey&&i&&l&&r.preventDefault(),s||l)return null;r.preventDefault(),n.call(this,r,o)}}function Gb({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,s,l;if((i=r.sourceEvent)!=null&&i.internal)return;const o=Sl(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function Kb({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var s,l;e.usedRightMouseButton=!!(n&&v0(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((l=i.sourceEvent)!=null&&l.internal)&&(o==null||o(i.sourceEvent,Sl(i.transform)))}}function Qb({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,i&&v0(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const a=Sl(s.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function qb({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u,connectionInProgress:f}){return c=>{var w;const d=e||t,g=n&&c.ctrlKey,y=c.type==="wheel";if(c.button===1&&c.type==="mousedown"&&(fr(c,`${u}-flow__node`)||fr(c,`${u}-flow__edge`)))return!0;if(!r&&!d&&!o&&!i&&!n||s||f&&!y||fr(c,l)&&y||fr(c,a)&&(!y||o&&y&&!e)||!n&&c.ctrlKey&&y)return!1;if(!n&&c.type==="touchstart"&&((w=c.touches)==null?void 0:w.length)>1)return c.preventDefault(),!1;if(!d&&!o&&!g&&y||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||y)&&x}}function Zb({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:o,onPanZoom:i,onPanZoomStart:s,onPanZoomEnd:l,onDraggingChange:a}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),c=Ug().scaleExtent([t,n]).translateExtent(r),d=Ge(e).call(c);m({x:o.x,y:o.y,zoom:Tr(o.zoom,t,n)},[[0,0],[f.width,f.height]],r);const g=d.on("wheel.zoom"),y=d.on("dblclick.zoom");c.wheelDelta(x0);function x(L,R){return d?new Promise(F=>{c==null||c.interpolate((R==null?void 0:R.interpolate)==="linear"?Mo:us).transform(fa(d,R==null?void 0:R.duration,R==null?void 0:R.ease,()=>F(!0)),L)}):Promise.resolve(!1)}function w({noWheelClassName:L,noPanClassName:R,onPaneContextMenu:F,userSelectionActive:_,panOnScroll:I,panOnDrag:j,panOnScrollMode:$,panOnScrollSpeed:C,preventScrolling:M,zoomOnPinch:z,zoomOnScroll:D,zoomOnDoubleClick:O,zoomActivationKeyPressed:W,lib:V,onTransformChange:X,connectionInProgress:G,paneClickDistance:K,selectionOnDrag:B}){_&&!u.isZoomingOrPanning&&p();const Q=I&&!W&&!_;c.clickDistance(B?1/0:!pt(K)||K<0?0:K);const te=Q?Yb({zoomPanValues:u,noWheelClassName:L,d3Selection:d,d3Zoom:c,panOnScrollMode:$,panOnScrollSpeed:C,zoomOnPinch:z,onPanZoomStart:s,onPanZoom:i,onPanZoomEnd:l}):Xb({noWheelClassName:L,preventScrolling:M,d3ZoomHandler:g});if(d.on("wheel.zoom",te,{passive:!1}),!_){const Z=Gb({zoomPanValues:u,onDraggingChange:a,onPanZoomStart:s});c.on("start",Z);const q=Kb({zoomPanValues:u,panOnDrag:j,onPaneContextMenu:!!F,onPanZoom:i,onTransformChange:X});c.on("zoom",q);const le=Qb({zoomPanValues:u,panOnDrag:j,panOnScroll:I,onPaneContextMenu:F,onPanZoomEnd:l,onDraggingChange:a});c.on("end",le)}const J=qb({zoomActivationKeyPressed:W,panOnDrag:j,zoomOnScroll:D,panOnScroll:I,zoomOnDoubleClick:O,zoomOnPinch:z,userSelectionActive:_,noPanClassName:R,noWheelClassName:L,lib:V,connectionInProgress:G});c.filter(J),O?d.on("dblclick.zoom",y):d.on("dblclick.zoom",null)}function p(){c.on("zoom",null)}async function m(L,R,F){const _=da(L),I=c==null?void 0:c.constrain()(_,R,F);return I&&await x(I),new Promise(j=>j(I))}async function h(L,R){const F=da(L);return await x(F,R),new Promise(_=>_(F))}function S(L){if(d){const R=da(L),F=d.property("__zoom");(F.k!==L.zoom||F.x!==L.x||F.y!==L.y)&&(c==null||c.transform(d,R,null,{sync:!0}))}}function E(){const L=d?Wg(d.node()):{x:0,y:0,k:1};return{x:L.x,y:L.y,zoom:L.k}}function b(L,R){return d?new Promise(F=>{c==null||c.interpolate((R==null?void 0:R.interpolate)==="linear"?Mo:us).scaleTo(fa(d,R==null?void 0:R.duration,R==null?void 0:R.ease,()=>F(!0)),L)}):Promise.resolve(!1)}function N(L,R){return d?new Promise(F=>{c==null||c.interpolate((R==null?void 0:R.interpolate)==="linear"?Mo:us).scaleBy(fa(d,R==null?void 0:R.duration,R==null?void 0:R.ease,()=>F(!0)),L)}):Promise.resolve(!1)}function P(L){c==null||c.scaleExtent(L)}function T(L){c==null||c.translateExtent(L)}function A(L){const R=!pt(L)||L<0?0:L;c==null||c.clickDistance(R)}return{update:w,destroy:p,setViewport:h,setViewportConstrained:m,getViewport:E,scaleTo:b,scaleBy:N,setScaleExtent:P,setTranslateExtent:T,syncViewport:S,setClickDistance:A}}var $r;(function(e){e.Line="line",e.Handle="handle"})($r||($r={}));function Jb({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const s=e-t,l=n-r,a=[s>0?1:s<0?-1:0,l>0?1:l<0?-1:0];return s&&o&&(a[0]=a[0]*-1),l&&i&&(a[1]=a[1]*-1),a}function Zf(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function Jt(e,t){return Math.max(0,t-e)}function en(e,t){return Math.max(0,e-t)}function Ui(e,t,n){return Math.max(0,t-e,e-n)}function Jf(e,t){return e?!t:t}function e2(e,t,n,r,o,i,s,l){let{affectsX:a,affectsY:u}=t;const{isHorizontal:f,isVertical:c}=t,d=f&&c,{xSnapped:g,ySnapped:y}=n,{minWidth:x,maxWidth:w,minHeight:p,maxHeight:m}=r,{x:h,y:S,width:E,height:b,aspectRatio:N}=e;let P=Math.floor(f?g-e.pointerX:0),T=Math.floor(c?y-e.pointerY:0);const A=E+(a?-P:P),L=b+(u?-T:T),R=-i[0]*E,F=-i[1]*b;let _=Ui(A,x,w),I=Ui(L,p,m);if(s){let C=0,M=0;a&&P<0?C=Jt(h+P+R,s[0][0]):!a&&P>0&&(C=en(h+A+R,s[1][0])),u&&T<0?M=Jt(S+T+F,s[0][1]):!u&&T>0&&(M=en(S+L+F,s[1][1])),_=Math.max(_,C),I=Math.max(I,M)}if(l){let C=0,M=0;a&&P>0?C=en(h+P,l[0][0]):!a&&P<0&&(C=Jt(h+A,l[1][0])),u&&T>0?M=en(S+T,l[0][1]):!u&&T<0&&(M=Jt(S+L,l[1][1])),_=Math.max(_,C),I=Math.max(I,M)}if(o){if(f){const C=Ui(A/N,p,m)*N;if(_=Math.max(_,C),s){let M=0;!a&&!u||a&&!u&&d?M=en(S+F+A/N,s[1][1])*N:M=Jt(S+F+(a?P:-P)/N,s[0][1])*N,_=Math.max(_,M)}if(l){let M=0;!a&&!u||a&&!u&&d?M=Jt(S+A/N,l[1][1])*N:M=en(S+(a?P:-P)/N,l[0][1])*N,_=Math.max(_,M)}}if(c){const C=Ui(L*N,x,w)/N;if(I=Math.max(I,C),s){let M=0;!a&&!u||u&&!a&&d?M=en(h+L*N+R,s[1][0])/N:M=Jt(h+(u?T:-T)*N+R,s[0][0])/N,I=Math.max(I,M)}if(l){let M=0;!a&&!u||u&&!a&&d?M=Jt(h+L*N,l[1][0])/N:M=en(h+(u?T:-T)*N,l[0][0])/N,I=Math.max(I,M)}}}T=T+(T<0?I:-I),P=P+(P<0?_:-_),o&&(d?A>L*N?T=(Jf(a,u)?-P:P)/N:P=(Jf(a,u)?-T:T)*N:f?(T=P/N,u=a):(P=T*N,a=u));const j=a?h+P:h,$=u?S+T:S;return{width:E+(a?-P:P),height:b+(u?-T:T),x:i[0]*P*(a?-1:1)+j,y:i[1]*T*(u?-1:1)+$}}const w0={width:0,height:0,x:0,y:0},t2={...w0,pointerX:0,pointerY:0,aspectRatio:1};function n2(e){return[[0,0],[e.measured.width,e.measured.height]]}function r2(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,l=n[0]*i,a=n[1]*s;return[[r-l,o-a],[r+i-l,o+s-a]]}function o2({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=Ge(e);let s={controlDirection:Zf("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:u,boundaries:f,keepAspectRatio:c,resizeDirection:d,onResizeStart:g,onResize:y,onResizeEnd:x,shouldResize:w}){let p={...w0},m={...t2};s={boundaries:f,resizeDirection:d,keepAspectRatio:c,controlDirection:Zf(u)};let h,S=null,E=[],b,N,P,T=!1;const A=jg().on("start",L=>{const{nodeLookup:R,transform:F,snapGrid:_,snapToGrid:I,nodeOrigin:j,paneDomNode:$}=n();if(h=R.get(t),!h)return;S=($==null?void 0:$.getBoundingClientRect())??null;const{xSnapped:C,ySnapped:M}=Po(L.sourceEvent,{transform:F,snapGrid:_,snapToGrid:I,containerBounds:S});p={width:h.measured.width??0,height:h.measured.height??0,x:h.position.x??0,y:h.position.y??0},m={...p,pointerX:C,pointerY:M,aspectRatio:p.width/p.height},b=void 0,h.parentId&&(h.extent==="parent"||h.expandParent)&&(b=R.get(h.parentId),N=b&&h.extent==="parent"?n2(b):void 0),E=[],P=void 0;for(const[z,D]of R)if(D.parentId===t&&(E.push({id:z,position:{...D.position},extent:D.extent}),D.extent==="parent"||D.expandParent)){const O=r2(D,h,D.origin??j);P?P=[[Math.min(O[0][0],P[0][0]),Math.min(O[0][1],P[0][1])],[Math.max(O[1][0],P[1][0]),Math.max(O[1][1],P[1][1])]]:P=O}g==null||g(L,{...p})}).on("drag",L=>{const{transform:R,snapGrid:F,snapToGrid:_,nodeOrigin:I}=n(),j=Po(L.sourceEvent,{transform:R,snapGrid:F,snapToGrid:_,containerBounds:S}),$=[];if(!h)return;const{x:C,y:M,width:z,height:D}=p,O={},W=h.origin??I,{width:V,height:X,x:G,y:K}=e2(m,s.controlDirection,j,s.boundaries,s.keepAspectRatio,W,N,P),B=V!==z,Q=X!==D,te=G!==C&&B,J=K!==M&&Q;if(!te&&!J&&!B&&!Q)return;if((te||J||W[0]===1||W[1]===1)&&(O.x=te?G:p.x,O.y=J?K:p.y,p.x=O.x,p.y=O.y,E.length>0)){const ce=G-C,se=K-M;for(const Re of E)Re.position={x:Re.position.x-ce+W[0]*(V-z),y:Re.position.y-se+W[1]*(X-D)},$.push(Re)}if((B||Q)&&(O.width=B&&(!s.resizeDirection||s.resizeDirection==="horizontal")?V:p.width,O.height=Q&&(!s.resizeDirection||s.resizeDirection==="vertical")?X:p.height,p.width=O.width,p.height=O.height),b&&h.expandParent){const ce=W[0]*(O.width??0);O.x&&O.x<ce&&(p.x=ce,m.x=m.x-(O.x-ce));const se=W[1]*(O.height??0);O.y&&O.y<se&&(p.y=se,m.y=m.y-(O.y-se))}const Z=Jb({width:p.width,prevWidth:z,height:p.height,prevHeight:D,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),q={...p,direction:Z};(w==null?void 0:w(L,q))!==!1&&(T=!0,y==null||y(L,q),r(O,$))}).on("end",L=>{T&&(x==null||x(L,{...p}),o==null||o({...p}),T=!1)});i.call(A)}function a(){i.on(".drag",null)}return{update:l,destroy:a}}var S0={exports:{}},k0={},_0={exports:{}},E0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ar=k;function i2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var s2=typeof Object.is=="function"?Object.is:i2,l2=Ar.useState,a2=Ar.useEffect,u2=Ar.useLayoutEffect,c2=Ar.useDebugValue;function d2(e,t){var n=t(),r=l2({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return u2(function(){o.value=n,o.getSnapshot=t,ha(o)&&i({inst:o})},[e,n,t]),a2(function(){return ha(o)&&i({inst:o}),e(function(){ha(o)&&i({inst:o})})},[e]),c2(n),n}function ha(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!s2(e,n)}catch{return!0}}function f2(e,t){return t()}var h2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f2:d2;E0.useSyncExternalStore=Ar.useSyncExternalStore!==void 0?Ar.useSyncExternalStore:h2;_0.exports=E0;var p2=_0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=k,m2=p2;function g2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var y2=typeof Object.is=="function"?Object.is:g2,v2=m2.useSyncExternalStore,x2=kl.useRef,w2=kl.useEffect,S2=kl.useMemo,k2=kl.useDebugValue;k0.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=x2(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=S2(function(){function a(g){if(!u){if(u=!0,f=g,g=r(g),o!==void 0&&s.hasValue){var y=s.value;if(o(y,g))return c=y}return c=g}if(y=c,y2(f,g))return y;var x=r(g);return o!==void 0&&o(y,x)?(f=g,y):(f=g,c=x)}var u=!1,f,c,d=n===void 0?null:n;return[function(){return a(t())},d===null?void 0:function(){return a(d())}]},[t,n,r,o]);var l=v2(e,i[0],i[1]);return w2(function(){s.hasValue=!0,s.value=l},[l]),k2(l),l};S0.exports=k0;var _2=S0.exports;const E2=Rh(_2),b2={},eh=e=>{let t;const n=new Set,r=(f,c)=>{const d=typeof f=="function"?f(t):f;if(!Object.is(d,t)){const g=t;t=c??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(y=>y(t,g))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(b2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,a);return a},N2=e=>e?eh(e):eh,{useDebugValue:C2}=uo,{useSyncExternalStoreWithSelector:M2}=E2,P2=e=>e;function b0(e,t=P2,n){const r=M2(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return C2(r),r}const th=(e,t)=>{const n=N2(e),r=(o,i=t)=>b0(n,o,i);return Object.assign(r,n),r},j2=(e,t)=>e?th(e,t):th;function ge(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const _l=k.createContext(null),I2=_l.Provider,N0=jt.error001();function oe(e,t){const n=k.useContext(_l);if(n===null)throw new Error(N0);return b0(n,e,t)}function ye(){const e=k.useContext(_l);if(e===null)throw new Error(N0);return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const nh={display:"none"},R2={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},C0="react-flow__node-desc",M0="react-flow__edge-desc",T2="react-flow__aria-live",L2=e=>e.ariaLiveMessage,z2=e=>e.ariaLabelConfig;function $2({rfId:e}){const t=oe(L2);return v.jsx("div",{id:`${T2}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:R2,children:t})}function A2({rfId:e,disableKeyboardA11y:t}){const n=oe(z2);return v.jsxs(v.Fragment,{children:[v.jsx("div",{id:`${C0}-${e}`,style:nh,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),v.jsx("div",{id:`${M0}-${e}`,style:nh,children:n["edge.a11yDescription.default"]}),!t&&v.jsx($2,{rfId:e})]})}const El=k.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const s=`${e}`.split("-");return v.jsx("div",{className:Ee(["react-flow__panel",n,...s]),style:r,ref:i,...o,children:t})});El.displayName="Panel";function D2({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:v.jsx(El,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:v.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const O2=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Yi=e=>e.id;function F2(e,t){return ge(e.selectedNodes.map(Yi),t.selectedNodes.map(Yi))&&ge(e.selectedEdges.map(Yi),t.selectedEdges.map(Yi))}function H2({onSelectionChange:e}){const t=ye(),{selectedNodes:n,selectedEdges:r}=oe(O2,F2);return k.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const B2=e=>!!e.onSelectionChangeHandlers;function V2({onSelectionChange:e}){const t=oe(B2);return e||t?v.jsx(H2,{onSelectionChange:e}):null}const P0=[0,0],W2={x:0,y:0,zoom:1},U2=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],rh=[...U2,"rfId"],Y2=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),oh={translateExtent:Jo,nodeOrigin:P0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function X2(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:a}=oe(Y2,ge),u=ye();k.useEffect(()=>(a(e.defaultNodes,e.defaultEdges),()=>{f.current=oh,l()}),[]);const f=k.useRef(oh);return k.useEffect(()=>{for(const c of rh){const d=e[c],g=f.current[c];d!==g&&(typeof e[c]>"u"||(c==="nodes"?t(d):c==="edges"?n(d):c==="minZoom"?r(d):c==="maxZoom"?o(d):c==="translateExtent"?i(d):c==="nodeExtent"?s(d):c==="ariaLabelConfig"?u.setState({ariaLabelConfig:yb(d)}):c==="fitView"?u.setState({fitViewQueued:d}):c==="fitViewOptions"?u.setState({fitViewOptions:d}):u.setState({[c]:d})))}f.current=e},rh.map(c=>e[c])),null}function ih(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function G2(e){var r;const[t,n]=k.useState(e==="system"?null:e);return k.useEffect(()=>{if(e!=="system"){n(e);return}const o=ih(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=ih())!=null&&r.matches?"dark":"light"}const sh=typeof document<"u"?document:null;function ri(e=null,t={target:sh,actInsideInputWithModifier:!0}){const[n,r]=k.useState(!1),o=k.useRef(!1),i=k.useRef(new Set([])),[s,l]=k.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(c=>typeof c=="string").map(c=>c.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=u.reduce((c,d)=>c.concat(...d),[]);return[u,f]}return[[],[]]},[e]);return k.useEffect(()=>{const a=(t==null?void 0:t.target)??sh,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=g=>{var w,p;if(o.current=g.ctrlKey||g.metaKey||g.shiftKey||g.altKey,(!o.current||o.current&&!u)&&o0(g))return!1;const x=ah(g.code,l);if(i.current.add(g[x]),lh(s,i.current,!1)){const m=((p=(w=g.composedPath)==null?void 0:w.call(g))==null?void 0:p[0])||g.target,h=(m==null?void 0:m.nodeName)==="BUTTON"||(m==null?void 0:m.nodeName)==="A";t.preventDefault!==!1&&(o.current||!h)&&g.preventDefault(),r(!0)}},c=g=>{const y=ah(g.code,l);lh(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(g[y]),g.key==="Meta"&&i.current.clear(),o.current=!1},d=()=>{i.current.clear(),r(!1)};return a==null||a.addEventListener("keydown",f),a==null||a.addEventListener("keyup",c),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{a==null||a.removeEventListener("keydown",f),a==null||a.removeEventListener("keyup",c),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function lh(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function ah(e,t){return t.includes(e)?"code":"key"}const K2=()=>{const e=ye();return k.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:s,panZoom:l}=e.getState(),a=Hc(t,r,o,i,s,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(a,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:l,y:a}=s.getBoundingClientRect(),u={x:t.x-l,y:t.y-a},f=n.snapGrid??o,c=n.snapToGrid??i;return yi(u,r,c,f)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),s=Gs(t,n);return{x:s.x+o,y:s.y+i}}}),[])};function j0(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const s=r.get(i.id);s?s.push(i):r.set(i.id,[i])}for(const i of t){const s=r.get(i.id);if(!s){n.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const l={...i};for(const a of s)Q2(a,l);n.push(l)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function Q2(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function I0(e,t){return j0(e,t)}function R0(e,t){return j0(e,t)}function Mn(e,t){return{id:e,type:"select",selected:t}}function hr(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const s=t.has(o);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),r.push(Mn(i.id,s)))}return r}function uh({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const l=t.get(s.id),a=((o=l==null?void 0:l.internals)==null?void 0:o.userNode)??l;a!==void 0&&a!==s&&n.push({id:s.id,item:s,type:"replace"}),a===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function ch(e){return{id:e.id,type:"remove"}}const dh=e=>lb(e),q2=e=>Qg(e);function T0(e){return k.forwardRef(e)}const Z2=typeof window<"u"?k.useLayoutEffect:k.useEffect;function fh(e){const[t,n]=k.useState(BigInt(0)),[r]=k.useState(()=>J2(()=>n(o=>o+BigInt(1))));return Z2(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function J2(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const L0=k.createContext(null);function eN({children:e}){const t=ye(),n=k.useCallback(l=>{const{nodes:a=[],setNodes:u,hasDefaultNodes:f,onNodesChange:c,nodeLookup:d,fitViewQueued:g,onNodesChangeMiddlewareMap:y}=t.getState();let x=a;for(const p of l)x=typeof p=="function"?p(x):p;let w=uh({items:x,lookup:d});for(const p of y.values())w=p(w);f&&u(x),w.length>0?c==null||c(w):g&&window.requestAnimationFrame(()=>{const{fitViewQueued:p,nodes:m,setNodes:h}=t.getState();p&&h(m)})},[]),r=fh(n),o=k.useCallback(l=>{const{edges:a=[],setEdges:u,hasDefaultEdges:f,onEdgesChange:c,edgeLookup:d}=t.getState();let g=a;for(const y of l)g=typeof y=="function"?y(g):y;f?u(g):c&&c(uh({items:g,lookup:d}))},[]),i=fh(o),s=k.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return v.jsx(L0.Provider,{value:s,children:e})}function tN(){const e=k.useContext(L0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const nN=e=>!!e.panZoom;function bl(){const e=K2(),t=ye(),n=tN(),r=oe(nN),o=k.useMemo(()=>{const i=c=>t.getState().nodeLookup.get(c),s=c=>{n.nodeQueue.push(c)},l=c=>{n.edgeQueue.push(c)},a=c=>{var p,m;const{nodeLookup:d,nodeOrigin:g}=t.getState(),y=dh(c)?c:d.get(c.id),x=y.parentId?n0(y.position,y.measured,y.parentId,d,g):y.position,w={...y,position:x,width:((p=y.measured)==null?void 0:p.width)??y.width,height:((m=y.measured)==null?void 0:m.height)??y.height};return Lr(w)},u=(c,d,g={replace:!1})=>{s(y=>y.map(x=>{if(x.id===c){const w=typeof d=="function"?d(x):d;return g.replace&&dh(w)?w:{...x,...w}}return x}))},f=(c,d,g={replace:!1})=>{l(y=>y.map(x=>{if(x.id===c){const w=typeof d=="function"?d(x):d;return g.replace&&q2(w)?w:{...x,...w}}return x}))};return{getNodes:()=>t.getState().nodes.map(c=>({...c})),getNode:c=>{var d;return(d=i(c))==null?void 0:d.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:c=[]}=t.getState();return c.map(d=>({...d}))},getEdge:c=>t.getState().edgeLookup.get(c),setNodes:s,setEdges:l,addNodes:c=>{const d=Array.isArray(c)?c:[c];n.nodeQueue.push(g=>[...g,...d])},addEdges:c=>{const d=Array.isArray(c)?c:[c];n.edgeQueue.push(g=>[...g,...d])},toObject:()=>{const{nodes:c=[],edges:d=[],transform:g}=t.getState(),[y,x,w]=g;return{nodes:c.map(p=>({...p})),edges:d.map(p=>({...p})),viewport:{x:y,y:x,zoom:w}}},deleteElements:async({nodes:c=[],edges:d=[]})=>{const{nodes:g,edges:y,onNodesDelete:x,onEdgesDelete:w,triggerNodeChanges:p,triggerEdgeChanges:m,onDelete:h,onBeforeDelete:S}=t.getState(),{nodes:E,edges:b}=await fb({nodesToRemove:c,edgesToRemove:d,nodes:g,edges:y,onBeforeDelete:S}),N=b.length>0,P=E.length>0;if(N){const T=b.map(ch);w==null||w(b),m(T)}if(P){const T=E.map(ch);x==null||x(E),p(T)}return(P||N)&&(h==null||h({nodes:E,edges:b})),{deletedNodes:E,deletedEdges:b}},getIntersectingNodes:(c,d=!0,g)=>{const y=Hf(c),x=y?c:a(c),w=g!==void 0;return x?(g||t.getState().nodes).filter(p=>{const m=t.getState().nodeLookup.get(p.id);if(m&&!y&&(p.id===c.id||!m.internals.positionAbsolute))return!1;const h=Lr(w?p:m),S=ti(h,x);return d&&S>0||S>=h.width*h.height||S>=x.width*x.height}):[]},isNodeIntersecting:(c,d,g=!0)=>{const x=Hf(c)?c:a(c);if(!x)return!1;const w=ti(x,d);return g&&w>0||w>=d.width*d.height||w>=x.width*x.height},updateNode:u,updateNodeData:(c,d,g={replace:!1})=>{u(c,y=>{const x=typeof d=="function"?d(y):d;return g.replace?{...y,data:x}:{...y,data:{...y.data,...x}}},g)},updateEdge:f,updateEdgeData:(c,d,g={replace:!1})=>{f(c,y=>{const x=typeof d=="function"?d(y):d;return g.replace?{...y,data:x}:{...y,data:{...y.data,...x}}},g)},getNodesBounds:c=>{const{nodeLookup:d,nodeOrigin:g}=t.getState();return ab(c,{nodeLookup:d,nodeOrigin:g})},getHandleConnections:({type:c,id:d,nodeId:g})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${g}-${c}${d?`-${d}`:""}`))==null?void 0:y.values())??[])},getNodeConnections:({type:c,handleId:d,nodeId:g})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${g}${c?d?`-${c}-${d}`:`-${c}`:""}`))==null?void 0:y.values())??[])},fitView:async c=>{const d=t.getState().fitViewResolver??gb();return t.setState({fitViewQueued:!0,fitViewOptions:c,fitViewResolver:d}),n.nodeQueue.push(g=>[...g]),d.promise}}},[]);return k.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const hh=e=>e.selected,rN=typeof window<"u"?window:void 0;function oN({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=ye(),{deleteElements:r}=bl(),o=ri(e,{actInsideInputWithModifier:!1}),i=ri(t,{target:rN});k.useEffect(()=>{if(o){const{edges:s,nodes:l}=n.getState();r({nodes:l.filter(hh),edges:s.filter(hh)}),n.setState({nodesSelectionActive:!1})}},[o]),k.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function iN(e){const t=ye();k.useEffect(()=>{const n=()=>{var o,i,s,l;if(!e.current||!(((i=(o=e.current).checkVisibility)==null?void 0:i.call(o))??!0))return!1;const r=Bc(e.current);(r.height===0||r.width===0)&&((l=(s=t.getState()).onError)==null||l.call(s,"004",jt.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Nl={position:"absolute",width:"100%",height:"100%",top:0,left:0},sN=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function lN({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=$n.Free,zoomOnDoubleClick:s=!0,panOnDrag:l=!0,defaultViewport:a,translateExtent:u,minZoom:f,maxZoom:c,zoomActivationKeyCode:d,preventScrolling:g=!0,children:y,noWheelClassName:x,noPanClassName:w,onViewportChange:p,isControlledViewport:m,paneClickDistance:h,selectionOnDrag:S}){const E=ye(),b=k.useRef(null),{userSelectionActive:N,lib:P,connectionInProgress:T}=oe(sN,ge),A=ri(d),L=k.useRef();iN(b);const R=k.useCallback(F=>{p==null||p({x:F[0],y:F[1],zoom:F[2]}),m||E.setState({transform:F})},[p,m]);return k.useEffect(()=>{if(b.current){L.current=Zb({domNode:b.current,minZoom:f,maxZoom:c,translateExtent:u,viewport:a,onDraggingChange:j=>E.setState({paneDragging:j}),onPanZoomStart:(j,$)=>{const{onViewportChangeStart:C,onMoveStart:M}=E.getState();M==null||M(j,$),C==null||C($)},onPanZoom:(j,$)=>{const{onViewportChange:C,onMove:M}=E.getState();M==null||M(j,$),C==null||C($)},onPanZoomEnd:(j,$)=>{const{onViewportChangeEnd:C,onMoveEnd:M}=E.getState();M==null||M(j,$),C==null||C($)}});const{x:F,y:_,zoom:I}=L.current.getViewport();return E.setState({panZoom:L.current,transform:[F,_,I],domNode:b.current.closest(".react-flow")}),()=>{var j;(j=L.current)==null||j.destroy()}}},[]),k.useEffect(()=>{var F;(F=L.current)==null||F.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:l,zoomActivationKeyPressed:A,preventScrolling:g,noPanClassName:w,userSelectionActive:N,noWheelClassName:x,lib:P,onTransformChange:R,connectionInProgress:T,selectionOnDrag:S,paneClickDistance:h})},[e,t,n,r,o,i,s,l,A,g,w,N,x,P,R,T,S,h]),v.jsx("div",{className:"react-flow__renderer",ref:b,style:Nl,children:y})}const aN=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function uN(){const{userSelectionActive:e,userSelectionRect:t}=oe(aN,ge);return e&&t?v.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const pa=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},cN=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function dN({isSelecting:e,selectionKeyPressed:t,selectionMode:n=ei.Full,panOnDrag:r,paneClickDistance:o,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:l,onPaneClick:a,onPaneContextMenu:u,onPaneScroll:f,onPaneMouseEnter:c,onPaneMouseMove:d,onPaneMouseLeave:g,children:y}){const x=ye(),{userSelectionActive:w,elementsSelectable:p,dragging:m,connectionInProgress:h}=oe(cN,ge),S=p&&(e||w),E=k.useRef(null),b=k.useRef(),N=k.useRef(new Set),P=k.useRef(new Set),T=k.useRef(!1),A=C=>{if(T.current||h){T.current=!1;return}a==null||a(C),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},L=C=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){C.preventDefault();return}u==null||u(C)},R=f?C=>f(C):void 0,F=C=>{T.current&&(C.stopPropagation(),T.current=!1)},_=C=>{var X,G;const{domNode:M}=x.getState();if(b.current=M==null?void 0:M.getBoundingClientRect(),!b.current)return;const z=C.target===E.current;if(!z&&!!C.target.closest(".nokey")||!e||!(i&&z||t)||C.button!==0||!C.isPrimary)return;(G=(X=C.target)==null?void 0:X.setPointerCapture)==null||G.call(X,C.pointerId),T.current=!1;const{x:W,y:V}=mt(C.nativeEvent,b.current);x.setState({userSelectionRect:{width:0,height:0,startX:W,startY:V,x:W,y:V}}),z||(C.stopPropagation(),C.preventDefault())},I=C=>{const{userSelectionRect:M,transform:z,nodeLookup:D,edgeLookup:O,connectionLookup:W,triggerNodeChanges:V,triggerEdgeChanges:X,defaultEdgeOptions:G,resetSelectedElements:K}=x.getState();if(!b.current||!M)return;const{x:B,y:Q}=mt(C.nativeEvent,b.current),{startX:te,startY:J}=M;if(!T.current){const se=t?0:o;if(Math.hypot(B-te,Q-J)<=se)return;K(),s==null||s(C)}T.current=!0;const Z={startX:te,startY:J,x:B<te?B:te,y:Q<J?Q:J,width:Math.abs(B-te),height:Math.abs(Q-J)},q=N.current,le=P.current;N.current=new Set(Fc(D,Z,z,n===ei.Partial,!0).map(se=>se.id)),P.current=new Set;const ce=(G==null?void 0:G.selectable)??!0;for(const se of N.current){const Re=W.get(se);if(Re)for(const{edgeId:qt}of Re.values()){const Rt=O.get(qt);Rt&&(Rt.selectable??ce)&&P.current.add(qt)}}if(!Bf(q,N.current)){const se=hr(D,N.current,!0);V(se)}if(!Bf(le,P.current)){const se=hr(O,P.current);X(se)}x.setState({userSelectionRect:Z,userSelectionActive:!0,nodesSelectionActive:!1})},j=C=>{var M,z;C.button===0&&((z=(M=C.target)==null?void 0:M.releasePointerCapture)==null||z.call(M,C.pointerId),!w&&C.target===E.current&&x.getState().userSelectionRect&&(A==null||A(C)),x.setState({userSelectionActive:!1,userSelectionRect:null}),T.current&&(l==null||l(C),x.setState({nodesSelectionActive:N.current.size>0})))},$=r===!0||Array.isArray(r)&&r.includes(0);return v.jsxs("div",{className:Ee(["react-flow__pane",{draggable:$,dragging:m,selection:e}]),onClick:S?void 0:pa(A,E),onContextMenu:pa(L,E),onWheel:pa(R,E),onPointerEnter:S?void 0:c,onPointerMove:S?I:d,onPointerUp:S?j:void 0,onPointerDownCapture:S?_:void 0,onClickCapture:S?F:void 0,onPointerLeave:g,ref:E,style:Nl,children:[y,v.jsx(uN,{})]})}function Cu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",jt.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):o([e])}function z0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:s}){const l=ye(),[a,u]=k.useState(!1),f=k.useRef();return k.useEffect(()=>{f.current=Db({getStoreItems:()=>l.getState(),onNodeMouseDown:c=>{Cu({id:c,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),k.useEffect(()=>{var c,d;if(t)(c=f.current)==null||c.destroy();else if(e.current)return(d=f.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:s}),()=>{var g;(g=f.current)==null||g.destroy()}},[n,r,t,i,e,o]),a}const fN=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function $0(){const e=ye();return k.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:s,onError:l,updateNodePositions:a,nodeLookup:u,nodeOrigin:f}=e.getState(),c=new Map,d=fN(s),g=o?i[0]:5,y=o?i[1]:5,x=n.direction.x*g*n.factor,w=n.direction.y*y*n.factor;for(const[,p]of u){if(!d(p))continue;let m={x:p.internals.positionAbsolute.x+x,y:p.internals.positionAbsolute.y+w};o&&(m=gi(m,i));const{position:h,positionAbsolute:S}=qg({nodeId:p.id,nextPosition:m,nodeLookup:u,nodeExtent:r,nodeOrigin:f,onError:l});p.position=h,p.internals.positionAbsolute=S,c.set(p.id,p)}a(c)},[])}const Kc=k.createContext(null),hN=Kc.Provider;Kc.Consumer;const A0=()=>k.useContext(Kc),pN=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),mN=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:s}=r,{fromHandle:l,toHandle:a,isValid:u}=s,f=(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:f,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===Rr.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!o,valid:f&&u}};function gN({type:e="source",position:t=Y.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:f,onTouchStart:c,...d},g){var I,j;const y=s||null,x=e==="target",w=ye(),p=A0(),{connectOnClick:m,noPanClassName:h,rfId:S}=oe(pN,ge),{connectingFrom:E,connectingTo:b,clickConnecting:N,isPossibleEndHandle:P,connectionInProcess:T,clickConnectionInProcess:A,valid:L}=oe(mN(p,y,e),ge);p||(j=(I=w.getState()).onError)==null||j.call(I,"010",jt.error010());const R=$=>{const{defaultEdgeOptions:C,onConnect:M,hasDefaultEdges:z}=w.getState(),D={...C,...$};if(z){const{edges:O,setEdges:W}=w.getState();W(a0(D,O))}M==null||M(D),l==null||l(D)},F=$=>{if(!p)return;const C=i0($.nativeEvent);if(o&&(C&&$.button===0||!C)){const M=w.getState();Nu.onPointerDown($.nativeEvent,{handleDomNode:$.currentTarget,autoPanOnConnect:M.autoPanOnConnect,connectionMode:M.connectionMode,connectionRadius:M.connectionRadius,domNode:M.domNode,nodeLookup:M.nodeLookup,lib:M.lib,isTarget:x,handleId:y,nodeId:p,flowId:M.rfId,panBy:M.panBy,cancelConnection:M.cancelConnection,onConnectStart:M.onConnectStart,onConnectEnd:M.onConnectEnd,updateConnection:M.updateConnection,onConnect:R,isValidConnection:n||M.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:M.autoPanSpeed,dragThreshold:M.connectionDragThreshold})}C?f==null||f($):c==null||c($)},_=$=>{const{onClickConnectStart:C,onClickConnectEnd:M,connectionClickStartHandle:z,connectionMode:D,isValidConnection:O,lib:W,rfId:V,nodeLookup:X,connection:G}=w.getState();if(!p||!z&&!o)return;if(!z){C==null||C($.nativeEvent,{nodeId:p,handleId:y,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:p,type:e,id:y}});return}const K=r0($.target),B=n||O,{connection:Q,isValid:te}=Nu.isValid($.nativeEvent,{handle:{nodeId:p,id:y,type:e},connectionMode:D,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:B,flowId:V,doc:K,lib:W,nodeLookup:X});te&&Q&&R(Q);const J=structuredClone(G);delete J.inProgress,J.toPosition=J.toHandle?J.toHandle.position:null,M==null||M($,J),w.setState({connectionClickStartHandle:null})};return v.jsx("div",{"data-handleid":y,"data-nodeid":p,"data-handlepos":t,"data-id":`${S}-${p}-${y}-${e}`,className:Ee(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",h,u,{source:!x,target:x,connectable:r,connectablestart:o,connectableend:i,clickconnecting:N,connectingfrom:E,connectingto:b,valid:L,connectionindicator:r&&(!T||P)&&(T||A?i:o)}]),onMouseDown:F,onTouchStart:F,onClick:m?_:void 0,ref:g,...d,children:a})}const An=k.memo(T0(gN));function yN({data:e,isConnectable:t,sourcePosition:n=Y.Bottom}){return v.jsxs(v.Fragment,{children:[e==null?void 0:e.label,v.jsx(An,{type:"source",position:n,isConnectable:t})]})}function vN({data:e,isConnectable:t,targetPosition:n=Y.Top,sourcePosition:r=Y.Bottom}){return v.jsxs(v.Fragment,{children:[v.jsx(An,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,v.jsx(An,{type:"source",position:r,isConnectable:t})]})}function xN(){return null}function wN({data:e,isConnectable:t,targetPosition:n=Y.Top}){return v.jsxs(v.Fragment,{children:[v.jsx(An,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Ks={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},ph={input:yN,default:vN,output:wN,group:xN};function SN(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const kN=e=>{const{width:t,height:n,x:r,y:o}=mi(e.nodeLookup,{filter:i=>!!i.selected});return{width:pt(t)?t:null,height:pt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function _N({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ye(),{width:o,height:i,transformString:s,userSelectionActive:l}=oe(kN,ge),a=$0(),u=k.useRef(null);if(k.useEffect(()=>{var d;n||(d=u.current)==null||d.focus({preventScroll:!0})},[n]),z0({nodeRef:u}),l||!o||!i)return null;const f=e?d=>{const g=r.getState().nodes.filter(y=>y.selected);e(d,g)}:void 0,c=d=>{Object.prototype.hasOwnProperty.call(Ks,d.key)&&(d.preventDefault(),a({direction:Ks[d.key],factor:d.shiftKey?4:1}))};return v.jsx("div",{className:Ee(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:v.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:c,style:{width:o,height:i}})})}const mh=typeof window<"u"?window:void 0,EN=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function D0({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:l,deleteKeyCode:a,selectionKeyCode:u,selectionOnDrag:f,selectionMode:c,onSelectionStart:d,onSelectionEnd:g,multiSelectionKeyCode:y,panActivationKeyCode:x,zoomActivationKeyCode:w,elementsSelectable:p,zoomOnScroll:m,zoomOnPinch:h,panOnScroll:S,panOnScrollSpeed:E,panOnScrollMode:b,zoomOnDoubleClick:N,panOnDrag:P,defaultViewport:T,translateExtent:A,minZoom:L,maxZoom:R,preventScrolling:F,onSelectionContextMenu:_,noWheelClassName:I,noPanClassName:j,disableKeyboardA11y:$,onViewportChange:C,isControlledViewport:M}){const{nodesSelectionActive:z,userSelectionActive:D}=oe(EN,ge),O=ri(u,{target:mh}),W=ri(x,{target:mh}),V=W||P,X=W||S,G=f&&V!==!0,K=O||D||G;return oN({deleteKeyCode:a,multiSelectionKeyCode:y}),v.jsx(lN,{onPaneContextMenu:i,elementsSelectable:p,zoomOnScroll:m,zoomOnPinch:h,panOnScroll:X,panOnScrollSpeed:E,panOnScrollMode:b,zoomOnDoubleClick:N,panOnDrag:!O&&V,defaultViewport:T,translateExtent:A,minZoom:L,maxZoom:R,zoomActivationKeyCode:w,preventScrolling:F,noWheelClassName:I,noPanClassName:j,onViewportChange:C,isControlledViewport:M,paneClickDistance:l,selectionOnDrag:G,children:v.jsxs(dN,{onSelectionStart:d,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:V,isSelecting:!!K,selectionMode:c,selectionKeyPressed:O,paneClickDistance:l,selectionOnDrag:G,children:[e,z&&v.jsx(_N,{onSelectionContextMenu:_,noPanClassName:j,disableKeyboardA11y:$})]})})}D0.displayName="FlowRenderer";const bN=k.memo(D0),NN=e=>t=>e?Fc(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function CN(e){return oe(k.useCallback(NN(e),[e]),ge)}const MN=e=>e.updateNodeInternals;function PN(){const e=oe(MN),[t]=k.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return k.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function jN({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=ye(),i=k.useRef(null),s=k.useRef(null),l=k.useRef(e.sourcePosition),a=k.useRef(e.targetPosition),u=k.useRef(t),f=n&&!!e.internals.handleBounds;return k.useEffect(()=>{i.current&&!e.hidden&&(!f||s.current!==i.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(i.current),s.current=i.current)},[f,e.hidden]),k.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),k.useEffect(()=>{if(i.current){const c=u.current!==t,d=l.current!==e.sourcePosition,g=a.current!==e.targetPosition;(c||d||g)&&(u.current=t,l.current=e.sourcePosition,a.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function IN({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:s,nodesDraggable:l,elementsSelectable:a,nodesConnectable:u,nodesFocusable:f,resizeObserver:c,noDragClassName:d,noPanClassName:g,disableKeyboardA11y:y,rfId:x,nodeTypes:w,nodeClickDistance:p,onError:m}){const{node:h,internals:S,isParent:E}=oe(B=>{const Q=B.nodeLookup.get(e),te=B.parentLookup.has(e);return{node:Q,internals:Q.internals,isParent:te}},ge);let b=h.type||"default",N=(w==null?void 0:w[b])||ph[b];N===void 0&&(m==null||m("003",jt.error003(b)),b="default",N=(w==null?void 0:w.default)||ph.default);const P=!!(h.draggable||l&&typeof h.draggable>"u"),T=!!(h.selectable||a&&typeof h.selectable>"u"),A=!!(h.connectable||u&&typeof h.connectable>"u"),L=!!(h.focusable||f&&typeof h.focusable>"u"),R=ye(),F=t0(h),_=jN({node:h,nodeType:b,hasDimensions:F,resizeObserver:c}),I=z0({nodeRef:_,disabled:h.hidden||!P,noDragClassName:d,handleSelector:h.dragHandle,nodeId:e,isSelectable:T,nodeClickDistance:p}),j=$0();if(h.hidden)return null;const $=Qt(h),C=SN(h),M=T||P||t||n||r||o,z=n?B=>n(B,{...S.userNode}):void 0,D=r?B=>r(B,{...S.userNode}):void 0,O=o?B=>o(B,{...S.userNode}):void 0,W=i?B=>i(B,{...S.userNode}):void 0,V=s?B=>s(B,{...S.userNode}):void 0,X=B=>{const{selectNodesOnDrag:Q,nodeDragThreshold:te}=R.getState();T&&(!Q||!P||te>0)&&Cu({id:e,store:R,nodeRef:_}),t&&t(B,{...S.userNode})},G=B=>{if(!(o0(B.nativeEvent)||y)){if(Yg.includes(B.key)&&T){const Q=B.key==="Escape";Cu({id:e,store:R,unselect:Q,nodeRef:_})}else if(P&&h.selected&&Object.prototype.hasOwnProperty.call(Ks,B.key)){B.preventDefault();const{ariaLabelConfig:Q}=R.getState();R.setState({ariaLiveMessage:Q["node.a11yDescription.ariaLiveMessage"]({direction:B.key.replace("Arrow","").toLowerCase(),x:~~S.positionAbsolute.x,y:~~S.positionAbsolute.y})}),j({direction:Ks[B.key],factor:B.shiftKey?4:1})}}},K=()=>{var le;if(y||!((le=_.current)!=null&&le.matches(":focus-visible")))return;const{transform:B,width:Q,height:te,autoPanOnNodeFocus:J,setCenter:Z}=R.getState();if(!J)return;Fc(new Map([[e,h]]),{x:0,y:0,width:Q,height:te},B,!0).length>0||Z(h.position.x+$.width/2,h.position.y+$.height/2,{zoom:B[2]})};return v.jsx("div",{className:Ee(["react-flow__node",`react-flow__node-${b}`,{[g]:P},h.className,{selected:h.selected,selectable:T,parent:E,draggable:P,dragging:I}]),ref:_,style:{zIndex:S.z,transform:`translate(${S.positionAbsolute.x}px,${S.positionAbsolute.y}px)`,pointerEvents:M?"all":"none",visibility:F?"visible":"hidden",...h.style,...C},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:z,onMouseMove:D,onMouseLeave:O,onContextMenu:W,onClick:X,onDoubleClick:V,onKeyDown:L?G:void 0,tabIndex:L?0:void 0,onFocus:L?K:void 0,role:h.ariaRole??(L?"group":void 0),"aria-roledescription":"node","aria-describedby":y?void 0:`${C0}-${x}`,"aria-label":h.ariaLabel,...h.domAttributes,children:v.jsx(hN,{value:e,children:v.jsx(N,{id:e,data:h.data,type:b,positionAbsoluteX:S.positionAbsolute.x,positionAbsoluteY:S.positionAbsolute.y,selected:h.selected??!1,selectable:T,draggable:P,deletable:h.deletable??!0,isConnectable:A,sourcePosition:h.sourcePosition,targetPosition:h.targetPosition,dragging:I,dragHandle:h.dragHandle,zIndex:S.z,parentId:h.parentId,...$})})})}var RN=k.memo(IN);const TN=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function O0(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=oe(TN,ge),s=CN(e.onlyRenderVisibleElements),l=PN();return v.jsx("div",{className:"react-flow__nodes",style:Nl,children:s.map(a=>v.jsx(RN,{id:a,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},a))})}O0.displayName="NodeRenderer";const LN=k.memo(O0);function zN(e){return oe(k.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),s=n.nodeLookup.get(o.target);i&&s&&wb({sourceNode:i,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),ge)}const $N=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return v.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},AN=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return v.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},gh={[Ys.Arrow]:$N,[Ys.ArrowClosed]:AN};function DN(e){const t=ye();return k.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(gh,e)?gh[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",jt.error009(e)),null)},[e])}const ON=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=DN(t);return a?v.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:v.jsx(a,{color:n,strokeWidth:s})}):null},F0=({defaultColor:e,rfId:t})=>{const n=oe(i=>i.edges),r=oe(i=>i.defaultEdgeOptions),o=k.useMemo(()=>Cb(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?v.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:v.jsx("defs",{children:o.map(i=>v.jsx(ON,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};F0.displayName="MarkerDefinitions";var FN=k.memo(F0);function H0({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...f}){const[c,d]=k.useState({x:1,y:0,width:0,height:0}),g=Ee(["react-flow__edge-textwrapper",u]),y=k.useRef(null);return k.useEffect(()=>{if(y.current){const x=y.current.getBBox();d({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),n?v.jsxs("g",{transform:`translate(${e-c.width/2} ${t-c.height/2})`,className:g,visibility:c.width?"visible":"hidden",...f,children:[o&&v.jsx("rect",{width:c.width+2*s[0],x:-s[0],y:-s[1],height:c.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),v.jsx("text",{className:"react-flow__edge-text",y:c.height/2,dy:"0.3em",ref:y,style:r,children:n}),a]}):null}H0.displayName="EdgeText";const HN=k.memo(H0);function vi({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a,interactionWidth:u=20,...f}){return v.jsxs(v.Fragment,{children:[v.jsx("path",{...f,d:e,fill:"none",className:Ee(["react-flow__edge-path",f.className])}),u?v.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&pt(t)&&pt(n)?v.jsx(HN,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a}):null]})}function yh({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Y.Left||e===Y.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function B0({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top}){const[s,l]=yh({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=yh({pos:i,x1:r,y1:o,x2:e,y2:t}),[f,c,d,g]=s0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${o}`,f,c,d,g]}function V0(e){return k.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s,targetPosition:l,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:g,style:y,markerEnd:x,markerStart:w,interactionWidth:p})=>{const[m,h,S]=B0({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:l}),E=e.isInternal?void 0:t;return v.jsx(vi,{id:E,path:m,labelX:h,labelY:S,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:g,style:y,markerEnd:x,markerStart:w,interactionWidth:p})})}const BN=V0({isInternal:!1}),W0=V0({isInternal:!0});BN.displayName="SimpleBezierEdge";W0.displayName="SimpleBezierEdgeInternal";function U0(e){return k.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,sourcePosition:g=Y.Bottom,targetPosition:y=Y.Top,markerEnd:x,markerStart:w,pathOptions:p,interactionWidth:m})=>{const[h,S,E]=_u({sourceX:n,sourceY:r,sourcePosition:g,targetX:o,targetY:i,targetPosition:y,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset,stepPosition:p==null?void 0:p.stepPosition}),b=e.isInternal?void 0:t;return v.jsx(vi,{id:b,path:h,labelX:S,labelY:E,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:x,markerStart:w,interactionWidth:m})})}const Y0=U0({isInternal:!1}),X0=U0({isInternal:!0});Y0.displayName="SmoothStepEdge";X0.displayName="SmoothStepEdgeInternal";function G0(e){return k.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return v.jsx(Y0,{...n,id:r,pathOptions:k.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const VN=G0({isInternal:!1}),K0=G0({isInternal:!0});VN.displayName="StepEdge";K0.displayName="StepEdgeInternal";function Q0(e){return k.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:g,markerStart:y,interactionWidth:x})=>{const[w,p,m]=u0({sourceX:n,sourceY:r,targetX:o,targetY:i}),h=e.isInternal?void 0:t;return v.jsx(vi,{id:h,path:w,labelX:p,labelY:m,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:g,markerStart:y,interactionWidth:x})})}const WN=Q0({isInternal:!1}),q0=Q0({isInternal:!0});WN.displayName="StraightEdge";q0.displayName="StraightEdgeInternal";function Z0(e){return k.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=Y.Bottom,targetPosition:l=Y.Top,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:g,style:y,markerEnd:x,markerStart:w,pathOptions:p,interactionWidth:m})=>{const[h,S,E]=Vc({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:l,curvature:p==null?void 0:p.curvature}),b=e.isInternal?void 0:t;return v.jsx(vi,{id:b,path:h,labelX:S,labelY:E,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:g,style:y,markerEnd:x,markerStart:w,interactionWidth:m})})}const UN=Z0({isInternal:!1}),J0=Z0({isInternal:!0});UN.displayName="BezierEdge";J0.displayName="BezierEdgeInternal";const vh={default:J0,straight:q0,step:K0,smoothstep:X0,simplebezier:W0},xh={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},YN=(e,t,n)=>n===Y.Left?e-t:n===Y.Right?e+t:e,XN=(e,t,n)=>n===Y.Top?e-t:n===Y.Bottom?e+t:e,wh="react-flow__edgeupdater";function Sh({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:l}){return v.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:Ee([wh,`${wh}-${l}`]),cx:YN(t,r,e),cy:XN(n,r,e),r,stroke:"transparent",fill:"transparent"})}function GN({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:s,sourcePosition:l,targetPosition:a,onReconnect:u,onReconnectStart:f,onReconnectEnd:c,setReconnecting:d,setUpdateHover:g}){const y=ye(),x=(S,E)=>{if(S.button!==0)return;const{autoPanOnConnect:b,domNode:N,isValidConnection:P,connectionMode:T,connectionRadius:A,lib:L,onConnectStart:R,onConnectEnd:F,cancelConnection:_,nodeLookup:I,rfId:j,panBy:$,updateConnection:C}=y.getState(),M=E.type==="target",z=(W,V)=>{d(!1),c==null||c(W,n,E.type,V)},D=W=>u==null?void 0:u(n,W),O=(W,V)=>{d(!0),f==null||f(S,n,E.type),R==null||R(W,V)};Nu.onPointerDown(S.nativeEvent,{autoPanOnConnect:b,connectionMode:T,connectionRadius:A,domNode:N,handleId:E.id,nodeId:E.nodeId,nodeLookup:I,isTarget:M,edgeUpdaterType:E.type,lib:L,flowId:j,cancelConnection:_,panBy:$,isValidConnection:P,onConnect:D,onConnectStart:O,onConnectEnd:F,onReconnectEnd:z,updateConnection:C,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,dragThreshold:y.getState().connectionDragThreshold,handleDomNode:S.currentTarget})},w=S=>x(S,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),p=S=>x(S,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),m=()=>g(!0),h=()=>g(!1);return v.jsxs(v.Fragment,{children:[(e===!0||e==="source")&&v.jsx(Sh,{position:l,centerX:r,centerY:o,radius:t,onMouseDown:w,onMouseEnter:m,onMouseOut:h,type:"source"}),(e===!0||e==="target")&&v.jsx(Sh,{position:a,centerX:i,centerY:s,radius:t,onMouseDown:p,onMouseEnter:m,onMouseOut:h,type:"target"})]})}function KN({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,reconnectRadius:f,onReconnect:c,onReconnectStart:d,onReconnectEnd:g,rfId:y,edgeTypes:x,noPanClassName:w,onError:p,disableKeyboardA11y:m}){let h=oe(Z=>Z.edgeLookup.get(e));const S=oe(Z=>Z.defaultEdgeOptions);h=S?{...S,...h}:h;let E=h.type||"default",b=(x==null?void 0:x[E])||vh[E];b===void 0&&(p==null||p("011",jt.error011(E)),E="default",b=(x==null?void 0:x.default)||vh.default);const N=!!(h.focusable||t&&typeof h.focusable>"u"),P=typeof c<"u"&&(h.reconnectable||n&&typeof h.reconnectable>"u"),T=!!(h.selectable||r&&typeof h.selectable>"u"),A=k.useRef(null),[L,R]=k.useState(!1),[F,_]=k.useState(!1),I=ye(),{zIndex:j,sourceX:$,sourceY:C,targetX:M,targetY:z,sourcePosition:D,targetPosition:O}=oe(k.useCallback(Z=>{const q=Z.nodeLookup.get(h.source),le=Z.nodeLookup.get(h.target);if(!q||!le)return{zIndex:h.zIndex,...xh};const ce=Nb({id:e,sourceNode:q,targetNode:le,sourceHandle:h.sourceHandle||null,targetHandle:h.targetHandle||null,connectionMode:Z.connectionMode,onError:p});return{zIndex:xb({selected:h.selected,zIndex:h.zIndex,sourceNode:q,targetNode:le,elevateOnSelect:Z.elevateEdgesOnSelect,zIndexMode:Z.zIndexMode}),...ce||xh}},[h.source,h.target,h.sourceHandle,h.targetHandle,h.selected,h.zIndex]),ge),W=k.useMemo(()=>h.markerStart?`url('#${Eu(h.markerStart,y)}')`:void 0,[h.markerStart,y]),V=k.useMemo(()=>h.markerEnd?`url('#${Eu(h.markerEnd,y)}')`:void 0,[h.markerEnd,y]);if(h.hidden||$===null||C===null||M===null||z===null)return null;const X=Z=>{var se;const{addSelectedEdges:q,unselectNodesAndEdges:le,multiSelectionActive:ce}=I.getState();T&&(I.setState({nodesSelectionActive:!1}),h.selected&&ce?(le({nodes:[],edges:[h]}),(se=A.current)==null||se.blur()):q([e])),o&&o(Z,h)},G=i?Z=>{i(Z,{...h})}:void 0,K=s?Z=>{s(Z,{...h})}:void 0,B=l?Z=>{l(Z,{...h})}:void 0,Q=a?Z=>{a(Z,{...h})}:void 0,te=u?Z=>{u(Z,{...h})}:void 0,J=Z=>{var q;if(!m&&Yg.includes(Z.key)&&T){const{unselectNodesAndEdges:le,addSelectedEdges:ce}=I.getState();Z.key==="Escape"?((q=A.current)==null||q.blur(),le({edges:[h]})):ce([e])}};return v.jsx("svg",{style:{zIndex:j},children:v.jsxs("g",{className:Ee(["react-flow__edge",`react-flow__edge-${E}`,h.className,w,{selected:h.selected,animated:h.animated,inactive:!T&&!o,updating:L,selectable:T}]),onClick:X,onDoubleClick:G,onContextMenu:K,onMouseEnter:B,onMouseMove:Q,onMouseLeave:te,onKeyDown:N?J:void 0,tabIndex:N?0:void 0,role:h.ariaRole??(N?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":h.ariaLabel===null?void 0:h.ariaLabel||`Edge from ${h.source} to ${h.target}`,"aria-describedby":N?`${M0}-${y}`:void 0,ref:A,...h.domAttributes,children:[!F&&v.jsx(b,{id:e,source:h.source,target:h.target,type:h.type,selected:h.selected,animated:h.animated,selectable:T,deletable:h.deletable??!0,label:h.label,labelStyle:h.labelStyle,labelShowBg:h.labelShowBg,labelBgStyle:h.labelBgStyle,labelBgPadding:h.labelBgPadding,labelBgBorderRadius:h.labelBgBorderRadius,sourceX:$,sourceY:C,targetX:M,targetY:z,sourcePosition:D,targetPosition:O,data:h.data,style:h.style,sourceHandleId:h.sourceHandle,targetHandleId:h.targetHandle,markerStart:W,markerEnd:V,pathOptions:"pathOptions"in h?h.pathOptions:void 0,interactionWidth:h.interactionWidth}),P&&v.jsx(GN,{edge:h,isReconnectable:P,reconnectRadius:f,onReconnect:c,onReconnectStart:d,onReconnectEnd:g,sourceX:$,sourceY:C,targetX:M,targetY:z,sourcePosition:D,targetPosition:O,setUpdateHover:R,setReconnecting:_})]})})}var QN=k.memo(KN);const qN=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function ey({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:f,reconnectRadius:c,onEdgeDoubleClick:d,onReconnectStart:g,onReconnectEnd:y,disableKeyboardA11y:x}){const{edgesFocusable:w,edgesReconnectable:p,elementsSelectable:m,onError:h}=oe(qN,ge),S=zN(t);return v.jsxs("div",{className:"react-flow__edges",children:[v.jsx(FN,{defaultColor:e,rfId:n}),S.map(E=>v.jsx(QN,{id:E,edgesFocusable:w,edgesReconnectable:p,elementsSelectable:m,noPanClassName:o,onReconnect:i,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:f,reconnectRadius:c,onDoubleClick:d,onReconnectStart:g,onReconnectEnd:y,rfId:n,onError:h,edgeTypes:r,disableKeyboardA11y:x},E))]})}ey.displayName="EdgeRenderer";const ZN=k.memo(ey),JN=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function eC({children:e}){const t=oe(JN);return v.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function tC(e){const t=bl(),n=k.useRef(!1);k.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const nC=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function rC(e){const t=oe(nC),n=ye();return k.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function oC(e){return e.connection.inProgress?{...e.connection,to:yi(e.connection.to,e.transform)}:{...e.connection}}function iC(e){return oC}function sC(e){const t=iC();return oe(t,ge)}const lC=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function aC({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:s,isValid:l,inProgress:a}=oe(lC,ge);return!(i&&o&&a)?null:v.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:v.jsx("g",{className:Ee(["react-flow__connection",Kg(l)]),children:v.jsx(ty,{style:t,type:n,CustomComponent:r,isValid:l})})})}const ty=({style:e,type:t=an.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:s,fromHandle:l,fromPosition:a,to:u,toNode:f,toHandle:c,toPosition:d,pointer:g}=sC();if(!o)return;if(n)return v.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:l,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:a,toPosition:d,connectionStatus:Kg(r),toNode:f,toHandle:c,pointer:g});let y="";const x={sourceX:i.x,sourceY:i.y,sourcePosition:a,targetX:u.x,targetY:u.y,targetPosition:d};switch(t){case an.Bezier:[y]=Vc(x);break;case an.SimpleBezier:[y]=B0(x);break;case an.Step:[y]=_u({...x,borderRadius:0});break;case an.SmoothStep:[y]=_u(x);break;default:[y]=u0(x)}return v.jsx("path",{d:y,fill:"none",className:"react-flow__connection-path",style:e})};ty.displayName="ConnectionLine";const uC={};function kh(e=uC){k.useRef(e),ye(),k.useEffect(()=>{},[e])}function cC(){ye(),k.useRef(!1),k.useEffect(()=>{},[])}function ny({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:f,onSelectionContextMenu:c,onSelectionStart:d,onSelectionEnd:g,connectionLineType:y,connectionLineStyle:x,connectionLineComponent:w,connectionLineContainerStyle:p,selectionKeyCode:m,selectionOnDrag:h,selectionMode:S,multiSelectionKeyCode:E,panActivationKeyCode:b,zoomActivationKeyCode:N,deleteKeyCode:P,onlyRenderVisibleElements:T,elementsSelectable:A,defaultViewport:L,translateExtent:R,minZoom:F,maxZoom:_,preventScrolling:I,defaultMarkerColor:j,zoomOnScroll:$,zoomOnPinch:C,panOnScroll:M,panOnScrollSpeed:z,panOnScrollMode:D,zoomOnDoubleClick:O,panOnDrag:W,onPaneClick:V,onPaneMouseEnter:X,onPaneMouseMove:G,onPaneMouseLeave:K,onPaneScroll:B,onPaneContextMenu:Q,paneClickDistance:te,nodeClickDistance:J,onEdgeContextMenu:Z,onEdgeMouseEnter:q,onEdgeMouseMove:le,onEdgeMouseLeave:ce,reconnectRadius:se,onReconnect:Re,onReconnectStart:qt,onReconnectEnd:Rt,noDragClassName:bn,noWheelClassName:Ur,noPanClassName:Yr,disableKeyboardA11y:Xr,nodeExtent:Ml,rfId:xi,viewport:qn,onViewportChange:Gr}){return kh(e),kh(t),cC(),tC(n),rC(qn),v.jsx(bN,{onPaneClick:V,onPaneMouseEnter:X,onPaneMouseMove:G,onPaneMouseLeave:K,onPaneContextMenu:Q,onPaneScroll:B,paneClickDistance:te,deleteKeyCode:P,selectionKeyCode:m,selectionOnDrag:h,selectionMode:S,onSelectionStart:d,onSelectionEnd:g,multiSelectionKeyCode:E,panActivationKeyCode:b,zoomActivationKeyCode:N,elementsSelectable:A,zoomOnScroll:$,zoomOnPinch:C,zoomOnDoubleClick:O,panOnScroll:M,panOnScrollSpeed:z,panOnScrollMode:D,panOnDrag:W,defaultViewport:L,translateExtent:R,minZoom:F,maxZoom:_,onSelectionContextMenu:c,preventScrolling:I,noDragClassName:bn,noWheelClassName:Ur,noPanClassName:Yr,disableKeyboardA11y:Xr,onViewportChange:Gr,isControlledViewport:!!qn,children:v.jsxs(eC,{children:[v.jsx(ZN,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:s,onReconnect:Re,onReconnectStart:qt,onReconnectEnd:Rt,onlyRenderVisibleElements:T,onEdgeContextMenu:Z,onEdgeMouseEnter:q,onEdgeMouseMove:le,onEdgeMouseLeave:ce,reconnectRadius:se,defaultMarkerColor:j,noPanClassName:Yr,disableKeyboardA11y:Xr,rfId:xi}),v.jsx(aC,{style:x,type:y,component:w,containerStyle:p}),v.jsx("div",{className:"react-flow__edgelabel-renderer"}),v.jsx(LN,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:f,nodeClickDistance:J,onlyRenderVisibleElements:T,noPanClassName:Yr,noDragClassName:bn,disableKeyboardA11y:Xr,nodeExtent:Ml,rfId:xi}),v.jsx("div",{className:"react-flow__viewport-portal"})]})})}ny.displayName="GraphView";const dC=k.memo(ny),_h=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a=.5,maxZoom:u=2,nodeOrigin:f,nodeExtent:c,zIndexMode:d="basic"}={})=>{const g=new Map,y=new Map,x=new Map,w=new Map,p=r??t??[],m=n??e??[],h=f??[0,0],S=c??Jo;f0(x,w,p);const E=bu(m,g,y,{nodeOrigin:h,nodeExtent:S,zIndexMode:d});let b=[0,0,1];if(s&&o&&i){const N=mi(g,{filter:L=>!!((L.width||L.initialWidth)&&(L.height||L.initialHeight))}),{x:P,y:T,zoom:A}=Hc(N,o,i,a,u,(l==null?void 0:l.padding)??.1);b=[P,T,A]}return{rfId:"1",width:o??0,height:i??0,transform:b,nodes:m,nodesInitialized:E,nodeLookup:g,parentLookup:y,edges:p,edgeLookup:w,connectionLookup:x,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:a,maxZoom:u,translateExtent:Jo,nodeExtent:S,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Rr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:h,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:l,fitViewResolver:null,connection:{...Gg},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:hb,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Xg,zIndexMode:d,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},fC=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:f,nodeExtent:c,zIndexMode:d})=>j2((g,y)=>{async function x(){const{nodeLookup:w,panZoom:p,fitViewOptions:m,fitViewResolver:h,width:S,height:E,minZoom:b,maxZoom:N}=y();p&&(await db({nodes:w,width:S,height:E,panZoom:p,minZoom:b,maxZoom:N},m),h==null||h.resolve(!0),g({fitViewResolver:null}))}return{..._h({nodes:e,edges:t,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:f,nodeExtent:c,defaultNodes:n,defaultEdges:r,zIndexMode:d}),setNodes:w=>{const{nodeLookup:p,parentLookup:m,nodeOrigin:h,elevateNodesOnSelect:S,fitViewQueued:E,zIndexMode:b}=y(),N=bu(w,p,m,{nodeOrigin:h,nodeExtent:c,elevateNodesOnSelect:S,checkEquality:!0,zIndexMode:b});E&&N?(x(),g({nodes:w,nodesInitialized:N,fitViewQueued:!1,fitViewOptions:void 0})):g({nodes:w,nodesInitialized:N})},setEdges:w=>{const{connectionLookup:p,edgeLookup:m}=y();f0(p,m,w),g({edges:w})},setDefaultNodesAndEdges:(w,p)=>{if(w){const{setNodes:m}=y();m(w),g({hasDefaultNodes:!0})}if(p){const{setEdges:m}=y();m(p),g({hasDefaultEdges:!0})}},updateNodeInternals:w=>{const{triggerNodeChanges:p,nodeLookup:m,parentLookup:h,domNode:S,nodeOrigin:E,nodeExtent:b,debug:N,fitViewQueued:P,zIndexMode:T}=y(),{changes:A,updatedInternals:L}=Lb(w,m,h,S,E,b,T);L&&(jb(m,h,{nodeOrigin:E,nodeExtent:b,zIndexMode:T}),P?(x(),g({fitViewQueued:!1,fitViewOptions:void 0})):g({}),(A==null?void 0:A.length)>0&&(N&&console.log("React Flow: trigger node changes",A),p==null||p(A)))},updateNodePositions:(w,p=!1)=>{const m=[];let h=[];const{nodeLookup:S,triggerNodeChanges:E,connection:b,updateConnection:N,onNodesChangeMiddlewareMap:P}=y();for(const[T,A]of w){const L=S.get(T),R=!!(L!=null&&L.expandParent&&(L!=null&&L.parentId)&&(A!=null&&A.position)),F={id:T,type:"position",position:R?{x:Math.max(0,A.position.x),y:Math.max(0,A.position.y)}:A.position,dragging:p};if(L&&b.inProgress&&b.fromNode.id===L.id){const _=Yn(L,b.fromHandle,Y.Left,!0);N({...b,from:_})}R&&L.parentId&&m.push({id:T,parentId:L.parentId,rect:{...A.internals.positionAbsolute,width:A.measured.width??0,height:A.measured.height??0}}),h.push(F)}if(m.length>0){const{parentLookup:T,nodeOrigin:A}=y(),L=Gc(m,S,T,A);h.push(...L)}for(const T of P.values())h=T(h);E(h)},triggerNodeChanges:w=>{const{onNodesChange:p,setNodes:m,nodes:h,hasDefaultNodes:S,debug:E}=y();if(w!=null&&w.length){if(S){const b=I0(w,h);m(b)}E&&console.log("React Flow: trigger node changes",w),p==null||p(w)}},triggerEdgeChanges:w=>{const{onEdgesChange:p,setEdges:m,edges:h,hasDefaultEdges:S,debug:E}=y();if(w!=null&&w.length){if(S){const b=R0(w,h);m(b)}E&&console.log("React Flow: trigger edge changes",w),p==null||p(w)}},addSelectedNodes:w=>{const{multiSelectionActive:p,edgeLookup:m,nodeLookup:h,triggerNodeChanges:S,triggerEdgeChanges:E}=y();if(p){const b=w.map(N=>Mn(N,!0));S(b);return}S(hr(h,new Set([...w]),!0)),E(hr(m))},addSelectedEdges:w=>{const{multiSelectionActive:p,edgeLookup:m,nodeLookup:h,triggerNodeChanges:S,triggerEdgeChanges:E}=y();if(p){const b=w.map(N=>Mn(N,!0));E(b);return}E(hr(m,new Set([...w]))),S(hr(h,new Set,!0))},unselectNodesAndEdges:({nodes:w,edges:p}={})=>{const{edges:m,nodes:h,nodeLookup:S,triggerNodeChanges:E,triggerEdgeChanges:b}=y(),N=w||h,P=p||m,T=N.map(L=>{const R=S.get(L.id);return R&&(R.selected=!1),Mn(L.id,!1)}),A=P.map(L=>Mn(L.id,!1));E(T),b(A)},setMinZoom:w=>{const{panZoom:p,maxZoom:m}=y();p==null||p.setScaleExtent([w,m]),g({minZoom:w})},setMaxZoom:w=>{const{panZoom:p,minZoom:m}=y();p==null||p.setScaleExtent([m,w]),g({maxZoom:w})},setTranslateExtent:w=>{var p;(p=y().panZoom)==null||p.setTranslateExtent(w),g({translateExtent:w})},resetSelectedElements:()=>{const{edges:w,nodes:p,triggerNodeChanges:m,triggerEdgeChanges:h,elementsSelectable:S}=y();if(!S)return;const E=p.reduce((N,P)=>P.selected?[...N,Mn(P.id,!1)]:N,[]),b=w.reduce((N,P)=>P.selected?[...N,Mn(P.id,!1)]:N,[]);m(E),h(b)},setNodeExtent:w=>{const{nodes:p,nodeLookup:m,parentLookup:h,nodeOrigin:S,elevateNodesOnSelect:E,nodeExtent:b,zIndexMode:N}=y();w[0][0]===b[0][0]&&w[0][1]===b[0][1]&&w[1][0]===b[1][0]&&w[1][1]===b[1][1]||(bu(p,m,h,{nodeOrigin:S,nodeExtent:w,elevateNodesOnSelect:E,checkEquality:!1,zIndexMode:N}),g({nodeExtent:w}))},panBy:w=>{const{transform:p,width:m,height:h,panZoom:S,translateExtent:E}=y();return zb({delta:w,panZoom:S,transform:p,translateExtent:E,width:m,height:h})},setCenter:async(w,p,m)=>{const{width:h,height:S,maxZoom:E,panZoom:b}=y();if(!b)return Promise.resolve(!1);const N=typeof(m==null?void 0:m.zoom)<"u"?m.zoom:E;return await b.setViewport({x:h/2-w*N,y:S/2-p*N,zoom:N},{duration:m==null?void 0:m.duration,ease:m==null?void 0:m.ease,interpolate:m==null?void 0:m.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{g({connection:{...Gg}})},updateConnection:w=>{g({connection:w})},reset:()=>g({..._h()})}},Object.is);function ry({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:s,initialMaxZoom:l,initialFitViewOptions:a,fitView:u,nodeOrigin:f,nodeExtent:c,zIndexMode:d,children:g}){const[y]=k.useState(()=>fC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:u,minZoom:s,maxZoom:l,fitViewOptions:a,nodeOrigin:f,nodeExtent:c,zIndexMode:d}));return v.jsx(I2,{value:y,children:v.jsx(eN,{children:g})})}function hC({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:s,fitView:l,fitViewOptions:a,minZoom:u,maxZoom:f,nodeOrigin:c,nodeExtent:d,zIndexMode:g}){return k.useContext(_l)?v.jsx(v.Fragment,{children:e}):v.jsx(ry,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:s,fitView:l,initialFitViewOptions:a,initialMinZoom:u,initialMaxZoom:f,nodeOrigin:c,nodeExtent:d,zIndexMode:g,children:e})}const pC={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function mC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:s,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:f,onMoveStart:c,onMoveEnd:d,onConnect:g,onConnectStart:y,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:p,onNodeMouseEnter:m,onNodeMouseMove:h,onNodeMouseLeave:S,onNodeContextMenu:E,onNodeDoubleClick:b,onNodeDragStart:N,onNodeDrag:P,onNodeDragStop:T,onNodesDelete:A,onEdgesDelete:L,onDelete:R,onSelectionChange:F,onSelectionDragStart:_,onSelectionDrag:I,onSelectionDragStop:j,onSelectionContextMenu:$,onSelectionStart:C,onSelectionEnd:M,onBeforeDelete:z,connectionMode:D,connectionLineType:O=an.Bezier,connectionLineStyle:W,connectionLineComponent:V,connectionLineContainerStyle:X,deleteKeyCode:G="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:B=!1,selectionMode:Q=ei.Full,panActivationKeyCode:te="Space",multiSelectionKeyCode:J=ni()?"Meta":"Control",zoomActivationKeyCode:Z=ni()?"Meta":"Control",snapToGrid:q,snapGrid:le,onlyRenderVisibleElements:ce=!1,selectNodesOnDrag:se,nodesDraggable:Re,autoPanOnNodeFocus:qt,nodesConnectable:Rt,nodesFocusable:bn,nodeOrigin:Ur=P0,edgesFocusable:Yr,edgesReconnectable:Xr,elementsSelectable:Ml=!0,defaultViewport:xi=W2,minZoom:qn=.5,maxZoom:Gr=2,translateExtent:qc=Jo,preventScrolling:py=!0,nodeExtent:Pl,defaultMarkerColor:my="#b1b1b7",zoomOnScroll:gy=!0,zoomOnPinch:yy=!0,panOnScroll:vy=!1,panOnScrollSpeed:xy=.5,panOnScrollMode:wy=$n.Free,zoomOnDoubleClick:Sy=!0,panOnDrag:ky=!0,onPaneClick:_y,onPaneMouseEnter:Ey,onPaneMouseMove:by,onPaneMouseLeave:Ny,onPaneScroll:Cy,onPaneContextMenu:My,paneClickDistance:Py=1,nodeClickDistance:jy=0,children:Iy,onReconnect:Ry,onReconnectStart:Ty,onReconnectEnd:Ly,onEdgeContextMenu:zy,onEdgeDoubleClick:$y,onEdgeMouseEnter:Ay,onEdgeMouseMove:Dy,onEdgeMouseLeave:Oy,reconnectRadius:Fy=10,onNodesChange:Hy,onEdgesChange:By,noDragClassName:Vy="nodrag",noWheelClassName:Wy="nowheel",noPanClassName:Zc="nopan",fitView:Jc,fitViewOptions:ed,connectOnClick:Uy,attributionPosition:Yy,proOptions:Xy,defaultEdgeOptions:Gy,elevateNodesOnSelect:Ky=!0,elevateEdgesOnSelect:Qy=!1,disableKeyboardA11y:td=!1,autoPanOnConnect:qy,autoPanOnNodeDrag:Zy,autoPanSpeed:Jy,connectionRadius:ev,isValidConnection:tv,onError:nv,style:rv,id:nd,nodeDragThreshold:ov,connectionDragThreshold:iv,viewport:sv,onViewportChange:lv,width:av,height:uv,colorMode:cv="light",debug:dv,onScroll:wi,ariaLabelConfig:fv,zIndexMode:rd="basic",...hv},pv){const jl=nd||"1",mv=G2(cv),gv=k.useCallback(od=>{od.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),wi==null||wi(od)},[wi]);return v.jsx("div",{"data-testid":"rf__wrapper",...hv,onScroll:gv,style:{...rv,...pC},ref:pv,className:Ee(["react-flow",o,mv]),id:nd,role:"application",children:v.jsxs(hC,{nodes:e,edges:t,width:av,height:uv,fitView:Jc,fitViewOptions:ed,minZoom:qn,maxZoom:Gr,nodeOrigin:Ur,nodeExtent:Pl,zIndexMode:rd,children:[v.jsx(dC,{onInit:u,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:m,onNodeMouseMove:h,onNodeMouseLeave:S,onNodeContextMenu:E,onNodeDoubleClick:b,nodeTypes:i,edgeTypes:s,connectionLineType:O,connectionLineStyle:W,connectionLineComponent:V,connectionLineContainerStyle:X,selectionKeyCode:K,selectionOnDrag:B,selectionMode:Q,deleteKeyCode:G,multiSelectionKeyCode:J,panActivationKeyCode:te,zoomActivationKeyCode:Z,onlyRenderVisibleElements:ce,defaultViewport:xi,translateExtent:qc,minZoom:qn,maxZoom:Gr,preventScrolling:py,zoomOnScroll:gy,zoomOnPinch:yy,zoomOnDoubleClick:Sy,panOnScroll:vy,panOnScrollSpeed:xy,panOnScrollMode:wy,panOnDrag:ky,onPaneClick:_y,onPaneMouseEnter:Ey,onPaneMouseMove:by,onPaneMouseLeave:Ny,onPaneScroll:Cy,onPaneContextMenu:My,paneClickDistance:Py,nodeClickDistance:jy,onSelectionContextMenu:$,onSelectionStart:C,onSelectionEnd:M,onReconnect:Ry,onReconnectStart:Ty,onReconnectEnd:Ly,onEdgeContextMenu:zy,onEdgeDoubleClick:$y,onEdgeMouseEnter:Ay,onEdgeMouseMove:Dy,onEdgeMouseLeave:Oy,reconnectRadius:Fy,defaultMarkerColor:my,noDragClassName:Vy,noWheelClassName:Wy,noPanClassName:Zc,rfId:jl,disableKeyboardA11y:td,nodeExtent:Pl,viewport:sv,onViewportChange:lv}),v.jsx(X2,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:y,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:p,nodesDraggable:Re,autoPanOnNodeFocus:qt,nodesConnectable:Rt,nodesFocusable:bn,edgesFocusable:Yr,edgesReconnectable:Xr,elementsSelectable:Ml,elevateNodesOnSelect:Ky,elevateEdgesOnSelect:Qy,minZoom:qn,maxZoom:Gr,nodeExtent:Pl,onNodesChange:Hy,onEdgesChange:By,snapToGrid:q,snapGrid:le,connectionMode:D,translateExtent:qc,connectOnClick:Uy,defaultEdgeOptions:Gy,fitView:Jc,fitViewOptions:ed,onNodesDelete:A,onEdgesDelete:L,onDelete:R,onNodeDragStart:N,onNodeDrag:P,onNodeDragStop:T,onSelectionDrag:I,onSelectionDragStart:_,onSelectionDragStop:j,onMove:f,onMoveStart:c,onMoveEnd:d,noPanClassName:Zc,nodeOrigin:Ur,rfId:jl,autoPanOnConnect:qy,autoPanOnNodeDrag:Zy,autoPanSpeed:Jy,onError:nv,connectionRadius:ev,isValidConnection:tv,selectNodesOnDrag:se,nodeDragThreshold:ov,connectionDragThreshold:iv,onBeforeDelete:z,debug:dv,ariaLabelConfig:fv,zIndexMode:rd}),v.jsx(V2,{onSelectionChange:F}),Iy,v.jsx(D2,{proOptions:Xy,position:Yy}),v.jsx(A2,{rfId:jl,disableKeyboardA11y:td})]})})}var gC=T0(mC);const yC=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function vC({children:e}){const t=oe(yC);return t?Um.createPortal(e,t):null}function xC({dimensions:e,lineWidth:t,variant:n,className:r}){return v.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ee(["react-flow__background-pattern",n,r])})}function wC({radius:e,className:t}){return v.jsx("circle",{cx:e,cy:e,r:e,className:Ee(["react-flow__background-pattern","dots",t])})}var Bt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Bt||(Bt={}));const SC={[Bt.Dots]:1,[Bt.Lines]:1,[Bt.Cross]:6},kC=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function oy({id:e,variant:t=Bt.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:s,bgColor:l,style:a,className:u,patternClassName:f}){const c=k.useRef(null),{transform:d,patternId:g}=oe(kC,ge),y=r||SC[t],x=t===Bt.Dots,w=t===Bt.Cross,p=Array.isArray(n)?n:[n,n],m=[p[0]*d[2]||1,p[1]*d[2]||1],h=y*d[2],S=Array.isArray(i)?i:[i,i],E=w?[h,h]:m,b=[S[0]*d[2]||1+E[0]/2,S[1]*d[2]||1+E[1]/2],N=`${g}${e||""}`;return v.jsxs("svg",{className:Ee(["react-flow__background",u]),style:{...a,...Nl,"--xy-background-color-props":l,"--xy-background-pattern-color-props":s},ref:c,"data-testid":"rf__background",children:[v.jsx("pattern",{id:N,x:d[0]%m[0],y:d[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${b[0]},-${b[1]})`,children:x?v.jsx(wC,{radius:h/2,className:f}):v.jsx(xC,{dimensions:E,lineWidth:o,variant:t,className:f})}),v.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${N})`})]})}oy.displayName="Background";const _C=k.memo(oy);function EC(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:v.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function bC(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:v.jsx("path",{d:"M0 0h32v4.2H0z"})})}function NC(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:v.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function CC(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:v.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function MC(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:v.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Xi({children:e,className:t,...n}){return v.jsx("button",{type:"button",className:Ee(["react-flow__controls-button",t]),...n,children:e})}const PC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function iy({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:a,className:u,children:f,position:c="bottom-left",orientation:d="vertical","aria-label":g}){const y=ye(),{isInteractive:x,minZoomReached:w,maxZoomReached:p,ariaLabelConfig:m}=oe(PC,ge),{zoomIn:h,zoomOut:S,fitView:E}=bl(),b=()=>{h(),i==null||i()},N=()=>{S(),s==null||s()},P=()=>{E(o),l==null||l()},T=()=>{y.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),a==null||a(!x)},A=d==="horizontal"?"horizontal":"vertical";return v.jsxs(El,{className:Ee(["react-flow__controls",A,u]),position:c,style:e,"data-testid":"rf__controls","aria-label":g??m["controls.ariaLabel"],children:[t&&v.jsxs(v.Fragment,{children:[v.jsx(Xi,{onClick:b,className:"react-flow__controls-zoomin",title:m["controls.zoomIn.ariaLabel"],"aria-label":m["controls.zoomIn.ariaLabel"],disabled:p,children:v.jsx(EC,{})}),v.jsx(Xi,{onClick:N,className:"react-flow__controls-zoomout",title:m["controls.zoomOut.ariaLabel"],"aria-label":m["controls.zoomOut.ariaLabel"],disabled:w,children:v.jsx(bC,{})})]}),n&&v.jsx(Xi,{className:"react-flow__controls-fitview",onClick:P,title:m["controls.fitView.ariaLabel"],"aria-label":m["controls.fitView.ariaLabel"],children:v.jsx(NC,{})}),r&&v.jsx(Xi,{className:"react-flow__controls-interactive",onClick:T,title:m["controls.interactive.ariaLabel"],"aria-label":m["controls.interactive.ariaLabel"],children:x?v.jsx(MC,{}):v.jsx(CC,{})}),f]})}iy.displayName="Controls";const jC=k.memo(iy);function IC({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:l,strokeWidth:a,className:u,borderRadius:f,shapeRendering:c,selected:d,onClick:g}){const{background:y,backgroundColor:x}=i||{},w=s||y||x;return v.jsx("rect",{className:Ee(["react-flow__minimap-node",{selected:d},u]),x:t,y:n,rx:f,ry:f,width:r,height:o,style:{fill:w,stroke:l,strokeWidth:a},shapeRendering:c,onClick:g?p=>g(p,e):void 0})}const RC=k.memo(IC),TC=e=>e.nodes.map(t=>t.id),ma=e=>e instanceof Function?e:()=>e;function LC({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=RC,onClick:s}){const l=oe(TC,ge),a=ma(t),u=ma(e),f=ma(n),c=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return v.jsx(v.Fragment,{children:l.map(d=>v.jsx($C,{id:d,nodeColorFunc:a,nodeStrokeColorFunc:u,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:s,shapeRendering:c},d))})}function zC({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:l,onClick:a}){const{node:u,x:f,y:c,width:d,height:g}=oe(y=>{const{internals:x}=y.nodeLookup.get(e),w=x.userNode,{x:p,y:m}=x.positionAbsolute,{width:h,height:S}=Qt(w);return{node:w,x:p,y:m,width:h,height:S}},ge);return!u||u.hidden||!t0(u)?null:v.jsx(l,{x:f,y:c,width:d,height:g,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:o,strokeColor:n(u),strokeWidth:i,shapeRendering:s,onClick:a,id:u.id})}const $C=k.memo(zC);var AC=k.memo(LC);const DC=200,OC=150,FC=e=>!e.hidden,HC=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?e0(mi(e.nodeLookup,{filter:FC}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},BC="react-flow__minimap-desc";function sy({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:l,bgColor:a,maskColor:u,maskStrokeColor:f,maskStrokeWidth:c,position:d="bottom-right",onClick:g,onNodeClick:y,pannable:x=!1,zoomable:w=!1,ariaLabel:p,inversePan:m,zoomStep:h=1,offsetScale:S=5}){const E=ye(),b=k.useRef(null),{boundingRect:N,viewBB:P,rfId:T,panZoom:A,translateExtent:L,flowWidth:R,flowHeight:F,ariaLabelConfig:_}=oe(HC,ge),I=(e==null?void 0:e.width)??DC,j=(e==null?void 0:e.height)??OC,$=N.width/I,C=N.height/j,M=Math.max($,C),z=M*I,D=M*j,O=S*M,W=N.x-(z-N.width)/2-O,V=N.y-(D-N.height)/2-O,X=z+O*2,G=D+O*2,K=`${BC}-${T}`,B=k.useRef(0),Q=k.useRef();B.current=M,k.useEffect(()=>{if(b.current&&A)return Q.current=Wb({domNode:b.current,panZoom:A,getTransform:()=>E.getState().transform,getViewScale:()=>B.current}),()=>{var q;(q=Q.current)==null||q.destroy()}},[A]),k.useEffect(()=>{var q;(q=Q.current)==null||q.update({translateExtent:L,width:R,height:F,inversePan:m,pannable:x,zoomStep:h,zoomable:w})},[x,w,m,h,L,R,F]);const te=g?q=>{var se;const[le,ce]=((se=Q.current)==null?void 0:se.pointer(q))||[0,0];g(q,{x:le,y:ce})}:void 0,J=y?k.useCallback((q,le)=>{const ce=E.getState().nodeLookup.get(le).internals.userNode;y(q,ce)},[]):void 0,Z=p??_["minimap.ariaLabel"];return v.jsx(El,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof c=="number"?c*M:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:Ee(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:v.jsxs("svg",{width:I,height:j,viewBox:`${W} ${V} ${X} ${G}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":K,ref:b,onClick:te,children:[Z&&v.jsx("title",{id:K,children:Z}),v.jsx(AC,{onClick:J,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:l}),v.jsx("path",{className:"react-flow__minimap-mask",d:`M${W-O},${V-O}h${X+O*2}v${G+O*2}h${-X-O*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}sy.displayName="MiniMap";const VC=k.memo(sy),WC=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,UC={[$r.Line]:"right",[$r.Handle]:"bottom-right"};function YC({nodeId:e,position:t,variant:n=$r.Handle,className:r,style:o=void 0,children:i,color:s,minWidth:l=10,minHeight:a=10,maxWidth:u=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:c=!1,resizeDirection:d,autoScale:g=!0,shouldResize:y,onResizeStart:x,onResize:w,onResizeEnd:p}){const m=A0(),h=typeof e=="string"?e:m,S=ye(),E=k.useRef(null),b=n===$r.Handle,N=oe(k.useCallback(WC(b&&g),[b,g]),ge),P=k.useRef(null),T=t??UC[n];k.useEffect(()=>{if(!(!E.current||!h))return P.current||(P.current=o2({domNode:E.current,nodeId:h,getStoreItems:()=>{const{nodeLookup:L,transform:R,snapGrid:F,snapToGrid:_,nodeOrigin:I,domNode:j}=S.getState();return{nodeLookup:L,transform:R,snapGrid:F,snapToGrid:_,nodeOrigin:I,paneDomNode:j}},onChange:(L,R)=>{const{triggerNodeChanges:F,nodeLookup:_,parentLookup:I,nodeOrigin:j}=S.getState(),$=[],C={x:L.x,y:L.y},M=_.get(h);if(M&&M.expandParent&&M.parentId){const z=M.origin??j,D=L.width??M.measured.width??0,O=L.height??M.measured.height??0,W={id:M.id,parentId:M.parentId,rect:{width:D,height:O,...n0({x:L.x??M.position.x,y:L.y??M.position.y},{width:D,height:O},M.parentId,_,z)}},V=Gc([W],_,I,j);$.push(...V),C.x=L.x?Math.max(z[0]*D,L.x):void 0,C.y=L.y?Math.max(z[1]*O,L.y):void 0}if(C.x!==void 0&&C.y!==void 0){const z={id:h,type:"position",position:{...C}};$.push(z)}if(L.width!==void 0&&L.height!==void 0){const D={id:h,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:L.width,height:L.height}};$.push(D)}for(const z of R){const D={...z,type:"position"};$.push(D)}F($)},onEnd:({width:L,height:R})=>{const F={id:h,type:"dimensions",resizing:!1,dimensions:{width:L,height:R}};S.getState().triggerNodeChanges([F])}})),P.current.update({controlPosition:T,boundaries:{minWidth:l,minHeight:a,maxWidth:u,maxHeight:f},keepAspectRatio:c,resizeDirection:d,onResizeStart:x,onResize:w,onResizeEnd:p,shouldResize:y}),()=>{var L;(L=P.current)==null||L.destroy()}},[T,l,a,u,f,c,x,w,p,y]);const A=T.split("-");return v.jsx("div",{className:Ee(["react-flow__resize-control","nodrag",...A,n,r]),ref:E,style:{...o,scale:N,...s&&{[b?"backgroundColor":"borderColor"]:s}},children:i})}k.memo(YC);const Eh=e=>{let t;const n=new Set,r=(u,f)=>{const c=typeof u=="function"?u(t):u;if(!Object.is(c,t)){const d=t;t=f??(typeof c!="object"||c===null)?c:Object.assign({},t,c),n.forEach(g=>g(t,d))}},o=()=>t,l={setState:r,getState:o,getInitialState:()=>a,subscribe:u=>(n.add(u),()=>n.delete(u))},a=t=e(r,o,l);return l},XC=e=>e?Eh(e):Eh,GC=e=>e;function KC(e,t=GC){const n=uo.useSyncExternalStore(e.subscribe,uo.useCallback(()=>t(e.getState()),[e,t]),uo.useCallback(()=>t(e.getInitialState()),[e,t]));return uo.useDebugValue(n),n}const bh=e=>{const t=XC(e),n=r=>KC(t,r);return Object.assign(n,t),n},QC=e=>e?bh(e):bh;function ly(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=ly(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function qC(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=ly(e))&&(r&&(r+=" "),r+=t);return r}const Qc="-",ZC=e=>{const t=e3(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const l=s.split(Qc);return l[0]===""&&l.length!==1&&l.shift(),ay(l,t)||JC(s)},getConflictingClassGroupIds:(s,l)=>{const a=n[s]||[];return l&&r[s]?[...a,...r[s]]:a}}},ay=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?ay(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(Qc);return(s=t.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId},Nh=/^\[(.+)\]$/,JC=e=>{if(Nh.test(e)){const t=Nh.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},e3=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return n3(Object.entries(e.classGroups),n).forEach(([i,s])=>{Mu(s,r,i,t)}),r},Mu=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:Ch(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(t3(o)){Mu(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,s])=>{Mu(s,Ch(t,i),n,r)})})},Ch=(e,t)=>{let n=e;return t.split(Qc).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},t3=e=>e.isThemeGetter,n3=(e,t)=>t?e.map(([n,r])=>{const o=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,l])=>[t+s,l])):i);return[n,o]}):e,r3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let s=n.get(i);if(s!==void 0)return s;if((s=r.get(i))!==void 0)return o(i,s),s},set(i,s){n.has(i)?n.set(i,s):o(i,s)}}},uy="!",o3=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],i=t.length,s=l=>{const a=[];let u=0,f=0,c;for(let w=0;w<l.length;w++){let p=l[w];if(u===0){if(p===o&&(r||l.slice(w,w+i)===t)){a.push(l.slice(f,w)),f=w+i;continue}if(p==="/"){c=w;continue}}p==="["?u++:p==="]"&&u--}const d=a.length===0?l:l.substring(f),g=d.startsWith(uy),y=g?d.substring(1):d,x=c&&c>f?c-f:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:s}):s},i3=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},s3=e=>({cache:r3(e.cacheSize),parseClassName:o3(e),...ZC(e)}),l3=/\s+/,a3=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=[],s=e.trim().split(l3);let l="";for(let a=s.length-1;a>=0;a-=1){const u=s[a],{modifiers:f,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:g}=n(u);let y=!!g,x=r(y?d.substring(0,g):d);if(!x){if(!y){l=u+(l.length>0?" "+l:l);continue}if(x=r(d),!x){l=u+(l.length>0?" "+l:l);continue}y=!1}const w=i3(f).join(":"),p=c?w+uy:w,m=p+x;if(i.includes(m))continue;i.push(m);const h=o(x,y);for(let S=0;S<h.length;++S){const E=h[S];i.push(p+E)}l=u+(l.length>0?" "+l:l)}return l};function u3(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=cy(t))&&(r&&(r+=" "),r+=n);return r}const cy=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=cy(e[r]))&&(n&&(n+=" "),n+=t);return n};function c3(e,...t){let n,r,o,i=s;function s(a){const u=t.reduce((f,c)=>c(f),e());return n=s3(u),r=n.cache.get,o=n.cache.set,i=l,l(a)}function l(a){const u=r(a);if(u)return u;const f=a3(a,n);return o(a,f),f}return function(){return i(u3.apply(null,arguments))}}const de=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},dy=/^\[(?:([a-z-]+):)?(.+)\]$/i,d3=/^\d+\/\d+$/,f3=new Set(["px","full","screen"]),h3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,p3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,m3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,g3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,y3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lt=e=>kr(e)||f3.has(e)||d3.test(e),tn=e=>Wr(e,"length",b3),kr=e=>!!e&&!Number.isNaN(Number(e)),ga=e=>Wr(e,"number",kr),so=e=>!!e&&Number.isInteger(Number(e)),v3=e=>e.endsWith("%")&&kr(e.slice(0,-1)),ee=e=>dy.test(e),nn=e=>h3.test(e),x3=new Set(["length","size","percentage"]),w3=e=>Wr(e,x3,fy),S3=e=>Wr(e,"position",fy),k3=new Set(["image","url"]),_3=e=>Wr(e,k3,C3),E3=e=>Wr(e,"",N3),lo=()=>!0,Wr=(e,t,n)=>{const r=dy.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},b3=e=>p3.test(e)&&!m3.test(e),fy=()=>!1,N3=e=>g3.test(e),C3=e=>y3.test(e),M3=()=>{const e=de("colors"),t=de("spacing"),n=de("blur"),r=de("brightness"),o=de("borderColor"),i=de("borderRadius"),s=de("borderSpacing"),l=de("borderWidth"),a=de("contrast"),u=de("grayscale"),f=de("hueRotate"),c=de("invert"),d=de("gap"),g=de("gradientColorStops"),y=de("gradientColorStopPositions"),x=de("inset"),w=de("margin"),p=de("opacity"),m=de("padding"),h=de("saturate"),S=de("scale"),E=de("sepia"),b=de("skew"),N=de("space"),P=de("translate"),T=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",ee,t],R=()=>[ee,t],F=()=>["",Lt,tn],_=()=>["auto",kr,ee],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",ee],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[kr,ee];return{cacheSize:500,separator:":",theme:{colors:[lo],spacing:[Lt,tn],blur:["none","",nn,ee],brightness:D(),borderColor:[e],borderRadius:["none","","full",nn,ee],borderSpacing:R(),borderWidth:F(),contrast:D(),grayscale:M(),hueRotate:D(),invert:M(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[v3,tn],inset:L(),margin:L(),opacity:D(),padding:R(),saturate:D(),scale:D(),sepia:M(),skew:D(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ee]}],container:["container"],columns:[{columns:[nn]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),ee]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",so,ee]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ee]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",so,ee]}],"grid-cols":[{"grid-cols":[lo]}],"col-start-end":[{col:["auto",{span:["full",so,ee]},ee]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[lo]}],"row-start-end":[{row:["auto",{span:[so,ee]},ee]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ee]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ee,t]}],"min-w":[{"min-w":[ee,t,"min","max","fit"]}],"max-w":[{"max-w":[ee,t,"none","full","min","max","fit","prose",{screen:[nn]},nn]}],h:[{h:[ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",nn,tn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ga]}],"font-family":[{font:[lo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ee]}],"line-clamp":[{"line-clamp":["none",kr,ga]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Lt,ee]}],"list-image":[{"list-image":["none",ee]}],"list-style-type":[{list:["none","disc","decimal",ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Lt,tn]}],"underline-offset":[{"underline-offset":["auto",Lt,ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),S3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",w3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:j()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Lt,ee]}],"outline-w":[{outline:[Lt,tn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Lt,tn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",nn,E3]}],"shadow-color":[{shadow:[lo]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",nn,ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[h]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[h]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ee]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",ee]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[so,ee]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Lt,tn,ga]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},P3=c3(M3);function jo(...e){return P3(qC(e))}let Mh=0;function j3(e){return Mh++,`${e}_${Date.now()}_${Mh}`}function I3(e,t,n){const r=n?`_${n}`:"";return`e_${e}${r}_${t}`}const R3=new Set(["trigger_start"]),T3=new Set(["action_handoff","utility_note"]);function L3(e,t){return R3.has(e)||t>0?null:{type:"orphan",severity:"error",message:"Bu adima hicbir yerden ulasilamiyor"}}function z3(e,t){return T3.has(e)||t>0?null:{type:"dead_end",severity:"warning",message:"Bu adimdan sonra devam eden bir baglanti yok"}}function $3(e){const t=e.type,n=e.data;switch(t){case"message_text":{const r=n.text;if(!r||r.trim()==="")return{type:"empty_field",severity:"warning",message:"Mesaj metni bos"};break}case"message_menu":{const r=n.options;if(!r||r.length===0)return{type:"empty_field",severity:"warning",message:"Menu secenegi eklenmedi"};break}}return null}function A3(e,t){const n=new Map,r=new Map,o=new Map;for(const i of e)r.set(i.id,0),o.set(i.id,0);for(const i of t)r.set(i.target,(r.get(i.target)??0)+1),o.set(i.source,(o.get(i.source)??0)+1);for(const i of e){const s=[],l=i.type,a=r.get(i.id)??0,u=o.get(i.id)??0,f=L3(l,a);f&&s.push(f);const c=z3(l,u);c&&s.push(c);const d=$3(i);d&&s.push(d),s.length>0&&n.set(i.id,s)}return n}function D3(e){return e.length===0?null:e.some(n=>n.severity==="error")?"#ef4444":"#f97316"}function O3(e){return e.map(t=>t.message).join(`
`)}const Ph=Ds(),re=QC((e,t)=>({nodes:[],edges:[],selectedNodeId:null,isDirty:!1,flowMetadata:{...Ph.metadata},flowSettings:{...Ph.settings},validationErrors:new Map,history:[],historyIndex:-1,revalidate:()=>{const n=t(),r=A3(n.nodes,n.edges);e({validationErrors:r})},onNodesChange:n=>{e(r=>({nodes:I0(n,r.nodes),isDirty:!0})),queueMicrotask(()=>t().revalidate())},onEdgesChange:n=>{e(r=>({edges:R0(n,r.edges),isDirty:!0})),queueMicrotask(()=>t().revalidate())},onConnect:n=>{const r=I3(n.source??"",n.target??"",n.sourceHandle??void 0);e(o=>(t().pushHistory(),{edges:a0({...n,id:r},o.edges),isDirty:!0})),queueMicrotask(()=>t().revalidate())},addNode:(n,r)=>{const o=mg(n);if(!o)return;const i=t();if(o.maxInstances&&i.nodes.filter(u=>u.type===n).length>=o.maxInstances)return;t().pushHistory();const s=j3(n),l={id:s,type:n,position:r,data:{...o.defaultData}};e({nodes:[...i.nodes,l],selectedNodeId:s,isDirty:!0}),queueMicrotask(()=>t().revalidate())},deleteNode:n=>{t().pushHistory(),e(r=>({nodes:r.nodes.filter(o=>o.id!==n),edges:r.edges.filter(o=>o.source!==n&&o.target!==n),selectedNodeId:r.selectedNodeId===n?null:r.selectedNodeId,isDirty:!0})),queueMicrotask(()=>t().revalidate())},updateNodeData:(n,r)=>{e(o=>({nodes:o.nodes.map(i=>i.id===n?{...i,data:{...i.data,...r}}:i),isDirty:!0})),queueMicrotask(()=>t().revalidate())},selectNode:n=>{e({selectedNodeId:n})},loadFlow:n=>{const r=Ds(),o=(n.nodes??[]).map(s=>({id:s.id,type:s.type,position:s.position,data:s.data})),i=(n.edges??[]).map(s=>({id:s.id,source:s.source,target:s.target,sourceHandle:s.sourceHandle,targetHandle:s.targetHandle}));e({nodes:o,edges:i,selectedNodeId:null,isDirty:!1,flowMetadata:{...r.metadata,...n.metadata},flowSettings:{...r.settings,...n.settings},history:[],historyIndex:-1}),queueMicrotask(()=>t().revalidate())},toFlowConfig:()=>{const n=t();return{version:2,metadata:n.flowMetadata,nodes:n.nodes.map(r=>({id:r.id,type:r.type,position:r.position,data:r.data})),edges:n.edges.map(r=>({id:r.id,source:r.source,target:r.target,sourceHandle:r.sourceHandle??void 0,targetHandle:r.targetHandle??void 0})),settings:n.flowSettings}},newFlow:()=>{const n=Ds();t().loadFlow(n),e({isDirty:!1})},setMetadata:n=>{e(r=>({flowMetadata:{...r.flowMetadata,...n},isDirty:!0}))},setSettings:n=>{e(r=>({flowSettings:{...r.flowSettings,...n},isDirty:!0}))},markClean:()=>e({isDirty:!1}),pushHistory:()=>{const n=t(),r={nodes:JSON.parse(JSON.stringify(n.nodes)),edges:JSON.parse(JSON.stringify(n.edges))},o=n.history.slice(0,n.historyIndex+1);o.push(r),o.length>50&&o.shift(),e({history:o,historyIndex:o.length-1})},undo:()=>{const n=t();if(n.historyIndex<0)return;const r=n.history[n.historyIndex];e({nodes:r.nodes,edges:r.edges,historyIndex:n.historyIndex-1,isDirty:!0}),queueMicrotask(()=>t().revalidate())},redo:()=>{const n=t();if(n.historyIndex>=n.history.length-1)return;const r=n.historyIndex+1;if(r+1<n.history.length){const o=n.history[r+1];e({nodes:o.nodes,edges:o.edges,historyIndex:r,isDirty:!0}),queueMicrotask(()=>t().revalidate())}}}));function F3({nodeProps:e,color:t,icon:n,children:r,outputs:o,hasInput:i=!0,hasDefaultOutput:s=!0}){const{id:l,data:a,selected:u}=e,f=re(x=>x.selectNode),c=re(x=>x.validationErrors.get(l)??[]),d=a.label??"",g=D3(c),y=O3(c);return v.jsxs("div",{className:jo("min-w-[180px] max-w-[260px] rounded-lg border-2 shadow-lg transition-shadow",u?"shadow-xl ring-2 ring-blue-400/50":"shadow-md"),style:{borderColor:u?"#60a5fa":t,background:"#ffffff",...g&&!u?{boxShadow:`0 0 0 3px ${g}40, 0 0 8px ${g}30`}:{}},onClick:()=>f(l),title:y||void 0,children:[v.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-t-md",style:{background:`${t}20`},children:[v.jsx("span",{className:"flex-shrink-0 w-5 h-5",style:{color:t},children:n}),v.jsx("span",{className:"text-base font-medium truncate text-slate-700",children:d})]}),r&&v.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:r}),i&&v.jsx(An,{type:"target",position:Y.Top,className:"!w-3 !h-3 !border-2 !bg-blue-500 !border-blue-300 hover:!bg-blue-300 hover:!border-blue-100 transition-colors"}),s&&!o&&v.jsx(An,{type:"source",position:Y.Bottom,className:"!w-3 !h-3 !border-2 !bg-emerald-500 !border-emerald-300 hover:!bg-emerald-300 hover:!border-emerald-100 transition-colors"}),o&&o.length>0&&v.jsx("div",{className:"relative pb-3",children:o.map((x,w)=>{const p=o.length,m=p===1?50:w/(p-1)*80+10;return v.jsxs("div",{children:[v.jsx(An,{type:"source",position:Y.Bottom,id:x.id,className:"!w-3 !h-3 !border-2 !bg-emerald-500 !border-emerald-300 hover:!bg-emerald-300 hover:!border-emerald-100 transition-colors",style:{left:`${m}%`}}),x.label&&v.jsx("span",{className:"absolute text-[11px] text-slate-400 whitespace-nowrap",style:{left:`${m}%`,bottom:"2px",transform:"translateX(-50%)"},children:x.label})]},x.id)})})]})}const Cl=k.memo(F3),H3=()=>v.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:v.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})});function B3(e){return v.jsx(Cl,{nodeProps:e,color:"#10b981",icon:v.jsx(H3,{}),hasInput:!1,children:v.jsx("span",{className:"text-emerald-400/70",children:"Musteri mesaj gonderince baslar"})})}const V3=k.memo(B3),W3=()=>v.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:v.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})});function U3(e){const t=e.data,n=t.text?t.text.length>60?t.text.substring(0,60)+"...":t.text:"Mesaj metni girilmedi";return v.jsx(Cl,{nodeProps:e,color:"#3b82f6",icon:v.jsx(W3,{}),children:v.jsx("span",{className:t.text?"text-slate-300":"text-slate-500 italic",children:n})})}const Y3=k.memo(U3),X3=()=>v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[v.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),v.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),v.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),v.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),v.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),v.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]});function G3(e){const n=e.data.options??[],r=n.map(o=>({id:o.handle_id,label:o.key}));return v.jsx(Cl,{nodeProps:e,color:"#3b82f6",icon:v.jsx(X3,{}),hasDefaultOutput:!1,outputs:r,children:v.jsxs("div",{className:"space-y-1",children:[n.length===0&&v.jsx("span",{className:"text-slate-400 italic",children:"Secenek eklenmedi"}),n.map(o=>v.jsxs("div",{className:"flex items-center gap-1.5",children:[v.jsx("span",{className:"w-5 h-5 rounded bg-blue-500/20 text-blue-400 flex items-center justify-center text-xs font-bold flex-shrink-0",children:o.key}),v.jsx("span",{className:"text-slate-600 truncate",children:o.label})]},o.handle_id))]})})}const K3=k.memo(G3),Q3=()=>v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[v.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),v.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),v.jsx("polyline",{points:"17 11 19 13 23 9"})]});function q3(e){const t=e.data;return v.jsx(Cl,{nodeProps:e,color:"#ef4444",icon:v.jsx(Q3,{}),hasDefaultOutput:!1,children:v.jsxs("div",{className:"space-y-1",children:[v.jsx("span",{className:"text-red-400/70",children:"Terminal - session biter"}),t.summary_template&&v.jsxs("div",{className:"text-slate-400 text-[10px] mt-1 truncate",children:["Ozet: ",t.summary_template]})]})})}const Z3=k.memo(q3);function J3(e){const{id:t,data:n,selected:r}=e,o=n,i=re(l=>l.selectNode),s=o.color||"#fef3c7";return v.jsxs("div",{className:"min-w-[160px] max-w-[280px] rounded-lg shadow-md transition-shadow",style:{background:s,border:r?"2px solid #60a5fa":"2px dashed #d4a574",boxShadow:r?"0 0 0 2px rgba(96,165,250,0.3)":void 0},onClick:()=>i(t),children:[v.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 border-b border-amber-300/50",children:[v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#92400e",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 flex-shrink-0",children:[v.jsx("line",{x1:"18",y1:"2",x2:"22",y2:"6"}),v.jsx("path",{d:"M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"})]}),v.jsx("span",{className:"text-xs font-medium text-amber-900 truncate",children:o.label||"Not"})]}),o.text&&v.jsx("div",{className:"px-3 py-2 text-xs text-amber-800 whitespace-pre-wrap break-words",children:o.text.length>120?o.text.substring(0,120)+"...":o.text}),!o.text&&v.jsx("div",{className:"px-3 py-2 text-xs text-amber-600/60 italic",children:"Not metni girilmedi"})]})}const eM=k.memo(J3),tM={trigger_start:V3,message_text:Y3,message_menu:K3,action_handoff:Z3,utility_note:eM};function nM({id:e,sourceX:t,sourceY:n,targetX:r,targetY:o,sourcePosition:i,targetPosition:s,style:l={},markerEnd:a,selected:u}){const{setEdges:f}=bl(),[c,d,g]=Vc({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:o,targetPosition:s}),y=x=>{x.stopPropagation(),f(w=>w.filter(p=>p.id!==e))};return v.jsxs(v.Fragment,{children:[v.jsx(vi,{path:c,markerEnd:a,style:{...l,stroke:u?"#3b82f6":"#94a3b8",strokeWidth:u?3:2}}),v.jsx(vC,{children:v.jsx("div",{className:"nodrag nopan pointer-events-auto group",style:{position:"absolute",transform:`translate(-50%, -50%) translate(${d}px,${g}px)`},children:v.jsx("button",{onClick:y,className:"w-5 h-5 rounded-full bg-white border border-slate-300 flex items-center justify-center opacity-0 group-hover:opacity-100 hover:bg-red-500 hover:border-red-400 transition-all duration-150 cursor-pointer shadow-sm",title:"Baglantiyi Sil",children:v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"w-2.5 h-2.5 text-slate-500 hover:text-white",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})})]})}const rM={deletable:nM};function oM(){const e=k.useRef(null),t=k.useRef(null),n=re(w=>w.nodes),r=re(w=>w.edges),o=re(w=>w.onNodesChange),i=re(w=>w.onEdgesChange),s=re(w=>w.onConnect),l=re(w=>w.addNode),a=re(w=>w.selectNode),u=re(w=>w.deleteNode),f=k.useCallback(w=>{t.current=w},[]),c=k.useCallback(w=>{w.preventDefault(),w.dataTransfer.dropEffect="move"},[]),d=k.useCallback(w=>{w.preventDefault();const p=w.dataTransfer.getData("application/invekto-node-type");if(!p||!t.current||!e.current)return;const m=e.current.getBoundingClientRect(),h=t.current.screenToFlowPosition({x:w.clientX-m.left,y:w.clientY-m.top});l(p,h)},[l]),g=k.useCallback(w=>w.source!==w.target,[]),y=k.useCallback(()=>{a(null)},[a]),x=k.useCallback(w=>{if(w.key==="Delete"||w.key==="Backspace"){const p=re.getState().selectedNodeId;if(p){const m=re.getState().nodes.find(h=>h.id===p);if((m==null?void 0:m.type)==="trigger_start")return;u(p)}}},[u]);return v.jsx("div",{ref:e,className:"flex-1 min-h-0",onKeyDown:x,tabIndex:0,children:v.jsxs(gC,{nodes:n,edges:r,onNodesChange:o,onEdgesChange:i,onConnect:s,onInit:f,onDrop:d,onDragOver:c,onPaneClick:y,isValidConnection:g,nodeTypes:tM,edgeTypes:rM,fitView:!0,fitViewOptions:{padding:.2},deleteKeyCode:["Delete","Backspace"],defaultEdgeOptions:{type:"deletable",animated:!0,style:{stroke:"#94a3b8",strokeWidth:2},interactionWidth:20},connectionLineStyle:{stroke:"#3b82f6",strokeWidth:2},edgesReconnectable:!0,proOptions:{hideAttribution:!0},children:[v.jsx(_C,{variant:Bt.Dots,gap:20,size:1,color:"#cbd5e1"}),v.jsx(jC,{showInteractive:!1,position:"bottom-right"}),v.jsx(VC,{nodeColor:w=>{switch(w.type){case"trigger_start":return"#10b981";case"message_text":return"#3b82f6";case"message_menu":return"#3b82f6";case"action_handoff":return"#ef4444";case"logic_condition":return"#f59e0b";case"ai_intent":return"#8b5cf6";case"ai_faq":return"#8b5cf6";default:return"#6b7280"}},maskColor:"rgba(241, 245, 249, 0.8)",position:"bottom-left"})]})})}const ya=5;function iM(e){const t=e.data,n=e.type;switch(n){case"trigger_start":return"Musteri mesaj gonderir";case"message_text":{const r=t.text;return!r||r.trim()===""?"Mesaj (bos)":r.length>40?r.substring(0,40)+"...":r}case"message_menu":return`Menu: ${t.text||"Secim yapin"}`;case"action_handoff":return"Temsilciye aktar";case"utility_note":return"";default:return t.label||n}}function sM(e,t){if(e.length===0)return{lines:[],totalSteps:0,hasErrors:!1};const n=e.find(a=>a.type==="trigger_start");if(!n)return{lines:[{text:"Baslangic adimi bulunamadi",indent:0,nodeType:"trigger_start"}],totalSteps:0,hasErrors:!0};const r=new Map;for(const a of t){const u=r.get(a.source)??[];u.push({target:a.target,sourceHandle:a.sourceHandle??void 0}),r.set(a.source,u)}const o=new Map(e.map(a=>[a.id,a])),i=[],s=new Set;function l(a,u){if(s.has(a))return;s.add(a);const f=o.get(a);if(!f)return;const c=f.type;if(c!=="utility_note"){const g=iM(f);g&&i.push({text:g,indent:u,nodeType:c})}if(c==="message_menu"){const g=f.data,y=r.get(a)??[];for(const x of g.options??[]){i.push({text:`${x.key}. ${x.label}`,indent:u+1,nodeType:"message_menu"});const w=y.find(p=>p.sourceHandle===x.handle_id);w&&l(w.target,u+2)}return}const d=r.get(a)??[];for(const g of d)l(g.target,u)}return l(n.id,0),{lines:i,totalSteps:i.length,hasErrors:!1}}function lM(e){return e.lines.length<=ya?{displayLines:e.lines,truncatedCount:0}:{displayLines:e.lines.slice(0,ya),truncatedCount:e.lines.length-ya}}const jh="invekto_flow_summary_collapsed";function aM(e){switch(e){case"trigger_start":return"";case"message_text":return"";case"message_menu":return"";case"action_handoff":return"";default:return""}}function uM({line:e}){const t=e.indent*16;return v.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-600 leading-5",style:{paddingLeft:t},children:[v.jsx("span",{className:"flex-shrink-0 text-[10px]",children:aM(e.nodeType)}),v.jsx("span",{className:"truncate",children:e.text})]})}function cM(){const e=re(a=>a.nodes),t=re(a=>a.edges),[n,r]=k.useState(()=>{try{return localStorage.getItem(jh)==="true"}catch(a){return console.warn("FlowSummaryBar: localStorage okunamadi",a),!1}});k.useEffect(()=>{try{localStorage.setItem(jh,String(n))}catch(a){console.warn("FlowSummaryBar: localStorage yazilamadi",a)}},[n]);const o=k.useMemo(()=>sM(e,t),[e,t]),{displayLines:i,truncatedCount:s}=k.useMemo(()=>lM(o),[o]),l=o.lines.length>0;return v.jsxs("div",{className:"border-t border-slate-200 bg-white flex-shrink-0",children:[v.jsxs("button",{onClick:()=>r(a=>!a),className:"w-full flex items-center justify-between px-4 py-1.5 text-xs font-medium text-slate-500 hover:bg-slate-50 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`w-3 h-3 transition-transform ${n?"":"rotate-180"}`,children:v.jsx("polyline",{points:"6 9 12 15 18 9"})}),v.jsx("span",{children:"Canli Onizleme"}),l&&v.jsxs("span",{className:"text-slate-400",children:["(",o.totalSteps," adim)"]})]}),o.hasErrors&&v.jsx("span",{className:"text-red-500 text-[10px]",children:"Baslangic bulunamadi"})]}),!n&&v.jsxs("div",{className:"px-4 pb-2 space-y-0.5",children:[!l&&!o.hasErrors&&v.jsx("div",{className:"text-xs text-slate-400 italic py-1",children:"Henuz adim eklenmedi"}),i.map((a,u)=>v.jsx(uM,{line:a},u)),s>0&&v.jsxs("div",{className:"text-xs text-slate-400 italic mt-1",children:["... ve ",s," adim daha"]})]})]})}const dM=k.memo(cM),fM={trigger:"Tetikleyici",message:"Mesaj",logic:"Mantik",ai:"Yapay Zeka",action:"Aksiyon",utility:"Araclar"},hy=["trigger","message","logic","ai","action","utility"];function hM(e){const t=new Map;for(const n of hy){const r=e.filter(o=>o.category===n);r.length>0&&t.set(n,r)}return t}function pM({info:e}){const t=(n,r)=>{n.dataTransfer.setData("application/invekto-node-type",r),n.dataTransfer.effectAllowed="move"};return v.jsxs("div",{draggable:!0,onDragStart:n=>t(n,e.type),className:jo("flex items-center gap-2 px-3 py-2 rounded-md cursor-grab active:cursor-grabbing","border border-transparent hover:border-slate-300 transition-colors","bg-slate-50 hover:bg-slate-100"),children:[v.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:e.color}}),v.jsxs("div",{className:"min-w-0",children:[v.jsx("div",{className:"text-xs font-medium text-slate-700 truncate",children:e.label}),v.jsx("div",{className:"text-[10px] text-slate-400 truncate",children:e.description})]})]})}function mM(){const e=hM(pg);return v.jsxs("div",{className:"w-52 bg-white border-r border-slate-200 overflow-y-auto flex-shrink-0",children:[v.jsxs("div",{className:"p-3 border-b border-slate-200",children:[v.jsx("h2",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Node'lar"}),v.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:"Surukle birak"})]}),v.jsx("div",{className:"p-2 space-y-3",children:hy.map(t=>{const n=e.get(t);return n?v.jsxs("div",{children:[v.jsx("div",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-wider px-1 mb-1",children:fM[t]}),v.jsx("div",{className:"space-y-1",children:n.map(r=>v.jsx(pM,{info:r},r.type))})]},t):null})})]})}function gM({onSave:e,isSaving:t,onBack:n}){const r=re(d=>d.isDirty),o=re(d=>d.flowMetadata),i=re(d=>d.setMetadata),s=re(d=>d.undo),l=re(d=>d.redo),a=re(d=>d.historyIndex),u=re(d=>d.history.length),f=a>=0,c=a<u-1;return v.jsxs("div",{className:"h-12 bg-white border-b border-slate-200 flex items-center px-4 gap-3 flex-shrink-0 shadow-sm",children:[n&&v.jsx("button",{onClick:n,className:"p-1.5 rounded hover:bg-slate-100 transition-colors text-slate-600",title:"Flow Listesine Don",children:v.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:v.jsx("polyline",{points:"15 18 9 12 15 6"})})}),v.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[v.jsx("input",{type:"text",value:o.name,onChange:d=>i({name:d.target.value}),className:"bg-transparent text-sm font-medium text-slate-900 border-none outline-none w-40 focus:ring-1 focus:ring-blue-500/50 rounded px-2 py-1",placeholder:"Flow Adi"}),v.jsx("span",{className:"text-slate-300",children:"|"}),v.jsx("input",{type:"text",value:o.description??"",onChange:d=>i({description:d.target.value}),className:"bg-transparent text-xs text-slate-500 border-none outline-none w-56 focus:ring-1 focus:ring-blue-500/50 rounded px-2 py-1",placeholder:"Flow aciklamasi..."})]}),r&&v.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400 flex-shrink-0",title:"Kaydedilmemis degisiklikler"}),v.jsx("div",{className:"flex-1"}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:s,disabled:!f,className:jo("p-1.5 rounded hover:bg-slate-100 transition-colors",f?"text-slate-600":"text-slate-300 cursor-not-allowed"),title:"Geri Al (Ctrl+Z)",children:v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[v.jsx("polyline",{points:"1 4 1 10 7 10"}),v.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]})}),v.jsx("button",{onClick:l,disabled:!c,className:jo("p-1.5 rounded hover:bg-slate-100 transition-colors",c?"text-slate-600":"text-slate-300 cursor-not-allowed"),title:"Ileri Al (Ctrl+Y)",children:v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[v.jsx("polyline",{points:"23 4 23 10 17 10"}),v.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]})})]}),v.jsx("div",{className:"w-px h-6 bg-slate-200"}),v.jsxs("button",{onClick:e,disabled:t||!r,className:jo("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium transition-colors",r&&!t?"bg-blue-600 hover:bg-blue-500 text-white":"bg-slate-100 text-slate-400 cursor-not-allowed"),children:[v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[v.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),v.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),v.jsx("polyline",{points:"7 3 7 8 15 8"})]}),t?"Kaydediliyor...":"Kaydet"]})]})}function yM(){const e=re(a=>a.selectedNodeId),t=re(a=>a.nodes),n=re(a=>a.updateNodeData),r=re(a=>a.deleteNode),o=e?t.find(a=>a.id===e):null;if(!o)return v.jsx("div",{className:"w-64 bg-white border-l border-slate-200 flex-shrink-0 flex items-center justify-center",children:v.jsx("p",{className:"text-sm text-slate-400 text-center px-4",children:"Ozelliklerini duzenlemek icin bir node secin"})});const i=o.type,s=mg(i),l=a=>{n(o.id,a)};return v.jsxs("div",{className:"w-64 bg-white border-l border-slate-200 flex-shrink-0 overflow-y-auto",children:[v.jsxs("div",{className:"p-3 border-b border-slate-200",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:(s==null?void 0:s.color)??"#6b7280"}}),v.jsx("span",{className:"text-base font-medium text-slate-700",children:(s==null?void 0:s.label)??i})]}),v.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:s==null?void 0:s.description})]}),v.jsxs("div",{className:"p-3 space-y-3",children:[v.jsx(Xn,{label:"Etiket",children:v.jsx("input",{type:"text",value:o.data.label??"",onChange:a=>l({label:a.target.value}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500"})}),i==="trigger_start"&&v.jsx(vM,{}),i==="message_text"&&v.jsx(xM,{data:o.data,onChange:l}),i==="message_menu"&&v.jsx(wM,{data:o.data,onChange:l}),i==="action_handoff"&&v.jsx(SM,{data:o.data,onChange:l}),i==="utility_note"&&v.jsx(kM,{data:o.data,onChange:l}),i!=="trigger_start"&&v.jsx("div",{className:"pt-3 border-t border-slate-200",children:v.jsx("button",{onClick:()=>r(o.id),className:"w-full px-3 py-1.5 rounded-md text-sm font-medium bg-red-50 text-red-600 hover:bg-red-100 transition-colors",children:"Node'u Sil"})})]})]})}function Xn({label:e,children:t}){return v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-slate-500 uppercase tracking-wider mb-1",children:e}),t]})}function vM(){return v.jsx("p",{className:"text-xs text-slate-400",children:"Baslangic node'u yapilandirma gerektirmez. Musteri mesaj gonderdiginde bu node'dan akis baslar."})}function xM({data:e,onChange:t}){return v.jsx(Xn,{label:"Mesaj Metni",children:v.jsx("textarea",{value:e.text??"",onChange:n=>t({text:n.target.value}),rows:4,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-xs text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Gonderilecek mesaj..."})})}function wM({data:e,onChange:t}){const n=e.options??[],r=(s,l,a)=>{const u=[...n];u[s]={...u[s],[l]:a},t({options:u})},o=()=>{const s=String(n.length+1),l={key:s,label:`Secenek ${s}`,handle_id:`opt_${s}`};t({options:[...n,l]})},i=s=>{t({options:n.filter((l,a)=>a!==s)})};return v.jsxs(v.Fragment,{children:[v.jsx(Xn,{label:"Menu Metni",children:v.jsx("input",{type:"text",value:e.text??"",onChange:s=>t({text:s.target.value}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500",placeholder:"Secim yapin:"})}),v.jsxs(Xn,{label:"Secenekler",children:[v.jsx("div",{className:"space-y-2",children:n.map((s,l)=>v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("input",{type:"text",value:s.key,onChange:a=>r(l,"key",a.target.value),className:"w-8 bg-slate-50 border border-slate-300 rounded px-1 py-1 text-xs text-slate-700 outline-none focus:border-blue-500 text-center"}),v.jsx("input",{type:"text",value:s.label,onChange:a=>r(l,"label",a.target.value),className:"flex-1 bg-slate-50 border border-slate-300 rounded px-2 py-1 text-sm text-slate-700 outline-none focus:border-blue-500"}),v.jsx("button",{onClick:()=>i(l),className:"p-0.5 text-slate-400 hover:text-red-500 transition-colors",title:"Kaldir",children:v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},s.handle_id))}),v.jsx("button",{onClick:o,className:"mt-2 w-full px-2 py-1 rounded border border-dashed border-slate-300 text-sm text-slate-500 hover:border-blue-500 hover:text-blue-600 transition-colors",children:"+ Secenek Ekle"})]})]})}function SM({data:e,onChange:t}){return v.jsx(Xn,{label:"Ozet Sablonu",children:v.jsx("textarea",{value:e.summary_template??"",onChange:n=>t({summary_template:n.target.value}),rows:3,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-xs text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Temsilciye aktarilacak ozet..."})})}function kM({data:e,onChange:t}){const n=[{label:"Sari",value:"#fef3c7"},{label:"Mavi",value:"#dbeafe"},{label:"Yesil",value:"#dcfce7"},{label:"Kirmizi",value:"#fee2e2"},{label:"Mor",value:"#ede9fe"}];return v.jsxs(v.Fragment,{children:[v.jsx(Xn,{label:"Not Metni",children:v.jsx("textarea",{value:e.text??"",onChange:r=>t({text:r.target.value}),rows:5,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-xs text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Notunuz..."})}),v.jsx(Xn,{label:"Renk",children:v.jsx("div",{className:"flex gap-1.5",children:n.map(r=>v.jsx("button",{onClick:()=>t({color:r.value}),className:"w-6 h-6 rounded border-2 transition-transform hover:scale-110",style:{backgroundColor:r.value,borderColor:(e.color||"#fef3c7")===r.value?"#3b82f6":"transparent"},title:r.label},r.value))})})]})}function _M(){const e=re(n=>n.flowSettings),t=re(n=>n.setSettings);return v.jsxs("div",{className:"w-64 bg-white border-l border-slate-200 flex-shrink-0 overflow-y-auto",children:[v.jsx("div",{className:"p-3 border-b border-slate-200",children:v.jsx("span",{className:"text-base font-medium text-slate-700",children:"Flow Ayarlari"})}),v.jsxs("div",{className:"p-3 space-y-3",children:[v.jsx(ao,{label:"Mesai Disi Mesaji",children:v.jsx("textarea",{value:e.off_hours_message??"",onChange:n=>t({off_hours_message:n.target.value}),rows:3,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Mesai saatleri disinda gonderilecek mesaj..."})}),v.jsx(ao,{label:"Bilinmeyen Girdi Mesaji",children:v.jsx("textarea",{value:e.unknown_input_message??"",onChange:n=>t({unknown_input_message:n.target.value}),rows:2,className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500 resize-none",placeholder:"Gecersiz girdi mesaji..."})}),v.jsx(ao,{label:"Handoff Guven Esigi",children:v.jsx("input",{type:"number",min:0,max:1,step:.1,value:e.handoff_confidence_threshold,onChange:n=>t({handoff_confidence_threshold:parseFloat(n.target.value)||.5}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500"})}),v.jsx(ao,{label:"Session Zaman Asimi (dk)",children:v.jsx("input",{type:"number",min:1,max:1440,value:e.session_timeout_minutes,onChange:n=>t({session_timeout_minutes:parseInt(n.target.value)||30}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500"})}),v.jsx(ao,{label:"Maks. Dongu Sayisi",children:v.jsx("input",{type:"number",min:1,max:100,value:e.max_loop_count,onChange:n=>t({max_loop_count:parseInt(n.target.value)||10}),className:"w-full bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-sm text-slate-700 outline-none focus:border-blue-500"})})]})]})}function ao({label:e,children:t}){return v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-slate-500 uppercase tracking-wider mb-1",children:e}),t]})}function EM(){const{flowId:e}=E1(),t=ci(),{session:n}=Ic(),r=(n==null?void 0:n.tenant_id)??0,o=parseInt(e??"0",10),[i,s]=k.useState("properties"),[l,a]=k.useState(!1),[u,f]=k.useState(null),[c,d]=k.useState(null),[g,y]=k.useState(!0),x=re(h=>h.selectedNodeId),w=re(h=>h.loadFlow);k.useEffect(()=>{if(!o||!r){t("/",{replace:!0});return}let h=!1;return y(!0),f(null),hu(r,o).then(S=>{if(h)return;const E=S.flow_config??{},b={version:E.version??2,metadata:{name:S.flow_name,...E.metadata},nodes:E.nodes??[],edges:E.edges??[],settings:E.settings??{}};w(b),y(!1)}).catch(S=>{h||(S instanceof Nt&&S.status===404?f("Flow bulunamadi."):f(S instanceof Error?S.message:"Flow yuklenemedi"),y(!1))}),()=>{h=!0}},[o,r,w,t]),k.useEffect(()=>{x&&s("properties")},[x]);const p=k.useCallback(async()=>{a(!0),d(null);try{const h=re.getState().toFlowConfig();await kS(r,o,{flow_name:h.metadata.name,flow_config:h}),re.getState().markClean()}catch(h){d(h instanceof Error?h.message:"Kaydetme basarisiz")}finally{a(!1)}},[r,o]),m=k.useCallback(()=>{re.getState().isDirty&&!window.confirm("Kaydedilmemis degisiklikler var. Yine de cikis yapilsin mi?")||t("/")},[t]);return k.useEffect(()=>{const h=S=>{S.ctrlKey&&S.key==="s"&&(S.preventDefault(),p()),S.ctrlKey&&S.key==="z"&&(S.preventDefault(),re.getState().undo()),S.ctrlKey&&S.key==="y"&&(S.preventDefault(),re.getState().redo())};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[p]),g?v.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 text-slate-500",children:"Flow yukleniyor..."}):u?v.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-slate-50 gap-4",children:[v.jsx("p",{className:"text-red-600",children:u}),v.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg",children:"Flow Listesine Don"})]}):v.jsx(ry,{children:v.jsxs("div",{className:"h-screen flex flex-col bg-slate-50",children:[v.jsx(gM,{onSave:p,isSaving:l,onBack:m}),c&&v.jsxs("div",{className:"bg-red-50 border-b border-red-200 px-4 py-2 text-xs text-red-600 flex items-center justify-between",children:[v.jsxs("span",{children:["Kaydetme hatasi: ",c]}),v.jsx("button",{onClick:()=>d(null),className:"text-red-400 hover:text-red-600",children:""})]}),v.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[v.jsx(mM,{}),v.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[v.jsx(oM,{}),v.jsx(dM,{})]}),v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("div",{className:"flex border-b border-slate-200 bg-white",children:[v.jsx("button",{onClick:()=>s("properties"),className:`px-3 py-2 text-xs font-medium transition-colors ${i==="properties"?"text-blue-600 border-b-2 border-blue-600":"text-slate-400 hover:text-slate-700"}`,children:"Ozellikler"}),v.jsx("button",{onClick:()=>s("settings"),className:`px-3 py-2 text-xs font-medium transition-colors ${i==="settings"?"text-blue-600 border-b-2 border-blue-600":"text-slate-400 hover:text-slate-700"}`,children:"Ayarlar"})]}),i==="properties"?v.jsx(yM,{}):v.jsx(_M,{})]})]})]})})}function bM({children:e}){const[t,n]=k.useState(jc),r=k.useCallback(async(i,s)=>{const l=await wS(i,s),a={token:l.token,tenant_id:l.tenant_id,expires_at:Date.now()+l.expires_in*1e3};xS(a),n(a)},[]),o=k.useCallback(()=>{fu(),n(null)},[]);return v.jsx(fg.Provider,{value:{session:t,login:r,logout:o,isAuthenticated:t!==null},children:e})}function Ih({children:e}){return jc()?v.jsx(v.Fragment,{children:e}):v.jsx(sg,{to:"/login",replace:!0})}function NM(){return v.jsx(uS,{basename:"/flow-builder",children:v.jsx(bM,{children:v.jsxs(O1,{children:[v.jsx(mo,{path:"/login",element:v.jsx(NS,{})}),v.jsx(mo,{path:"/",element:v.jsx(Ih,{children:v.jsx(CS,{})})}),v.jsx(mo,{path:"/editor/:flowId",element:v.jsx(Ih,{children:v.jsx(EM,{})})}),v.jsx(mo,{path:"*",element:v.jsx(sg,{to:"/",replace:!0})})]})})})}Ym(document.getElementById("root")).render(v.jsx(k.StrictMode,{children:v.jsx(NM,{})}));
