(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Ph(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mh={exports:{}},Qs={},Ih={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oi=Symbol.for("react.element"),pv=Symbol.for("react.portal"),mv=Symbol.for("react.fragment"),gv=Symbol.for("react.strict_mode"),yv=Symbol.for("react.profiler"),vv=Symbol.for("react.provider"),xv=Symbol.for("react.context"),wv=Symbol.for("react.forward_ref"),Sv=Symbol.for("react.suspense"),kv=Symbol.for("react.memo"),Ev=Symbol.for("react.lazy"),rd=Symbol.iterator;function _v(e){return e===null||typeof e!="object"?null:(e=rd&&e[rd]||e["@@iterator"],typeof e=="function"?e:null)}var jh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rh=Object.assign,Th={};function Dr(e,t,n){this.props=e,this.context=t,this.refs=Th,this.updater=n||jh}Dr.prototype.isReactComponent={};Dr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zh(){}zh.prototype=Dr.prototype;function Cu(e,t,n){this.props=e,this.context=t,this.refs=Th,this.updater=n||jh}var Pu=Cu.prototype=new zh;Pu.constructor=Cu;Rh(Pu,Dr.prototype);Pu.isPureReactComponent=!0;var od=Array.isArray,Lh=Object.prototype.hasOwnProperty,Mu={current:null},$h={key:!0,ref:!0,__self:!0,__source:!0};function Ah(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Lh.call(t,r)&&!$h.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:oi,type:e,key:i,ref:s,props:o,_owner:Mu.current}}function bv(e,t){return{$$typeof:oi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Iu(e){return typeof e=="object"&&e!==null&&e.$$typeof===oi}function Nv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var id=/\/+/g;function jl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nv(""+e.key):t.toString(36)}function Gi(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case oi:case pv:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+jl(s,0):r,od(o)?(n="",e!=null&&(n=e.replace(id,"$&/")+"/"),Gi(o,t,n,"",function(u){return u})):o!=null&&(Iu(o)&&(o=bv(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(id,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",od(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+jl(i,l);s+=Gi(i,t,n,a,o)}else if(a=_v(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+jl(i,l++),s+=Gi(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Si(e,t,n){if(e==null)return e;var r=[],o=0;return Gi(e,r,"","",function(i){return t.call(n,i,o++)}),r}function Cv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},Ki={transition:null},Pv={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:Ki,ReactCurrentOwner:Mu};function Dh(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Si,forEach:function(e,t,n){Si(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Si(e,function(){t++}),t},toArray:function(e){return Si(e,function(t){return t})||[]},only:function(e){if(!Iu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=Dr;ne.Fragment=mv;ne.Profiler=yv;ne.PureComponent=Cu;ne.StrictMode=gv;ne.Suspense=Sv;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pv;ne.act=Dh;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Rh({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Mu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Lh.call(t,a)&&!$h.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:oi,type:e.type,key:o,ref:i,props:r,_owner:s}};ne.createContext=function(e){return e={$$typeof:xv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vv,_context:e},e.Consumer=e};ne.createElement=Ah;ne.createFactory=function(e){var t=Ah.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:wv,render:e}};ne.isValidElement=Iu;ne.lazy=function(e){return{$$typeof:Ev,_payload:{_status:-1,_result:e},_init:Cv}};ne.memo=function(e,t){return{$$typeof:kv,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Ki.transition;Ki.transition={};try{e()}finally{Ki.transition=t}};ne.unstable_act=Dh;ne.useCallback=function(e,t){return Oe.current.useCallback(e,t)};ne.useContext=function(e){return Oe.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Oe.current.useEffect(e,t)};ne.useId=function(){return Oe.current.useId()};ne.useImperativeHandle=function(e,t,n){return Oe.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Oe.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return Oe.current.useReducer(e,t,n)};ne.useRef=function(e){return Oe.current.useRef(e)};ne.useState=function(e){return Oe.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return Oe.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return Oe.current.useTransition()};ne.version="18.3.1";Ih.exports=ne;var k=Ih.exports;const uo=Ph(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv=k,Iv=Symbol.for("react.element"),jv=Symbol.for("react.fragment"),Rv=Object.prototype.hasOwnProperty,Tv=Mv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zv={key:!0,ref:!0,__self:!0,__source:!0};function Oh(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Rv.call(t,r)&&!zv.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Iv,type:e,key:i,ref:s,props:o,_owner:Tv.current}}Qs.Fragment=jv;Qs.jsx=Oh;Qs.jsxs=Oh;Mh.exports=Qs;var v=Mh.exports,Fh={exports:{}},Je={},Hh={exports:{}},Bh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,P){var L=C.length;C.push(P);e:for(;0<L;){var O=L-1>>>1,F=C[O];if(0<o(F,P))C[O]=P,C[L]=F,L=O;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var P=C[0],L=C.pop();if(L!==P){C[0]=L;e:for(var O=0,F=C.length,W=F>>>1;O<W;){var V=2*(O+1)-1,X=C[V],G=V+1,K=C[G];if(0>o(X,L))G<F&&0>o(K,X)?(C[O]=K,C[G]=L,O=G):(C[O]=X,C[V]=L,O=V);else if(G<F&&0>o(K,L))C[O]=K,C[G]=L,O=G;else break e}}return P}function o(C,P){var L=C.sortIndex-P.sortIndex;return L!==0?L:C.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],f=1,c=null,d=3,g=!1,y=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(C){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=C)r(u),P.sortIndex=P.expirationTime,t(a,P);else break;P=n(u)}}function w(C){if(x=!1,h(C),!y)if(n(a)!==null)y=!0,I(E);else{var P=n(u);P!==null&&A(w,P.startTime-C)}}function E(C,P){y=!1,x&&(x=!1,p(M),M=-1),g=!0;var L=d;try{for(h(P),c=n(a);c!==null&&(!(c.expirationTime>P)||C&&!T());){var O=c.callback;if(typeof O=="function"){c.callback=null,d=c.priorityLevel;var F=O(c.expirationTime<=P);P=e.unstable_now(),typeof F=="function"?c.callback=F:c===n(a)&&r(a),h(P)}else r(a);c=n(a)}if(c!==null)var W=!0;else{var V=n(u);V!==null&&A(w,V.startTime-P),W=!1}return W}finally{c=null,d=L,g=!1}}var _=!1,N=null,M=-1,R=5,D=-1;function T(){return!(e.unstable_now()-D<R)}function j(){if(N!==null){var C=e.unstable_now();D=C;var P=!0;try{P=N(!0,C)}finally{P?z():(_=!1,N=null)}}else _=!1}var z;if(typeof m=="function")z=function(){m(j)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,$=b.port2;b.port1.onmessage=j,z=function(){$.postMessage(null)}}else z=function(){S(j,0)};function I(C){N=C,_||(_=!0,z())}function A(C,P){M=S(function(){C(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,I(E))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(C){switch(d){case 1:case 2:case 3:var P=3;break;default:P=d}var L=d;d=P;try{return C()}finally{d=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,P){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var L=d;d=C;try{return P()}finally{d=L}},e.unstable_scheduleCallback=function(C,P,L){var O=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?O+L:O):L=O,C){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=L+F,C={id:f++,callback:P,priorityLevel:C,startTime:L,expirationTime:F,sortIndex:-1},L>O?(C.sortIndex=L,t(u,C),n(a)===null&&C===n(u)&&(x?(p(M),M=-1):x=!0,A(w,L-O))):(C.sortIndex=F,t(a,C),y||g||(y=!0,I(E))),C},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(C){var P=d;return function(){var L=d;d=P;try{return C.apply(this,arguments)}finally{d=L}}}})(Bh);Hh.exports=Bh;var Lv=Hh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v=k,Ze=Lv;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vh=new Set,jo={};function Gn(e,t){Er(e,t),Er(e+"Capture",t)}function Er(e,t){for(jo[e]=t,e=0;e<t.length;e++)Vh.add(t[e])}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ya=Object.prototype.hasOwnProperty,Av=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sd={},ld={};function Dv(e){return ya.call(ld,e)?!0:ya.call(sd,e)?!1:Av.test(e)?ld[e]=!0:(sd[e]=!0,!1)}function Ov(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fv(e,t,n,r){if(t===null||typeof t>"u"||Ov(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var ju=/[\-:]([a-z])/g;function Ru(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ju,Ru);je[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ju,Ru);je[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ju,Ru);je[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tu(e,t,n,r){var o=je.hasOwnProperty(t)?je[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fv(t,n,o,r)&&(n=null),r||o===null?Dv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Kt=$v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ki=Symbol.for("react.element"),er=Symbol.for("react.portal"),tr=Symbol.for("react.fragment"),zu=Symbol.for("react.strict_mode"),va=Symbol.for("react.profiler"),Wh=Symbol.for("react.provider"),Uh=Symbol.for("react.context"),Lu=Symbol.for("react.forward_ref"),xa=Symbol.for("react.suspense"),wa=Symbol.for("react.suspense_list"),$u=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),Yh=Symbol.for("react.offscreen"),ad=Symbol.iterator;function Kr(e){return e===null||typeof e!="object"?null:(e=ad&&e[ad]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,Rl;function co(e){if(Rl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Rl=t&&t[1]||""}return`
`+Rl+e}var Tl=!1;function zl(e,t){if(!e||Tl)return"";Tl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Tl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?co(e):""}function Hv(e){switch(e.tag){case 5:return co(e.type);case 16:return co("Lazy");case 13:return co("Suspense");case 19:return co("SuspenseList");case 0:case 2:case 15:return e=zl(e.type,!1),e;case 11:return e=zl(e.type.render,!1),e;case 1:return e=zl(e.type,!0),e;default:return""}}function Sa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tr:return"Fragment";case er:return"Portal";case va:return"Profiler";case zu:return"StrictMode";case xa:return"Suspense";case wa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uh:return(e.displayName||"Context")+".Consumer";case Wh:return(e._context.displayName||"Context")+".Provider";case Lu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $u:return t=e.displayName||null,t!==null?t:Sa(e.type)||"Memo";case rn:t=e._payload,e=e._init;try{return Sa(e(t))}catch{}}return null}function Bv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sa(t);case 8:return t===zu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vv(e){var t=Xh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ei(e){e._valueTracker||(e._valueTracker=Vv(e))}function Gh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Xh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ka(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ud(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kh(e,t){t=t.checked,t!=null&&Tu(e,"checked",t,!1)}function Ea(e,t){Kh(e,t);var n=xn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_a(e,t.type,n):t.hasOwnProperty("defaultValue")&&_a(e,t.type,xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _a(e,t,n){(t!=="number"||hs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fo=Array.isArray;function pr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ba(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(fo(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xn(n)}}function Qh(e,t){var n=xn(t.value),r=xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Na(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _i,qh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_i=_i||document.createElement("div"),_i.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_i.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ro(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wv=["Webkit","ms","Moz","O"];Object.keys(vo).forEach(function(e){Wv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vo[t]=vo[e]})});function Jh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vo.hasOwnProperty(e)&&vo[e]?(""+t).trim():t+"px"}function ep(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Jh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Uv=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ca(e,t){if(t){if(Uv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Pa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ma=null;function Au(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ia=null,mr=null,gr=null;function hd(e){if(e=li(e)){if(typeof Ia!="function")throw Error(H(280));var t=e.stateNode;t&&(t=tl(t),Ia(e.stateNode,e.type,t))}}function tp(e){mr?gr?gr.push(e):gr=[e]:mr=e}function np(){if(mr){var e=mr,t=gr;if(gr=mr=null,hd(e),t)for(e=0;e<t.length;e++)hd(t[e])}}function rp(e,t){return e(t)}function op(){}var Ll=!1;function ip(e,t,n){if(Ll)return e(t,n);Ll=!0;try{return rp(e,t,n)}finally{Ll=!1,(mr!==null||gr!==null)&&(op(),np())}}function To(e,t){var n=e.stateNode;if(n===null)return null;var r=tl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var ja=!1;if(Vt)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){ja=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{ja=!1}function Yv(e,t,n,r,o,i,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var xo=!1,ps=null,ms=!1,Ra=null,Xv={onError:function(e){xo=!0,ps=e}};function Gv(e,t,n,r,o,i,s,l,a){xo=!1,ps=null,Yv.apply(Xv,arguments)}function Kv(e,t,n,r,o,i,s,l,a){if(Gv.apply(this,arguments),xo){if(xo){var u=ps;xo=!1,ps=null}else throw Error(H(198));ms||(ms=!0,Ra=u)}}function Kn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pd(e){if(Kn(e)!==e)throw Error(H(188))}function Qv(e){var t=e.alternate;if(!t){if(t=Kn(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return pd(o),e;if(i===r)return pd(o),t;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function lp(e){return e=Qv(e),e!==null?ap(e):null}function ap(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ap(e);if(t!==null)return t;e=e.sibling}return null}var up=Ze.unstable_scheduleCallback,md=Ze.unstable_cancelCallback,Zv=Ze.unstable_shouldYield,qv=Ze.unstable_requestPaint,ke=Ze.unstable_now,Jv=Ze.unstable_getCurrentPriorityLevel,Du=Ze.unstable_ImmediatePriority,cp=Ze.unstable_UserBlockingPriority,gs=Ze.unstable_NormalPriority,ex=Ze.unstable_LowPriority,dp=Ze.unstable_IdlePriority,Zs=null,Nt=null;function tx(e){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Zs,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:ox,nx=Math.log,rx=Math.LN2;function ox(e){return e>>>=0,e===0?32:31-(nx(e)/rx|0)|0}var bi=64,Ni=4194304;function ho(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ys(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=ho(l):(i&=s,i!==0&&(r=ho(i)))}else s=n&~o,s!==0?r=ho(s):i!==0&&(r=ho(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gt(t),o=1<<n,r|=e[n],t&=~o;return r}function ix(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-gt(i),l=1<<s,a=o[s];a===-1?(!(l&n)||l&r)&&(o[s]=ix(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Ta(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fp(){var e=bi;return bi<<=1,!(bi&4194240)&&(bi=64),e}function $l(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ii(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=n}function lx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-gt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Ou(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ae=0;function hp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pp,Fu,mp,gp,yp,za=!1,Ci=[],dn=null,fn=null,hn=null,zo=new Map,Lo=new Map,sn=[],ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gd(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":zo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(t.pointerId)}}function Zr(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=li(t),t!==null&&Fu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function ux(e,t,n,r,o){switch(t){case"focusin":return dn=Zr(dn,e,t,n,r,o),!0;case"dragenter":return fn=Zr(fn,e,t,n,r,o),!0;case"mouseover":return hn=Zr(hn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return zo.set(i,Zr(zo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Lo.set(i,Zr(Lo.get(i)||null,e,t,n,r,o)),!0}return!1}function vp(e){var t=Mn(e.target);if(t!==null){var n=Kn(t);if(n!==null){if(t=n.tag,t===13){if(t=sp(n),t!==null){e.blockedOn=t,yp(e.priority,function(){mp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=La(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ma=r,n.target.dispatchEvent(r),Ma=null}else return t=li(n),t!==null&&Fu(t),e.blockedOn=n,!1;t.shift()}return!0}function yd(e,t,n){Qi(e)&&n.delete(t)}function cx(){za=!1,dn!==null&&Qi(dn)&&(dn=null),fn!==null&&Qi(fn)&&(fn=null),hn!==null&&Qi(hn)&&(hn=null),zo.forEach(yd),Lo.forEach(yd)}function qr(e,t){e.blockedOn===t&&(e.blockedOn=null,za||(za=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,cx)))}function $o(e){function t(o){return qr(o,e)}if(0<Ci.length){qr(Ci[0],e);for(var n=1;n<Ci.length;n++){var r=Ci[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dn!==null&&qr(dn,e),fn!==null&&qr(fn,e),hn!==null&&qr(hn,e),zo.forEach(t),Lo.forEach(t),n=0;n<sn.length;n++)r=sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)vp(n),n.blockedOn===null&&sn.shift()}var yr=Kt.ReactCurrentBatchConfig,vs=!0;function dx(e,t,n,r){var o=ae,i=yr.transition;yr.transition=null;try{ae=1,Hu(e,t,n,r)}finally{ae=o,yr.transition=i}}function fx(e,t,n,r){var o=ae,i=yr.transition;yr.transition=null;try{ae=4,Hu(e,t,n,r)}finally{ae=o,yr.transition=i}}function Hu(e,t,n,r){if(vs){var o=La(e,t,n,r);if(o===null)Yl(e,t,r,xs,n),gd(e,r);else if(ux(o,e,t,n,r))r.stopPropagation();else if(gd(e,r),t&4&&-1<ax.indexOf(e)){for(;o!==null;){var i=li(o);if(i!==null&&pp(i),i=La(e,t,n,r),i===null&&Yl(e,t,r,xs,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Yl(e,t,r,null,n)}}var xs=null;function La(e,t,n,r){if(xs=null,e=Au(r),e=Mn(e),e!==null)if(t=Kn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xs=e,null}function xp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jv()){case Du:return 1;case cp:return 4;case gs:case ex:return 16;case dp:return 536870912;default:return 16}default:return 16}}var un=null,Bu=null,Zi=null;function wp(){if(Zi)return Zi;var e,t=Bu,n=t.length,r,o="value"in un?un.value:un.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Zi=o.slice(e,1<r?1-r:void 0)}function qi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function vd(){return!1}function et(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pi:vd,this.isPropagationStopped=vd,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),t}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vu=et(Or),si=we({},Or,{view:0,detail:0}),hx=et(si),Al,Dl,Jr,qs=we({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jr&&(Jr&&e.type==="mousemove"?(Al=e.screenX-Jr.screenX,Dl=e.screenY-Jr.screenY):Dl=Al=0,Jr=e),Al)},movementY:function(e){return"movementY"in e?e.movementY:Dl}}),xd=et(qs),px=we({},qs,{dataTransfer:0}),mx=et(px),gx=we({},si,{relatedTarget:0}),Ol=et(gx),yx=we({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),vx=et(yx),xx=we({},Or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wx=et(xx),Sx=we({},Or,{data:0}),wd=et(Sx),kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ex={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_x={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_x[e])?!!t[e]:!1}function Wu(){return bx}var Nx=we({},si,{key:function(e){if(e.key){var t=kx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ex[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wu,charCode:function(e){return e.type==="keypress"?qi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cx=et(Nx),Px=we({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sd=et(Px),Mx=we({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wu}),Ix=et(Mx),jx=we({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rx=et(jx),Tx=we({},qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zx=et(Tx),Lx=[9,13,27,32],Uu=Vt&&"CompositionEvent"in window,wo=null;Vt&&"documentMode"in document&&(wo=document.documentMode);var $x=Vt&&"TextEvent"in window&&!wo,Sp=Vt&&(!Uu||wo&&8<wo&&11>=wo),kd=" ",Ed=!1;function kp(e,t){switch(e){case"keyup":return Lx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ep(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nr=!1;function Ax(e,t){switch(e){case"compositionend":return Ep(t);case"keypress":return t.which!==32?null:(Ed=!0,kd);case"textInput":return e=t.data,e===kd&&Ed?null:e;default:return null}}function Dx(e,t){if(nr)return e==="compositionend"||!Uu&&kp(e,t)?(e=wp(),Zi=Bu=un=null,nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sp&&t.locale!=="ko"?null:t.data;default:return null}}var Ox={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ox[e.type]:t==="textarea"}function _p(e,t,n,r){tp(r),t=ws(t,"onChange"),0<t.length&&(n=new Vu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var So=null,Ao=null;function Fx(e){Lp(e,0)}function Js(e){var t=ir(e);if(Gh(t))return e}function Hx(e,t){if(e==="change")return t}var bp=!1;if(Vt){var Fl;if(Vt){var Hl="oninput"in document;if(!Hl){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),Hl=typeof bd.oninput=="function"}Fl=Hl}else Fl=!1;bp=Fl&&(!document.documentMode||9<document.documentMode)}function Nd(){So&&(So.detachEvent("onpropertychange",Np),Ao=So=null)}function Np(e){if(e.propertyName==="value"&&Js(Ao)){var t=[];_p(t,Ao,e,Au(e)),ip(Fx,t)}}function Bx(e,t,n){e==="focusin"?(Nd(),So=t,Ao=n,So.attachEvent("onpropertychange",Np)):e==="focusout"&&Nd()}function Vx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Js(Ao)}function Wx(e,t){if(e==="click")return Js(t)}function Ux(e,t){if(e==="input"||e==="change")return Js(t)}function Yx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:Yx;function Do(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ya.call(t,o)||!vt(e[o],t[o]))return!1}return!0}function Cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pd(e,t){var n=Cd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cd(n)}}function Cp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pp(){for(var e=window,t=hs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hs(e.document)}return t}function Yu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xx(e){var t=Pp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cp(n.ownerDocument.documentElement,n)){if(r!==null&&Yu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Pd(n,i);var s=Pd(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gx=Vt&&"documentMode"in document&&11>=document.documentMode,rr=null,$a=null,ko=null,Aa=!1;function Md(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Aa||rr==null||rr!==hs(r)||(r=rr,"selectionStart"in r&&Yu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ko&&Do(ko,r)||(ko=r,r=ws($a,"onSelect"),0<r.length&&(t=new Vu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function Mi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var or={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionend:Mi("Transition","TransitionEnd")},Bl={},Mp={};Vt&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function el(e){if(Bl[e])return Bl[e];if(!or[e])return e;var t=or[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Mp)return Bl[e]=t[n];return e}var Ip=el("animationend"),jp=el("animationiteration"),Rp=el("animationstart"),Tp=el("transitionend"),zp=new Map,Id="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){zp.set(e,t),Gn(t,[e])}for(var Vl=0;Vl<Id.length;Vl++){var Wl=Id[Vl],Kx=Wl.toLowerCase(),Qx=Wl[0].toUpperCase()+Wl.slice(1);Sn(Kx,"on"+Qx)}Sn(Ip,"onAnimationEnd");Sn(jp,"onAnimationIteration");Sn(Rp,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(Tp,"onTransitionEnd");Er("onMouseEnter",["mouseout","mouseover"]);Er("onMouseLeave",["mouseout","mouseover"]);Er("onPointerEnter",["pointerout","pointerover"]);Er("onPointerLeave",["pointerout","pointerover"]);Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zx=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function jd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Kv(r,t,void 0,e),e.currentTarget=null}function Lp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;jd(o,l,u),i=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;jd(o,l,u),i=a}}}if(ms)throw e=Ra,ms=!1,Ra=null,e}function fe(e,t){var n=t[Ba];n===void 0&&(n=t[Ba]=new Set);var r=e+"__bubble";n.has(r)||($p(t,e,2,!1),n.add(r))}function Ul(e,t,n){var r=0;t&&(r|=4),$p(n,e,r,t)}var Ii="_reactListening"+Math.random().toString(36).slice(2);function Oo(e){if(!e[Ii]){e[Ii]=!0,Vh.forEach(function(n){n!=="selectionchange"&&(Zx.has(n)||Ul(n,!1,e),Ul(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ii]||(t[Ii]=!0,Ul("selectionchange",!1,t))}}function $p(e,t,n,r){switch(xp(t)){case 1:var o=dx;break;case 4:o=fx;break;default:o=Hu}n=o.bind(null,t,n,e),o=void 0,!ja||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Yl(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=Mn(l),s===null)return;if(a=s.tag,a===5||a===6){r=i=s;continue e}l=l.parentNode}}r=r.return}ip(function(){var u=i,f=Au(n),c=[];e:{var d=zp.get(e);if(d!==void 0){var g=Vu,y=e;switch(e){case"keypress":if(qi(n)===0)break e;case"keydown":case"keyup":g=Cx;break;case"focusin":y="focus",g=Ol;break;case"focusout":y="blur",g=Ol;break;case"beforeblur":case"afterblur":g=Ol;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=mx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Ix;break;case Ip:case jp:case Rp:g=vx;break;case Tp:g=Rx;break;case"scroll":g=hx;break;case"wheel":g=zx;break;case"copy":case"cut":case"paste":g=wx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Sd}var x=(t&4)!==0,S=!x&&e==="scroll",p=x?d!==null?d+"Capture":null:d;x=[];for(var m=u,h;m!==null;){h=m;var w=h.stateNode;if(h.tag===5&&w!==null&&(h=w,p!==null&&(w=To(m,p),w!=null&&x.push(Fo(m,w,h)))),S)break;m=m.return}0<x.length&&(d=new g(d,y,null,n,f),c.push({event:d,listeners:x}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==Ma&&(y=n.relatedTarget||n.fromElement)&&(Mn(y)||y[Wt]))break e;if((g||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?Mn(y):null,y!==null&&(S=Kn(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(x=xd,w="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=Sd,w="onPointerLeave",p="onPointerEnter",m="pointer"),S=g==null?d:ir(g),h=y==null?d:ir(y),d=new x(w,m+"leave",g,n,f),d.target=S,d.relatedTarget=h,w=null,Mn(f)===u&&(x=new x(p,m+"enter",y,n,f),x.target=h,x.relatedTarget=S,w=x),S=w,g&&y)t:{for(x=g,p=y,m=0,h=x;h;h=qn(h))m++;for(h=0,w=p;w;w=qn(w))h++;for(;0<m-h;)x=qn(x),m--;for(;0<h-m;)p=qn(p),h--;for(;m--;){if(x===p||p!==null&&x===p.alternate)break t;x=qn(x),p=qn(p)}x=null}else x=null;g!==null&&Rd(c,d,g,x,!1),y!==null&&S!==null&&Rd(c,S,y,x,!0)}}e:{if(d=u?ir(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var E=Hx;else if(_d(d))if(bp)E=Ux;else{E=Vx;var _=Bx}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=Wx);if(E&&(E=E(e,u))){_p(c,E,n,f);break e}_&&_(e,d,u),e==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&_a(d,"number",d.value)}switch(_=u?ir(u):window,e){case"focusin":(_d(_)||_.contentEditable==="true")&&(rr=_,$a=u,ko=null);break;case"focusout":ko=$a=rr=null;break;case"mousedown":Aa=!0;break;case"contextmenu":case"mouseup":case"dragend":Aa=!1,Md(c,n,f);break;case"selectionchange":if(Gx)break;case"keydown":case"keyup":Md(c,n,f)}var N;if(Uu)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else nr?kp(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Sp&&n.locale!=="ko"&&(nr||M!=="onCompositionStart"?M==="onCompositionEnd"&&nr&&(N=wp()):(un=f,Bu="value"in un?un.value:un.textContent,nr=!0)),_=ws(u,M),0<_.length&&(M=new wd(M,e,null,n,f),c.push({event:M,listeners:_}),N?M.data=N:(N=Ep(n),N!==null&&(M.data=N)))),(N=$x?Ax(e,n):Dx(e,n))&&(u=ws(u,"onBeforeInput"),0<u.length&&(f=new wd("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=N))}Lp(c,t)})}function Fo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ws(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=To(e,n),i!=null&&r.unshift(Fo(e,i,o)),i=To(e,t),i!=null&&r.push(Fo(e,i,o))),e=e.return}return r}function qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rd(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=To(n,i),a!=null&&s.unshift(Fo(n,a,l))):o||(a=To(n,i),a!=null&&s.push(Fo(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var qx=/\r\n?/g,Jx=/\u0000|\uFFFD/g;function Td(e){return(typeof e=="string"?e:""+e).replace(qx,`
`).replace(Jx,"")}function ji(e,t,n){if(t=Td(t),Td(e)!==t&&n)throw Error(H(425))}function Ss(){}var Da=null,Oa=null;function Fa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ha=typeof setTimeout=="function"?setTimeout:void 0,ew=typeof clearTimeout=="function"?clearTimeout:void 0,zd=typeof Promise=="function"?Promise:void 0,tw=typeof queueMicrotask=="function"?queueMicrotask:typeof zd<"u"?function(e){return zd.resolve(null).then(e).catch(nw)}:Ha;function nw(e){setTimeout(function(){throw e})}function Xl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),$o(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);$o(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ld(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),bt="__reactFiber$"+Fr,Ho="__reactProps$"+Fr,Wt="__reactContainer$"+Fr,Ba="__reactEvents$"+Fr,rw="__reactListeners$"+Fr,ow="__reactHandles$"+Fr;function Mn(e){var t=e[bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wt]||n[bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ld(e);e!==null;){if(n=e[bt])return n;e=Ld(e)}return t}e=n,n=e.parentNode}return null}function li(e){return e=e[bt]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function tl(e){return e[Ho]||null}var Va=[],sr=-1;function kn(e){return{current:e}}function he(e){0>sr||(e.current=Va[sr],Va[sr]=null,sr--)}function ue(e,t){sr++,Va[sr]=e.current,e.current=t}var wn={},$e=kn(wn),We=kn(!1),Dn=wn;function _r(e,t){var n=e.type.contextTypes;if(!n)return wn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ue(e){return e=e.childContextTypes,e!=null}function ks(){he(We),he($e)}function $d(e,t,n){if($e.current!==wn)throw Error(H(168));ue($e,t),ue(We,n)}function Ap(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(H(108,Bv(e)||"Unknown",o));return we({},n,r)}function Es(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wn,Dn=$e.current,ue($e,e),ue(We,We.current),!0}function Ad(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=Ap(e,t,Dn),r.__reactInternalMemoizedMergedChildContext=e,he(We),he($e),ue($e,e)):he(We),ue(We,n)}var Lt=null,nl=!1,Gl=!1;function Dp(e){Lt===null?Lt=[e]:Lt.push(e)}function iw(e){nl=!0,Dp(e)}function En(){if(!Gl&&Lt!==null){Gl=!0;var e=0,t=ae;try{var n=Lt;for(ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Lt=null,nl=!1}catch(o){throw Lt!==null&&(Lt=Lt.slice(e+1)),up(Du,En),o}finally{ae=t,Gl=!1}}return null}var lr=[],ar=0,_s=null,bs=0,nt=[],rt=0,On=null,$t=1,At="";function Nn(e,t){lr[ar++]=bs,lr[ar++]=_s,_s=e,bs=t}function Op(e,t,n){nt[rt++]=$t,nt[rt++]=At,nt[rt++]=On,On=e;var r=$t;e=At;var o=32-gt(r)-1;r&=~(1<<o),n+=1;var i=32-gt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,$t=1<<32-gt(t)+o|n<<o|r,At=i+e}else $t=1<<i|n<<o|r,At=e}function Xu(e){e.return!==null&&(Nn(e,1),Op(e,1,0))}function Gu(e){for(;e===_s;)_s=lr[--ar],lr[ar]=null,bs=lr[--ar],lr[ar]=null;for(;e===On;)On=nt[--rt],nt[rt]=null,At=nt[--rt],nt[rt]=null,$t=nt[--rt],nt[rt]=null}var Qe=null,Ke=null,pe=!1,ft=null;function Fp(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Dd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qe=e,Ke=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qe=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=On!==null?{id:$t,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qe=e,Ke=null,!0):!1;default:return!1}}function Wa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ua(e){if(pe){var t=Ke;if(t){var n=t;if(!Dd(e,t)){if(Wa(e))throw Error(H(418));t=pn(n.nextSibling);var r=Qe;t&&Dd(e,t)?Fp(r,n):(e.flags=e.flags&-4097|2,pe=!1,Qe=e)}}else{if(Wa(e))throw Error(H(418));e.flags=e.flags&-4097|2,pe=!1,Qe=e}}}function Od(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qe=e}function Ri(e){if(e!==Qe)return!1;if(!pe)return Od(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fa(e.type,e.memoizedProps)),t&&(t=Ke)){if(Wa(e))throw Hp(),Error(H(418));for(;t;)Fp(e,t),t=pn(t.nextSibling)}if(Od(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ke=pn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Qe?pn(e.stateNode.nextSibling):null;return!0}function Hp(){for(var e=Ke;e;)e=pn(e.nextSibling)}function br(){Ke=Qe=null,pe=!1}function Ku(e){ft===null?ft=[e]:ft.push(e)}var sw=Kt.ReactCurrentBatchConfig;function eo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Ti(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fd(e){var t=e._init;return t(e._payload)}function Bp(e){function t(p,m){if(e){var h=p.deletions;h===null?(p.deletions=[m],p.flags|=16):h.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function o(p,m){return p=vn(p,m),p.index=0,p.sibling=null,p}function i(p,m,h){return p.index=h,e?(h=p.alternate,h!==null?(h=h.index,h<m?(p.flags|=2,m):h):(p.flags|=2,m)):(p.flags|=1048576,m)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,m,h,w){return m===null||m.tag!==6?(m=ta(h,p.mode,w),m.return=p,m):(m=o(m,h),m.return=p,m)}function a(p,m,h,w){var E=h.type;return E===tr?f(p,m,h.props.children,w,h.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rn&&Fd(E)===m.type)?(w=o(m,h.props),w.ref=eo(p,m,h),w.return=p,w):(w=is(h.type,h.key,h.props,null,p.mode,w),w.ref=eo(p,m,h),w.return=p,w)}function u(p,m,h,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==h.containerInfo||m.stateNode.implementation!==h.implementation?(m=na(h,p.mode,w),m.return=p,m):(m=o(m,h.children||[]),m.return=p,m)}function f(p,m,h,w,E){return m===null||m.tag!==7?(m=zn(h,p.mode,w,E),m.return=p,m):(m=o(m,h),m.return=p,m)}function c(p,m,h){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ta(""+m,p.mode,h),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ki:return h=is(m.type,m.key,m.props,null,p.mode,h),h.ref=eo(p,null,m),h.return=p,h;case er:return m=na(m,p.mode,h),m.return=p,m;case rn:var w=m._init;return c(p,w(m._payload),h)}if(fo(m)||Kr(m))return m=zn(m,p.mode,h,null),m.return=p,m;Ti(p,m)}return null}function d(p,m,h,w){var E=m!==null?m.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return E!==null?null:l(p,m,""+h,w);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ki:return h.key===E?a(p,m,h,w):null;case er:return h.key===E?u(p,m,h,w):null;case rn:return E=h._init,d(p,m,E(h._payload),w)}if(fo(h)||Kr(h))return E!==null?null:f(p,m,h,w,null);Ti(p,h)}return null}function g(p,m,h,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(h)||null,l(m,p,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ki:return p=p.get(w.key===null?h:w.key)||null,a(m,p,w,E);case er:return p=p.get(w.key===null?h:w.key)||null,u(m,p,w,E);case rn:var _=w._init;return g(p,m,h,_(w._payload),E)}if(fo(w)||Kr(w))return p=p.get(h)||null,f(m,p,w,E,null);Ti(m,w)}return null}function y(p,m,h,w){for(var E=null,_=null,N=m,M=m=0,R=null;N!==null&&M<h.length;M++){N.index>M?(R=N,N=null):R=N.sibling;var D=d(p,N,h[M],w);if(D===null){N===null&&(N=R);break}e&&N&&D.alternate===null&&t(p,N),m=i(D,m,M),_===null?E=D:_.sibling=D,_=D,N=R}if(M===h.length)return n(p,N),pe&&Nn(p,M),E;if(N===null){for(;M<h.length;M++)N=c(p,h[M],w),N!==null&&(m=i(N,m,M),_===null?E=N:_.sibling=N,_=N);return pe&&Nn(p,M),E}for(N=r(p,N);M<h.length;M++)R=g(N,p,M,h[M],w),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?M:R.key),m=i(R,m,M),_===null?E=R:_.sibling=R,_=R);return e&&N.forEach(function(T){return t(p,T)}),pe&&Nn(p,M),E}function x(p,m,h,w){var E=Kr(h);if(typeof E!="function")throw Error(H(150));if(h=E.call(h),h==null)throw Error(H(151));for(var _=E=null,N=m,M=m=0,R=null,D=h.next();N!==null&&!D.done;M++,D=h.next()){N.index>M?(R=N,N=null):R=N.sibling;var T=d(p,N,D.value,w);if(T===null){N===null&&(N=R);break}e&&N&&T.alternate===null&&t(p,N),m=i(T,m,M),_===null?E=T:_.sibling=T,_=T,N=R}if(D.done)return n(p,N),pe&&Nn(p,M),E;if(N===null){for(;!D.done;M++,D=h.next())D=c(p,D.value,w),D!==null&&(m=i(D,m,M),_===null?E=D:_.sibling=D,_=D);return pe&&Nn(p,M),E}for(N=r(p,N);!D.done;M++,D=h.next())D=g(N,p,M,D.value,w),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?M:D.key),m=i(D,m,M),_===null?E=D:_.sibling=D,_=D);return e&&N.forEach(function(j){return t(p,j)}),pe&&Nn(p,M),E}function S(p,m,h,w){if(typeof h=="object"&&h!==null&&h.type===tr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case ki:e:{for(var E=h.key,_=m;_!==null;){if(_.key===E){if(E=h.type,E===tr){if(_.tag===7){n(p,_.sibling),m=o(_,h.props.children),m.return=p,p=m;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rn&&Fd(E)===_.type){n(p,_.sibling),m=o(_,h.props),m.ref=eo(p,_,h),m.return=p,p=m;break e}n(p,_);break}else t(p,_);_=_.sibling}h.type===tr?(m=zn(h.props.children,p.mode,w,h.key),m.return=p,p=m):(w=is(h.type,h.key,h.props,null,p.mode,w),w.ref=eo(p,m,h),w.return=p,p=w)}return s(p);case er:e:{for(_=h.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===h.containerInfo&&m.stateNode.implementation===h.implementation){n(p,m.sibling),m=o(m,h.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=na(h,p.mode,w),m.return=p,p=m}return s(p);case rn:return _=h._init,S(p,m,_(h._payload),w)}if(fo(h))return y(p,m,h,w);if(Kr(h))return x(p,m,h,w);Ti(p,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,m!==null&&m.tag===6?(n(p,m.sibling),m=o(m,h),m.return=p,p=m):(n(p,m),m=ta(h,p.mode,w),m.return=p,p=m),s(p)):n(p,m)}return S}var Nr=Bp(!0),Vp=Bp(!1),Ns=kn(null),Cs=null,ur=null,Qu=null;function Zu(){Qu=ur=Cs=null}function qu(e){var t=Ns.current;he(Ns),e._currentValue=t}function Ya(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vr(e,t){Cs=e,Qu=ur=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function st(e){var t=e._currentValue;if(Qu!==e)if(e={context:e,memoizedValue:t,next:null},ur===null){if(Cs===null)throw Error(H(308));ur=e,Cs.dependencies={lanes:0,firstContext:e}}else ur=ur.next=e;return t}var In=null;function Ju(e){In===null?In=[e]:In.push(e)}function Wp(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Ju(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ut(e,r)}function Ut(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var on=!1;function ec(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Up(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ut(e,n)}return o=r.interleaved,o===null?(t.next=t,Ju(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ut(e,n)}function Ji(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ou(e,n)}}function Hd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ps(e,t,n,r){var o=e.updateQueue;on=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?i=u:s.next=u,s=a;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(i!==null){var c=o.baseState;s=0,f=u=a=null,l=i;do{var d=l.lane,g=l.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(d=t,g=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){c=y.call(g,c,d);break e}c=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,d=typeof y=="function"?y.call(g,c,d):y,d==null)break e;c=we({},c,d);break e;case 2:on=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[l]:d.push(l))}else g={eventTime:g,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=g,a=c):f=f.next=g,s|=d;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;d=l,l=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(f===null&&(a=c),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Hn|=s,e.lanes=s,e.memoizedState=c}}function Bd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(H(191,o));o.call(r)}}}var ai={},Ct=kn(ai),Bo=kn(ai),Vo=kn(ai);function jn(e){if(e===ai)throw Error(H(174));return e}function tc(e,t){switch(ue(Vo,t),ue(Bo,e),ue(Ct,ai),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Na(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Na(t,e)}he(Ct),ue(Ct,t)}function Cr(){he(Ct),he(Bo),he(Vo)}function Yp(e){jn(Vo.current);var t=jn(Ct.current),n=Na(t,e.type);t!==n&&(ue(Bo,e),ue(Ct,n))}function nc(e){Bo.current===e&&(he(Ct),he(Bo))}var ve=kn(0);function Ms(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kl=[];function rc(){for(var e=0;e<Kl.length;e++)Kl[e]._workInProgressVersionPrimary=null;Kl.length=0}var es=Kt.ReactCurrentDispatcher,Ql=Kt.ReactCurrentBatchConfig,Fn=0,xe=null,be=null,Ce=null,Is=!1,Eo=!1,Wo=0,lw=0;function Te(){throw Error(H(321))}function oc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vt(e[n],t[n]))return!1;return!0}function ic(e,t,n,r,o,i){if(Fn=i,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,es.current=e===null||e.memoizedState===null?dw:fw,e=n(r,o),Eo){i=0;do{if(Eo=!1,Wo=0,25<=i)throw Error(H(301));i+=1,Ce=be=null,t.updateQueue=null,es.current=hw,e=n(r,o)}while(Eo)}if(es.current=js,t=be!==null&&be.next!==null,Fn=0,Ce=be=xe=null,Is=!1,t)throw Error(H(300));return e}function sc(){var e=Wo!==0;return Wo=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?xe.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function lt(){if(be===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Ce===null?xe.memoizedState:Ce.next;if(t!==null)Ce=t,be=e;else{if(e===null)throw Error(H(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ce===null?xe.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Uo(e,t){return typeof t=="function"?t(e):t}function Zl(e){var t=lt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=be,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,a=null,u=i;do{var f=u.lane;if((Fn&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,s=r):a=a.next=c,xe.lanes|=f,Hn|=f}u=u.next}while(u!==null&&u!==i);a===null?s=r:a.next=l,vt(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,xe.lanes|=i,Hn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ql(e){var t=lt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);vt(i,t.memoizedState)||(Be=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Xp(){}function Gp(e,t){var n=xe,r=lt(),o=t(),i=!vt(r.memoizedState,o);if(i&&(r.memoizedState=o,Be=!0),r=r.queue,lc(Zp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,Yo(9,Qp.bind(null,n,r,o,t),void 0,null),Pe===null)throw Error(H(349));Fn&30||Kp(n,t,o)}return o}function Kp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qp(e,t,n,r){t.value=n,t.getSnapshot=r,qp(t)&&Jp(e)}function Zp(e,t,n){return n(function(){qp(t)&&Jp(e)})}function qp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vt(e,n)}catch{return!0}}function Jp(e){var t=Ut(e,1);t!==null&&yt(t,e,1,-1)}function Vd(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:e},t.queue=e,e=e.dispatch=cw.bind(null,xe,e),[t.memoizedState,e]}function Yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function em(){return lt().memoizedState}function ts(e,t,n,r){var o=Et();xe.flags|=e,o.memoizedState=Yo(1|t,n,void 0,r===void 0?null:r)}function rl(e,t,n,r){var o=lt();r=r===void 0?null:r;var i=void 0;if(be!==null){var s=be.memoizedState;if(i=s.destroy,r!==null&&oc(r,s.deps)){o.memoizedState=Yo(t,n,i,r);return}}xe.flags|=e,o.memoizedState=Yo(1|t,n,i,r)}function Wd(e,t){return ts(8390656,8,e,t)}function lc(e,t){return rl(2048,8,e,t)}function tm(e,t){return rl(4,2,e,t)}function nm(e,t){return rl(4,4,e,t)}function rm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function om(e,t,n){return n=n!=null?n.concat([e]):null,rl(4,4,rm.bind(null,t,e),n)}function ac(){}function im(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sm(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lm(e,t,n){return Fn&21?(vt(n,t)||(n=fp(),xe.lanes|=n,Hn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function aw(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var r=Ql.transition;Ql.transition={};try{e(!1),t()}finally{ae=n,Ql.transition=r}}function am(){return lt().memoizedState}function uw(e,t,n){var r=yn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},um(e))cm(t,n);else if(n=Wp(e,t,n,r),n!==null){var o=De();yt(n,e,r,o),dm(n,t,r)}}function cw(e,t,n){var r=yn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(um(e))cm(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,vt(l,s)){var a=t.interleaved;a===null?(o.next=o,Ju(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=Wp(e,t,o,r),n!==null&&(o=De(),yt(n,e,r,o),dm(n,t,r))}}function um(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function cm(e,t){Eo=Is=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ou(e,n)}}var js={readContext:st,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},dw={readContext:st,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:Wd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ts(4194308,4,rm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return ts(4,2,e,t)},useMemo:function(e,t){var n=Et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Et();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=uw.bind(null,xe,e),[r.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:Vd,useDebugValue:ac,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=Vd(!1),t=e[0];return e=aw.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xe,o=Et();if(pe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Pe===null)throw Error(H(349));Fn&30||Kp(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Wd(Zp.bind(null,r,i,e),[e]),r.flags|=2048,Yo(9,Qp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Et(),t=Pe.identifierPrefix;if(pe){var n=At,r=$t;n=(r&~(1<<32-gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fw={readContext:st,useCallback:im,useContext:st,useEffect:lc,useImperativeHandle:om,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:sm,useReducer:Zl,useRef:em,useState:function(){return Zl(Uo)},useDebugValue:ac,useDeferredValue:function(e){var t=lt();return lm(t,be.memoizedState,e)},useTransition:function(){var e=Zl(Uo)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Xp,useSyncExternalStore:Gp,useId:am,unstable_isNewReconciler:!1},hw={readContext:st,useCallback:im,useContext:st,useEffect:lc,useImperativeHandle:om,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:sm,useReducer:ql,useRef:em,useState:function(){return ql(Uo)},useDebugValue:ac,useDeferredValue:function(e){var t=lt();return be===null?t.memoizedState=e:lm(t,be.memoizedState,e)},useTransition:function(){var e=ql(Uo)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Xp,useSyncExternalStore:Gp,useId:am,unstable_isNewReconciler:!1};function ut(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ol={isMounted:function(e){return(e=e._reactInternals)?Kn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=De(),o=yn(e),i=Ft(r,o);i.payload=t,n!=null&&(i.callback=n),t=mn(e,i,o),t!==null&&(yt(t,e,o,r),Ji(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=De(),o=yn(e),i=Ft(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=mn(e,i,o),t!==null&&(yt(t,e,o,r),Ji(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=De(),r=yn(e),o=Ft(n,r);o.tag=2,t!=null&&(o.callback=t),t=mn(e,o,r),t!==null&&(yt(t,e,r,n),Ji(t,e,r))}};function Ud(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Do(n,r)||!Do(o,i):!0}function fm(e,t,n){var r=!1,o=wn,i=t.contextType;return typeof i=="object"&&i!==null?i=st(i):(o=Ue(t)?Dn:$e.current,r=t.contextTypes,i=(r=r!=null)?_r(e,o):wn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ol,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Yd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ol.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},ec(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=st(i):(i=Ue(t)?Dn:$e.current,o.context=_r(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Xa(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ol.enqueueReplaceState(o,o.state,null),Ps(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Pr(e,t){try{var n="",r=t;do n+=Hv(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Jl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ka(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pw=typeof WeakMap=="function"?WeakMap:Map;function hm(e,t,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ts||(Ts=!0,iu=r),Ka(e,t)},n}function pm(e,t,n){n=Ft(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ka(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ka(e,t),typeof r!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Xd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new pw;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Pw.bind(null,e,t,n),t.then(e,e))}function Gd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ft(-1,1),t.tag=2,mn(n,t,1))),n.lanes|=1),e)}var mw=Kt.ReactCurrentOwner,Be=!1;function Ae(e,t,n,r){t.child=e===null?Vp(t,null,n,r):Nr(t,e.child,n,r)}function Qd(e,t,n,r,o){n=n.render;var i=t.ref;return vr(t,o),r=ic(e,t,n,r,i,o),n=sc(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Yt(e,t,o)):(pe&&n&&Xu(t),t.flags|=1,Ae(e,t,r,o),t.child)}function Zd(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!gc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,mm(e,t,i,r,o)):(e=is(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Do,n(s,r)&&e.ref===t.ref)return Yt(e,t,o)}return t.flags|=1,e=vn(i,r),e.ref=t.ref,e.return=t,t.child=e}function mm(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Do(i,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Yt(e,t,o)}return Qa(e,t,n,r,o)}function gm(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(dr,Xe),Xe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(dr,Xe),Xe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ue(dr,Xe),Xe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ue(dr,Xe),Xe|=r;return Ae(e,t,o,n),t.child}function ym(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qa(e,t,n,r,o){var i=Ue(n)?Dn:$e.current;return i=_r(t,i),vr(t,o),n=ic(e,t,n,r,i,o),r=sc(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Yt(e,t,o)):(pe&&r&&Xu(t),t.flags|=1,Ae(e,t,n,o),t.child)}function qd(e,t,n,r,o){if(Ue(n)){var i=!0;Es(t)}else i=!1;if(vr(t,o),t.stateNode===null)ns(e,t),fm(t,n,r),Ga(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=st(u):(u=Ue(n)?Dn:$e.current,u=_r(t,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Yd(t,s,r,u),on=!1;var d=t.memoizedState;s.state=d,Ps(t,r,s,o),a=t.memoizedState,l!==r||d!==a||We.current||on?(typeof f=="function"&&(Xa(t,n,f,r),a=t.memoizedState),(l=on||Ud(t,n,l,r,d,a,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Up(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ut(t.type,l),s.props=u,c=t.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=st(a):(a=Ue(n)?Dn:$e.current,a=_r(t,a));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==c||d!==a)&&Yd(t,s,r,a),on=!1,d=t.memoizedState,s.state=d,Ps(t,r,s,o);var y=t.memoizedState;l!==c||d!==y||We.current||on?(typeof g=="function"&&(Xa(t,n,g,r),y=t.memoizedState),(u=on||Ud(t,n,u,r,d,y,a)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Za(e,t,n,r,i,o)}function Za(e,t,n,r,o,i){ym(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Ad(t,n,!1),Yt(e,t,i);r=t.stateNode,mw.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Nr(t,e.child,null,i),t.child=Nr(t,null,l,i)):Ae(e,t,l,i),t.memoizedState=r.state,o&&Ad(t,n,!0),t.child}function vm(e){var t=e.stateNode;t.pendingContext?$d(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$d(e,t.context,!1),tc(e,t.containerInfo)}function Jd(e,t,n,r,o){return br(),Ku(o),t.flags|=256,Ae(e,t,n,r),t.child}var qa={dehydrated:null,treeContext:null,retryLane:0};function Ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function xm(e,t,n){var r=t.pendingProps,o=ve.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ue(ve,o&1),e===null)return Ua(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=ll(s,r,0,null),e=zn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ja(n),t.memoizedState=qa,e):uc(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return gw(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=vn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=vn(l,i):(i=zn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Ja(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=qa,r}return i=e.child,e=i.sibling,r=vn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function uc(e,t){return t=ll({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zi(e,t,n,r){return r!==null&&Ku(r),Nr(t,e.child,null,n),e=uc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gw(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Jl(Error(H(422))),zi(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=ll({mode:"visible",children:r.children},o,0,null),i=zn(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Nr(t,e.child,null,s),t.child.memoizedState=Ja(s),t.memoizedState=qa,i);if(!(t.mode&1))return zi(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(H(419)),r=Jl(i,r,void 0),zi(e,t,s,r)}if(l=(s&e.childLanes)!==0,Be||l){if(r=Pe,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Ut(e,o),yt(r,e,o,-1))}return mc(),r=Jl(Error(H(421))),zi(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Mw.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Ke=pn(o.nextSibling),Qe=t,pe=!0,ft=null,e!==null&&(nt[rt++]=$t,nt[rt++]=At,nt[rt++]=On,$t=e.id,At=e.overflow,On=t),t=uc(t,r.children),t.flags|=4096,t)}function ef(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ya(e.return,t,n)}function ea(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function wm(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ae(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ef(e,n,t);else if(e.tag===19)ef(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(ve,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ms(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ea(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ms(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ea(t,!0,n,null,i);break;case"together":ea(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ns(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function yw(e,t,n){switch(t.tag){case 3:vm(t),br();break;case 5:Yp(t);break;case 1:Ue(t.type)&&Es(t);break;case 4:tc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ue(Ns,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?xm(e,t,n):(ue(ve,ve.current&1),e=Yt(e,t,n),e!==null?e.sibling:null);ue(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wm(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ue(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,gm(e,t,n)}return Yt(e,t,n)}var Sm,eu,km,Em;Sm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eu=function(){};km=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,jn(Ct.current);var i=null;switch(n){case"input":o=ka(e,o),r=ka(e,r),i=[];break;case"select":o=we({},o,{value:void 0}),r=we({},r,{value:void 0}),i=[];break;case"textarea":o=ba(e,o),r=ba(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ss)}Ca(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(jo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(jo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&fe("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Em=function(e,t,n,r){n!==r&&(t.flags|=4)};function to(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vw(e,t,n){var r=t.pendingProps;switch(Gu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Ue(t.type)&&ks(),ze(t),null;case 3:return r=t.stateNode,Cr(),he(We),he($e),rc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ri(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(au(ft),ft=null))),eu(e,t),ze(t),null;case 5:nc(t);var o=jn(Vo.current);if(n=t.type,e!==null&&t.stateNode!=null)km(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return ze(t),null}if(e=jn(Ct.current),Ri(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[bt]=t,r[Ho]=i,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(o=0;o<po.length;o++)fe(po[o],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":ud(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":dd(r,i),fe("invalid",r)}Ca(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ji(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ji(r.textContent,l,e),o=["children",""+l]):jo.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&fe("scroll",r)}switch(n){case"input":Ei(r),cd(r,i,!0);break;case"textarea":Ei(r),fd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ss)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[bt]=t,e[Ho]=r,Sm(e,t,!1,!1),t.stateNode=e;e:{switch(s=Pa(n,r),n){case"dialog":fe("cancel",e),fe("close",e),o=r;break;case"iframe":case"object":case"embed":fe("load",e),o=r;break;case"video":case"audio":for(o=0;o<po.length;o++)fe(po[o],e);o=r;break;case"source":fe("error",e),o=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),o=r;break;case"details":fe("toggle",e),o=r;break;case"input":ud(e,r),o=ka(e,r),fe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=we({},r,{value:void 0}),fe("invalid",e);break;case"textarea":dd(e,r),o=ba(e,r),fe("invalid",e);break;default:o=r}Ca(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?ep(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&qh(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ro(e,a):typeof a=="number"&&Ro(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(jo.hasOwnProperty(i)?a!=null&&i==="onScroll"&&fe("scroll",e):a!=null&&Tu(e,i,a,s))}switch(n){case"input":Ei(e),cd(e,r,!1);break;case"textarea":Ei(e),fd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?pr(e,!!r.multiple,i,!1):r.defaultValue!=null&&pr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ss)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Em(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=jn(Vo.current),jn(Ct.current),Ri(t)){if(r=t.stateNode,n=t.memoizedProps,r[bt]=t,(i=r.nodeValue!==n)&&(e=Qe,e!==null))switch(e.tag){case 3:ji(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ji(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bt]=t,t.stateNode=r}return ze(t),null;case 13:if(he(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&Ke!==null&&t.mode&1&&!(t.flags&128))Hp(),br(),t.flags|=98560,i=!1;else if(i=Ri(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(H(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[bt]=t}else br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),i=!1}else ft!==null&&(au(ft),ft=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Ne===0&&(Ne=3):mc())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return Cr(),eu(e,t),e===null&&Oo(t.stateNode.containerInfo),ze(t),null;case 10:return qu(t.type._context),ze(t),null;case 17:return Ue(t.type)&&ks(),ze(t),null;case 19:if(he(ve),i=t.memoizedState,i===null)return ze(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)to(i,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ms(e),s!==null){for(t.flags|=128,to(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(ve,ve.current&1|2),t.child}e=e.sibling}i.tail!==null&&ke()>Mr&&(t.flags|=128,r=!0,to(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ms(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),to(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!pe)return ze(t),null}else 2*ke()-i.renderingStartTime>Mr&&n!==1073741824&&(t.flags|=128,r=!0,to(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ke(),t.sibling=null,n=ve.current,ue(ve,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return pc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xe&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function xw(e,t){switch(Gu(t),t.tag){case 1:return Ue(t.type)&&ks(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cr(),he(We),he($e),rc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nc(t),null;case 13:if(he(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(ve),null;case 4:return Cr(),null;case 10:return qu(t.type._context),null;case 22:case 23:return pc(),null;case 24:return null;default:return null}}var Li=!1,Le=!1,ww=typeof WeakSet=="function"?WeakSet:Set,U=null;function cr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Se(e,t,r)}}var tf=!1;function Sw(e,t){if(Da=vs,e=Pp(),Yu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,f=0,c=e,d=null;t:for(;;){for(var g;c!==n||o!==0&&c.nodeType!==3||(l=s+o),c!==i||r!==0&&c.nodeType!==3||(a=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(g=c.firstChild)!==null;)d=c,c=g;for(;;){if(c===e)break t;if(d===n&&++u===o&&(l=s),d===i&&++f===r&&(a=s),(g=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oa={focusedElem:e,selectionRange:n},vs=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,S=y.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:ut(t.type,x),S);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(w){Se(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return y=tf,tf=!1,y}function _o(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&tu(t,n,i)}o=o.next}while(o!==r)}}function il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _m(e){var t=e.alternate;t!==null&&(e.alternate=null,_m(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bt],delete t[Ho],delete t[Ba],delete t[rw],delete t[ow])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bm(e){return e.tag===5||e.tag===3||e.tag===4}function nf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ru(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ss));else if(r!==4&&(e=e.child,e!==null))for(ru(e,t,n),e=e.sibling;e!==null;)ru(e,t,n),e=e.sibling}function ou(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ou(e,t,n),e=e.sibling;e!==null;)ou(e,t,n),e=e.sibling}var Me=null,ct=!1;function qt(e,t,n){for(n=n.child;n!==null;)Nm(e,t,n),n=n.sibling}function Nm(e,t,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Zs,n)}catch{}switch(n.tag){case 5:Le||cr(n,t);case 6:var r=Me,o=ct;Me=null,qt(e,t,n),Me=r,ct=o,Me!==null&&(ct?(e=Me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(ct?(e=Me,n=n.stateNode,e.nodeType===8?Xl(e.parentNode,n):e.nodeType===1&&Xl(e,n),$o(e)):Xl(Me,n.stateNode));break;case 4:r=Me,o=ct,Me=n.stateNode.containerInfo,ct=!0,qt(e,t,n),Me=r,ct=o;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&tu(n,t,s),o=o.next}while(o!==r)}qt(e,t,n);break;case 1:if(!Le&&(cr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Se(n,t,l)}qt(e,t,n);break;case 21:qt(e,t,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,qt(e,t,n),Le=r):qt(e,t,n);break;default:qt(e,t,n)}}function rf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ww),t.forEach(function(r){var o=Iw.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function at(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Me=l.stateNode,ct=!1;break e;case 3:Me=l.stateNode.containerInfo,ct=!0;break e;case 4:Me=l.stateNode.containerInfo,ct=!0;break e}l=l.return}if(Me===null)throw Error(H(160));Nm(i,s,o),Me=null,ct=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){Se(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cm(t,e),t=t.sibling}function Cm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(at(t,e),kt(e),r&4){try{_o(3,e,e.return),il(3,e)}catch(x){Se(e,e.return,x)}try{_o(5,e,e.return)}catch(x){Se(e,e.return,x)}}break;case 1:at(t,e),kt(e),r&512&&n!==null&&cr(n,n.return);break;case 5:if(at(t,e),kt(e),r&512&&n!==null&&cr(n,n.return),e.flags&32){var o=e.stateNode;try{Ro(o,"")}catch(x){Se(e,e.return,x)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Kh(o,i),Pa(l,s);var u=Pa(l,i);for(s=0;s<a.length;s+=2){var f=a[s],c=a[s+1];f==="style"?ep(o,c):f==="dangerouslySetInnerHTML"?qh(o,c):f==="children"?Ro(o,c):Tu(o,f,c,u)}switch(l){case"input":Ea(o,i);break;case"textarea":Qh(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?pr(o,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?pr(o,!!i.multiple,i.defaultValue,!0):pr(o,!!i.multiple,i.multiple?[]:"",!1))}o[Ho]=i}catch(x){Se(e,e.return,x)}}break;case 6:if(at(t,e),kt(e),r&4){if(e.stateNode===null)throw Error(H(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(x){Se(e,e.return,x)}}break;case 3:if(at(t,e),kt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$o(t.containerInfo)}catch(x){Se(e,e.return,x)}break;case 4:at(t,e),kt(e);break;case 13:at(t,e),kt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(fc=ke())),r&4&&rf(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Le=(u=Le)||f,at(t,e),Le=u):at(t,e),kt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(U=e,f=e.child;f!==null;){for(c=U=f;U!==null;){switch(d=U,g=d.child,d.tag){case 0:case 11:case 14:case 15:_o(4,d,d.return);break;case 1:cr(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){Se(r,n,x)}}break;case 5:cr(d,d.return);break;case 22:if(d.memoizedState!==null){sf(c);continue}}g!==null?(g.return=d,U=g):sf(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{o=c.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=c.stateNode,a=c.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Jh("display",s))}catch(x){Se(e,e.return,x)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(x){Se(e,e.return,x)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:at(t,e),kt(e),r&4&&rf(e);break;case 21:break;default:at(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bm(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ro(o,""),r.flags&=-33);var i=nf(e);ou(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=nf(e);ru(e,l,s);break;default:throw Error(H(161))}}catch(a){Se(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kw(e,t,n){U=e,Pm(e)}function Pm(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var o=U,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Li;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||Le;l=Li;var u=Le;if(Li=s,(Le=a)&&!u)for(U=o;U!==null;)s=U,a=s.child,s.tag===22&&s.memoizedState!==null?lf(o):a!==null?(a.return=s,U=a):lf(o);for(;i!==null;)U=i,Pm(i),i=i.sibling;U=o,Li=l,Le=u}of(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,U=i):of(e)}}function of(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||il(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Le)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ut(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Bd(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bd(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&$o(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Le||t.flags&512&&nu(t)}catch(d){Se(t,t.return,d)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function sf(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function lf(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(a){Se(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){Se(t,o,a)}}var i=t.return;try{nu(t)}catch(a){Se(t,i,a)}break;case 5:var s=t.return;try{nu(t)}catch(a){Se(t,s,a)}}}catch(a){Se(t,t.return,a)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var Ew=Math.ceil,Rs=Kt.ReactCurrentDispatcher,cc=Kt.ReactCurrentOwner,it=Kt.ReactCurrentBatchConfig,oe=0,Pe=null,Ee=null,Ie=0,Xe=0,dr=kn(0),Ne=0,Xo=null,Hn=0,sl=0,dc=0,bo=null,He=null,fc=0,Mr=1/0,zt=null,Ts=!1,iu=null,gn=null,$i=!1,cn=null,zs=0,No=0,su=null,rs=-1,os=0;function De(){return oe&6?ke():rs!==-1?rs:rs=ke()}function yn(e){return e.mode&1?oe&2&&Ie!==0?Ie&-Ie:sw.transition!==null?(os===0&&(os=fp()),os):(e=ae,e!==0||(e=window.event,e=e===void 0?16:xp(e.type)),e):1}function yt(e,t,n,r){if(50<No)throw No=0,su=null,Error(H(185));ii(e,n,r),(!(oe&2)||e!==Pe)&&(e===Pe&&(!(oe&2)&&(sl|=n),Ne===4&&ln(e,Ie)),Ye(e,r),n===1&&oe===0&&!(t.mode&1)&&(Mr=ke()+500,nl&&En()))}function Ye(e,t){var n=e.callbackNode;sx(e,t);var r=ys(e,e===Pe?Ie:0);if(r===0)n!==null&&md(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&md(n),t===1)e.tag===0?iw(af.bind(null,e)):Dp(af.bind(null,e)),tw(function(){!(oe&6)&&En()}),n=null;else{switch(hp(r)){case 1:n=Du;break;case 4:n=cp;break;case 16:n=gs;break;case 536870912:n=dp;break;default:n=gs}n=$m(n,Mm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Mm(e,t){if(rs=-1,os=0,oe&6)throw Error(H(327));var n=e.callbackNode;if(xr()&&e.callbackNode!==n)return null;var r=ys(e,e===Pe?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ls(e,r);else{t=r;var o=oe;oe|=2;var i=jm();(Pe!==e||Ie!==t)&&(zt=null,Mr=ke()+500,Tn(e,t));do try{Nw();break}catch(l){Im(e,l)}while(!0);Zu(),Rs.current=i,oe=o,Ee!==null?t=0:(Pe=null,Ie=0,t=Ne)}if(t!==0){if(t===2&&(o=Ta(e),o!==0&&(r=o,t=lu(e,o))),t===1)throw n=Xo,Tn(e,0),ln(e,r),Ye(e,ke()),n;if(t===6)ln(e,r);else{if(o=e.current.alternate,!(r&30)&&!_w(o)&&(t=Ls(e,r),t===2&&(i=Ta(e),i!==0&&(r=i,t=lu(e,i))),t===1))throw n=Xo,Tn(e,0),ln(e,r),Ye(e,ke()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:Cn(e,He,zt);break;case 3:if(ln(e,r),(r&130023424)===r&&(t=fc+500-ke(),10<t)){if(ys(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){De(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ha(Cn.bind(null,e,He,zt),t);break}Cn(e,He,zt);break;case 4:if(ln(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-gt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ew(r/1960))-r,10<r){e.timeoutHandle=Ha(Cn.bind(null,e,He,zt),r);break}Cn(e,He,zt);break;case 5:Cn(e,He,zt);break;default:throw Error(H(329))}}}return Ye(e,ke()),e.callbackNode===n?Mm.bind(null,e):null}function lu(e,t){var n=bo;return e.current.memoizedState.isDehydrated&&(Tn(e,t).flags|=256),e=Ls(e,t),e!==2&&(t=He,He=n,t!==null&&au(t)),e}function au(e){He===null?He=e:He.push.apply(He,e)}function _w(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!vt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t){for(t&=~dc,t&=~sl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),r=1<<n;e[n]=-1,t&=~r}}function af(e){if(oe&6)throw Error(H(327));xr();var t=ys(e,0);if(!(t&1))return Ye(e,ke()),null;var n=Ls(e,t);if(e.tag!==0&&n===2){var r=Ta(e);r!==0&&(t=r,n=lu(e,r))}if(n===1)throw n=Xo,Tn(e,0),ln(e,t),Ye(e,ke()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,He,zt),Ye(e,ke()),null}function hc(e,t){var n=oe;oe|=1;try{return e(t)}finally{oe=n,oe===0&&(Mr=ke()+500,nl&&En())}}function Bn(e){cn!==null&&cn.tag===0&&!(oe&6)&&xr();var t=oe;oe|=1;var n=it.transition,r=ae;try{if(it.transition=null,ae=1,e)return e()}finally{ae=r,it.transition=n,oe=t,!(oe&6)&&En()}}function pc(){Xe=dr.current,he(dr)}function Tn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ew(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(Gu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ks();break;case 3:Cr(),he(We),he($e),rc();break;case 5:nc(r);break;case 4:Cr();break;case 13:he(ve);break;case 19:he(ve);break;case 10:qu(r.type._context);break;case 22:case 23:pc()}n=n.return}if(Pe=e,Ee=e=vn(e.current,null),Ie=Xe=t,Ne=0,Xo=null,dc=sl=Hn=0,He=bo=null,In!==null){for(t=0;t<In.length;t++)if(n=In[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}In=null}return e}function Im(e,t){do{var n=Ee;try{if(Zu(),es.current=js,Is){for(var r=xe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Is=!1}if(Fn=0,Ce=be=xe=null,Eo=!1,Wo=0,cc.current=null,n===null||n.return===null){Ne=1,Xo=t,Ee=null;break}e:{var i=e,s=n.return,l=n,a=t;if(t=Ie,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=Gd(s);if(g!==null){g.flags&=-257,Kd(g,s,l,i,t),g.mode&1&&Xd(i,u,t),t=g,a=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(a),t.updateQueue=x}else y.add(a);break e}else{if(!(t&1)){Xd(i,u,t),mc();break e}a=Error(H(426))}}else if(pe&&l.mode&1){var S=Gd(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Kd(S,s,l,i,t),Ku(Pr(a,l));break e}}i=a=Pr(a,l),Ne!==4&&(Ne=2),bo===null?bo=[i]:bo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=hm(i,a,t);Hd(i,p);break e;case 1:l=a;var m=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(gn===null||!gn.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=pm(i,l,t);Hd(i,w);break e}}i=i.return}while(i!==null)}Tm(n)}catch(E){t=E,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function jm(){var e=Rs.current;return Rs.current=js,e===null?js:e}function mc(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Pe===null||!(Hn&268435455)&&!(sl&268435455)||ln(Pe,Ie)}function Ls(e,t){var n=oe;oe|=2;var r=jm();(Pe!==e||Ie!==t)&&(zt=null,Tn(e,t));do try{bw();break}catch(o){Im(e,o)}while(!0);if(Zu(),oe=n,Rs.current=r,Ee!==null)throw Error(H(261));return Pe=null,Ie=0,Ne}function bw(){for(;Ee!==null;)Rm(Ee)}function Nw(){for(;Ee!==null&&!Zv();)Rm(Ee)}function Rm(e){var t=Lm(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,t===null?Tm(e):Ee=t,cc.current=null}function Tm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=xw(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,Ee=null;return}}else if(n=vw(n,t,Xe),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Ne===0&&(Ne=5)}function Cn(e,t,n){var r=ae,o=it.transition;try{it.transition=null,ae=1,Cw(e,t,n,r)}finally{it.transition=o,ae=r}return null}function Cw(e,t,n,r){do xr();while(cn!==null);if(oe&6)throw Error(H(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(lx(e,i),e===Pe&&(Ee=Pe=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$i||($i=!0,$m(gs,function(){return xr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=it.transition,it.transition=null;var s=ae;ae=1;var l=oe;oe|=4,cc.current=null,Sw(e,n),Cm(n,e),Xx(Oa),vs=!!Da,Oa=Da=null,e.current=n,kw(n),qv(),oe=l,ae=s,it.transition=i}else e.current=n;if($i&&($i=!1,cn=e,zs=o),i=e.pendingLanes,i===0&&(gn=null),tx(n.stateNode),Ye(e,ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ts)throw Ts=!1,e=iu,iu=null,e;return zs&1&&e.tag!==0&&xr(),i=e.pendingLanes,i&1?e===su?No++:(No=0,su=e):No=0,En(),null}function xr(){if(cn!==null){var e=hp(zs),t=it.transition,n=ae;try{if(it.transition=null,ae=16>e?16:e,cn===null)var r=!1;else{if(e=cn,cn=null,zs=0,oe&6)throw Error(H(331));var o=oe;for(oe|=4,U=e.current;U!==null;){var i=U,s=i.child;if(U.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(U=u;U!==null;){var f=U;switch(f.tag){case 0:case 11:case 15:_o(8,f,i)}var c=f.child;if(c!==null)c.return=f,U=c;else for(;U!==null;){f=U;var d=f.sibling,g=f.return;if(_m(f),f===u){U=null;break}if(d!==null){d.return=g,U=d;break}U=g}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}U=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,U=s;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_o(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,U=p;break e}U=i.return}}var m=e.current;for(U=m;U!==null;){s=U;var h=s.child;if(s.subtreeFlags&2064&&h!==null)h.return=s,U=h;else e:for(s=m;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){Se(l,l.return,E)}if(l===s){U=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,U=w;break e}U=l.return}}if(oe=o,En(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Zs,e)}catch{}r=!0}return r}finally{ae=n,it.transition=t}}return!1}function uf(e,t,n){t=Pr(n,t),t=hm(e,t,1),e=mn(e,t,1),t=De(),e!==null&&(ii(e,1,t),Ye(e,t))}function Se(e,t,n){if(e.tag===3)uf(e,e,n);else for(;t!==null;){if(t.tag===3){uf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gn===null||!gn.has(r))){e=Pr(n,e),e=pm(t,e,1),t=mn(t,e,1),e=De(),t!==null&&(ii(t,1,e),Ye(t,e));break}}t=t.return}}function Pw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Ie&n)===n&&(Ne===4||Ne===3&&(Ie&130023424)===Ie&&500>ke()-fc?Tn(e,0):dc|=n),Ye(e,t)}function zm(e,t){t===0&&(e.mode&1?(t=Ni,Ni<<=1,!(Ni&130023424)&&(Ni=4194304)):t=1);var n=De();e=Ut(e,t),e!==null&&(ii(e,t,n),Ye(e,n))}function Mw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zm(e,n)}function Iw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),zm(e,n)}var Lm;Lm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||We.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,yw(e,t,n);Be=!!(e.flags&131072)}else Be=!1,pe&&t.flags&1048576&&Op(t,bs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ns(e,t),e=t.pendingProps;var o=_r(t,$e.current);vr(t,n),o=ic(null,t,r,e,o,n);var i=sc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(r)?(i=!0,Es(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ec(t),o.updater=ol,t.stateNode=o,o._reactInternals=t,Ga(t,r,e,n),t=Za(null,t,r,!0,i,n)):(t.tag=0,pe&&i&&Xu(t),Ae(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ns(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Rw(r),e=ut(r,e),o){case 0:t=Qa(null,t,r,e,n);break e;case 1:t=qd(null,t,r,e,n);break e;case 11:t=Qd(null,t,r,e,n);break e;case 14:t=Zd(null,t,r,ut(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ut(r,o),Qa(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ut(r,o),qd(e,t,r,o,n);case 3:e:{if(vm(t),e===null)throw Error(H(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Up(e,t),Ps(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Pr(Error(H(423)),t),t=Jd(e,t,r,n,o);break e}else if(r!==o){o=Pr(Error(H(424)),t),t=Jd(e,t,r,n,o);break e}else for(Ke=pn(t.stateNode.containerInfo.firstChild),Qe=t,pe=!0,ft=null,n=Vp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(br(),r===o){t=Yt(e,t,n);break e}Ae(e,t,r,n)}t=t.child}return t;case 5:return Yp(t),e===null&&Ua(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Fa(r,o)?s=null:i!==null&&Fa(r,i)&&(t.flags|=32),ym(e,t),Ae(e,t,s,n),t.child;case 6:return e===null&&Ua(t),null;case 13:return xm(e,t,n);case 4:return tc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Nr(t,null,r,n):Ae(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ut(r,o),Qd(e,t,r,o,n);case 7:return Ae(e,t,t.pendingProps,n),t.child;case 8:return Ae(e,t,t.pendingProps.children,n),t.child;case 12:return Ae(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ue(Ns,r._currentValue),r._currentValue=s,i!==null)if(vt(i.value,s)){if(i.children===o.children&&!We.current){t=Yt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Ft(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ya(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(H(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ya(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ae(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,vr(t,n),o=st(o),r=r(o),t.flags|=1,Ae(e,t,r,n),t.child;case 14:return r=t.type,o=ut(r,t.pendingProps),o=ut(r.type,o),Zd(e,t,r,o,n);case 15:return mm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ut(r,o),ns(e,t),t.tag=1,Ue(r)?(e=!0,Es(t)):e=!1,vr(t,n),fm(t,r,o),Ga(t,r,o,n),Za(null,t,r,!0,e,n);case 19:return wm(e,t,n);case 22:return gm(e,t,n)}throw Error(H(156,t.tag))};function $m(e,t){return up(e,t)}function jw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,r){return new jw(e,t,n,r)}function gc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rw(e){if(typeof e=="function")return gc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lu)return 11;if(e===$u)return 14}return 2}function vn(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function is(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")gc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case tr:return zn(n.children,o,i,t);case zu:s=8,o|=8;break;case va:return e=ot(12,n,t,o|2),e.elementType=va,e.lanes=i,e;case xa:return e=ot(13,n,t,o),e.elementType=xa,e.lanes=i,e;case wa:return e=ot(19,n,t,o),e.elementType=wa,e.lanes=i,e;case Yh:return ll(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wh:s=10;break e;case Uh:s=9;break e;case Lu:s=11;break e;case $u:s=14;break e;case rn:s=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=ot(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function zn(e,t,n,r){return e=ot(7,e,r,t),e.lanes=n,e}function ll(e,t,n,r){return e=ot(22,e,r,t),e.elementType=Yh,e.lanes=n,e.stateNode={isHidden:!1},e}function ta(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function na(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tw(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function yc(e,t,n,r,o,i,s,l,a){return e=new Tw(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ec(i),e}function zw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:er,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Am(e){if(!e)return wn;e=e._reactInternals;e:{if(Kn(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(Ue(n))return Ap(e,n,t)}return t}function Dm(e,t,n,r,o,i,s,l,a){return e=yc(n,r,!0,e,o,i,s,l,a),e.context=Am(null),n=e.current,r=De(),o=yn(n),i=Ft(r,o),i.callback=t??null,mn(n,i,o),e.current.lanes=o,ii(e,o,r),Ye(e,r),e}function al(e,t,n,r){var o=t.current,i=De(),s=yn(o);return n=Am(n),t.context===null?t.context=n:t.pendingContext=n,t=Ft(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=mn(o,t,s),e!==null&&(yt(e,o,s,i),Ji(e,o,s)),s}function $s(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vc(e,t){cf(e,t),(e=e.alternate)&&cf(e,t)}function Lw(){return null}var Om=typeof reportError=="function"?reportError:function(e){console.error(e)};function xc(e){this._internalRoot=e}ul.prototype.render=xc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));al(e,t,null,null)};ul.prototype.unmount=xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bn(function(){al(null,e,null,null)}),t[Wt]=null}};function ul(e){this._internalRoot=e}ul.prototype.unstable_scheduleHydration=function(e){if(e){var t=gp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sn.length&&t!==0&&t<sn[n].priority;n++);sn.splice(n,0,e),n===0&&vp(e)}};function wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function df(){}function $w(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=$s(s);i.call(u)}}var s=Dm(t,r,e,0,null,!1,!1,"",df);return e._reactRootContainer=s,e[Wt]=s.current,Oo(e.nodeType===8?e.parentNode:e),Bn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=$s(a);l.call(u)}}var a=yc(e,0,!1,null,null,!1,!1,"",df);return e._reactRootContainer=a,e[Wt]=a.current,Oo(e.nodeType===8?e.parentNode:e),Bn(function(){al(t,a,n,r)}),a}function dl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=$s(s);l.call(a)}}al(t,s,e,o)}else s=$w(n,t,e,o,r);return $s(s)}pp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ho(t.pendingLanes);n!==0&&(Ou(t,n|1),Ye(t,ke()),!(oe&6)&&(Mr=ke()+500,En()))}break;case 13:Bn(function(){var r=Ut(e,1);if(r!==null){var o=De();yt(r,e,1,o)}}),vc(e,1)}};Fu=function(e){if(e.tag===13){var t=Ut(e,134217728);if(t!==null){var n=De();yt(t,e,134217728,n)}vc(e,134217728)}};mp=function(e){if(e.tag===13){var t=yn(e),n=Ut(e,t);if(n!==null){var r=De();yt(n,e,t,r)}vc(e,t)}};gp=function(){return ae};yp=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};Ia=function(e,t,n){switch(t){case"input":if(Ea(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=tl(r);if(!o)throw Error(H(90));Gh(r),Ea(r,o)}}}break;case"textarea":Qh(e,n);break;case"select":t=n.value,t!=null&&pr(e,!!n.multiple,t,!1)}};rp=hc;op=Bn;var Aw={usingClientEntryPoint:!1,Events:[li,ir,tl,tp,np,hc]},no={findFiberByHostInstance:Mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dw={bundleType:no.bundleType,version:no.version,rendererPackageName:no.rendererPackageName,rendererConfig:no.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lp(e),e===null?null:e.stateNode},findFiberByHostInstance:no.findFiberByHostInstance||Lw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ai=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ai.isDisabled&&Ai.supportsFiber)try{Zs=Ai.inject(Dw),Nt=Ai}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Aw;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wc(t))throw Error(H(200));return zw(e,t,null,n)};Je.createRoot=function(e,t){if(!wc(e))throw Error(H(299));var n=!1,r="",o=Om;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=yc(e,1,!1,null,null,n,!1,r,o),e[Wt]=t.current,Oo(e.nodeType===8?e.parentNode:e),new xc(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=lp(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return Bn(e)};Je.hydrate=function(e,t,n){if(!cl(t))throw Error(H(200));return dl(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!wc(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Om;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Dm(t,null,e,1,n??null,o,!1,i,s),e[Wt]=t.current,Oo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ul(t)};Je.render=function(e,t,n){if(!cl(t))throw Error(H(200));return dl(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!cl(e))throw Error(H(40));return e._reactRootContainer?(Bn(function(){dl(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1};Je.unstable_batchedUpdates=hc;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!cl(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return dl(e,t,n,!1,r)};Je.version="18.3.1-next-f1338f8080-20240426";function Fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fm)}catch(e){console.error(e)}}Fm(),Fh.exports=Je;var Hm=Fh.exports,Bm,ff=Hm;Bm=ff.createRoot,ff.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hf="popstate";function Ow(e={}){function t(r,o){let{pathname:i,search:s,hash:l}=r.location;return uu("",{pathname:i,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Go(o)}return Hw(t,n,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Fw(){return Math.random().toString(36).substring(2,10)}function pf(e,t){return{usr:e.state,key:e.key,idx:t}}function uu(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Hr(t):t,state:n,key:t&&t.key||r||Fw()}}function Go({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Hr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Hw(e,t,n,r={}){let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,l="POP",a=null,u=f();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function f(){return(s.state||{idx:null}).idx}function c(){l="POP";let S=f(),p=S==null?null:S-u;u=S,a&&a({action:l,location:x.location,delta:p})}function d(S,p){l="PUSH";let m=uu(x.location,S,p);u=f()+1;let h=pf(m,u),w=x.createHref(m);try{s.pushState(h,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;o.location.assign(w)}i&&a&&a({action:l,location:x.location,delta:1})}function g(S,p){l="REPLACE";let m=uu(x.location,S,p);u=f();let h=pf(m,u),w=x.createHref(m);s.replaceState(h,"",w),i&&a&&a({action:l,location:x.location,delta:0})}function y(S){return Bw(S)}let x={get action(){return l},get location(){return e(o,s)},listen(S){if(a)throw new Error("A history only accepts one active listener");return o.addEventListener(hf,c),a=S,()=>{o.removeEventListener(hf,c),a=null}},createHref(S){return t(o,S)},createURL:y,encodeLocation(S){let p=y(S);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:g,go(S){return s.go(S)}};return x}function Bw(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),me(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Go(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Vm(e,t,n="/"){return Vw(e,t,n,!1)}function Vw(e,t,n,r){let o=typeof t=="string"?Hr(t):t,i=Xt(o.pathname||"/",n);if(i==null)return null;let s=Wm(e);Ww(s);let l=null;for(let a=0;l==null&&a<s.length;++a){let u=t1(i);l=Jw(s[a],u,r)}return l}function Wm(e,t=[],n=[],r="",o=!1){let i=(s,l,a=o,u)=>{let f={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&a)return;me(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let c=Ht([r,f.relativePath]),d=n.concat(f);s.children&&s.children.length>0&&(me(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Wm(s.children,t,d,c,a)),!(s.path==null&&!s.index)&&t.push({path:c,score:Zw(c,s.index),routesMeta:d})};return e.forEach((s,l)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,l);else for(let u of Um(s.path))i(s,l,!0,u)}),t}function Um(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=Um(r.join("/")),l=[];return l.push(...s.map(a=>a===""?i:[i,a].join("/"))),o&&l.push(...s),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function Ww(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:qw(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Uw=/^:[\w-]+$/,Yw=3,Xw=2,Gw=1,Kw=10,Qw=-2,mf=e=>e==="*";function Zw(e,t){let n=e.split("/"),r=n.length;return n.some(mf)&&(r+=Qw),t&&(r+=Xw),n.filter(o=>!mf(o)).reduce((o,i)=>o+(Uw.test(i)?Yw:i===""?Gw:Kw),r)}function qw(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function Jw(e,t,n=!1){let{routesMeta:r}=e,o={},i="/",s=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",c=As({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},f),d=a.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=As({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},f)),!c)return null;Object.assign(o,c.params),s.push({params:o,pathname:Ht([i,c.pathname]),pathnameBase:i1(Ht([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Ht([i,c.pathnameBase]))}return s}function As(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=e1(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:c},d)=>{if(f==="*"){let y=l[d]||"";s=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[d];return c&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function e1(e,t=!1,n=!0){xt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function t1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Xt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var n1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function r1(e,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Hr(e):e,i;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?i=gf(n.substring(1),"/"):i=gf(n,t)):i=t,{pathname:i,search:s1(r),hash:l1(o)}}function gf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ra(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function o1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Sc(e){let t=o1(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function kc(e,t,n,r=!1){let o;typeof e=="string"?o=Hr(e):(o={...e},me(!o.pathname||!o.pathname.includes("?"),ra("?","pathname","search",o)),me(!o.pathname||!o.pathname.includes("#"),ra("#","pathname","hash",o)),me(!o.search||!o.search.includes("#"),ra("#","search","hash",o)));let i=e===""||o.pathname==="",s=i?"/":o.pathname,l;if(s==null)l=n;else{let c=t.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),c-=1;o.pathname=d.join("/")}l=c>=0?t[c]:"/"}let a=r1(o,l),u=s&&s!=="/"&&s.endsWith("/"),f=(i||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||f)&&(a.pathname+="/"),a}var Ht=e=>e.join("/").replace(/\/\/+/g,"/"),i1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),s1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,l1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,a1=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function u1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function c1(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ym=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Xm(e,t){let n=e;if(typeof n!="string"||!n1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(Ym)try{let i=new URL(window.location.href),s=n.startsWith("//")?new URL(i.protocol+n):new URL(n),l=Xt(s.pathname,t);s.origin===i.origin&&l!=null?n=l+s.search+s.hash:o=!0}catch{xt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Gm=["POST","PUT","PATCH","DELETE"];new Set(Gm);var d1=["GET",...Gm];new Set(d1);var Br=k.createContext(null);Br.displayName="DataRouter";var fl=k.createContext(null);fl.displayName="DataRouterState";var f1=k.createContext(!1),Km=k.createContext({isTransitioning:!1});Km.displayName="ViewTransition";var h1=k.createContext(new Map);h1.displayName="Fetchers";var p1=k.createContext(null);p1.displayName="Await";var tt=k.createContext(null);tt.displayName="Navigation";var ui=k.createContext(null);ui.displayName="Location";var wt=k.createContext({outlet:null,matches:[],isDataRoute:!1});wt.displayName="Route";var Ec=k.createContext(null);Ec.displayName="RouteError";var Qm="REACT_ROUTER_ERROR",m1="REDIRECT",g1="ROUTE_ERROR_RESPONSE";function y1(e){if(e.startsWith(`${Qm}:${m1}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function v1(e){if(e.startsWith(`${Qm}:${g1}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new a1(t.status,t.statusText,t.data)}catch{}}function x1(e,{relative:t}={}){me(Vr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(tt),{hash:o,pathname:i,search:s}=di(e,{relative:t}),l=i;return n!=="/"&&(l=i==="/"?n:Ht([n,i])),r.createHref({pathname:l,search:s,hash:o})}function Vr(){return k.useContext(ui)!=null}function _n(){return me(Vr(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(ui).location}var Zm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qm(e){k.useContext(tt).static||k.useLayoutEffect(e)}function ci(){let{isDataRoute:e}=k.useContext(wt);return e?T1():w1()}function w1(){me(Vr(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(Br),{basename:t,navigator:n}=k.useContext(tt),{matches:r}=k.useContext(wt),{pathname:o}=_n(),i=JSON.stringify(Sc(r)),s=k.useRef(!1);return qm(()=>{s.current=!0}),k.useCallback((a,u={})=>{if(xt(s.current,Zm),!s.current)return;if(typeof a=="number"){n.go(a);return}let f=kc(a,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ht([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,i,o,e])}k.createContext(null);function S1(){let{matches:e}=k.useContext(wt),t=e[e.length-1];return t?t.params:{}}function di(e,{relative:t}={}){let{matches:n}=k.useContext(wt),{pathname:r}=_n(),o=JSON.stringify(Sc(n));return k.useMemo(()=>kc(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function k1(e,t){return Jm(e,t)}function Jm(e,t,n,r,o){var m;me(Vr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=k.useContext(tt),{matches:s}=k.useContext(wt),l=s[s.length-1],a=l?l.params:{},u=l?l.pathname:"/",f=l?l.pathnameBase:"/",c=l&&l.route;{let h=c&&c.path||"";tg(u,!c||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let d=_n(),g;if(t){let h=typeof t=="string"?Hr(t):t;me(f==="/"||((m=h.pathname)==null?void 0:m.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${h.pathname}" was given in the \`location\` prop.`),g=h}else g=d;let y=g.pathname||"/",x=y;if(f!=="/"){let h=f.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(h.length).join("/")}let S=Vm(e,{pathname:x});xt(c||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),xt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let p=C1(S&&S.map(h=>Object.assign({},h,{params:Object.assign({},a,h.params),pathname:Ht([f,i.encodeLocation?i.encodeLocation(h.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?f:Ht([f,i.encodeLocation?i.encodeLocation(h.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathnameBase])})),s,n,r,o);return t&&p?k.createElement(ui.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},p):p}function E1(){let e=R1(),t=u1(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:i},"ErrorBoundary")," or"," ",k.createElement("code",{style:i},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:o},n):null,s)}var _1=k.createElement(E1,null),eg=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=v1(e.digest);n&&(e=n)}let t=e!==void 0?k.createElement(wt.Provider,{value:this.props.routeContext},k.createElement(Ec.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?k.createElement(b1,{error:e},t):t}};eg.contextType=f1;var oa=new WeakMap;function b1({children:e,error:t}){let{basename:n}=k.useContext(tt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=y1(t.digest);if(r){let o=oa.get(t);if(o)throw o;let i=Xm(r.location,n);if(Ym&&!oa.get(t))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw oa.set(t,s),s}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function N1({routeContext:e,match:t,children:n}){let r=k.useContext(Br);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(wt.Provider,{value:e},n)}function C1(e,t=[],n=null,r=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let f=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);me(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,a=-1;if(n)for(let f=0;f<i.length;f++){let c=i[f];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=f),c.route.id){let{loaderData:d,errors:g}=n,y=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!g||g[c.route.id]===void 0);if(c.route.lazy||y){l=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}let u=n&&r?(f,c)=>{var d,g;r(f,{location:n.location,params:((g=(d=n.matches)==null?void 0:d[0])==null?void 0:g.params)??{},unstable_pattern:c1(n.matches),errorInfo:c})}:void 0;return i.reduceRight((f,c,d)=>{let g,y=!1,x=null,S=null;n&&(g=s&&c.route.id?s[c.route.id]:void 0,x=c.route.errorElement||_1,l&&(a<0&&d===0?(tg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,S=null):a===d&&(y=!0,S=c.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,d+1)),m=()=>{let h;return g?h=x:y?h=S:c.route.Component?h=k.createElement(c.route.Component,null):c.route.element?h=c.route.element:h=f,k.createElement(N1,{match:c,routeContext:{outlet:f,matches:p,isDataRoute:n!=null},children:h})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?k.createElement(eg,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:u}):m()},null)}function _c(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P1(e){let t=k.useContext(Br);return me(t,_c(e)),t}function M1(e){let t=k.useContext(fl);return me(t,_c(e)),t}function I1(e){let t=k.useContext(wt);return me(t,_c(e)),t}function bc(e){let t=I1(e),n=t.matches[t.matches.length-1];return me(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function j1(){return bc("useRouteId")}function R1(){var r;let e=k.useContext(Ec),t=M1("useRouteError"),n=bc("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function T1(){let{router:e}=P1("useNavigate"),t=bc("useNavigate"),n=k.useRef(!1);return qm(()=>{n.current=!0}),k.useCallback(async(o,i={})=>{xt(n.current,Zm),n.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...i}))},[e,t])}var yf={};function tg(e,t,n){!t&&!yf[e]&&(yf[e]=!0,xt(!1,n))}k.memo(z1);function z1({routes:e,future:t,state:n,onError:r}){return Jm(e,void 0,n,r,t)}function ng({to:e,replace:t,state:n,relative:r}){me(Vr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(tt);xt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=k.useContext(wt),{pathname:s}=_n(),l=ci(),a=kc(e,Sc(i),s,r==="path"),u=JSON.stringify(a);return k.useEffect(()=>{l(JSON.parse(u),{replace:t,state:n,relative:r})},[l,u,r,t,n]),null}function mo(e){me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function L1({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:i=!1,unstable_useTransitions:s}){me(!Vr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),a=k.useMemo(()=>({basename:l,navigator:o,static:i,unstable_useTransitions:s,future:{}}),[l,o,i,s]);typeof n=="string"&&(n=Hr(n));let{pathname:u="/",search:f="",hash:c="",state:d=null,key:g="default"}=n,y=k.useMemo(()=>{let x=Xt(u,l);return x==null?null:{location:{pathname:x,search:f,hash:c,state:d,key:g},navigationType:r}},[l,u,f,c,d,g,r]);return xt(y!=null,`<Router basename="${l}"> is not able to match the URL "${u}${f}${c}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:k.createElement(tt.Provider,{value:a},k.createElement(ui.Provider,{children:t,value:y}))}function $1({children:e,location:t}){return k1(cu(e),t)}function cu(e,t=[]){let n=[];return k.Children.forEach(e,(r,o)=>{if(!k.isValidElement(r))return;let i=[...t,o];if(r.type===k.Fragment){n.push.apply(n,cu(r.props.children,i));return}me(r.type===mo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),me(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=cu(r.props.children,i)),n.push(s)}),n}var ss="get",ls="application/x-www-form-urlencoded";function hl(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function A1(e){return hl(e)&&e.tagName.toLowerCase()==="button"}function D1(e){return hl(e)&&e.tagName.toLowerCase()==="form"}function O1(e){return hl(e)&&e.tagName.toLowerCase()==="input"}function F1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function H1(e,t){return e.button===0&&(!t||t==="_self")&&!F1(e)}var Di=null;function B1(){if(Di===null)try{new FormData(document.createElement("form"),0),Di=!1}catch{Di=!0}return Di}var V1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ia(e){return e!=null&&!V1.has(e)?(xt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ls}"`),null):e}function W1(e,t){let n,r,o,i,s;if(D1(e)){let l=e.getAttribute("action");r=l?Xt(l,t):null,n=e.getAttribute("method")||ss,o=ia(e.getAttribute("enctype"))||ls,i=new FormData(e)}else if(A1(e)||O1(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||l.getAttribute("action");if(r=a?Xt(a,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||ss,o=ia(e.getAttribute("formenctype"))||ia(l.getAttribute("enctype"))||ls,i=new FormData(l,e),!B1()){let{name:u,type:f,value:c}=e;if(f==="image"){let d=u?`${u}.`:"";i.append(`${d}x`,"0"),i.append(`${d}y`,"0")}else u&&i.append(u,c)}}else{if(hl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ss,r=null,o=ls,s=e}return i&&o==="text/plain"&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Nc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function U1(e,t,n,r){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:t&&Xt(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function Y1(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X1(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function G1(e,t,n){let r=await Promise.all(e.map(async o=>{let i=t.routes[o.route.id];if(i){let s=await Y1(i,n);return s.links?s.links():[]}return[]}));return q1(r.flat(1).filter(X1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function vf(e,t,n,r,o,i){let s=(a,u)=>n[u]?a.route.id!==n[u].route.id:!0,l=(a,u)=>{var f;return n[u].pathname!==a.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==a.params["*"]};return i==="assets"?t.filter((a,u)=>s(a,u)||l(a,u)):i==="data"?t.filter((a,u)=>{var c;let f=r.routes[a.route.id];if(!f||!f.hasLoader)return!1;if(s(a,u)||l(a,u))return!0;if(a.route.shouldRevalidate){let d=a.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((c=n[0])==null?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function K1(e,t,{includeHydrateFallback:n}={}){return Q1(e.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let i=[o.module];return o.clientActionModule&&(i=i.concat(o.clientActionModule)),o.clientLoaderModule&&(i=i.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(i=i.concat(o.hydrateFallbackModule)),o.imports&&(i=i.concat(o.imports)),i}).flat(1))}function Q1(e){return[...new Set(e)]}function Z1(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function q1(e,t){let n=new Set;return new Set(t),e.reduce((r,o)=>{let i=JSON.stringify(Z1(o));return n.has(i)||(n.add(i),r.push({key:i,link:o})),r},[])}function rg(){let e=k.useContext(Br);return Nc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function J1(){let e=k.useContext(fl);return Nc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Cc=k.createContext(void 0);Cc.displayName="FrameworkContext";function og(){let e=k.useContext(Cc);return Nc(e,"You must render this element inside a <HydratedRouter> element"),e}function eS(e,t){let n=k.useContext(Cc),[r,o]=k.useState(!1),[i,s]=k.useState(!1),{onFocus:l,onBlur:a,onMouseEnter:u,onMouseLeave:f,onTouchStart:c}=t,d=k.useRef(null);k.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let x=p=>{p.forEach(m=>{s(m.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return d.current&&S.observe(d.current),()=>{S.disconnect()}}},[e]),k.useEffect(()=>{if(r){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[r]);let g=()=>{o(!0)},y=()=>{o(!1),s(!1)};return n?e!=="intent"?[i,d,{}]:[i,d,{onFocus:ro(l,g),onBlur:ro(a,y),onMouseEnter:ro(u,g),onMouseLeave:ro(f,y),onTouchStart:ro(c,g)}]:[!1,d,{}]}function ro(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function tS({page:e,...t}){let{router:n}=rg(),r=k.useMemo(()=>Vm(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?k.createElement(rS,{page:e,matches:r,...t}):null}function nS(e){let{manifest:t,routeModules:n}=og(),[r,o]=k.useState([]);return k.useEffect(()=>{let i=!1;return G1(e,t,n).then(s=>{i||o(s)}),()=>{i=!0}},[e,t,n]),r}function rS({page:e,matches:t,...n}){let r=_n(),{future:o,manifest:i,routeModules:s}=og(),{basename:l}=rg(),{loaderData:a,matches:u}=J1(),f=k.useMemo(()=>vf(e,t,u,i,r,"data"),[e,t,u,i,r]),c=k.useMemo(()=>vf(e,t,u,i,r,"assets"),[e,t,u,i,r]),d=k.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let x=new Set,S=!1;if(t.forEach(m=>{var w;let h=i.routes[m.route.id];!h||!h.hasLoader||(!f.some(E=>E.route.id===m.route.id)&&m.route.id in a&&((w=s[m.route.id])!=null&&w.shouldRevalidate)||h.hasClientLoader?S=!0:x.add(m.route.id))}),x.size===0)return[];let p=U1(e,l,o.unstable_trailingSlashAwareDataRequests,"data");return S&&x.size>0&&p.searchParams.set("_routes",t.filter(m=>x.has(m.route.id)).map(m=>m.route.id).join(",")),[p.pathname+p.search]},[l,o.unstable_trailingSlashAwareDataRequests,a,r,i,f,t,e,s]),g=k.useMemo(()=>K1(c,i),[c,i]),y=nS(c);return k.createElement(k.Fragment,null,d.map(x=>k.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),g.map(x=>k.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:S})=>k.createElement("link",{key:x,nonce:n.nonce,...S,crossOrigin:S.crossOrigin??n.crossOrigin})))}function oS(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var iS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iS&&(window.__reactRouterVersion="7.13.0")}catch{}function sS({basename:e,children:t,unstable_useTransitions:n,window:r}){let o=k.useRef();o.current==null&&(o.current=Ow({window:r,v5Compat:!0}));let i=o.current,[s,l]=k.useState({action:i.action,location:i.location}),a=k.useCallback(u=>{n===!1?l(u):k.startTransition(()=>l(u))},[n]);return k.useLayoutEffect(()=>i.listen(a),[i,a]),k.createElement(L1,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:n})}var ig=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sg=k.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:i,replace:s,state:l,target:a,to:u,preventScrollReset:f,viewTransition:c,unstable_defaultShouldRevalidate:d,...g},y){let{basename:x,unstable_useTransitions:S}=k.useContext(tt),p=typeof u=="string"&&ig.test(u),m=Xm(u,x);u=m.to;let h=x1(u,{relative:o}),[w,E,_]=eS(r,g),N=cS(u,{replace:s,state:l,target:a,preventScrollReset:f,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:S});function M(D){t&&t(D),D.defaultPrevented||N(D)}let R=k.createElement("a",{...g,..._,href:m.absoluteURL||h,onClick:m.isExternal||i?t:M,ref:oS(y,E),target:a,"data-discover":!p&&n==="render"?"true":void 0});return w&&!p?k.createElement(k.Fragment,null,R,k.createElement(tS,{page:h})):R});sg.displayName="Link";var lS=k.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:i,to:s,viewTransition:l,children:a,...u},f){let c=di(s,{relative:u.relative}),d=_n(),g=k.useContext(fl),{navigator:y,basename:x}=k.useContext(tt),S=g!=null&&mS(c)&&l===!0,p=y.encodeLocation?y.encodeLocation(c).pathname:c.pathname,m=d.pathname,h=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(m=m.toLowerCase(),h=h?h.toLowerCase():null,p=p.toLowerCase()),h&&x&&(h=Xt(h,x)||h);const w=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let E=m===p||!o&&m.startsWith(p)&&m.charAt(w)==="/",_=h!=null&&(h===p||!o&&h.startsWith(p)&&h.charAt(p.length)==="/"),N={isActive:E,isPending:_,isTransitioning:S},M=E?t:void 0,R;typeof r=="function"?R=r(N):R=[r,E?"active":null,_?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let D=typeof i=="function"?i(N):i;return k.createElement(sg,{...u,"aria-current":M,className:R,ref:f,style:D,to:s,viewTransition:l},typeof a=="function"?a(N):a)});lS.displayName="NavLink";var aS=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:i,method:s=ss,action:l,onSubmit:a,relative:u,preventScrollReset:f,viewTransition:c,unstable_defaultShouldRevalidate:d,...g},y)=>{let{unstable_useTransitions:x}=k.useContext(tt),S=hS(),p=pS(l,{relative:u}),m=s.toLowerCase()==="get"?"get":"post",h=typeof l=="string"&&ig.test(l),w=E=>{if(a&&a(E),E.defaultPrevented)return;E.preventDefault();let _=E.nativeEvent.submitter,N=(_==null?void 0:_.getAttribute("formmethod"))||s,M=()=>S(_||E.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:o,state:i,relative:u,preventScrollReset:f,viewTransition:c,unstable_defaultShouldRevalidate:d});x&&n!==!1?k.startTransition(()=>M()):M()};return k.createElement("form",{ref:y,method:m,action:p,onSubmit:r?a:w,...g,"data-discover":!h&&e==="render"?"true":void 0})});aS.displayName="Form";function uS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lg(e){let t=k.useContext(Br);return me(t,uS(e)),t}function cS(e,{target:t,replace:n,state:r,preventScrollReset:o,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:a}={}){let u=ci(),f=_n(),c=di(e,{relative:i});return k.useCallback(d=>{if(H1(d,t)){d.preventDefault();let g=n!==void 0?n:Go(f)===Go(c),y=()=>u(e,{replace:g,state:r,preventScrollReset:o,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l});a?k.startTransition(()=>y()):y()}},[f,u,c,n,r,t,e,o,i,s,l,a])}var dS=0,fS=()=>`__${String(++dS)}__`;function hS(){let{router:e}=lg("useSubmit"),{basename:t}=k.useContext(tt),n=j1(),r=e.fetch,o=e.navigate;return k.useCallback(async(i,s={})=>{let{action:l,method:a,encType:u,formData:f,body:c}=W1(i,t);if(s.navigate===!1){let d=s.fetcherKey||fS();await r(d,n,s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:c,formMethod:s.method||a,formEncType:s.encType||u,flushSync:s.flushSync})}else await o(s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:c,formMethod:s.method||a,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,o,t,n])}function pS(e,{relative:t}={}){let{basename:n}=k.useContext(tt),r=k.useContext(wt);me(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),i={...di(e||".",{relative:t})},s=_n();if(e==null){i.search=s.search;let l=new URLSearchParams(i.search),a=l.getAll("index");if(a.some(f=>f==="")){l.delete("index"),a.filter(c=>c).forEach(c=>l.append("index",c));let f=l.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ht([n,i.pathname])),Go(i)}function mS(e,{relative:t}={}){let n=k.useContext(Km);me(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=lg("useViewTransitionState"),o=di(e,{relative:t});if(!n.isTransitioning)return!1;let i=Xt(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Xt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return As(o.pathname,s)!=null||As(o.pathname,i)!=null}const Co="fb_session";function Pc(){try{const e=sessionStorage.getItem(Co);if(!e)return null;const t=JSON.parse(e);return Date.now()>=t.expires_at?(sessionStorage.removeItem(Co),null):t}catch{return sessionStorage.removeItem(Co),null}}function gS(e){sessionStorage.setItem(Co,JSON.stringify(e))}function du(){sessionStorage.removeItem(Co)}const ag=k.createContext({session:null,login:async()=>{},logout:()=>{},isAuthenticated:!1});function Mc(){return k.useContext(ag)}const ug="/api/v1/flow-builder";class Dt extends Error{constructor(t,n,r,o){super(r),this.status=t,this.errorCode=n,this.requestId=o,this.name="ApiClientError"}}async function Qn(e,t,n){const r=Pc();if(!r)throw du(),window.location.replace("/flow-builder/login"),new Dt(401,"NO_SESSION","Oturum bulunamadi");const o={Authorization:`Bearer ${r.token}`};let i={method:e,headers:o};n!==void 0&&(o["Content-Type"]="application/json",i={...i,body:JSON.stringify(n)});let s;try{s=await fetch(`${ug}${t}`,i)}catch{throw new Dt(0,"NETWORK_ERROR","Sunucuya baglanilamadi. Internet baglantinizi kontrol edin.")}if(s.status===401)throw du(),window.location.replace("/flow-builder/login"),new Dt(401,"UNAUTHORIZED","Oturum suresi doldu");if(!s.ok){let l=null;try{l=await s.json()}catch{}throw new Dt(s.status,(l==null?void 0:l.error_code)??"UNKNOWN",(l==null?void 0:l.message)??`HTTP ${s.status}`,l==null?void 0:l.request_id)}if(s.status!==204)return s.json()}async function yS(e,t){let n;try{n=await fetch(`${ug}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenant_id:e,api_key:t})})}catch{throw new Dt(0,"NETWORK_ERROR","Sunucuya baglanilamadi. Internet baglantinizi kontrol edin.")}if(!n.ok){let r=null;try{r=await n.json()}catch{}throw new Dt(n.status,(r==null?void 0:r.error_code)??"UNKNOWN",(r==null?void 0:r.message)??`Giris basarisiz (HTTP ${n.status})`,r==null?void 0:r.request_id)}return n.json()}function vS(e){return Qn("GET",`/flows/${e}`)}function cg(e,t){return Qn("GET",`/flows/${e}/${t}`)}function xS(e,t){return Qn("POST",`/flows/${e}`,t)}function wS(e,t,n){return Qn("PUT",`/flows/${e}/${t}`,n)}function SS(e,t){return Qn("DELETE",`/flows/${e}/${t}`)}function kS(e,t){return Qn("POST",`/flows/${e}/${t}/activate`)}function ES(e,t){return Qn("POST",`/flows/${e}/${t}/deactivate`)}function _S(){const[e,t]=k.useState(""),[n,r]=k.useState(""),[o,i]=k.useState(null),[s,l]=k.useState(!1),{login:a}=Mc(),u=ci(),f=async c=>{c.preventDefault(),i(null);const d=parseInt(e,10);if(!d||d<=0){i("Gecerli bir Tenant ID girin.");return}if(!n.trim()){i("API Key bos olamaz.");return}l(!0);try{await a(d,n.trim()),u("/",{replace:!0})}catch(g){i(g instanceof Error?g.message:"Giris basarisiz")}finally{l(!1)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0f0f23]",children:v.jsxs("div",{className:"w-full max-w-sm",children:[v.jsxs("div",{className:"bg-[#1e1e3a] rounded-xl border border-[#2d2d4a] p-8 shadow-2xl",children:[v.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Flow Builder"}),v.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Giris yapmak icin tenant bilgilerinizi girin."}),v.jsxs("form",{onSubmit:f,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"tenantId",className:"block text-sm text-gray-300 mb-1",children:"Tenant ID"}),v.jsx("input",{id:"tenantId",type:"number",min:"1",value:e,onChange:c=>t(c.target.value),className:"w-full px-3 py-2 bg-[#0f0f23] border border-[#3d3d5a] rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-blue-500 transition",placeholder:"ornek: 1",required:!0,disabled:s})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"apiKey",className:"block text-sm text-gray-300 mb-1",children:"API Key"}),v.jsx("input",{id:"apiKey",type:"password",value:n,onChange:c=>r(c.target.value),className:"w-full px-3 py-2 bg-[#0f0f23] border border-[#3d3d5a] rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-blue-500 transition",placeholder:"flow_builder_api_key",required:!0,disabled:s})]}),o&&v.jsx("div",{className:"text-sm text-red-400 bg-red-900/20 border border-red-800/30 rounded-lg px-3 py-2",children:o}),v.jsx("button",{type:"submit",disabled:s,className:"w-full py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 disabled:opacity-50 text-white font-medium rounded-lg transition",children:s?"Giris yapiliyor...":"Giris Yap"})]})]}),v.jsx("p",{className:"text-center text-xs text-gray-600 mt-4",children:"Invekto Flow Builder v2"})]})})}const dg=[{type:"trigger_start",category:"trigger",label:"Baslangic",description:"Flow giris noktasi",color:"#10b981",maxInstances:1,defaultData:{label:"Baslangic"}},{type:"message_text",category:"message",label:"Mesaj",description:"Metin mesaj gonder",color:"#3b82f6",defaultData:{label:"Mesaj",text:""}},{type:"message_menu",category:"message",label:"Menu",description:"Secenekli menu goster",color:"#3b82f6",defaultData:{label:"Menu",text:"Secim yapin:",options:[{key:"1",label:"Secenek 1",handle_id:"opt_1"}]}},{type:"logic_condition",category:"logic",label:"Kosul",description:"If/else dallanma",color:"#f59e0b",defaultData:{label:"Kosul",variable:"",operator:"equals",value:""}},{type:"logic_switch",category:"logic",label:"Switch",description:"Coklu dallanma",color:"#f59e0b",defaultData:{label:"Switch",variable:"",cases:[{value:"",handle_id:"case_1"}],default_handle_id:"default"}},{type:"ai_intent",category:"ai",label:"Intent Algilama",description:"Claude AI ile niyet tespiti",color:"#8b5cf6",defaultData:{label:"Intent",confidence_threshold:.5}},{type:"ai_faq",category:"ai",label:"FAQ Arama",description:"SSS veritabaninda ara",color:"#8b5cf6",defaultData:{label:"FAQ",min_confidence:.3}},{type:"action_handoff",category:"action",label:"Temsilciye Aktar",description:"Insana yonlendir (terminal)",color:"#ef4444",defaultData:{label:"Temsilciye Aktar"}},{type:"action_api_call",category:"action",label:"API Cagrisi",description:"Harici API endpoint cagir",color:"#ef4444",defaultData:{label:"API",method:"POST",url:"",timeout_ms:5e3}},{type:"action_delay",category:"action",label:"Bekle",description:"N saniye bekle",color:"#ef4444",defaultData:{label:"Bekle",seconds:5}},{type:"utility_set_variable",category:"utility",label:"Degisken Ata",description:"Session degiskeni ayarla",color:"#6b7280",defaultData:{label:"Degisken",variable_name:"",value_expression:""}},{type:"utility_note",category:"utility",label:"Not",description:"Gorsel yorum (calistirilmaz)",color:"#6b7280",defaultData:{label:"Not",text:""}}];function fg(e){return dg.find(t=>t.type===e)}function Ds(){return{version:2,metadata:{name:"Yeni Flow",canvas_viewport:{x:0,y:0,zoom:1}},nodes:[{id:"trigger_start_1",type:"trigger_start",position:{x:300,y:50},data:{label:"Baslangic"}}],edges:[],settings:{off_hours_message:"Su anda mesai saatleri disindayiz.",unknown_input_message:"Anlayamadim. Lutfen gecerli bir secenek girin.",handoff_confidence_threshold:.5,session_timeout_minutes:30,max_loop_count:10}}}function bS(){const{session:e,logout:t}=Mc(),n=ci(),r=(e==null?void 0:e.tenant_id)??0,[o,i]=k.useState([]),[s,l]=k.useState(!0),[a,u]=k.useState(null),[f,c]=k.useState(null),[d,g]=k.useState(!1),[y,x]=k.useState(""),[S,p]=k.useState(null),[m,h]=k.useState(!1),[w,E]=k.useState(null),_=k.useCallback(async()=>{if(r){l(!0),u(null);try{const z=await vS(r);i(z)}catch(z){u(z instanceof Error?z.message:"Flow listesi alinamadi")}finally{l(!1)}}},[r]);k.useEffect(()=>{_()},[_]);const N=async()=>{if(!y.trim()){p("Flow adi bos olamaz.");return}h(!0),p(null);try{const z=Ds();z.metadata.name=y.trim();const b=await xS(r,{flow_name:y.trim(),flow_config:z});g(!1),x(""),n(`/editor/${b.flow_id}`)}catch(z){z instanceof Dt&&z.status===409?p("Bu isimde bir flow zaten mevcut."):p(z instanceof Error?z.message:"Olusturma basarisiz")}finally{h(!1)}},M=async z=>{E(null),c(z.flow_id);try{await SS(r,z.flow_id),i(b=>b.filter($=>$.flow_id!==z.flow_id))}catch(b){b instanceof Dt&&b.status===409?u("Aktif flow silinemez. Once deaktif edin."):u(b instanceof Error?b.message:"Silme basarisiz")}finally{c(null)}},R=async z=>{c(z),u(null);try{await kS(r,z),await _()}catch(b){u(b instanceof Error?b.message:"Aktivasyon basarisiz")}finally{c(null)}},D=async z=>{c(z),u(null);try{await ES(r,z),await _()}catch(b){u(b instanceof Error?b.message:"Deaktivasyon basarisiz")}finally{c(null)}},T=async z=>{c(z.flow_id);try{const b=await cg(r,z.flow_id);await navigator.clipboard.writeText(JSON.stringify(b.flow_config,null,2)),u(null)}catch(b){u(b instanceof Error?b.message:"Kopyalama basarisiz")}finally{c(null)}},j=z=>new Date(z).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return v.jsxs("div",{className:"min-h-screen bg-[#0f0f23] text-gray-200",children:[v.jsxs("header",{className:"bg-[#1e1e3a] border-b border-[#2d2d4a] px-6 py-3 flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-bold text-white",children:"Flow Builder"}),v.jsxs("span",{className:"text-xs text-gray-400",children:["Tenant #",r]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:()=>{x(""),p(null),g(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition",children:"+ Yeni Flow"}),v.jsx("button",{onClick:t,className:"px-3 py-2 text-sm text-gray-400 hover:text-white transition",children:"Cikis"})]})]}),v.jsxs("main",{className:"max-w-5xl mx-auto px-6 py-8",children:[a&&v.jsxs("div",{className:"mb-4 text-sm text-red-400 bg-red-900/20 border border-red-800/30 rounded-lg px-4 py-3 flex items-center justify-between",children:[v.jsx("span",{children:a}),v.jsx("button",{onClick:()=>u(null),className:"text-red-300 hover:text-white ml-4",children:""})]}),s?v.jsx("div",{className:"text-center py-20 text-gray-400",children:"Yukleniyor..."}):o.length===0?v.jsxs("div",{className:"text-center py-20",children:[v.jsx("p",{className:"text-gray-400 mb-4",children:"Henuz bir flow olusturulmamis."}),v.jsx("button",{onClick:()=>{x(""),p(null),g(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition",children:"Ilk Flow'u Olustur"})]}):v.jsx("div",{className:"space-y-3",children:o.map(z=>v.jsxs("div",{className:"bg-[#1e1e3a] border border-[#2d2d4a] rounded-xl px-5 py-4 flex items-center justify-between hover:border-[#3d3d5a] transition",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx("span",{className:"font-semibold text-white truncate",children:z.flow_name}),z.is_active&&v.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-900/40 text-green-400 border border-green-800/30 rounded-full",children:"Aktif"})]}),v.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[v.jsxs("span",{children:["v",z.config_version]}),v.jsxs("span",{children:[z.node_count," node / ",z.edge_count," edge"]}),v.jsxs("span",{children:["Guncelleme: ",j(z.updated_at)]})]})]}),v.jsxs("div",{className:"flex items-center gap-2 ml-4 flex-shrink-0",children:[v.jsx("button",{onClick:()=>n(`/editor/${z.flow_id}`),className:"px-3 py-1.5 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:"Duzenle"}),z.is_active?v.jsx("button",{onClick:()=>D(z.flow_id),disabled:f===z.flow_id,className:"px-3 py-1.5 text-xs bg-yellow-700/50 hover:bg-yellow-700 text-yellow-200 rounded-lg transition disabled:opacity-50",children:"Deaktif Et"}):v.jsx("button",{onClick:()=>R(z.flow_id),disabled:f===z.flow_id,className:"px-3 py-1.5 text-xs bg-green-700/50 hover:bg-green-700 text-green-200 rounded-lg transition disabled:opacity-50",children:"Aktif Et"}),v.jsx("button",{onClick:()=>T(z),disabled:f===z.flow_id,className:"px-3 py-1.5 text-xs bg-[#2d2d4a] hover:bg-[#3d3d5a] text-gray-300 rounded-lg transition disabled:opacity-50",title:"Flow JSON'u panoya kopyala",children:"Kopyala"}),v.jsx("button",{onClick:()=>E(z),disabled:f===z.flow_id||z.is_active,className:"px-3 py-1.5 text-xs bg-red-900/40 hover:bg-red-800 text-red-300 rounded-lg transition disabled:opacity-30 disabled:cursor-not-allowed",title:z.is_active?"Aktif flow silinemez":"Flow sil",children:"Sil"})]})]},z.flow_id))})]}),d&&v.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-[#1e1e3a] border border-[#2d2d4a] rounded-xl w-full max-w-md p-6 shadow-2xl",children:[v.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Yeni Flow Olustur"}),v.jsx("input",{type:"text",value:y,onChange:z=>x(z.target.value),onKeyDown:z=>z.key==="Enter"&&N(),placeholder:"Flow adi (ornek: Satis Chatbot)",className:"w-full px-3 py-2 bg-[#0f0f23] border border-[#3d3d5a] rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-blue-500 transition mb-3",autoFocus:!0,disabled:m}),S&&v.jsx("p",{className:"text-sm text-red-400 mb-3",children:S}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>g(!1),disabled:m,className:"px-4 py-2 text-sm text-gray-400 hover:text-white transition",children:"Iptal"}),v.jsx("button",{onClick:N,disabled:m,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 disabled:opacity-50 text-white font-medium rounded-lg transition",children:m?"Olusturuluyor...":"Olustur"})]})]})}),w&&v.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-[#1e1e3a] border border-[#2d2d4a] rounded-xl w-full max-w-sm p-6 shadow-2xl",children:[v.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:"Flow'u Sil"}),v.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:[v.jsx("strong",{className:"text-white",children:w.flow_name})," flow'u kalici olarak silinecek. Bu islem geri alinamaz."]}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>E(null),className:"px-4 py-2 text-sm text-gray-400 hover:text-white transition",children:"Iptal"}),v.jsx("button",{onClick:()=>M(w),className:"px-4 py-2 text-sm bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition",children:"Evet, Sil"})]})]})})]})}function _e(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=_e(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var NS={value:()=>{}};function pl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new as(n)}function as(e){this._=e}function CS(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}as.prototype=pl.prototype={constructor:as,on:function(e,t){var n=this._,r=CS(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=PS(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=xf(n[o],e.name,t);else if(t==null)for(o in n)n[o]=xf(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new as(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function PS(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function xf(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=NS,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var fu="http://www.w3.org/1999/xhtml";const wf={svg:"http://www.w3.org/2000/svg",xhtml:fu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ml(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),wf.hasOwnProperty(t)?{space:wf[t],local:e}:e}function MS(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===fu&&t.documentElement.namespaceURI===fu?t.createElement(e):t.createElementNS(n,e)}}function IS(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hg(e){var t=ml(e);return(t.local?IS:MS)(t)}function jS(){}function Ic(e){return e==null?jS:function(){return this.querySelector(e)}}function RS(e){typeof e!="function"&&(e=Ic(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=new Array(s),a,u,f=0;f<s;++f)(a=i[f])&&(u=e.call(a,a.__data__,f,i))&&("__data__"in a&&(u.__data__=a.__data__),l[f]=u);return new qe(r,this._parents)}function TS(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function zS(){return[]}function pg(e){return e==null?zS:function(){return this.querySelectorAll(e)}}function LS(e){return function(){return TS(e.apply(this,arguments))}}function $S(e){typeof e=="function"?e=LS(e):e=pg(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),o.push(a));return new qe(r,o)}function mg(e){return function(){return this.matches(e)}}function gg(e){return function(t){return t.matches(e)}}var AS=Array.prototype.find;function DS(e){return function(){return AS.call(this.children,e)}}function OS(){return this.firstElementChild}function FS(e){return this.select(e==null?OS:DS(typeof e=="function"?e:gg(e)))}var HS=Array.prototype.filter;function BS(){return Array.from(this.children)}function VS(e){return function(){return HS.call(this.children,e)}}function WS(e){return this.selectAll(e==null?BS:VS(typeof e=="function"?e:gg(e)))}function US(e){typeof e!="function"&&(e=mg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new qe(r,this._parents)}function yg(e){return new Array(e.length)}function YS(){return new qe(this._enter||this._groups.map(yg),this._parents)}function Os(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Os.prototype={constructor:Os,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function XS(e){return function(){return e}}function GS(e,t,n,r,o,i){for(var s=0,l,a=t.length,u=i.length;s<u;++s)(l=t[s])?(l.__data__=i[s],r[s]=l):n[s]=new Os(e,i[s]);for(;s<a;++s)(l=t[s])&&(o[s]=l)}function KS(e,t,n,r,o,i,s){var l,a,u=new Map,f=t.length,c=i.length,d=new Array(f),g;for(l=0;l<f;++l)(a=t[l])&&(d[l]=g=s.call(a,a.__data__,l,t)+"",u.has(g)?o[l]=a:u.set(g,a));for(l=0;l<c;++l)g=s.call(e,i[l],l,i)+"",(a=u.get(g))?(r[l]=a,a.__data__=i[l],u.delete(g)):n[l]=new Os(e,i[l]);for(l=0;l<f;++l)(a=t[l])&&u.get(d[l])===a&&(o[l]=a)}function QS(e){return e.__data__}function ZS(e,t){if(!arguments.length)return Array.from(this,QS);var n=t?KS:GS,r=this._parents,o=this._groups;typeof e!="function"&&(e=XS(e));for(var i=o.length,s=new Array(i),l=new Array(i),a=new Array(i),u=0;u<i;++u){var f=r[u],c=o[u],d=c.length,g=qS(e.call(f,f&&f.__data__,u,r)),y=g.length,x=l[u]=new Array(y),S=s[u]=new Array(y),p=a[u]=new Array(d);n(f,c,x,S,p,g,t);for(var m=0,h=0,w,E;m<y;++m)if(w=x[m]){for(m>=h&&(h=m+1);!(E=S[h])&&++h<y;);w._next=E||null}}return s=new qe(s,r),s._enter=l,s._exit=a,s}function qS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JS(){return new qe(this._exit||this._groups.map(yg),this._parents)}function ek(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function tk(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),l=new Array(o),a=0;a<s;++a)for(var u=n[a],f=r[a],c=u.length,d=l[a]=new Array(c),g,y=0;y<c;++y)(g=u[y]||f[y])&&(d[y]=g);for(;a<o;++a)l[a]=n[a];return new qe(l,this._parents)}function nk(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function rk(e){e||(e=ok);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],l=s.length,a=o[i]=new Array(l),u,f=0;f<l;++f)(u=s[f])&&(a[f]=u);a.sort(t)}return new qe(o,this._parents).order()}function ok(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ik(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function sk(){return Array.from(this)}function lk(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function ak(){let e=0;for(const t of this)++e;return e}function uk(){return!this.node()}function ck(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,l;i<s;++i)(l=o[i])&&e.call(l,l.__data__,i,o);return this}function dk(e){return function(){this.removeAttribute(e)}}function fk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hk(e,t){return function(){this.setAttribute(e,t)}}function pk(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function mk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function gk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function yk(e,t){var n=ml(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?fk:dk:typeof t=="function"?n.local?gk:mk:n.local?pk:hk)(n,t))}function vg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function vk(e){return function(){this.style.removeProperty(e)}}function xk(e,t,n){return function(){this.style.setProperty(e,t,n)}}function wk(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Sk(e,t,n){return arguments.length>1?this.each((t==null?vk:typeof t=="function"?wk:xk)(e,t,n??"")):Ir(this.node(),e)}function Ir(e,t){return e.style.getPropertyValue(t)||vg(e).getComputedStyle(e,null).getPropertyValue(t)}function kk(e){return function(){delete this[e]}}function Ek(e,t){return function(){this[e]=t}}function _k(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function bk(e,t){return arguments.length>1?this.each((t==null?kk:typeof t=="function"?_k:Ek)(e,t)):this.node()[e]}function xg(e){return e.trim().split(/^|\s+/)}function jc(e){return e.classList||new wg(e)}function wg(e){this._node=e,this._names=xg(e.getAttribute("class")||"")}wg.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Sg(e,t){for(var n=jc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function kg(e,t){for(var n=jc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Nk(e){return function(){Sg(this,e)}}function Ck(e){return function(){kg(this,e)}}function Pk(e,t){return function(){(t.apply(this,arguments)?Sg:kg)(this,e)}}function Mk(e,t){var n=xg(e+"");if(arguments.length<2){for(var r=jc(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Pk:t?Nk:Ck)(n,t))}function Ik(){this.textContent=""}function jk(e){return function(){this.textContent=e}}function Rk(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Tk(e){return arguments.length?this.each(e==null?Ik:(typeof e=="function"?Rk:jk)(e)):this.node().textContent}function zk(){this.innerHTML=""}function Lk(e){return function(){this.innerHTML=e}}function $k(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ak(e){return arguments.length?this.each(e==null?zk:(typeof e=="function"?$k:Lk)(e)):this.node().innerHTML}function Dk(){this.nextSibling&&this.parentNode.appendChild(this)}function Ok(){return this.each(Dk)}function Fk(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hk(){return this.each(Fk)}function Bk(e){var t=typeof e=="function"?e:hg(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Vk(){return null}function Wk(e,t){var n=typeof e=="function"?e:hg(e),r=t==null?Vk:typeof t=="function"?t:Ic(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Uk(){var e=this.parentNode;e&&e.removeChild(this)}function Yk(){return this.each(Uk)}function Xk(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Gk(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Kk(e){return this.select(e?Gk:Xk)}function Qk(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Zk(e){return function(t){e.call(this,t,this.__data__)}}function qk(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Jk(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function eE(e,t,n){return function(){var r=this.__on,o,i=Zk(t);if(r){for(var s=0,l=r.length;s<l;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function tE(e,t,n){var r=qk(e+""),o,i=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,f;a<u;++a)for(o=0,f=l[a];o<i;++o)if((s=r[o]).type===f.type&&s.name===f.name)return f.value}return}for(l=t?eE:Jk,o=0;o<i;++o)this.each(l(r[o],t,n));return this}function Eg(e,t,n){var r=vg(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function nE(e,t){return function(){return Eg(this,e,t)}}function rE(e,t){return function(){return Eg(this,e,t.apply(this,arguments))}}function oE(e,t){return this.each((typeof t=="function"?rE:nE)(e,t))}function*iE(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var _g=[null];function qe(e,t){this._groups=e,this._parents=t}function fi(){return new qe([[document.documentElement]],_g)}function sE(){return this}qe.prototype=fi.prototype={constructor:qe,select:RS,selectAll:$S,selectChild:FS,selectChildren:WS,filter:US,data:ZS,enter:YS,exit:JS,join:ek,merge:tk,selection:sE,order:nk,sort:rk,call:ik,nodes:sk,node:lk,size:ak,empty:uk,each:ck,attr:yk,style:Sk,property:bk,classed:Mk,text:Tk,html:Ak,raise:Ok,lower:Hk,append:Bk,insert:Wk,remove:Yk,clone:Kk,datum:Qk,on:tE,dispatch:oE,[Symbol.iterator]:iE};function Ge(e){return typeof e=="string"?new qe([[document.querySelector(e)]],[document.documentElement]):new qe([[e]],_g)}function lE(e){let t;for(;t=e.sourceEvent;)e=t;return e}function dt(e,t){if(e=lE(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const aE={passive:!1},Ko={capture:!0,passive:!1};function sa(e){e.stopImmediatePropagation()}function wr(e){e.preventDefault(),e.stopImmediatePropagation()}function bg(e){var t=e.document.documentElement,n=Ge(e).on("dragstart.drag",wr,Ko);"onselectstart"in t?n.on("selectstart.drag",wr,Ko):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ng(e,t){var n=e.document.documentElement,r=Ge(e).on("dragstart.drag",null);t&&(r.on("click.drag",wr,Ko),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Oi=e=>()=>e;function hu(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:l,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}hu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function uE(e){return!e.ctrlKey&&!e.button}function cE(){return this.parentNode}function dE(e,t){return t??{x:e.x,y:e.y}}function fE(){return navigator.maxTouchPoints||"ontouchstart"in this}function Cg(){var e=uE,t=cE,n=dE,r=fE,o={},i=pl("start","drag","end"),s=0,l,a,u,f,c=0;function d(w){w.on("mousedown.drag",g).filter(r).on("touchstart.drag",S).on("touchmove.drag",p,aE).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(w,E){if(!(f||!e.call(this,w,E))){var _=h(this,t.call(this,w,E),w,E,"mouse");_&&(Ge(w.view).on("mousemove.drag",y,Ko).on("mouseup.drag",x,Ko),bg(w.view),sa(w),u=!1,l=w.clientX,a=w.clientY,_("start",w))}}function y(w){if(wr(w),!u){var E=w.clientX-l,_=w.clientY-a;u=E*E+_*_>c}o.mouse("drag",w)}function x(w){Ge(w.view).on("mousemove.drag mouseup.drag",null),Ng(w.view,u),wr(w),o.mouse("end",w)}function S(w,E){if(e.call(this,w,E)){var _=w.changedTouches,N=t.call(this,w,E),M=_.length,R,D;for(R=0;R<M;++R)(D=h(this,N,w,E,_[R].identifier,_[R]))&&(sa(w),D("start",w,_[R]))}}function p(w){var E=w.changedTouches,_=E.length,N,M;for(N=0;N<_;++N)(M=o[E[N].identifier])&&(wr(w),M("drag",w,E[N]))}function m(w){var E=w.changedTouches,_=E.length,N,M;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),N=0;N<_;++N)(M=o[E[N].identifier])&&(sa(w),M("end",w,E[N]))}function h(w,E,_,N,M,R){var D=i.copy(),T=dt(R||_,E),j,z,b;if((b=n.call(w,new hu("beforestart",{sourceEvent:_,target:d,identifier:M,active:s,x:T[0],y:T[1],dx:0,dy:0,dispatch:D}),N))!=null)return j=b.x-T[0]||0,z=b.y-T[1]||0,function $(I,A,C){var P=T,L;switch(I){case"start":o[M]=$,L=s++;break;case"end":delete o[M],--s;case"drag":T=dt(C||A,E),L=s;break}D.call(I,w,new hu(I,{sourceEvent:A,subject:b,target:d,identifier:M,active:L,x:T[0]+j,y:T[1]+z,dx:T[0]-P[0],dy:T[1]-P[1],dispatch:D}),N)}}return d.filter=function(w){return arguments.length?(e=typeof w=="function"?w:Oi(!!w),d):e},d.container=function(w){return arguments.length?(t=typeof w=="function"?w:Oi(w),d):t},d.subject=function(w){return arguments.length?(n=typeof w=="function"?w:Oi(w),d):n},d.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:Oi(!!w),d):r},d.on=function(){var w=i.on.apply(i,arguments);return w===i?d:w},d.clickDistance=function(w){return arguments.length?(c=(w=+w)*w,d):Math.sqrt(c)},d}function Rc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Pg(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hi(){}var Qo=.7,Fs=1/Qo,Sr="\\s*([+-]?\\d+)\\s*",Zo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hE=/^#([0-9a-f]{3,8})$/,pE=new RegExp(`^rgb\\(${Sr},${Sr},${Sr}\\)$`),mE=new RegExp(`^rgb\\(${Pt},${Pt},${Pt}\\)$`),gE=new RegExp(`^rgba\\(${Sr},${Sr},${Sr},${Zo}\\)$`),yE=new RegExp(`^rgba\\(${Pt},${Pt},${Pt},${Zo}\\)$`),vE=new RegExp(`^hsl\\(${Zo},${Pt},${Pt}\\)$`),xE=new RegExp(`^hsla\\(${Zo},${Pt},${Pt},${Zo}\\)$`),Sf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rc(hi,Vn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kf,formatHex:kf,formatHex8:wE,formatHsl:SE,formatRgb:Ef,toString:Ef});function kf(){return this.rgb().formatHex()}function wE(){return this.rgb().formatHex8()}function SE(){return Mg(this).formatHsl()}function Ef(){return this.rgb().formatRgb()}function Vn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=hE.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?_f(t):n===3?new Ve(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Fi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Fi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pE.exec(e))?new Ve(t[1],t[2],t[3],1):(t=mE.exec(e))?new Ve(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gE.exec(e))?Fi(t[1],t[2],t[3],t[4]):(t=yE.exec(e))?Fi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=vE.exec(e))?Cf(t[1],t[2]/100,t[3]/100,1):(t=xE.exec(e))?Cf(t[1],t[2]/100,t[3]/100,t[4]):Sf.hasOwnProperty(e)?_f(Sf[e]):e==="transparent"?new Ve(NaN,NaN,NaN,0):null}function _f(e){return new Ve(e>>16&255,e>>8&255,e&255,1)}function Fi(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ve(e,t,n,r)}function kE(e){return e instanceof hi||(e=Vn(e)),e?(e=e.rgb(),new Ve(e.r,e.g,e.b,e.opacity)):new Ve}function pu(e,t,n,r){return arguments.length===1?kE(e):new Ve(e,t,n,r??1)}function Ve(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Rc(Ve,pu,Pg(hi,{brighter(e){return e=e==null?Fs:Math.pow(Fs,e),new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qo:Math.pow(Qo,e),new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ve(Ln(this.r),Ln(this.g),Ln(this.b),Hs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bf,formatHex:bf,formatHex8:EE,formatRgb:Nf,toString:Nf}));function bf(){return`#${Rn(this.r)}${Rn(this.g)}${Rn(this.b)}`}function EE(){return`#${Rn(this.r)}${Rn(this.g)}${Rn(this.b)}${Rn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nf(){const e=Hs(this.opacity);return`${e===1?"rgb(":"rgba("}${Ln(this.r)}, ${Ln(this.g)}, ${Ln(this.b)}${e===1?")":`, ${e})`}`}function Hs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ln(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Rn(e){return e=Ln(e),(e<16?"0":"")+e.toString(16)}function Cf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ht(e,t,n,r)}function Mg(e){if(e instanceof ht)return new ht(e.h,e.s,e.l,e.opacity);if(e instanceof hi||(e=Vn(e)),!e)return new ht;if(e instanceof ht)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,l=i-o,a=(i+o)/2;return l?(t===i?s=(n-r)/l+(n<r)*6:n===i?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?i+o:2-i-o,s*=60):l=a>0&&a<1?0:s,new ht(s,l,a,e.opacity)}function _E(e,t,n,r){return arguments.length===1?Mg(e):new ht(e,t,n,r??1)}function ht(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Rc(ht,_E,Pg(hi,{brighter(e){return e=e==null?Fs:Math.pow(Fs,e),new ht(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qo:Math.pow(Qo,e),new ht(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ve(la(e>=240?e-240:e+120,o,r),la(e,o,r),la(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new ht(Pf(this.h),Hi(this.s),Hi(this.l),Hs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hs(this.opacity);return`${e===1?"hsl(":"hsla("}${Pf(this.h)}, ${Hi(this.s)*100}%, ${Hi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Pf(e){return e=(e||0)%360,e<0?e+360:e}function Hi(e){return Math.max(0,Math.min(1,e||0))}function la(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Tc=e=>()=>e;function bE(e,t){return function(n){return e+n*t}}function NE(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function CE(e){return(e=+e)==1?Ig:function(t,n){return n-t?NE(t,n,e):Tc(isNaN(t)?n:t)}}function Ig(e,t){var n=t-e;return n?bE(e,n):Tc(isNaN(e)?t:e)}const Bs=function e(t){var n=CE(t);function r(o,i){var s=n((o=pu(o)).r,(i=pu(i)).r),l=n(o.g,i.g),a=n(o.b,i.b),u=Ig(o.opacity,i.opacity);return function(f){return o.r=s(f),o.g=l(f),o.b=a(f),o.opacity=u(f),o+""}}return r.gamma=e,r}(1);function PE(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function ME(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function IE(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)o[s]=Po(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(l){for(s=0;s<r;++s)i[s]=o[s](l);return i}}function jE(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function _t(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function RE(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Po(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var mu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aa=new RegExp(mu.source,"g");function TE(e){return function(){return e}}function zE(e){return function(t){return e(t)+""}}function jg(e,t){var n=mu.lastIndex=aa.lastIndex=0,r,o,i,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=mu.exec(e))&&(o=aa.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[s]?l[s]+=i:l[++s]=i),(r=r[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:_t(r,o)})),n=aa.lastIndex;return n<t.length&&(i=t.slice(n),l[s]?l[s]+=i:l[++s]=i),l.length<2?a[0]?zE(a[0].x):TE(t):(t=a.length,function(u){for(var f=0,c;f<t;++f)l[(c=a[f]).i]=c.x(u);return l.join("")})}function Po(e,t){var n=typeof t,r;return t==null||n==="boolean"?Tc(t):(n==="number"?_t:n==="string"?(r=Vn(t))?(t=r,Bs):jg:t instanceof Vn?Bs:t instanceof Date?jE:ME(t)?PE:Array.isArray(t)?IE:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?RE:_t)(e,t)}var Mf=180/Math.PI,gu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Rg(e,t,n,r,o,i){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Mf,skewX:Math.atan(a)*Mf,scaleX:s,scaleY:l}}var Bi;function LE(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?gu:Rg(t.a,t.b,t.c,t.d,t.e,t.f)}function $E(e){return e==null||(Bi||(Bi=document.createElementNS("http://www.w3.org/2000/svg","g")),Bi.setAttribute("transform",e),!(e=Bi.transform.baseVal.consolidate()))?gu:(e=e.matrix,Rg(e.a,e.b,e.c,e.d,e.e,e.f))}function Tg(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,f,c,d,g,y){if(u!==c||f!==d){var x=g.push("translate(",null,t,null,n);y.push({i:x-4,x:_t(u,c)},{i:x-2,x:_t(f,d)})}else(c||d)&&g.push("translate("+c+t+d+n)}function s(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(o(c)+"rotate(",null,r)-2,x:_t(u,f)})):f&&c.push(o(c)+"rotate("+f+r)}function l(u,f,c,d){u!==f?d.push({i:c.push(o(c)+"skewX(",null,r)-2,x:_t(u,f)}):f&&c.push(o(c)+"skewX("+f+r)}function a(u,f,c,d,g,y){if(u!==c||f!==d){var x=g.push(o(g)+"scale(",null,",",null,")");y.push({i:x-4,x:_t(u,c)},{i:x-2,x:_t(f,d)})}else(c!==1||d!==1)&&g.push(o(g)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=e(u),f=e(f),i(u.translateX,u.translateY,f.translateX,f.translateY,c,d),s(u.rotate,f.rotate,c,d),l(u.skewX,f.skewX,c,d),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(g){for(var y=-1,x=d.length,S;++y<x;)c[(S=d[y]).i]=S.x(g);return c.join("")}}}var AE=Tg(LE,"px, ","px)","deg)"),DE=Tg($E,", ",")",")"),OE=1e-12;function If(e){return((e=Math.exp(e))+1/e)/2}function FE(e){return((e=Math.exp(e))-1/e)/2}function HE(e){return((e=Math.exp(2*e))-1)/(e+1)}const us=function e(t,n,r){function o(i,s){var l=i[0],a=i[1],u=i[2],f=s[0],c=s[1],d=s[2],g=f-l,y=c-a,x=g*g+y*y,S,p;if(x<OE)p=Math.log(d/u)/t,S=function(N){return[l+N*g,a+N*y,u*Math.exp(t*N*p)]};else{var m=Math.sqrt(x),h=(d*d-u*u+r*x)/(2*u*n*m),w=(d*d-u*u-r*x)/(2*d*n*m),E=Math.log(Math.sqrt(h*h+1)-h),_=Math.log(Math.sqrt(w*w+1)-w);p=(_-E)/t,S=function(N){var M=N*p,R=If(E),D=u/(n*m)*(R*HE(t*M+E)-FE(E));return[l+D*g,a+D*y,u*R/If(t*M+E)]}}return S.duration=p*1e3*t/Math.SQRT2,S}return o.rho=function(i){var s=Math.max(.001,+i),l=s*s,a=l*l;return e(s,l,a)},o}(Math.SQRT2,2,4);var jr=0,go=0,oo=0,zg=1e3,Vs,yo,Ws=0,Wn=0,gl=0,qo=typeof performance=="object"&&performance.now?performance:Date,Lg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function zc(){return Wn||(Lg(BE),Wn=qo.now()+gl)}function BE(){Wn=0}function Us(){this._call=this._time=this._next=null}Us.prototype=$g.prototype={constructor:Us,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?zc():+n)+(t==null?0:+t),!this._next&&yo!==this&&(yo?yo._next=this:Vs=this,yo=this),this._call=e,this._time=n,yu()},stop:function(){this._call&&(this._call=null,this._time=1/0,yu())}};function $g(e,t,n){var r=new Us;return r.restart(e,t,n),r}function VE(){zc(),++jr;for(var e=Vs,t;e;)(t=Wn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--jr}function jf(){Wn=(Ws=qo.now())+gl,jr=go=0;try{VE()}finally{jr=0,UE(),Wn=0}}function WE(){var e=qo.now(),t=e-Ws;t>zg&&(gl-=t,Ws=e)}function UE(){for(var e,t=Vs,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Vs=n);yo=e,yu(r)}function yu(e){if(!jr){go&&(go=clearTimeout(go));var t=e-Wn;t>24?(e<1/0&&(go=setTimeout(jf,e-qo.now()-gl)),oo&&(oo=clearInterval(oo))):(oo||(Ws=qo.now(),oo=setInterval(WE,zg)),jr=1,Lg(jf))}}function Rf(e,t,n){var r=new Us;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var YE=pl("start","end","cancel","interrupt"),XE=[],Ag=0,Tf=1,vu=2,cs=3,zf=4,xu=5,ds=6;function yl(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;GE(e,n,{name:t,index:r,group:o,on:YE,tween:XE,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Ag})}function Lc(e,t){var n=St(e,t);if(n.state>Ag)throw new Error("too late; already scheduled");return n}function It(e,t){var n=St(e,t);if(n.state>cs)throw new Error("too late; already running");return n}function St(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function GE(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=$g(i,0,n.time);function i(u){n.state=Tf,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,c,d,g;if(n.state!==Tf)return a();for(f in r)if(g=r[f],g.name===n.name){if(g.state===cs)return Rf(s);g.state===zf?(g.state=ds,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[f]):+f<t&&(g.state=ds,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[f])}if(Rf(function(){n.state===cs&&(n.state=zf,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=vu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===vu){for(n.state=cs,o=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(g=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(o[++c]=g);o.length=c+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=xu,1),c=-1,d=o.length;++c<d;)o[c].call(e,f);n.state===xu&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=ds,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function fs(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>vu&&r.state<xu,r.state=ds,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function KE(e){return this.each(function(){fs(this,e)})}function QE(e,t){var n,r;return function(){var o=It(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function ZE(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=It(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}i.tween=o}}function qE(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=St(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?QE:ZE)(n,e,t))}function $c(e,t,n){var r=e._id;return e.each(function(){var o=It(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return St(o,r).value[t]}}function Dg(e,t){var n;return(typeof t=="number"?_t:t instanceof Vn?Bs:(n=Vn(t))?(t=n,Bs):jg)(e,t)}function JE(e){return function(){this.removeAttribute(e)}}function e_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function t_(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function n_(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function r_(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function o_(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function i_(e,t){var n=ml(e),r=n==="transform"?DE:Dg;return this.attrTween(e,typeof t=="function"?(n.local?o_:r_)(n,r,$c(this,"attr."+e,t)):t==null?(n.local?e_:JE)(n):(n.local?n_:t_)(n,r,t))}function s_(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function l_(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function a_(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&l_(e,i)),n}return o._value=t,o}function u_(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&s_(e,i)),n}return o._value=t,o}function c_(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ml(e);return this.tween(n,(r.local?a_:u_)(r,t))}function d_(e,t){return function(){Lc(this,e).delay=+t.apply(this,arguments)}}function f_(e,t){return t=+t,function(){Lc(this,e).delay=t}}function h_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?d_:f_)(t,e)):St(this.node(),t).delay}function p_(e,t){return function(){It(this,e).duration=+t.apply(this,arguments)}}function m_(e,t){return t=+t,function(){It(this,e).duration=t}}function g_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?p_:m_)(t,e)):St(this.node(),t).duration}function y_(e,t){if(typeof t!="function")throw new Error;return function(){It(this,e).ease=t}}function v_(e){var t=this._id;return arguments.length?this.each(y_(t,e)):St(this.node(),t).ease}function x_(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;It(this,e).ease=n}}function w_(e){if(typeof e!="function")throw new Error;return this.each(x_(this._id,e))}function S_(e){typeof e!="function"&&(e=mg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new Gt(r,this._parents,this._name,this._id)}function k_(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),l=0;l<i;++l)for(var a=t[l],u=n[l],f=a.length,c=s[l]=new Array(f),d,g=0;g<f;++g)(d=a[g]||u[g])&&(c[g]=d);for(;l<r;++l)s[l]=t[l];return new Gt(s,this._parents,this._name,this._id)}function E_(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function __(e,t,n){var r,o,i=E_(t)?Lc:It;return function(){var s=i(this,e),l=s.on;l!==r&&(o=(r=l).copy()).on(t,n),s.on=o}}function b_(e,t){var n=this._id;return arguments.length<2?St(this.node(),n).on.on(e):this.each(__(n,e,t))}function N_(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function C_(){return this.on("end.remove",N_(this._id))}function P_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ic(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var l=r[s],a=l.length,u=i[s]=new Array(a),f,c,d=0;d<a;++d)(f=l[d])&&(c=e.call(f,f.__data__,d,l))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,yl(u[d],t,n,d,u,St(f,n)));return new Gt(i,this._parents,t,n)}function M_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=pg(e));for(var r=this._groups,o=r.length,i=[],s=[],l=0;l<o;++l)for(var a=r[l],u=a.length,f,c=0;c<u;++c)if(f=a[c]){for(var d=e.call(f,f.__data__,c,a),g,y=St(f,n),x=0,S=d.length;x<S;++x)(g=d[x])&&yl(g,t,n,x,d,y);i.push(d),s.push(f)}return new Gt(i,s,t,n)}var I_=fi.prototype.constructor;function j_(){return new I_(this._groups,this._parents)}function R_(e,t){var n,r,o;return function(){var i=Ir(this,e),s=(this.style.removeProperty(e),Ir(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function Og(e){return function(){this.style.removeProperty(e)}}function T_(e,t,n){var r,o=n+"",i;return function(){var s=Ir(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function z_(e,t,n){var r,o,i;return function(){var s=Ir(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Ir(this,e))),s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l))}}function L_(e,t){var n,r,o,i="style."+t,s="end."+i,l;return function(){var a=It(this,e),u=a.on,f=a.value[i]==null?l||(l=Og(t)):void 0;(u!==n||o!==f)&&(r=(n=u).copy()).on(s,o=f),a.on=r}}function $_(e,t,n){var r=(e+="")=="transform"?AE:Dg;return t==null?this.styleTween(e,R_(e,r)).on("end.style."+e,Og(e)):typeof t=="function"?this.styleTween(e,z_(e,r,$c(this,"style."+e,t))).each(L_(this._id,e)):this.styleTween(e,T_(e,r,t),n).on("end.style."+e,null)}function A_(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function D_(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&A_(e,s,n)),r}return i._value=t,i}function O_(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,D_(e,t,n??""))}function F_(e){return function(){this.textContent=e}}function H_(e){return function(){var t=e(this);this.textContent=t??""}}function B_(e){return this.tween("text",typeof e=="function"?H_($c(this,"text",e)):F_(e==null?"":e+""))}function V_(e){return function(t){this.textContent=e.call(this,t)}}function W_(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&V_(o)),t}return r._value=e,r}function U_(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,W_(e))}function Y_(){for(var e=this._name,t=this._id,n=Fg(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var f=St(a,t);yl(a,e,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Gt(r,this._parents,e,n)}function X_(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var l={value:s},a={value:function(){--o===0&&i()}};n.each(function(){var u=It(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&i()})}var G_=0;function Gt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Fg(){return++G_}var Rt=fi.prototype;Gt.prototype={constructor:Gt,select:P_,selectAll:M_,selectChild:Rt.selectChild,selectChildren:Rt.selectChildren,filter:S_,merge:k_,selection:j_,transition:Y_,call:Rt.call,nodes:Rt.nodes,node:Rt.node,size:Rt.size,empty:Rt.empty,each:Rt.each,on:b_,attr:i_,attrTween:c_,style:$_,styleTween:O_,text:B_,textTween:U_,remove:C_,tween:qE,delay:h_,duration:g_,ease:v_,easeVarying:w_,end:X_,[Symbol.iterator]:Rt[Symbol.iterator]};function K_(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Q_={time:null,delay:0,duration:250,ease:K_};function Z_(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function q_(e){var t,n;e instanceof Gt?(t=e._id,e=e._name):(t=Fg(),(n=Q_).time=zc(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&yl(a,e,t,u,s,n||Z_(a,t));return new Gt(r,this._parents,e,t)}fi.prototype.interrupt=KE;fi.prototype.transition=q_;const Vi=e=>()=>e;function J_(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Ot(e,t,n){this.k=e,this.x=t,this.y=n}Ot.prototype={constructor:Ot,scale:function(e){return e===1?this:new Ot(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ot(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var vl=new Ot(1,0,0);Hg.prototype=Ot.prototype;function Hg(e){for(;!e.__zoom;)if(!(e=e.parentNode))return vl;return e.__zoom}function ua(e){e.stopImmediatePropagation()}function io(e){e.preventDefault(),e.stopImmediatePropagation()}function e2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function t2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Lf(){return this.__zoom||vl}function n2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function r2(){return navigator.maxTouchPoints||"ontouchstart"in this}function o2(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function Bg(){var e=e2,t=t2,n=o2,r=n2,o=r2,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=us,u=pl("start","zoom","end"),f,c,d,g=500,y=150,x=0,S=10;function p(b){b.property("__zoom",Lf).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",D).filter(o).on("touchstart.zoom",T).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(b,$,I,A){var C=b.selection?b.selection():b;C.property("__zoom",Lf),b!==C?E(b,$,I,A):C.interrupt().each(function(){_(this,arguments).event(A).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},p.scaleBy=function(b,$,I,A){p.scaleTo(b,function(){var C=this.__zoom.k,P=typeof $=="function"?$.apply(this,arguments):$;return C*P},I,A)},p.scaleTo=function(b,$,I,A){p.transform(b,function(){var C=t.apply(this,arguments),P=this.__zoom,L=I==null?w(C):typeof I=="function"?I.apply(this,arguments):I,O=P.invert(L),F=typeof $=="function"?$.apply(this,arguments):$;return n(h(m(P,F),L,O),C,s)},I,A)},p.translateBy=function(b,$,I,A){p.transform(b,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof I=="function"?I.apply(this,arguments):I),t.apply(this,arguments),s)},null,A)},p.translateTo=function(b,$,I,A,C){p.transform(b,function(){var P=t.apply(this,arguments),L=this.__zoom,O=A==null?w(P):typeof A=="function"?A.apply(this,arguments):A;return n(vl.translate(O[0],O[1]).scale(L.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof I=="function"?-I.apply(this,arguments):-I),P,s)},A,C)};function m(b,$){return $=Math.max(i[0],Math.min(i[1],$)),$===b.k?b:new Ot($,b.x,b.y)}function h(b,$,I){var A=$[0]-I[0]*b.k,C=$[1]-I[1]*b.k;return A===b.x&&C===b.y?b:new Ot(b.k,A,C)}function w(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function E(b,$,I,A){b.on("start.zoom",function(){_(this,arguments).event(A).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(A).end()}).tween("zoom",function(){var C=this,P=arguments,L=_(C,P).event(A),O=t.apply(C,P),F=I==null?w(O):typeof I=="function"?I.apply(C,P):I,W=Math.max(O[1][0]-O[0][0],O[1][1]-O[0][1]),V=C.__zoom,X=typeof $=="function"?$.apply(C,P):$,G=a(V.invert(F).concat(W/V.k),X.invert(F).concat(W/X.k));return function(K){if(K===1)K=X;else{var B=G(K),Q=W/B[2];K=new Ot(Q,F[0]-B[0]*Q,F[1]-B[1]*Q)}L.zoom(null,K)}})}function _(b,$,I){return!I&&b.__zooming||new N(b,$)}function N(b,$){this.that=b,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,$),this.taps=0}N.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,$){return this.mouse&&b!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var $=Ge(this.that).datum();u.call(b,this.that,new J_(b,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:u}),$)}};function M(b,...$){if(!e.apply(this,arguments))return;var I=_(this,$).event(b),A=this.__zoom,C=Math.max(i[0],Math.min(i[1],A.k*Math.pow(2,r.apply(this,arguments)))),P=dt(b);if(I.wheel)(I.mouse[0][0]!==P[0]||I.mouse[0][1]!==P[1])&&(I.mouse[1]=A.invert(I.mouse[0]=P)),clearTimeout(I.wheel);else{if(A.k===C)return;I.mouse=[P,A.invert(P)],fs(this),I.start()}io(b),I.wheel=setTimeout(L,y),I.zoom("mouse",n(h(m(A,C),I.mouse[0],I.mouse[1]),I.extent,s));function L(){I.wheel=null,I.end()}}function R(b,...$){if(d||!e.apply(this,arguments))return;var I=b.currentTarget,A=_(this,$,!0).event(b),C=Ge(b.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",W,!0),P=dt(b,I),L=b.clientX,O=b.clientY;bg(b.view),ua(b),A.mouse=[P,this.__zoom.invert(P)],fs(this),A.start();function F(V){if(io(V),!A.moved){var X=V.clientX-L,G=V.clientY-O;A.moved=X*X+G*G>x}A.event(V).zoom("mouse",n(h(A.that.__zoom,A.mouse[0]=dt(V,I),A.mouse[1]),A.extent,s))}function W(V){C.on("mousemove.zoom mouseup.zoom",null),Ng(V.view,A.moved),io(V),A.event(V).end()}}function D(b,...$){if(e.apply(this,arguments)){var I=this.__zoom,A=dt(b.changedTouches?b.changedTouches[0]:b,this),C=I.invert(A),P=I.k*(b.shiftKey?.5:2),L=n(h(m(I,P),A,C),t.apply(this,$),s);io(b),l>0?Ge(this).transition().duration(l).call(E,L,A,b):Ge(this).call(p.transform,L,A,b)}}function T(b,...$){if(e.apply(this,arguments)){var I=b.touches,A=I.length,C=_(this,$,b.changedTouches.length===A).event(b),P,L,O,F;for(ua(b),L=0;L<A;++L)O=I[L],F=dt(O,this),F=[F,this.__zoom.invert(F),O.identifier],C.touch0?!C.touch1&&C.touch0[2]!==F[2]&&(C.touch1=F,C.taps=0):(C.touch0=F,P=!0,C.taps=1+!!f);f&&(f=clearTimeout(f)),P&&(C.taps<2&&(c=F[0],f=setTimeout(function(){f=null},g)),fs(this),C.start())}}function j(b,...$){if(this.__zooming){var I=_(this,$).event(b),A=b.changedTouches,C=A.length,P,L,O,F;for(io(b),P=0;P<C;++P)L=A[P],O=dt(L,this),I.touch0&&I.touch0[2]===L.identifier?I.touch0[0]=O:I.touch1&&I.touch1[2]===L.identifier&&(I.touch1[0]=O);if(L=I.that.__zoom,I.touch1){var W=I.touch0[0],V=I.touch0[1],X=I.touch1[0],G=I.touch1[1],K=(K=X[0]-W[0])*K+(K=X[1]-W[1])*K,B=(B=G[0]-V[0])*B+(B=G[1]-V[1])*B;L=m(L,Math.sqrt(K/B)),O=[(W[0]+X[0])/2,(W[1]+X[1])/2],F=[(V[0]+G[0])/2,(V[1]+G[1])/2]}else if(I.touch0)O=I.touch0[0],F=I.touch0[1];else return;I.zoom("touch",n(h(L,O,F),I.extent,s))}}function z(b,...$){if(this.__zooming){var I=_(this,$).event(b),A=b.changedTouches,C=A.length,P,L;for(ua(b),d&&clearTimeout(d),d=setTimeout(function(){d=null},g),P=0;P<C;++P)L=A[P],I.touch0&&I.touch0[2]===L.identifier?delete I.touch0:I.touch1&&I.touch1[2]===L.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(L=dt(L,this),Math.hypot(c[0]-L[0],c[1]-L[1])<S)){var O=Ge(this).on("dblclick.zoom");O&&O.apply(this,arguments)}}}return p.wheelDelta=function(b){return arguments.length?(r=typeof b=="function"?b:Vi(+b),p):r},p.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Vi(!!b),p):e},p.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:Vi(!!b),p):o},p.extent=function(b){return arguments.length?(t=typeof b=="function"?b:Vi([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),p):t},p.scaleExtent=function(b){return arguments.length?(i[0]=+b[0],i[1]=+b[1],p):[i[0],i[1]]},p.translateExtent=function(b){return arguments.length?(s[0][0]=+b[0][0],s[1][0]=+b[1][0],s[0][1]=+b[0][1],s[1][1]=+b[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(b){return arguments.length?(n=b,p):n},p.duration=function(b){return arguments.length?(l=+b,p):l},p.interpolate=function(b){return arguments.length?(a=b,p):a},p.on=function(){var b=u.on.apply(u,arguments);return b===u?p:b},p.clickDistance=function(b){return arguments.length?(x=(b=+b)*b,p):Math.sqrt(x)},p.tapDistance=function(b){return arguments.length?(S=+b,p):S},p}const Mt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Jo=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Vg=["Enter"," ","Escape"],Wg={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Rr;(function(e){e.Strict="strict",e.Loose="loose"})(Rr||(Rr={}));var $n;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})($n||($n={}));var ei;(function(e){e.Partial="partial",e.Full="full"})(ei||(ei={}));const Ug={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var an;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(an||(an={}));var Ys;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ys||(Ys={}));var Y;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Y||(Y={}));const $f={[Y.Left]:Y.Right,[Y.Right]:Y.Left,[Y.Top]:Y.Bottom,[Y.Bottom]:Y.Top};function Yg(e){return e===null?null:e?"valid":"invalid"}const Xg=e=>"id"in e&&"source"in e&&"target"in e,i2=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Ac=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),pi=(e,t=[0,0])=>{const{width:n,height:r}=Qt(e),o=e.origin??t,i=n*o[0],s=r*o[1];return{x:e.position.x-i,y:e.position.y-s}},s2=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let s=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(o):Ac(o)?o:t.nodeLookup.get(o.id));const l=s?Xs(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return xl(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return wl(n)},mi=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=xl(n,Xs(o)),r=!0)}),r?wl(n):{x:0,y:0,width:0,height:0}},Dc=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1)=>{const l={...yi(t,[n,r,o]),width:t.width/o,height:t.height/o},a=[];for(const u of e.values()){const{measured:f,selectable:c=!0,hidden:d=!1}=u;if(s&&!c||d)continue;const g=f.width??u.width??u.initialWidth??null,y=f.height??u.height??u.initialHeight??null,x=ti(l,zr(u)),S=(g??0)*(y??0),p=i&&x>0;(!u.internals.handleBounds||p||x>=S||u.dragging)&&a.push(u)}return a},l2=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function a2(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function u2({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const l=a2(e,s),a=mi(l),u=Oc(a,t,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await r.setViewport(u,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function Gg({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const s=n.get(e),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=s.origin??r;let c=s.extent||o;if(s.extent==="parent"&&!s.expandParent)if(!l)i==null||i("005",Mt.error005());else{const g=l.measured.width,y=l.measured.height;g&&y&&(c=[[a,u],[a+g,u+y]])}else l&&Lr(s.extent)&&(c=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const d=Lr(c)?Un(t,c,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",Mt.error015())),{position:{x:d.x-a+(s.measured.width??0)*f[0],y:d.y-u+(s.measured.height??0)*f[1]},positionAbsolute:d}}async function c2({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const g=i.has(d.id),y=!g&&d.parentId&&s.find(x=>x.id===d.parentId);(g||y)&&s.push(d)}const l=new Set(t.map(d=>d.id)),a=r.filter(d=>d.deletable!==!1),f=l2(s,a);for(const d of a)l.has(d.id)&&!f.find(y=>y.id===d.id)&&f.push(d);if(!o)return{edges:f,nodes:s};const c=await o({nodes:s,edges:f});return typeof c=="boolean"?c?{edges:f,nodes:s}:{edges:[],nodes:[]}:c}const Tr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Un=(e={x:0,y:0},t,n)=>({x:Tr(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Tr(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Kg(e,t,n){const{width:r,height:o}=Qt(n),{x:i,y:s}=n.internals.positionAbsolute;return Un(e,[[i,s],[i+r,s+o]],t)}const Af=(e,t,n)=>e<t?Tr(Math.abs(e-t),1,t)/t:e>n?-Tr(Math.abs(e-n),1,t)/t:0,Qg=(e,t,n=15,r=40)=>{const o=Af(e.x,r,t.width-r)*n,i=Af(e.y,r,t.height-r)*n;return[o,i]},xl=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),wu=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),wl=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),zr=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Ac(e)?e.internals.positionAbsolute:pi(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Xs=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Ac(e)?e.internals.positionAbsolute:pi(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},Zg=(e,t)=>wl(xl(wu(e),wu(t))),ti=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Df=e=>pt(e.width)&&pt(e.height)&&pt(e.x)&&pt(e.y),pt=e=>!isNaN(e)&&isFinite(e),d2=(e,t)=>{},gi=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),yi=({x:e,y:t},[n,r,o],i=!1,s=[1,1])=>{const l={x:(e-n)/o,y:(t-r)/o};return i?gi(l,s):l},Gs=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function Jn(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function f2(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Jn(e,n),o=Jn(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=Jn(e.top??e.y??0,n),o=Jn(e.bottom??e.y??0,n),i=Jn(e.left??e.x??0,t),s=Jn(e.right??e.x??0,t);return{top:r,right:s,bottom:o,left:i,x:i+s,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function h2(e,t,n,r,o,i){const{x:s,y:l}=Gs(e,[t,n,r]),{x:a,y:u}=Gs({x:e.x+e.width,y:e.y+e.height},[t,n,r]),f=o-a,c=i-u;return{left:Math.floor(s),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(c)}}const Oc=(e,t,n,r,o,i)=>{const s=f2(i,t,n),l=(t-s.x)/e.width,a=(n-s.y)/e.height,u=Math.min(l,a),f=Tr(u,r,o),c=e.x+e.width/2,d=e.y+e.height/2,g=t/2-c*f,y=n/2-d*f,x=h2(e,g,y,f,t,n),S={left:Math.min(x.left-s.left,0),top:Math.min(x.top-s.top,0),right:Math.min(x.right-s.right,0),bottom:Math.min(x.bottom-s.bottom,0)};return{x:g-S.left+S.right,y:y-S.top+S.bottom,zoom:f}},ni=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Lr(e){return e!=null&&e!=="parent"}function Qt(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function qg(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Jg(e,t={width:0,height:0},n,r,o){const i={...e},s=r.get(n);if(s){const l=s.origin||o;i.x+=s.internals.positionAbsolute.x-(t.width??0)*l[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*l[1]}return i}function Of(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function p2(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function m2(e){return{...Wg,...e||{}}}function Mo(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:s}=mt(e),l=yi({x:i-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},r),{x:a,y:u}=n?gi(l,t):l;return{xSnapped:a,ySnapped:u,...l}}const Fc=e=>({width:e.offsetWidth,height:e.offsetHeight}),e0=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},g2=["INPUT","SELECT","TEXTAREA"];function t0(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:g2.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const n0=e=>"clientX"in e,mt=(e,t)=>{var i,s;const n=n0(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Ff=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...Fc(s)}})};function r0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}){const a=e*.125+o*.375+s*.375+n*.125,u=t*.125+i*.375+l*.375+r*.125,f=Math.abs(a-e),c=Math.abs(u-t);return[a,u,f,c]}function Wi(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Hf({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case Y.Left:return[t-Wi(t-r,i),n];case Y.Right:return[t+Wi(r-t,i),n];case Y.Top:return[t,n-Wi(n-o,i)];case Y.Bottom:return[t,n+Wi(o-n,i)]}}function Hc({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top,curvature:s=.25}){const[l,a]=Hf({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[u,f]=Hf({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[c,d,g,y]=r0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${e},${t} C${l},${a} ${u},${f} ${r},${o}`,c,d,g,y]}function o0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[i,l,o,s]}function y2({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const s=o&&n?r+1e3:r,l=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return s+l}function v2({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=xl(Xs(e),Xs(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return ti(s,wl(i))>0}const x2=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,w2=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),i0=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||x2;let o;return Xg(e)?o={...e}:o={...e,id:r(e)},w2(o,t)?t:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,t.concat(o))};function s0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,l]=o0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,l]}const Bf={[Y.Left]:{x:-1,y:0},[Y.Right]:{x:1,y:0},[Y.Top]:{x:0,y:-1},[Y.Bottom]:{x:0,y:1}},S2=({source:e,sourcePosition:t=Y.Bottom,target:n})=>t===Y.Left||t===Y.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Vf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function k2({source:e,sourcePosition:t=Y.Bottom,target:n,targetPosition:r=Y.Top,center:o,offset:i,stepPosition:s}){const l=Bf[t],a=Bf[r],u={x:e.x+l.x*i,y:e.y+l.y*i},f={x:n.x+a.x*i,y:n.y+a.y*i},c=S2({source:u,sourcePosition:t,target:f}),d=c.x!==0?"x":"y",g=c[d];let y=[],x,S;const p={x:0,y:0},m={x:0,y:0},[,,h,w]=o0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[d]*a[d]===-1){d==="x"?(x=o.x??u.x+(f.x-u.x)*s,S=o.y??(u.y+f.y)/2):(x=o.x??(u.x+f.x)/2,S=o.y??u.y+(f.y-u.y)*s);const _=[{x,y:u.y},{x,y:f.y}],N=[{x:u.x,y:S},{x:f.x,y:S}];l[d]===g?y=d==="x"?_:N:y=d==="x"?N:_}else{const _=[{x:u.x,y:f.y}],N=[{x:f.x,y:u.y}];if(d==="x"?y=l.x===g?N:_:y=l.y===g?_:N,t===r){const j=Math.abs(e[d]-n[d]);if(j<=i){const z=Math.min(i-1,i-j);l[d]===g?p[d]=(u[d]>e[d]?-1:1)*z:m[d]=(f[d]>n[d]?-1:1)*z}}if(t!==r){const j=d==="x"?"y":"x",z=l[d]===a[j],b=u[j]>f[j],$=u[j]<f[j];(l[d]===1&&(!z&&b||z&&$)||l[d]!==1&&(!z&&$||z&&b))&&(y=d==="x"?_:N)}const M={x:u.x+p.x,y:u.y+p.y},R={x:f.x+m.x,y:f.y+m.y},D=Math.max(Math.abs(M.x-y[0].x),Math.abs(R.x-y[0].x)),T=Math.max(Math.abs(M.y-y[0].y),Math.abs(R.y-y[0].y));D>=T?(x=(M.x+R.x)/2,S=y[0].y):(x=y[0].x,S=(M.y+R.y)/2)}return[[e,{x:u.x+p.x,y:u.y+p.y},...y,{x:f.x+m.x,y:f.y+m.y},n],x,S,h,w]}function E2(e,t,n,r){const o=Math.min(Vf(e,t)/2,Vf(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${i+o*u},${s}Q ${i},${s} ${i},${s+o*f}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${s+o*a}Q ${i},${s} ${i+o*l},${s}`}function Su({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20,stepPosition:f=.5}){const[c,d,g,y,x]=k2({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:l,y:a},offset:u,stepPosition:f});return[c.reduce((p,m,h)=>{let w="";return h>0&&h<c.length-1?w=E2(c[h-1],m,c[h+1],s):w=`${h===0?"M":"L"}${m.x} ${m.y}`,p+=w,p},""),d,g,y,x]}function Wf(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function _2(e){var c;const{sourceNode:t,targetNode:n}=e;if(!Wf(t)||!Wf(n))return null;const r=t.internals.handleBounds||Uf(t.handles),o=n.internals.handleBounds||Uf(n.handles),i=Yf((r==null?void 0:r.source)??[],e.sourceHandle),s=Yf(e.connectionMode===Rr.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!s)return(c=e.onError)==null||c.call(e,"008",Mt.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(i==null?void 0:i.position)||Y.Bottom,a=(s==null?void 0:s.position)||Y.Top,u=Yn(t,i,l),f=Yn(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:a}}function Uf(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Yn(e,t,n=Y.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:l}=t??Qt(e);if(r)return{x:o+s/2,y:i+l/2};switch((t==null?void 0:t.position)??n){case Y.Top:return{x:o+s/2,y:i};case Y.Right:return{x:o+s,y:i+l/2};case Y.Bottom:return{x:o+s/2,y:i+l};case Y.Left:return{x:o,y:i+l/2}}}function Yf(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function ku(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function b2(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((s,l)=>([l.markerStart||r,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=ku(a,t);i.has(u)||(s.push({id:u,color:a.color||n,...a}),i.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const l0=1e3,N2=10,Bc={nodeOrigin:[0,0],nodeExtent:Jo,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},C2={...Bc,checkEquality:!0};function Vc(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function P2(e,t,n){const r=Vc(Bc,n);for(const o of e.values())if(o.parentId)Uc(o,e,t,r);else{const i=pi(o,r.nodeOrigin),s=Lr(o.extent)?o.extent:r.nodeExtent,l=Un(i,s,Qt(o));o.internals.positionAbsolute=l}}function M2(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const o of e.handles){const i={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(i):o.type==="target"&&r.push(i)}return{source:n,target:r}}function Wc(e){return e==="manual"}function Eu(e,t,n,r={}){var u,f;const o=Vc(C2,r),i={i:0},s=new Map(t),l=o!=null&&o.elevateNodesOnSelect&&!Wc(o.zIndexMode)?l0:0;let a=e.length>0;t.clear(),n.clear();for(const c of e){let d=s.get(c.id);if(o.checkEquality&&c===(d==null?void 0:d.internals.userNode))t.set(c.id,d);else{const g=pi(c,o.nodeOrigin),y=Lr(c.extent)?c.extent:o.nodeExtent,x=Un(g,y,Qt(c));d={...o.defaults,...c,measured:{width:(u=c.measured)==null?void 0:u.width,height:(f=c.measured)==null?void 0:f.height},internals:{positionAbsolute:x,handleBounds:M2(c,d),z:a0(c,l,o.zIndexMode),userNode:c}},t.set(c.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(a=!1),c.parentId&&Uc(d,t,n,r,i)}return a}function I2(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Uc(e,t,n,r,o){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:l,zIndexMode:a}=Vc(Bc,r),u=e.parentId,f=t.get(u);if(!f){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}I2(e,n),o&&!f.parentId&&f.internals.rootParentIndex===void 0&&a==="auto"&&(f.internals.rootParentIndex=++o.i,f.internals.z=f.internals.z+o.i*N2),o&&f.internals.rootParentIndex!==void 0&&(o.i=f.internals.rootParentIndex);const c=i&&!Wc(a)?l0:0,{x:d,y:g,z:y}=j2(e,f,s,l,c,a),{positionAbsolute:x}=e.internals,S=d!==x.x||g!==x.y;(S||y!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:S?{x:d,y:g}:x,z:y}})}function a0(e,t,n){const r=pt(e.zIndex)?e.zIndex:0;return Wc(n)?r:r+(e.selected?t:0)}function j2(e,t,n,r,o,i){const{x:s,y:l}=t.internals.positionAbsolute,a=Qt(e),u=pi(e,n),f=Lr(e.extent)?Un(u,e.extent,a):u;let c=Un({x:s+f.x,y:l+f.y},r,a);e.extent==="parent"&&(c=Kg(c,a,t));const d=a0(e,o,i),g=t.internals.z??0;return{x:c.x,y:c.y,z:g>=d?g+1:d}}function Yc(e,t,n,r=[0,0]){var s;const o=[],i=new Map;for(const l of e){const a=t.get(l.parentId);if(!a)continue;const u=((s=i.get(l.parentId))==null?void 0:s.expandedRect)??zr(a),f=Zg(u,l.rect);i.set(l.parentId,{expandedRect:f,parent:a})}return i.size>0&&i.forEach(({expandedRect:l,parent:a},u)=>{var h;const f=a.internals.positionAbsolute,c=Qt(a),d=a.origin??r,g=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,y=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,x=Math.max(c.width,Math.round(l.width)),S=Math.max(c.height,Math.round(l.height)),p=(x-c.width)*d[0],m=(S-c.height)*d[1];(g>0||y>0||p||m)&&(o.push({id:u,type:"position",position:{x:a.position.x-g+p,y:a.position.y-y+m}}),(h=n.get(u))==null||h.forEach(w=>{e.some(E=>E.id===w.id)||o.push({id:w.id,type:"position",position:{x:w.position.x+g,y:w.position.y+y}})})),(c.width<l.width||c.height<l.height||g||y)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:x+(g?d[0]*g-p:0),height:S+(y?d[1]*y-m:0)}})}),o}function R2(e,t,n,r,o,i,s){const l=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!l)return{changes:[],updatedInternals:a};const u=[],f=window.getComputedStyle(l),{m22:c}=new window.DOMMatrixReadOnly(f.transform),d=[];for(const g of e.values()){const y=t.get(g.id);if(!y)continue;if(y.hidden){t.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),a=!0;continue}const x=Fc(g.nodeElement),S=y.measured.width!==x.width||y.measured.height!==x.height;if(!!(x.width&&x.height&&(S||!y.internals.handleBounds||g.force))){const m=g.nodeElement.getBoundingClientRect(),h=Lr(y.extent)?y.extent:i;let{positionAbsolute:w}=y.internals;y.parentId&&y.extent==="parent"?w=Kg(w,x,t.get(y.parentId)):h&&(w=Un(w,h,x));const E={...y,measured:x,internals:{...y.internals,positionAbsolute:w,handleBounds:{source:Ff("source",g.nodeElement,m,c,y.id),target:Ff("target",g.nodeElement,m,c,y.id)}}};t.set(y.id,E),y.parentId&&Uc(E,t,n,{nodeOrigin:o,zIndexMode:s}),a=!0,S&&(u.push({id:y.id,type:"dimensions",dimensions:x}),y.expandParent&&y.parentId&&d.push({id:y.id,parentId:y.parentId,rect:zr(E,o)}))}}if(d.length>0){const g=Yc(d,t,n,o);u.push(...g)}return{changes:u,updatedInternals:a}}async function T2({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function Xf(e,t,n,r,o,i){let s=o;const l=r.get(s)||new Map;r.set(s,l.set(n,t)),s=`${o}-${e}`;const a=r.get(s)||new Map;if(r.set(s,a.set(n,t)),i){s=`${o}-${e}-${i}`;const u=r.get(s)||new Map;r.set(s,u.set(n,t))}}function u0(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:s=null,targetHandle:l=null}=r,a={edgeId:r.id,source:o,target:i,sourceHandle:s,targetHandle:l},u=`${o}-${s}--${i}-${l}`,f=`${i}-${l}--${o}-${s}`;Xf("source",a,f,e,o,s),Xf("target",a,u,e,i,l),t.set(r.id,r)}}function c0(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:c0(n,t):!1}function Gf(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function z2(e,t,n,r){const o=new Map;for(const[i,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!c0(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const l=e.get(i);l&&o.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function ca({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,l,a;const o=[];for(const[u,f]of t){const c=(s=n.get(u))==null?void 0:s.internals.userNode;c&&o.push({...c,position:f.position,dragging:r})}if(!e)return[o[0],o];const i=(l=n.get(e))==null?void 0:l.internals.userNode;return[i?{...i,position:((a=t.get(e))==null?void 0:a.position)||i.position,dragging:r}:o[0],o]}function L2({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const i={x:n-o.distance.x,y:r-o.distance.y},s=gi(i,t);return{x:s.x-i.x,y:s.y-i.y}}function $2({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},f=null,c=!1,d=null,g=!1,y=!1,x=null;function S({noDragClassName:m,handleSelector:h,domNode:w,isSelectable:E,nodeId:_,nodeClickDistance:N=0}){d=Ge(w);function M({x:j,y:z}){const{nodeLookup:b,nodeExtent:$,snapGrid:I,snapToGrid:A,nodeOrigin:C,onNodeDrag:P,onSelectionDrag:L,onError:O,updateNodePositions:F}=t();i={x:j,y:z};let W=!1;const V=l.size>1,X=V&&$?wu(mi(l)):null,G=V&&A?L2({dragItems:l,snapGrid:I,x:j,y:z}):null;for(const[K,B]of l){if(!b.has(K))continue;let Q={x:j-B.distance.x,y:z-B.distance.y};A&&(Q=G?{x:Math.round(Q.x+G.x),y:Math.round(Q.y+G.y)}:gi(Q,I));let te=null;if(V&&$&&!B.extent&&X){const{positionAbsolute:Z}=B.internals,le=Z.x-X.x+$[0][0],ce=Z.x+B.measured.width-X.x2+$[1][0],ie=Z.y-X.y+$[0][1],Re=Z.y+B.measured.height-X.y2+$[1][1];te=[[le,ie],[ce,Re]]}const{position:J,positionAbsolute:q}=Gg({nodeId:K,nextPosition:Q,nodeLookup:b,nodeExtent:te||$,nodeOrigin:C,onError:O});W=W||B.position.x!==J.x||B.position.y!==J.y,B.position=J,B.internals.positionAbsolute=q}if(y=y||W,!!W&&(F(l,!0),x&&(r||P||!_&&L))){const[K,B]=ca({nodeId:_,dragItems:l,nodeLookup:b});r==null||r(x,l,K,B),P==null||P(x,K,B),_||L==null||L(x,B)}}async function R(){if(!f)return;const{transform:j,panBy:z,autoPanSpeed:b,autoPanOnNodeDrag:$}=t();if(!$){a=!1,cancelAnimationFrame(s);return}const[I,A]=Qg(u,f,b);(I!==0||A!==0)&&(i.x=(i.x??0)-I/j[2],i.y=(i.y??0)-A/j[2],await z({x:I,y:A})&&M(i)),s=requestAnimationFrame(R)}function D(j){var V;const{nodeLookup:z,multiSelectionActive:b,nodesDraggable:$,transform:I,snapGrid:A,snapToGrid:C,selectNodesOnDrag:P,onNodeDragStart:L,onSelectionDragStart:O,unselectNodesAndEdges:F}=t();c=!0,(!P||!E)&&!b&&_&&((V=z.get(_))!=null&&V.selected||F()),E&&P&&_&&(e==null||e(_));const W=Mo(j.sourceEvent,{transform:I,snapGrid:A,snapToGrid:C,containerBounds:f});if(i=W,l=z2(z,$,W,_),l.size>0&&(n||L||!_&&O)){const[X,G]=ca({nodeId:_,dragItems:l,nodeLookup:z});n==null||n(j.sourceEvent,l,X,G),L==null||L(j.sourceEvent,X,G),_||O==null||O(j.sourceEvent,G)}}const T=Cg().clickDistance(N).on("start",j=>{const{domNode:z,nodeDragThreshold:b,transform:$,snapGrid:I,snapToGrid:A}=t();f=(z==null?void 0:z.getBoundingClientRect())||null,g=!1,y=!1,x=j.sourceEvent,b===0&&D(j),i=Mo(j.sourceEvent,{transform:$,snapGrid:I,snapToGrid:A,containerBounds:f}),u=mt(j.sourceEvent,f)}).on("drag",j=>{const{autoPanOnNodeDrag:z,transform:b,snapGrid:$,snapToGrid:I,nodeDragThreshold:A,nodeLookup:C}=t(),P=Mo(j.sourceEvent,{transform:b,snapGrid:$,snapToGrid:I,containerBounds:f});if(x=j.sourceEvent,(j.sourceEvent.type==="touchmove"&&j.sourceEvent.touches.length>1||_&&!C.has(_))&&(g=!0),!g){if(!a&&z&&c&&(a=!0,R()),!c){const L=mt(j.sourceEvent,f),O=L.x-u.x,F=L.y-u.y;Math.sqrt(O*O+F*F)>A&&D(j)}(i.x!==P.xSnapped||i.y!==P.ySnapped)&&l&&c&&(u=mt(j.sourceEvent,f),M(P))}}).on("end",j=>{if(!(!c||g)&&(a=!1,c=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:z,updateNodePositions:b,onNodeDragStop:$,onSelectionDragStop:I}=t();if(y&&(b(l,!1),y=!1),o||$||!_&&I){const[A,C]=ca({nodeId:_,dragItems:l,nodeLookup:z,dragging:!1});o==null||o(j.sourceEvent,l,A,C),$==null||$(j.sourceEvent,A,C),_||I==null||I(j.sourceEvent,C)}}}).filter(j=>{const z=j.target;return!j.button&&(!m||!Gf(z,`.${m}`,w))&&(!h||Gf(z,h,w))});d.call(T)}function p(){d==null||d.on(".drag",null)}return{update:S,destroy:p}}function A2(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())ti(o,zr(i))>0&&r.push(i);return r}const D2=250;function O2(e,t,n,r){var l,a;let o=[],i=1/0;const s=A2(e,n,t+D2);for(const u of s){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const c of f){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:d,y:g}=Yn(u,c,c.position,!0),y=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(g-e.y,2));y>t||(y<i?(o=[{...c,x:d,y:g}],i=y):y===i&&o.push({...c,x:d,y:g}))}}if(!o.length)return null;if(o.length>1){const u=r.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function d0(e,t,n,r,o,i=!1){var u,f,c;const s=r.get(e);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((c=s.internals.handleBounds)==null?void 0:c.target)??[]],a=(n?l==null?void 0:l.find(d=>d.id===n):l==null?void 0:l[0])??null;return a&&i?{...a,...Yn(s,a,a.position,!0)}:a}function f0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function F2(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const h0=()=>!0;function H2(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:c,panBy:d,cancelConnection:g,onConnectStart:y,onConnect:x,onConnectEnd:S,isValidConnection:p=h0,onReconnectEnd:m,updateConnection:h,getTransform:w,getFromHandle:E,autoPanSpeed:_,dragThreshold:N=1,handleDomNode:M}){const R=e0(e.target);let D=0,T;const{x:j,y:z}=mt(e),b=f0(i,M),$=l==null?void 0:l.getBoundingClientRect();let I=!1;if(!$||!b)return;const A=d0(o,b,r,a,t);if(!A)return;let C=mt(e,$),P=!1,L=null,O=!1,F=null;function W(){if(!f||!$)return;const[J,q]=Qg(C,$,_);d({x:J,y:q}),D=requestAnimationFrame(W)}const V={...A,nodeId:o,type:b,position:A.position},X=a.get(o);let K={inProgress:!0,isValid:null,from:Yn(X,V,Y.Left,!0),fromHandle:V,fromPosition:V.position,fromNode:X,to:C,toHandle:null,toPosition:$f[V.position],toNode:null,pointer:C};function B(){I=!0,h(K),y==null||y(e,{nodeId:o,handleId:r,handleType:b})}N===0&&B();function Q(J){if(!I){const{x:Re,y:Zt}=mt(J),jt=Re-j,bn=Zt-z;if(!(jt*jt+bn*bn>N*N))return;B()}if(!E()||!V){te(J);return}const q=w();C=mt(J,$),T=O2(yi(C,q,!1,[1,1]),n,a,V),P||(W(),P=!0);const Z=p0(J,{handle:T,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:s?"target":"source",isValidConnection:p,doc:R,lib:u,flowId:c,nodeLookup:a});F=Z.handleDomNode,L=Z.connection,O=F2(!!T,Z.isValid);const le=a.get(o),ce=le?Yn(le,V,Y.Left,!0):K.from,ie={...K,from:ce,isValid:O,to:Z.toHandle&&O?Gs({x:Z.toHandle.x,y:Z.toHandle.y},q):C,toHandle:Z.toHandle,toPosition:O&&Z.toHandle?Z.toHandle.position:$f[V.position],toNode:Z.toHandle?a.get(Z.toHandle.nodeId):null,pointer:C};h(ie),K=ie}function te(J){if(!("touches"in J&&J.touches.length>0)){if(I){(T||F)&&L&&O&&(x==null||x(L));const{inProgress:q,...Z}=K,le={...Z,toPosition:K.toHandle?K.toPosition:null};S==null||S(J,le),i&&(m==null||m(J,le))}g(),cancelAnimationFrame(D),P=!1,O=!1,L=null,F=null,R.removeEventListener("mousemove",Q),R.removeEventListener("mouseup",te),R.removeEventListener("touchmove",Q),R.removeEventListener("touchend",te)}}R.addEventListener("mousemove",Q),R.addEventListener("mouseup",te),R.addEventListener("touchmove",Q),R.addEventListener("touchend",te)}function p0(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:s,lib:l,flowId:a,isValidConnection:u=h0,nodeLookup:f}){const c=i==="target",d=t?s.querySelector(`.${l}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y}=mt(e),x=s.elementFromPoint(g,y),S=x!=null&&x.classList.contains(`${l}-flow__handle`)?x:d,p={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const m=f0(void 0,S),h=S.getAttribute("data-nodeid"),w=S.getAttribute("data-handleid"),E=S.classList.contains("connectable"),_=S.classList.contains("connectableend");if(!h||!m)return p;const N={source:c?h:r,sourceHandle:c?w:o,target:c?r:h,targetHandle:c?o:w};p.connection=N;const R=E&&_&&(n===Rr.Strict?c&&m==="source"||!c&&m==="target":h!==r||w!==o);p.isValid=R&&u(N),p.toHandle=d0(h,m,w,f,n,!0)}return p}const _u={onPointerDown:H2,isValid:p0};function B2({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=Ge(e);function i({translateExtent:l,width:a,height:u,zoomStep:f=1,pannable:c=!0,zoomable:d=!0,inversePan:g=!1}){const y=h=>{if(h.sourceEvent.type!=="wheel"||!t)return;const w=n(),E=h.sourceEvent.ctrlKey&&ni()?10:1,_=-h.sourceEvent.deltaY*(h.sourceEvent.deltaMode===1?.05:h.sourceEvent.deltaMode?1:.002)*f,N=w[2]*Math.pow(2,_*E);t.scaleTo(N)};let x=[0,0];const S=h=>{(h.sourceEvent.type==="mousedown"||h.sourceEvent.type==="touchstart")&&(x=[h.sourceEvent.clientX??h.sourceEvent.touches[0].clientX,h.sourceEvent.clientY??h.sourceEvent.touches[0].clientY])},p=h=>{const w=n();if(h.sourceEvent.type!=="mousemove"&&h.sourceEvent.type!=="touchmove"||!t)return;const E=[h.sourceEvent.clientX??h.sourceEvent.touches[0].clientX,h.sourceEvent.clientY??h.sourceEvent.touches[0].clientY],_=[E[0]-x[0],E[1]-x[1]];x=E;const N=r()*Math.max(w[2],Math.log(w[2]))*(g?-1:1),M={x:w[0]-_[0]*N,y:w[1]-_[1]*N},R=[[0,0],[a,u]];t.setViewportConstrained({x:M.x,y:M.y,zoom:w[2]},R,l)},m=Bg().on("start",S).on("zoom",c?p:null).on("zoom.wheel",d?y:null);o.call(m,{})}function s(){o.on("zoom",null)}return{update:i,destroy:s,pointer:dt}}const Sl=e=>({x:e.x,y:e.y,zoom:e.k}),da=({x:e,y:t,zoom:n})=>vl.translate(e,t).scale(n),fr=(e,t)=>e.target.closest(`.${t}`),m0=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),V2=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,fa=(e,t=0,n=V2,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},g0=e=>{const t=e.ctrlKey&&ni()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function W2({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(fr(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const c=n.property("__zoom").k||1;if(f.ctrlKey&&s){const S=dt(f),p=g0(f),m=c*Math.pow(2,p);r.scaleTo(n,m,S,f);return}const d=f.deltaMode===1?20:1;let g=o===$n.Vertical?0:f.deltaX*d,y=o===$n.Horizontal?0:f.deltaY*d;!ni()&&f.shiftKey&&o!==$n.Vertical&&(g=f.deltaY*d,y=0),r.translateBy(n,-(g/c)*i,-(y/c)*i,{internal:!0});const x=Sl(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(a==null||a(f,x),e.panScrollTimeout=setTimeout(()=>{u==null||u(f,x),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(f,x))}}function U2({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",s=!t&&i&&!r.ctrlKey,l=fr(r,e);if(r.ctrlKey&&i&&l&&r.preventDefault(),s||l)return null;r.preventDefault(),n.call(this,r,o)}}function Y2({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,s,l;if((i=r.sourceEvent)!=null&&i.internal)return;const o=Sl(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function X2({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var s,l;e.usedRightMouseButton=!!(n&&m0(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((l=i.sourceEvent)!=null&&l.internal)&&(o==null||o(i.sourceEvent,Sl(i.transform)))}}function G2({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,i&&m0(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const a=Sl(s.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function K2({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u,connectionInProgress:f}){return c=>{var S;const d=e||t,g=n&&c.ctrlKey,y=c.type==="wheel";if(c.button===1&&c.type==="mousedown"&&(fr(c,`${u}-flow__node`)||fr(c,`${u}-flow__edge`)))return!0;if(!r&&!d&&!o&&!i&&!n||s||f&&!y||fr(c,l)&&y||fr(c,a)&&(!y||o&&y&&!e)||!n&&c.ctrlKey&&y)return!1;if(!n&&c.type==="touchstart"&&((S=c.touches)==null?void 0:S.length)>1)return c.preventDefault(),!1;if(!d&&!o&&!g&&y||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||y)&&x}}function Q2({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:o,onPanZoom:i,onPanZoomStart:s,onPanZoomEnd:l,onDraggingChange:a}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),c=Bg().scaleExtent([t,n]).translateExtent(r),d=Ge(e).call(c);m({x:o.x,y:o.y,zoom:Tr(o.zoom,t,n)},[[0,0],[f.width,f.height]],r);const g=d.on("wheel.zoom"),y=d.on("dblclick.zoom");c.wheelDelta(g0);function x(T,j){return d?new Promise(z=>{c==null||c.interpolate((j==null?void 0:j.interpolate)==="linear"?Po:us).transform(fa(d,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>z(!0)),T)}):Promise.resolve(!1)}function S({noWheelClassName:T,noPanClassName:j,onPaneContextMenu:z,userSelectionActive:b,panOnScroll:$,panOnDrag:I,panOnScrollMode:A,panOnScrollSpeed:C,preventScrolling:P,zoomOnPinch:L,zoomOnScroll:O,zoomOnDoubleClick:F,zoomActivationKeyPressed:W,lib:V,onTransformChange:X,connectionInProgress:G,paneClickDistance:K,selectionOnDrag:B}){b&&!u.isZoomingOrPanning&&p();const Q=$&&!W&&!b;c.clickDistance(B?1/0:!pt(K)||K<0?0:K);const te=Q?W2({zoomPanValues:u,noWheelClassName:T,d3Selection:d,d3Zoom:c,panOnScrollMode:A,panOnScrollSpeed:C,zoomOnPinch:L,onPanZoomStart:s,onPanZoom:i,onPanZoomEnd:l}):U2({noWheelClassName:T,preventScrolling:P,d3ZoomHandler:g});if(d.on("wheel.zoom",te,{passive:!1}),!b){const q=Y2({zoomPanValues:u,onDraggingChange:a,onPanZoomStart:s});c.on("start",q);const Z=X2({zoomPanValues:u,panOnDrag:I,onPaneContextMenu:!!z,onPanZoom:i,onTransformChange:X});c.on("zoom",Z);const le=G2({zoomPanValues:u,panOnDrag:I,panOnScroll:$,onPaneContextMenu:z,onPanZoomEnd:l,onDraggingChange:a});c.on("end",le)}const J=K2({zoomActivationKeyPressed:W,panOnDrag:I,zoomOnScroll:O,panOnScroll:$,zoomOnDoubleClick:F,zoomOnPinch:L,userSelectionActive:b,noPanClassName:j,noWheelClassName:T,lib:V,connectionInProgress:G});c.filter(J),F?d.on("dblclick.zoom",y):d.on("dblclick.zoom",null)}function p(){c.on("zoom",null)}async function m(T,j,z){const b=da(T),$=c==null?void 0:c.constrain()(b,j,z);return $&&await x($),new Promise(I=>I($))}async function h(T,j){const z=da(T);return await x(z,j),new Promise(b=>b(z))}function w(T){if(d){const j=da(T),z=d.property("__zoom");(z.k!==T.zoom||z.x!==T.x||z.y!==T.y)&&(c==null||c.transform(d,j,null,{sync:!0}))}}function E(){const T=d?Hg(d.node()):{x:0,y:0,k:1};return{x:T.x,y:T.y,zoom:T.k}}function _(T,j){return d?new Promise(z=>{c==null||c.interpolate((j==null?void 0:j.interpolate)==="linear"?Po:us).scaleTo(fa(d,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>z(!0)),T)}):Promise.resolve(!1)}function N(T,j){return d?new Promise(z=>{c==null||c.interpolate((j==null?void 0:j.interpolate)==="linear"?Po:us).scaleBy(fa(d,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>z(!0)),T)}):Promise.resolve(!1)}function M(T){c==null||c.scaleExtent(T)}function R(T){c==null||c.translateExtent(T)}function D(T){const j=!pt(T)||T<0?0:T;c==null||c.clickDistance(j)}return{update:S,destroy:p,setViewport:h,setViewportConstrained:m,getViewport:E,scaleTo:_,scaleBy:N,setScaleExtent:M,setTranslateExtent:R,syncViewport:w,setClickDistance:D}}var $r;(function(e){e.Line="line",e.Handle="handle"})($r||($r={}));function Z2({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const s=e-t,l=n-r,a=[s>0?1:s<0?-1:0,l>0?1:l<0?-1:0];return s&&o&&(a[0]=a[0]*-1),l&&i&&(a[1]=a[1]*-1),a}function Kf(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function Jt(e,t){return Math.max(0,t-e)}function en(e,t){return Math.max(0,e-t)}function Ui(e,t,n){return Math.max(0,t-e,e-n)}function Qf(e,t){return e?!t:t}function q2(e,t,n,r,o,i,s,l){let{affectsX:a,affectsY:u}=t;const{isHorizontal:f,isVertical:c}=t,d=f&&c,{xSnapped:g,ySnapped:y}=n,{minWidth:x,maxWidth:S,minHeight:p,maxHeight:m}=r,{x:h,y:w,width:E,height:_,aspectRatio:N}=e;let M=Math.floor(f?g-e.pointerX:0),R=Math.floor(c?y-e.pointerY:0);const D=E+(a?-M:M),T=_+(u?-R:R),j=-i[0]*E,z=-i[1]*_;let b=Ui(D,x,S),$=Ui(T,p,m);if(s){let C=0,P=0;a&&M<0?C=Jt(h+M+j,s[0][0]):!a&&M>0&&(C=en(h+D+j,s[1][0])),u&&R<0?P=Jt(w+R+z,s[0][1]):!u&&R>0&&(P=en(w+T+z,s[1][1])),b=Math.max(b,C),$=Math.max($,P)}if(l){let C=0,P=0;a&&M>0?C=en(h+M,l[0][0]):!a&&M<0&&(C=Jt(h+D,l[1][0])),u&&R>0?P=en(w+R,l[0][1]):!u&&R<0&&(P=Jt(w+T,l[1][1])),b=Math.max(b,C),$=Math.max($,P)}if(o){if(f){const C=Ui(D/N,p,m)*N;if(b=Math.max(b,C),s){let P=0;!a&&!u||a&&!u&&d?P=en(w+z+D/N,s[1][1])*N:P=Jt(w+z+(a?M:-M)/N,s[0][1])*N,b=Math.max(b,P)}if(l){let P=0;!a&&!u||a&&!u&&d?P=Jt(w+D/N,l[1][1])*N:P=en(w+(a?M:-M)/N,l[0][1])*N,b=Math.max(b,P)}}if(c){const C=Ui(T*N,x,S)/N;if($=Math.max($,C),s){let P=0;!a&&!u||u&&!a&&d?P=en(h+T*N+j,s[1][0])/N:P=Jt(h+(u?R:-R)*N+j,s[0][0])/N,$=Math.max($,P)}if(l){let P=0;!a&&!u||u&&!a&&d?P=Jt(h+T*N,l[1][0])/N:P=en(h+(u?R:-R)*N,l[0][0])/N,$=Math.max($,P)}}}R=R+(R<0?$:-$),M=M+(M<0?b:-b),o&&(d?D>T*N?R=(Qf(a,u)?-M:M)/N:M=(Qf(a,u)?-R:R)*N:f?(R=M/N,u=a):(M=R*N,a=u));const I=a?h+M:h,A=u?w+R:w;return{width:E+(a?-M:M),height:_+(u?-R:R),x:i[0]*M*(a?-1:1)+I,y:i[1]*R*(u?-1:1)+A}}const y0={width:0,height:0,x:0,y:0},J2={...y0,pointerX:0,pointerY:0,aspectRatio:1};function eb(e){return[[0,0],[e.measured.width,e.measured.height]]}function tb(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,l=n[0]*i,a=n[1]*s;return[[r-l,o-a],[r+i-l,o+s-a]]}function nb({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=Ge(e);let s={controlDirection:Kf("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:u,boundaries:f,keepAspectRatio:c,resizeDirection:d,onResizeStart:g,onResize:y,onResizeEnd:x,shouldResize:S}){let p={...y0},m={...J2};s={boundaries:f,resizeDirection:d,keepAspectRatio:c,controlDirection:Kf(u)};let h,w=null,E=[],_,N,M,R=!1;const D=Cg().on("start",T=>{const{nodeLookup:j,transform:z,snapGrid:b,snapToGrid:$,nodeOrigin:I,paneDomNode:A}=n();if(h=j.get(t),!h)return;w=(A==null?void 0:A.getBoundingClientRect())??null;const{xSnapped:C,ySnapped:P}=Mo(T.sourceEvent,{transform:z,snapGrid:b,snapToGrid:$,containerBounds:w});p={width:h.measured.width??0,height:h.measured.height??0,x:h.position.x??0,y:h.position.y??0},m={...p,pointerX:C,pointerY:P,aspectRatio:p.width/p.height},_=void 0,h.parentId&&(h.extent==="parent"||h.expandParent)&&(_=j.get(h.parentId),N=_&&h.extent==="parent"?eb(_):void 0),E=[],M=void 0;for(const[L,O]of j)if(O.parentId===t&&(E.push({id:L,position:{...O.position},extent:O.extent}),O.extent==="parent"||O.expandParent)){const F=tb(O,h,O.origin??I);M?M=[[Math.min(F[0][0],M[0][0]),Math.min(F[0][1],M[0][1])],[Math.max(F[1][0],M[1][0]),Math.max(F[1][1],M[1][1])]]:M=F}g==null||g(T,{...p})}).on("drag",T=>{const{transform:j,snapGrid:z,snapToGrid:b,nodeOrigin:$}=n(),I=Mo(T.sourceEvent,{transform:j,snapGrid:z,snapToGrid:b,containerBounds:w}),A=[];if(!h)return;const{x:C,y:P,width:L,height:O}=p,F={},W=h.origin??$,{width:V,height:X,x:G,y:K}=q2(m,s.controlDirection,I,s.boundaries,s.keepAspectRatio,W,N,M),B=V!==L,Q=X!==O,te=G!==C&&B,J=K!==P&&Q;if(!te&&!J&&!B&&!Q)return;if((te||J||W[0]===1||W[1]===1)&&(F.x=te?G:p.x,F.y=J?K:p.y,p.x=F.x,p.y=F.y,E.length>0)){const ce=G-C,ie=K-P;for(const Re of E)Re.position={x:Re.position.x-ce+W[0]*(V-L),y:Re.position.y-ie+W[1]*(X-O)},A.push(Re)}if((B||Q)&&(F.width=B&&(!s.resizeDirection||s.resizeDirection==="horizontal")?V:p.width,F.height=Q&&(!s.resizeDirection||s.resizeDirection==="vertical")?X:p.height,p.width=F.width,p.height=F.height),_&&h.expandParent){const ce=W[0]*(F.width??0);F.x&&F.x<ce&&(p.x=ce,m.x=m.x-(F.x-ce));const ie=W[1]*(F.height??0);F.y&&F.y<ie&&(p.y=ie,m.y=m.y-(F.y-ie))}const q=Z2({width:p.width,prevWidth:L,height:p.height,prevHeight:O,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),Z={...p,direction:q};(S==null?void 0:S(T,Z))!==!1&&(R=!0,y==null||y(T,Z),r(F,A))}).on("end",T=>{R&&(x==null||x(T,{...p}),o==null||o({...p}),R=!1)});i.call(D)}function a(){i.on(".drag",null)}return{update:l,destroy:a}}var v0={exports:{}},x0={},w0={exports:{}},S0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ar=k;function rb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ob=typeof Object.is=="function"?Object.is:rb,ib=Ar.useState,sb=Ar.useEffect,lb=Ar.useLayoutEffect,ab=Ar.useDebugValue;function ub(e,t){var n=t(),r=ib({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return lb(function(){o.value=n,o.getSnapshot=t,ha(o)&&i({inst:o})},[e,n,t]),sb(function(){return ha(o)&&i({inst:o}),e(function(){ha(o)&&i({inst:o})})},[e]),ab(n),n}function ha(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ob(e,n)}catch{return!0}}function cb(e,t){return t()}var db=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cb:ub;S0.useSyncExternalStore=Ar.useSyncExternalStore!==void 0?Ar.useSyncExternalStore:db;w0.exports=S0;var fb=w0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=k,hb=fb;function pb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mb=typeof Object.is=="function"?Object.is:pb,gb=hb.useSyncExternalStore,yb=kl.useRef,vb=kl.useEffect,xb=kl.useMemo,wb=kl.useDebugValue;x0.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=yb(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=xb(function(){function a(g){if(!u){if(u=!0,f=g,g=r(g),o!==void 0&&s.hasValue){var y=s.value;if(o(y,g))return c=y}return c=g}if(y=c,mb(f,g))return y;var x=r(g);return o!==void 0&&o(y,x)?(f=g,y):(f=g,c=x)}var u=!1,f,c,d=n===void 0?null:n;return[function(){return a(t())},d===null?void 0:function(){return a(d())}]},[t,n,r,o]);var l=gb(e,i[0],i[1]);return vb(function(){s.hasValue=!0,s.value=l},[l]),wb(l),l};v0.exports=x0;var Sb=v0.exports;const kb=Ph(Sb),Eb={},Zf=e=>{let t;const n=new Set,r=(f,c)=>{const d=typeof f=="function"?f(t):f;if(!Object.is(d,t)){const g=t;t=c??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(y=>y(t,g))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(Eb?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,a);return a},_b=e=>e?Zf(e):Zf,{useDebugValue:bb}=uo,{useSyncExternalStoreWithSelector:Nb}=kb,Cb=e=>e;function k0(e,t=Cb,n){const r=Nb(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return bb(r),r}const qf=(e,t)=>{const n=_b(e),r=(o,i=t)=>k0(n,o,i);return Object.assign(r,n),r},Pb=(e,t)=>e?qf(e,t):qf;function ge(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const El=k.createContext(null),Mb=El.Provider,E0=Mt.error001();function re(e,t){const n=k.useContext(El);if(n===null)throw new Error(E0);return k0(n,e,t)}function ye(){const e=k.useContext(El);if(e===null)throw new Error(E0);return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Jf={display:"none"},Ib={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},_0="react-flow__node-desc",b0="react-flow__edge-desc",jb="react-flow__aria-live",Rb=e=>e.ariaLiveMessage,Tb=e=>e.ariaLabelConfig;function zb({rfId:e}){const t=re(Rb);return v.jsx("div",{id:`${jb}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Ib,children:t})}function Lb({rfId:e,disableKeyboardA11y:t}){const n=re(Tb);return v.jsxs(v.Fragment,{children:[v.jsx("div",{id:`${_0}-${e}`,style:Jf,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),v.jsx("div",{id:`${b0}-${e}`,style:Jf,children:n["edge.a11yDescription.default"]}),!t&&v.jsx(zb,{rfId:e})]})}const _l=k.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const s=`${e}`.split("-");return v.jsx("div",{className:_e(["react-flow__panel",n,...s]),style:r,ref:i,...o,children:t})});_l.displayName="Panel";function $b({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:v.jsx(_l,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:v.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Ab=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Yi=e=>e.id;function Db(e,t){return ge(e.selectedNodes.map(Yi),t.selectedNodes.map(Yi))&&ge(e.selectedEdges.map(Yi),t.selectedEdges.map(Yi))}function Ob({onSelectionChange:e}){const t=ye(),{selectedNodes:n,selectedEdges:r}=re(Ab,Db);return k.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const Fb=e=>!!e.onSelectionChangeHandlers;function Hb({onSelectionChange:e}){const t=re(Fb);return e||t?v.jsx(Ob,{onSelectionChange:e}):null}const N0=[0,0],Bb={x:0,y:0,zoom:1},Vb=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],eh=[...Vb,"rfId"],Wb=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),th={translateExtent:Jo,nodeOrigin:N0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function Ub(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:a}=re(Wb,ge),u=ye();k.useEffect(()=>(a(e.defaultNodes,e.defaultEdges),()=>{f.current=th,l()}),[]);const f=k.useRef(th);return k.useEffect(()=>{for(const c of eh){const d=e[c],g=f.current[c];d!==g&&(typeof e[c]>"u"||(c==="nodes"?t(d):c==="edges"?n(d):c==="minZoom"?r(d):c==="maxZoom"?o(d):c==="translateExtent"?i(d):c==="nodeExtent"?s(d):c==="ariaLabelConfig"?u.setState({ariaLabelConfig:m2(d)}):c==="fitView"?u.setState({fitViewQueued:d}):c==="fitViewOptions"?u.setState({fitViewOptions:d}):u.setState({[c]:d})))}f.current=e},eh.map(c=>e[c])),null}function nh(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Yb(e){var r;const[t,n]=k.useState(e==="system"?null:e);return k.useEffect(()=>{if(e!=="system"){n(e);return}const o=nh(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=nh())!=null&&r.matches?"dark":"light"}const rh=typeof document<"u"?document:null;function ri(e=null,t={target:rh,actInsideInputWithModifier:!0}){const[n,r]=k.useState(!1),o=k.useRef(!1),i=k.useRef(new Set([])),[s,l]=k.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(c=>typeof c=="string").map(c=>c.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=u.reduce((c,d)=>c.concat(...d),[]);return[u,f]}return[[],[]]},[e]);return k.useEffect(()=>{const a=(t==null?void 0:t.target)??rh,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=g=>{var S,p;if(o.current=g.ctrlKey||g.metaKey||g.shiftKey||g.altKey,(!o.current||o.current&&!u)&&t0(g))return!1;const x=ih(g.code,l);if(i.current.add(g[x]),oh(s,i.current,!1)){const m=((p=(S=g.composedPath)==null?void 0:S.call(g))==null?void 0:p[0])||g.target,h=(m==null?void 0:m.nodeName)==="BUTTON"||(m==null?void 0:m.nodeName)==="A";t.preventDefault!==!1&&(o.current||!h)&&g.preventDefault(),r(!0)}},c=g=>{const y=ih(g.code,l);oh(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(g[y]),g.key==="Meta"&&i.current.clear(),o.current=!1},d=()=>{i.current.clear(),r(!1)};return a==null||a.addEventListener("keydown",f),a==null||a.addEventListener("keyup",c),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{a==null||a.removeEventListener("keydown",f),a==null||a.removeEventListener("keyup",c),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function oh(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function ih(e,t){return t.includes(e)?"code":"key"}const Xb=()=>{const e=ye();return k.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:s,panZoom:l}=e.getState(),a=Oc(t,r,o,i,s,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(a,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:l,y:a}=s.getBoundingClientRect(),u={x:t.x-l,y:t.y-a},f=n.snapGrid??o,c=n.snapToGrid??i;return yi(u,r,c,f)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),s=Gs(t,n);return{x:s.x+o,y:s.y+i}}}),[])};function C0(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const s=r.get(i.id);s?s.push(i):r.set(i.id,[i])}for(const i of t){const s=r.get(i.id);if(!s){n.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const l={...i};for(const a of s)Gb(a,l);n.push(l)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function Gb(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function P0(e,t){return C0(e,t)}function M0(e,t){return C0(e,t)}function Pn(e,t){return{id:e,type:"select",selected:t}}function hr(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const s=t.has(o);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),r.push(Pn(i.id,s)))}return r}function sh({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const l=t.get(s.id),a=((o=l==null?void 0:l.internals)==null?void 0:o.userNode)??l;a!==void 0&&a!==s&&n.push({id:s.id,item:s,type:"replace"}),a===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function lh(e){return{id:e.id,type:"remove"}}const ah=e=>i2(e),Kb=e=>Xg(e);function I0(e){return k.forwardRef(e)}const Qb=typeof window<"u"?k.useLayoutEffect:k.useEffect;function uh(e){const[t,n]=k.useState(BigInt(0)),[r]=k.useState(()=>Zb(()=>n(o=>o+BigInt(1))));return Qb(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function Zb(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const j0=k.createContext(null);function qb({children:e}){const t=ye(),n=k.useCallback(l=>{const{nodes:a=[],setNodes:u,hasDefaultNodes:f,onNodesChange:c,nodeLookup:d,fitViewQueued:g,onNodesChangeMiddlewareMap:y}=t.getState();let x=a;for(const p of l)x=typeof p=="function"?p(x):p;let S=sh({items:x,lookup:d});for(const p of y.values())S=p(S);f&&u(x),S.length>0?c==null||c(S):g&&window.requestAnimationFrame(()=>{const{fitViewQueued:p,nodes:m,setNodes:h}=t.getState();p&&h(m)})},[]),r=uh(n),o=k.useCallback(l=>{const{edges:a=[],setEdges:u,hasDefaultEdges:f,onEdgesChange:c,edgeLookup:d}=t.getState();let g=a;for(const y of l)g=typeof y=="function"?y(g):y;f?u(g):c&&c(sh({items:g,lookup:d}))},[]),i=uh(o),s=k.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return v.jsx(j0.Provider,{value:s,children:e})}function Jb(){const e=k.useContext(j0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const eN=e=>!!e.panZoom;function bl(){const e=Xb(),t=ye(),n=Jb(),r=re(eN),o=k.useMemo(()=>{const i=c=>t.getState().nodeLookup.get(c),s=c=>{n.nodeQueue.push(c)},l=c=>{n.edgeQueue.push(c)},a=c=>{var p,m;const{nodeLookup:d,nodeOrigin:g}=t.getState(),y=ah(c)?c:d.get(c.id),x=y.parentId?Jg(y.position,y.measured,y.parentId,d,g):y.position,S={...y,position:x,width:((p=y.measured)==null?void 0:p.width)??y.width,height:((m=y.measured)==null?void 0:m.height)??y.height};return zr(S)},u=(c,d,g={replace:!1})=>{s(y=>y.map(x=>{if(x.id===c){const S=typeof d=="function"?d(x):d;return g.replace&&ah(S)?S:{...x,...S}}return x}))},f=(c,d,g={replace:!1})=>{l(y=>y.map(x=>{if(x.id===c){const S=typeof d=="function"?d(x):d;return g.replace&&Kb(S)?S:{...x,...S}}return x}))};return{getNodes:()=>t.getState().nodes.map(c=>({...c})),getNode:c=>{var d;return(d=i(c))==null?void 0:d.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:c=[]}=t.getState();return c.map(d=>({...d}))},getEdge:c=>t.getState().edgeLookup.get(c),setNodes:s,setEdges:l,addNodes:c=>{const d=Array.isArray(c)?c:[c];n.nodeQueue.push(g=>[...g,...d])},addEdges:c=>{const d=Array.isArray(c)?c:[c];n.edgeQueue.push(g=>[...g,...d])},toObject:()=>{const{nodes:c=[],edges:d=[],transform:g}=t.getState(),[y,x,S]=g;return{nodes:c.map(p=>({...p})),edges:d.map(p=>({...p})),viewport:{x:y,y:x,zoom:S}}},deleteElements:async({nodes:c=[],edges:d=[]})=>{const{nodes:g,edges:y,onNodesDelete:x,onEdgesDelete:S,triggerNodeChanges:p,triggerEdgeChanges:m,onDelete:h,onBeforeDelete:w}=t.getState(),{nodes:E,edges:_}=await c2({nodesToRemove:c,edgesToRemove:d,nodes:g,edges:y,onBeforeDelete:w}),N=_.length>0,M=E.length>0;if(N){const R=_.map(lh);S==null||S(_),m(R)}if(M){const R=E.map(lh);x==null||x(E),p(R)}return(M||N)&&(h==null||h({nodes:E,edges:_})),{deletedNodes:E,deletedEdges:_}},getIntersectingNodes:(c,d=!0,g)=>{const y=Df(c),x=y?c:a(c),S=g!==void 0;return x?(g||t.getState().nodes).filter(p=>{const m=t.getState().nodeLookup.get(p.id);if(m&&!y&&(p.id===c.id||!m.internals.positionAbsolute))return!1;const h=zr(S?p:m),w=ti(h,x);return d&&w>0||w>=h.width*h.height||w>=x.width*x.height}):[]},isNodeIntersecting:(c,d,g=!0)=>{const x=Df(c)?c:a(c);if(!x)return!1;const S=ti(x,d);return g&&S>0||S>=d.width*d.height||S>=x.width*x.height},updateNode:u,updateNodeData:(c,d,g={replace:!1})=>{u(c,y=>{const x=typeof d=="function"?d(y):d;return g.replace?{...y,data:x}:{...y,data:{...y.data,...x}}},g)},updateEdge:f,updateEdgeData:(c,d,g={replace:!1})=>{f(c,y=>{const x=typeof d=="function"?d(y):d;return g.replace?{...y,data:x}:{...y,data:{...y.data,...x}}},g)},getNodesBounds:c=>{const{nodeLookup:d,nodeOrigin:g}=t.getState();return s2(c,{nodeLookup:d,nodeOrigin:g})},getHandleConnections:({type:c,id:d,nodeId:g})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${g}-${c}${d?`-${d}`:""}`))==null?void 0:y.values())??[])},getNodeConnections:({type:c,handleId:d,nodeId:g})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${g}${c?d?`-${c}-${d}`:`-${c}`:""}`))==null?void 0:y.values())??[])},fitView:async c=>{const d=t.getState().fitViewResolver??p2();return t.setState({fitViewQueued:!0,fitViewOptions:c,fitViewResolver:d}),n.nodeQueue.push(g=>[...g]),d.promise}}},[]);return k.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const ch=e=>e.selected,tN=typeof window<"u"?window:void 0;function nN({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=ye(),{deleteElements:r}=bl(),o=ri(e,{actInsideInputWithModifier:!1}),i=ri(t,{target:tN});k.useEffect(()=>{if(o){const{edges:s,nodes:l}=n.getState();r({nodes:l.filter(ch),edges:s.filter(ch)}),n.setState({nodesSelectionActive:!1})}},[o]),k.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function rN(e){const t=ye();k.useEffect(()=>{const n=()=>{var o,i,s,l;if(!e.current||!(((i=(o=e.current).checkVisibility)==null?void 0:i.call(o))??!0))return!1;const r=Fc(e.current);(r.height===0||r.width===0)&&((l=(s=t.getState()).onError)==null||l.call(s,"004",Mt.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Nl={position:"absolute",width:"100%",height:"100%",top:0,left:0},oN=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function iN({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=$n.Free,zoomOnDoubleClick:s=!0,panOnDrag:l=!0,defaultViewport:a,translateExtent:u,minZoom:f,maxZoom:c,zoomActivationKeyCode:d,preventScrolling:g=!0,children:y,noWheelClassName:x,noPanClassName:S,onViewportChange:p,isControlledViewport:m,paneClickDistance:h,selectionOnDrag:w}){const E=ye(),_=k.useRef(null),{userSelectionActive:N,lib:M,connectionInProgress:R}=re(oN,ge),D=ri(d),T=k.useRef();rN(_);const j=k.useCallback(z=>{p==null||p({x:z[0],y:z[1],zoom:z[2]}),m||E.setState({transform:z})},[p,m]);return k.useEffect(()=>{if(_.current){T.current=Q2({domNode:_.current,minZoom:f,maxZoom:c,translateExtent:u,viewport:a,onDraggingChange:I=>E.setState({paneDragging:I}),onPanZoomStart:(I,A)=>{const{onViewportChangeStart:C,onMoveStart:P}=E.getState();P==null||P(I,A),C==null||C(A)},onPanZoom:(I,A)=>{const{onViewportChange:C,onMove:P}=E.getState();P==null||P(I,A),C==null||C(A)},onPanZoomEnd:(I,A)=>{const{onViewportChangeEnd:C,onMoveEnd:P}=E.getState();P==null||P(I,A),C==null||C(A)}});const{x:z,y:b,zoom:$}=T.current.getViewport();return E.setState({panZoom:T.current,transform:[z,b,$],domNode:_.current.closest(".react-flow")}),()=>{var I;(I=T.current)==null||I.destroy()}}},[]),k.useEffect(()=>{var z;(z=T.current)==null||z.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:l,zoomActivationKeyPressed:D,preventScrolling:g,noPanClassName:S,userSelectionActive:N,noWheelClassName:x,lib:M,onTransformChange:j,connectionInProgress:R,selectionOnDrag:w,paneClickDistance:h})},[e,t,n,r,o,i,s,l,D,g,S,N,x,M,j,R,w,h]),v.jsx("div",{className:"react-flow__renderer",ref:_,style:Nl,children:y})}const sN=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function lN(){const{userSelectionActive:e,userSelectionRect:t}=re(sN,ge);return e&&t?v.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const pa=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},aN=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function uN({isSelecting:e,selectionKeyPressed:t,selectionMode:n=ei.Full,panOnDrag:r,paneClickDistance:o,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:l,onPaneClick:a,onPaneContextMenu:u,onPaneScroll:f,onPaneMouseEnter:c,onPaneMouseMove:d,onPaneMouseLeave:g,children:y}){const x=ye(),{userSelectionActive:S,elementsSelectable:p,dragging:m,connectionInProgress:h}=re(aN,ge),w=p&&(e||S),E=k.useRef(null),_=k.useRef(),N=k.useRef(new Set),M=k.useRef(new Set),R=k.useRef(!1),D=C=>{if(R.current||h){R.current=!1;return}a==null||a(C),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},T=C=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){C.preventDefault();return}u==null||u(C)},j=f?C=>f(C):void 0,z=C=>{R.current&&(C.stopPropagation(),R.current=!1)},b=C=>{var X,G;const{domNode:P}=x.getState();if(_.current=P==null?void 0:P.getBoundingClientRect(),!_.current)return;const L=C.target===E.current;if(!L&&!!C.target.closest(".nokey")||!e||!(i&&L||t)||C.button!==0||!C.isPrimary)return;(G=(X=C.target)==null?void 0:X.setPointerCapture)==null||G.call(X,C.pointerId),R.current=!1;const{x:W,y:V}=mt(C.nativeEvent,_.current);x.setState({userSelectionRect:{width:0,height:0,startX:W,startY:V,x:W,y:V}}),L||(C.stopPropagation(),C.preventDefault())},$=C=>{const{userSelectionRect:P,transform:L,nodeLookup:O,edgeLookup:F,connectionLookup:W,triggerNodeChanges:V,triggerEdgeChanges:X,defaultEdgeOptions:G,resetSelectedElements:K}=x.getState();if(!_.current||!P)return;const{x:B,y:Q}=mt(C.nativeEvent,_.current),{startX:te,startY:J}=P;if(!R.current){const ie=t?0:o;if(Math.hypot(B-te,Q-J)<=ie)return;K(),s==null||s(C)}R.current=!0;const q={startX:te,startY:J,x:B<te?B:te,y:Q<J?Q:J,width:Math.abs(B-te),height:Math.abs(Q-J)},Z=N.current,le=M.current;N.current=new Set(Dc(O,q,L,n===ei.Partial,!0).map(ie=>ie.id)),M.current=new Set;const ce=(G==null?void 0:G.selectable)??!0;for(const ie of N.current){const Re=W.get(ie);if(Re)for(const{edgeId:Zt}of Re.values()){const jt=F.get(Zt);jt&&(jt.selectable??ce)&&M.current.add(Zt)}}if(!Of(Z,N.current)){const ie=hr(O,N.current,!0);V(ie)}if(!Of(le,M.current)){const ie=hr(F,M.current);X(ie)}x.setState({userSelectionRect:q,userSelectionActive:!0,nodesSelectionActive:!1})},I=C=>{var P,L;C.button===0&&((L=(P=C.target)==null?void 0:P.releasePointerCapture)==null||L.call(P,C.pointerId),!S&&C.target===E.current&&x.getState().userSelectionRect&&(D==null||D(C)),x.setState({userSelectionActive:!1,userSelectionRect:null}),R.current&&(l==null||l(C),x.setState({nodesSelectionActive:N.current.size>0})))},A=r===!0||Array.isArray(r)&&r.includes(0);return v.jsxs("div",{className:_e(["react-flow__pane",{draggable:A,dragging:m,selection:e}]),onClick:w?void 0:pa(D,E),onContextMenu:pa(T,E),onWheel:pa(j,E),onPointerEnter:w?void 0:c,onPointerMove:w?$:d,onPointerUp:w?I:void 0,onPointerDownCapture:w?b:void 0,onClickCapture:w?z:void 0,onPointerLeave:g,ref:E,style:Nl,children:[y,v.jsx(lN,{})]})}function bu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",Mt.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):o([e])}function R0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:s}){const l=ye(),[a,u]=k.useState(!1),f=k.useRef();return k.useEffect(()=>{f.current=$2({getStoreItems:()=>l.getState(),onNodeMouseDown:c=>{bu({id:c,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),k.useEffect(()=>{var c,d;if(t)(c=f.current)==null||c.destroy();else if(e.current)return(d=f.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:s}),()=>{var g;(g=f.current)==null||g.destroy()}},[n,r,t,i,e,o]),a}const cN=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function T0(){const e=ye();return k.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:s,onError:l,updateNodePositions:a,nodeLookup:u,nodeOrigin:f}=e.getState(),c=new Map,d=cN(s),g=o?i[0]:5,y=o?i[1]:5,x=n.direction.x*g*n.factor,S=n.direction.y*y*n.factor;for(const[,p]of u){if(!d(p))continue;let m={x:p.internals.positionAbsolute.x+x,y:p.internals.positionAbsolute.y+S};o&&(m=gi(m,i));const{position:h,positionAbsolute:w}=Gg({nodeId:p.id,nextPosition:m,nodeLookup:u,nodeExtent:r,nodeOrigin:f,onError:l});p.position=h,p.internals.positionAbsolute=w,c.set(p.id,p)}a(c)},[])}const Xc=k.createContext(null),dN=Xc.Provider;Xc.Consumer;const z0=()=>k.useContext(Xc),fN=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),hN=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:s}=r,{fromHandle:l,toHandle:a,isValid:u}=s,f=(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:f,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===Rr.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!o,valid:f&&u}};function pN({type:e="source",position:t=Y.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:f,onTouchStart:c,...d},g){var $,I;const y=s||null,x=e==="target",S=ye(),p=z0(),{connectOnClick:m,noPanClassName:h,rfId:w}=re(fN,ge),{connectingFrom:E,connectingTo:_,clickConnecting:N,isPossibleEndHandle:M,connectionInProcess:R,clickConnectionInProcess:D,valid:T}=re(hN(p,y,e),ge);p||(I=($=S.getState()).onError)==null||I.call($,"010",Mt.error010());const j=A=>{const{defaultEdgeOptions:C,onConnect:P,hasDefaultEdges:L}=S.getState(),O={...C,...A};if(L){const{edges:F,setEdges:W}=S.getState();W(i0(O,F))}P==null||P(O),l==null||l(O)},z=A=>{if(!p)return;const C=n0(A.nativeEvent);if(o&&(C&&A.button===0||!C)){const P=S.getState();_u.onPointerDown(A.nativeEvent,{handleDomNode:A.currentTarget,autoPanOnConnect:P.autoPanOnConnect,connectionMode:P.connectionMode,connectionRadius:P.connectionRadius,domNode:P.domNode,nodeLookup:P.nodeLookup,lib:P.lib,isTarget:x,handleId:y,nodeId:p,flowId:P.rfId,panBy:P.panBy,cancelConnection:P.cancelConnection,onConnectStart:P.onConnectStart,onConnectEnd:P.onConnectEnd,updateConnection:P.updateConnection,onConnect:j,isValidConnection:n||P.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:P.autoPanSpeed,dragThreshold:P.connectionDragThreshold})}C?f==null||f(A):c==null||c(A)},b=A=>{const{onClickConnectStart:C,onClickConnectEnd:P,connectionClickStartHandle:L,connectionMode:O,isValidConnection:F,lib:W,rfId:V,nodeLookup:X,connection:G}=S.getState();if(!p||!L&&!o)return;if(!L){C==null||C(A.nativeEvent,{nodeId:p,handleId:y,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:p,type:e,id:y}});return}const K=e0(A.target),B=n||F,{connection:Q,isValid:te}=_u.isValid(A.nativeEvent,{handle:{nodeId:p,id:y,type:e},connectionMode:O,fromNodeId:L.nodeId,fromHandleId:L.id||null,fromType:L.type,isValidConnection:B,flowId:V,doc:K,lib:W,nodeLookup:X});te&&Q&&j(Q);const J=structuredClone(G);delete J.inProgress,J.toPosition=J.toHandle?J.toHandle.position:null,P==null||P(A,J),S.setState({connectionClickStartHandle:null})};return v.jsx("div",{"data-handleid":y,"data-nodeid":p,"data-handlepos":t,"data-id":`${w}-${p}-${y}-${e}`,className:_e(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",h,u,{source:!x,target:x,connectable:r,connectablestart:o,connectableend:i,clickconnecting:N,connectingfrom:E,connectingto:_,valid:T,connectionindicator:r&&(!R||M)&&(R||D?i:o)}]),onMouseDown:z,onTouchStart:z,onClick:m?b:void 0,ref:g,...d,children:a})}const An=k.memo(I0(pN));function mN({data:e,isConnectable:t,sourcePosition:n=Y.Bottom}){return v.jsxs(v.Fragment,{children:[e==null?void 0:e.label,v.jsx(An,{type:"source",position:n,isConnectable:t})]})}function gN({data:e,isConnectable:t,targetPosition:n=Y.Top,sourcePosition:r=Y.Bottom}){return v.jsxs(v.Fragment,{children:[v.jsx(An,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,v.jsx(An,{type:"source",position:r,isConnectable:t})]})}function yN(){return null}function vN({data:e,isConnectable:t,targetPosition:n=Y.Top}){return v.jsxs(v.Fragment,{children:[v.jsx(An,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Ks={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},dh={input:mN,default:gN,output:vN,group:yN};function xN(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const wN=e=>{const{width:t,height:n,x:r,y:o}=mi(e.nodeLookup,{filter:i=>!!i.selected});return{width:pt(t)?t:null,height:pt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function SN({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ye(),{width:o,height:i,transformString:s,userSelectionActive:l}=re(wN,ge),a=T0(),u=k.useRef(null);if(k.useEffect(()=>{var d;n||(d=u.current)==null||d.focus({preventScroll:!0})},[n]),R0({nodeRef:u}),l||!o||!i)return null;const f=e?d=>{const g=r.getState().nodes.filter(y=>y.selected);e(d,g)}:void 0,c=d=>{Object.prototype.hasOwnProperty.call(Ks,d.key)&&(d.preventDefault(),a({direction:Ks[d.key],factor:d.shiftKey?4:1}))};return v.jsx("div",{className:_e(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:v.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:c,style:{width:o,height:i}})})}const fh=typeof window<"u"?window:void 0,kN=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function L0({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:l,deleteKeyCode:a,selectionKeyCode:u,selectionOnDrag:f,selectionMode:c,onSelectionStart:d,onSelectionEnd:g,multiSelectionKeyCode:y,panActivationKeyCode:x,zoomActivationKeyCode:S,elementsSelectable:p,zoomOnScroll:m,zoomOnPinch:h,panOnScroll:w,panOnScrollSpeed:E,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:M,defaultViewport:R,translateExtent:D,minZoom:T,maxZoom:j,preventScrolling:z,onSelectionContextMenu:b,noWheelClassName:$,noPanClassName:I,disableKeyboardA11y:A,onViewportChange:C,isControlledViewport:P}){const{nodesSelectionActive:L,userSelectionActive:O}=re(kN,ge),F=ri(u,{target:fh}),W=ri(x,{target:fh}),V=W||M,X=W||w,G=f&&V!==!0,K=F||O||G;return nN({deleteKeyCode:a,multiSelectionKeyCode:y}),v.jsx(iN,{onPaneContextMenu:i,elementsSelectable:p,zoomOnScroll:m,zoomOnPinch:h,panOnScroll:X,panOnScrollSpeed:E,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:!F&&V,defaultViewport:R,translateExtent:D,minZoom:T,maxZoom:j,zoomActivationKeyCode:S,preventScrolling:z,noWheelClassName:$,noPanClassName:I,onViewportChange:C,isControlledViewport:P,paneClickDistance:l,selectionOnDrag:G,children:v.jsxs(uN,{onSelectionStart:d,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:V,isSelecting:!!K,selectionMode:c,selectionKeyPressed:F,paneClickDistance:l,selectionOnDrag:G,children:[e,L&&v.jsx(SN,{onSelectionContextMenu:b,noPanClassName:I,disableKeyboardA11y:A})]})})}L0.displayName="FlowRenderer";const EN=k.memo(L0),_N=e=>t=>e?Dc(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function bN(e){return re(k.useCallback(_N(e),[e]),ge)}const NN=e=>e.updateNodeInternals;function CN(){const e=re(NN),[t]=k.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return k.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function PN({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=ye(),i=k.useRef(null),s=k.useRef(null),l=k.useRef(e.sourcePosition),a=k.useRef(e.targetPosition),u=k.useRef(t),f=n&&!!e.internals.handleBounds;return k.useEffect(()=>{i.current&&!e.hidden&&(!f||s.current!==i.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(i.current),s.current=i.current)},[f,e.hidden]),k.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),k.useEffect(()=>{if(i.current){const c=u.current!==t,d=l.current!==e.sourcePosition,g=a.current!==e.targetPosition;(c||d||g)&&(u.current=t,l.current=e.sourcePosition,a.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function MN({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:s,nodesDraggable:l,elementsSelectable:a,nodesConnectable:u,nodesFocusable:f,resizeObserver:c,noDragClassName:d,noPanClassName:g,disableKeyboardA11y:y,rfId:x,nodeTypes:S,nodeClickDistance:p,onError:m}){const{node:h,internals:w,isParent:E}=re(B=>{const Q=B.nodeLookup.get(e),te=B.parentLookup.has(e);return{node:Q,internals:Q.internals,isParent:te}},ge);let _=h.type||"default",N=(S==null?void 0:S[_])||dh[_];N===void 0&&(m==null||m("003",Mt.error003(_)),_="default",N=(S==null?void 0:S.default)||dh.default);const M=!!(h.draggable||l&&typeof h.draggable>"u"),R=!!(h.selectable||a&&typeof h.selectable>"u"),D=!!(h.connectable||u&&typeof h.connectable>"u"),T=!!(h.focusable||f&&typeof h.focusable>"u"),j=ye(),z=qg(h),b=PN({node:h,nodeType:_,hasDimensions:z,resizeObserver:c}),$=R0({nodeRef:b,disabled:h.hidden||!M,noDragClassName:d,handleSelector:h.dragHandle,nodeId:e,isSelectable:R,nodeClickDistance:p}),I=T0();if(h.hidden)return null;const A=Qt(h),C=xN(h),P=R||M||t||n||r||o,L=n?B=>n(B,{...w.userNode}):void 0,O=r?B=>r(B,{...w.userNode}):void 0,F=o?B=>o(B,{...w.userNode}):void 0,W=i?B=>i(B,{...w.userNode}):void 0,V=s?B=>s(B,{...w.userNode}):void 0,X=B=>{const{selectNodesOnDrag:Q,nodeDragThreshold:te}=j.getState();R&&(!Q||!M||te>0)&&bu({id:e,store:j,nodeRef:b}),t&&t(B,{...w.userNode})},G=B=>{if(!(t0(B.nativeEvent)||y)){if(Vg.includes(B.key)&&R){const Q=B.key==="Escape";bu({id:e,store:j,unselect:Q,nodeRef:b})}else if(M&&h.selected&&Object.prototype.hasOwnProperty.call(Ks,B.key)){B.preventDefault();const{ariaLabelConfig:Q}=j.getState();j.setState({ariaLiveMessage:Q["node.a11yDescription.ariaLiveMessage"]({direction:B.key.replace("Arrow","").toLowerCase(),x:~~w.positionAbsolute.x,y:~~w.positionAbsolute.y})}),I({direction:Ks[B.key],factor:B.shiftKey?4:1})}}},K=()=>{var le;if(y||!((le=b.current)!=null&&le.matches(":focus-visible")))return;const{transform:B,width:Q,height:te,autoPanOnNodeFocus:J,setCenter:q}=j.getState();if(!J)return;Dc(new Map([[e,h]]),{x:0,y:0,width:Q,height:te},B,!0).length>0||q(h.position.x+A.width/2,h.position.y+A.height/2,{zoom:B[2]})};return v.jsx("div",{className:_e(["react-flow__node",`react-flow__node-${_}`,{[g]:M},h.className,{selected:h.selected,selectable:R,parent:E,draggable:M,dragging:$}]),ref:b,style:{zIndex:w.z,transform:`translate(${w.positionAbsolute.x}px,${w.positionAbsolute.y}px)`,pointerEvents:P?"all":"none",visibility:z?"visible":"hidden",...h.style,...C},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:L,onMouseMove:O,onMouseLeave:F,onContextMenu:W,onClick:X,onDoubleClick:V,onKeyDown:T?G:void 0,tabIndex:T?0:void 0,onFocus:T?K:void 0,role:h.ariaRole??(T?"group":void 0),"aria-roledescription":"node","aria-describedby":y?void 0:`${_0}-${x}`,"aria-label":h.ariaLabel,...h.domAttributes,children:v.jsx(dN,{value:e,children:v.jsx(N,{id:e,data:h.data,type:_,positionAbsoluteX:w.positionAbsolute.x,positionAbsoluteY:w.positionAbsolute.y,selected:h.selected??!1,selectable:R,draggable:M,deletable:h.deletable??!0,isConnectable:D,sourcePosition:h.sourcePosition,targetPosition:h.targetPosition,dragging:$,dragHandle:h.dragHandle,zIndex:w.z,parentId:h.parentId,...A})})})}var IN=k.memo(MN);const jN=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function $0(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=re(jN,ge),s=bN(e.onlyRenderVisibleElements),l=CN();return v.jsx("div",{className:"react-flow__nodes",style:Nl,children:s.map(a=>v.jsx(IN,{id:a,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},a))})}$0.displayName="NodeRenderer";const RN=k.memo($0);function TN(e){return re(k.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),s=n.nodeLookup.get(o.target);i&&s&&v2({sourceNode:i,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),ge)}const zN=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return v.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},LN=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return v.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},hh={[Ys.Arrow]:zN,[Ys.ArrowClosed]:LN};function $N(e){const t=ye();return k.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(hh,e)?hh[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",Mt.error009(e)),null)},[e])}const AN=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=$N(t);return a?v.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:v.jsx(a,{color:n,strokeWidth:s})}):null},A0=({defaultColor:e,rfId:t})=>{const n=re(i=>i.edges),r=re(i=>i.defaultEdgeOptions),o=k.useMemo(()=>b2(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?v.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:v.jsx("defs",{children:o.map(i=>v.jsx(AN,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};A0.displayName="MarkerDefinitions";var DN=k.memo(A0);function D0({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...f}){const[c,d]=k.useState({x:1,y:0,width:0,height:0}),g=_e(["react-flow__edge-textwrapper",u]),y=k.useRef(null);return k.useEffect(()=>{if(y.current){const x=y.current.getBBox();d({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),n?v.jsxs("g",{transform:`translate(${e-c.width/2} ${t-c.height/2})`,className:g,visibility:c.width?"visible":"hidden",...f,children:[o&&v.jsx("rect",{width:c.width+2*s[0],x:-s[0],y:-s[1],height:c.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),v.jsx("text",{className:"react-flow__edge-text",y:c.height/2,dy:"0.3em",ref:y,style:r,children:n}),a]}):null}D0.displayName="EdgeText";const ON=k.memo(D0);function vi({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a,interactionWidth:u=20,...f}){return v.jsxs(v.Fragment,{children:[v.jsx("path",{...f,d:e,fill:"none",className:_e(["react-flow__edge-path",f.className])}),u?v.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&pt(t)&&pt(n)?v.jsx(ON,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a}):null]})}function ph({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Y.Left||e===Y.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function O0({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:i=Y.Top}){const[s,l]=ph({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=ph({pos:i,x1:r,y1:o,x2:e,y2:t}),[f,c,d,g]=r0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${o}`,f,c,d,g]}function F0(e){return k.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s,targetPosition:l,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:g,style:y,markerEnd:x,markerStart:S,interactionWidth:p})=>{const[m,h,w]=O0({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:l}),E=e.isInternal?void 0:t;return v.jsx(vi,{id:E,path:m,labelX:h,labelY:w,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:g,style:y,markerEnd:x,markerStart:S,interactionWidth:p})})}const FN=F0({isInternal:!1}),H0=F0({isInternal:!0});FN.displayName="SimpleBezierEdge";H0.displayName="SimpleBezierEdgeInternal";function B0(e){return k.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,sourcePosition:g=Y.Bottom,targetPosition:y=Y.Top,markerEnd:x,markerStart:S,pathOptions:p,interactionWidth:m})=>{const[h,w,E]=Su({sourceX:n,sourceY:r,sourcePosition:g,targetX:o,targetY:i,targetPosition:y,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset,stepPosition:p==null?void 0:p.stepPosition}),_=e.isInternal?void 0:t;return v.jsx(vi,{id:_,path:h,labelX:w,labelY:E,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:x,markerStart:S,interactionWidth:m})})}const V0=B0({isInternal:!1}),W0=B0({isInternal:!0});V0.displayName="SmoothStepEdge";W0.displayName="SmoothStepEdgeInternal";function U0(e){return k.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return v.jsx(V0,{...n,id:r,pathOptions:k.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const HN=U0({isInternal:!1}),Y0=U0({isInternal:!0});HN.displayName="StepEdge";Y0.displayName="StepEdgeInternal";function X0(e){return k.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:g,markerStart:y,interactionWidth:x})=>{const[S,p,m]=s0({sourceX:n,sourceY:r,targetX:o,targetY:i}),h=e.isInternal?void 0:t;return v.jsx(vi,{id:h,path:S,labelX:p,labelY:m,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:g,markerStart:y,interactionWidth:x})})}const BN=X0({isInternal:!1}),G0=X0({isInternal:!0});BN.displayName="StraightEdge";G0.displayName="StraightEdgeInternal";function K0(e){return k.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=Y.Bottom,targetPosition:l=Y.Top,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:g,style:y,markerEnd:x,markerStart:S,pathOptions:p,interactionWidth:m})=>{const[h,w,E]=Hc({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:l,curvature:p==null?void 0:p.curvature}),_=e.isInternal?void 0:t;return v.jsx(vi,{id:_,path:h,labelX:w,labelY:E,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:g,style:y,markerEnd:x,markerStart:S,interactionWidth:m})})}const VN=K0({isInternal:!1}),Q0=K0({isInternal:!0});VN.displayName="BezierEdge";Q0.displayName="BezierEdgeInternal";const mh={default:Q0,straight:G0,step:Y0,smoothstep:W0,simplebezier:H0},gh={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},WN=(e,t,n)=>n===Y.Left?e-t:n===Y.Right?e+t:e,UN=(e,t,n)=>n===Y.Top?e-t:n===Y.Bottom?e+t:e,yh="react-flow__edgeupdater";function vh({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:l}){return v.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:_e([yh,`${yh}-${l}`]),cx:WN(t,r,e),cy:UN(n,r,e),r,stroke:"transparent",fill:"transparent"})}function YN({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:s,sourcePosition:l,targetPosition:a,onReconnect:u,onReconnectStart:f,onReconnectEnd:c,setReconnecting:d,setUpdateHover:g}){const y=ye(),x=(w,E)=>{if(w.button!==0)return;const{autoPanOnConnect:_,domNode:N,isValidConnection:M,connectionMode:R,connectionRadius:D,lib:T,onConnectStart:j,onConnectEnd:z,cancelConnection:b,nodeLookup:$,rfId:I,panBy:A,updateConnection:C}=y.getState(),P=E.type==="target",L=(W,V)=>{d(!1),c==null||c(W,n,E.type,V)},O=W=>u==null?void 0:u(n,W),F=(W,V)=>{d(!0),f==null||f(w,n,E.type),j==null||j(W,V)};_u.onPointerDown(w.nativeEvent,{autoPanOnConnect:_,connectionMode:R,connectionRadius:D,domNode:N,handleId:E.id,nodeId:E.nodeId,nodeLookup:$,isTarget:P,edgeUpdaterType:E.type,lib:T,flowId:I,cancelConnection:b,panBy:A,isValidConnection:M,onConnect:O,onConnectStart:F,onConnectEnd:z,onReconnectEnd:L,updateConnection:C,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,dragThreshold:y.getState().connectionDragThreshold,handleDomNode:w.currentTarget})},S=w=>x(w,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),p=w=>x(w,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),m=()=>g(!0),h=()=>g(!1);return v.jsxs(v.Fragment,{children:[(e===!0||e==="source")&&v.jsx(vh,{position:l,centerX:r,centerY:o,radius:t,onMouseDown:S,onMouseEnter:m,onMouseOut:h,type:"source"}),(e===!0||e==="target")&&v.jsx(vh,{position:a,centerX:i,centerY:s,radius:t,onMouseDown:p,onMouseEnter:m,onMouseOut:h,type:"target"})]})}function XN({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,reconnectRadius:f,onReconnect:c,onReconnectStart:d,onReconnectEnd:g,rfId:y,edgeTypes:x,noPanClassName:S,onError:p,disableKeyboardA11y:m}){let h=re(q=>q.edgeLookup.get(e));const w=re(q=>q.defaultEdgeOptions);h=w?{...w,...h}:h;let E=h.type||"default",_=(x==null?void 0:x[E])||mh[E];_===void 0&&(p==null||p("011",Mt.error011(E)),E="default",_=(x==null?void 0:x.default)||mh.default);const N=!!(h.focusable||t&&typeof h.focusable>"u"),M=typeof c<"u"&&(h.reconnectable||n&&typeof h.reconnectable>"u"),R=!!(h.selectable||r&&typeof h.selectable>"u"),D=k.useRef(null),[T,j]=k.useState(!1),[z,b]=k.useState(!1),$=ye(),{zIndex:I,sourceX:A,sourceY:C,targetX:P,targetY:L,sourcePosition:O,targetPosition:F}=re(k.useCallback(q=>{const Z=q.nodeLookup.get(h.source),le=q.nodeLookup.get(h.target);if(!Z||!le)return{zIndex:h.zIndex,...gh};const ce=_2({id:e,sourceNode:Z,targetNode:le,sourceHandle:h.sourceHandle||null,targetHandle:h.targetHandle||null,connectionMode:q.connectionMode,onError:p});return{zIndex:y2({selected:h.selected,zIndex:h.zIndex,sourceNode:Z,targetNode:le,elevateOnSelect:q.elevateEdgesOnSelect,zIndexMode:q.zIndexMode}),...ce||gh}},[h.source,h.target,h.sourceHandle,h.targetHandle,h.selected,h.zIndex]),ge),W=k.useMemo(()=>h.markerStart?`url('#${ku(h.markerStart,y)}')`:void 0,[h.markerStart,y]),V=k.useMemo(()=>h.markerEnd?`url('#${ku(h.markerEnd,y)}')`:void 0,[h.markerEnd,y]);if(h.hidden||A===null||C===null||P===null||L===null)return null;const X=q=>{var ie;const{addSelectedEdges:Z,unselectNodesAndEdges:le,multiSelectionActive:ce}=$.getState();R&&($.setState({nodesSelectionActive:!1}),h.selected&&ce?(le({nodes:[],edges:[h]}),(ie=D.current)==null||ie.blur()):Z([e])),o&&o(q,h)},G=i?q=>{i(q,{...h})}:void 0,K=s?q=>{s(q,{...h})}:void 0,B=l?q=>{l(q,{...h})}:void 0,Q=a?q=>{a(q,{...h})}:void 0,te=u?q=>{u(q,{...h})}:void 0,J=q=>{var Z;if(!m&&Vg.includes(q.key)&&R){const{unselectNodesAndEdges:le,addSelectedEdges:ce}=$.getState();q.key==="Escape"?((Z=D.current)==null||Z.blur(),le({edges:[h]})):ce([e])}};return v.jsx("svg",{style:{zIndex:I},children:v.jsxs("g",{className:_e(["react-flow__edge",`react-flow__edge-${E}`,h.className,S,{selected:h.selected,animated:h.animated,inactive:!R&&!o,updating:T,selectable:R}]),onClick:X,onDoubleClick:G,onContextMenu:K,onMouseEnter:B,onMouseMove:Q,onMouseLeave:te,onKeyDown:N?J:void 0,tabIndex:N?0:void 0,role:h.ariaRole??(N?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":h.ariaLabel===null?void 0:h.ariaLabel||`Edge from ${h.source} to ${h.target}`,"aria-describedby":N?`${b0}-${y}`:void 0,ref:D,...h.domAttributes,children:[!z&&v.jsx(_,{id:e,source:h.source,target:h.target,type:h.type,selected:h.selected,animated:h.animated,selectable:R,deletable:h.deletable??!0,label:h.label,labelStyle:h.labelStyle,labelShowBg:h.labelShowBg,labelBgStyle:h.labelBgStyle,labelBgPadding:h.labelBgPadding,labelBgBorderRadius:h.labelBgBorderRadius,sourceX:A,sourceY:C,targetX:P,targetY:L,sourcePosition:O,targetPosition:F,data:h.data,style:h.style,sourceHandleId:h.sourceHandle,targetHandleId:h.targetHandle,markerStart:W,markerEnd:V,pathOptions:"pathOptions"in h?h.pathOptions:void 0,interactionWidth:h.interactionWidth}),M&&v.jsx(YN,{edge:h,isReconnectable:M,reconnectRadius:f,onReconnect:c,onReconnectStart:d,onReconnectEnd:g,sourceX:A,sourceY:C,targetX:P,targetY:L,sourcePosition:O,targetPosition:F,setUpdateHover:j,setReconnecting:b})]})})}var GN=k.memo(XN);const KN=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Z0({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:f,reconnectRadius:c,onEdgeDoubleClick:d,onReconnectStart:g,onReconnectEnd:y,disableKeyboardA11y:x}){const{edgesFocusable:S,edgesReconnectable:p,elementsSelectable:m,onError:h}=re(KN,ge),w=TN(t);return v.jsxs("div",{className:"react-flow__edges",children:[v.jsx(DN,{defaultColor:e,rfId:n}),w.map(E=>v.jsx(GN,{id:E,edgesFocusable:S,edgesReconnectable:p,elementsSelectable:m,noPanClassName:o,onReconnect:i,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:f,reconnectRadius:c,onDoubleClick:d,onReconnectStart:g,onReconnectEnd:y,rfId:n,onError:h,edgeTypes:r,disableKeyboardA11y:x},E))]})}Z0.displayName="EdgeRenderer";const QN=k.memo(Z0),ZN=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function qN({children:e}){const t=re(ZN);return v.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function JN(e){const t=bl(),n=k.useRef(!1);k.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const eC=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function tC(e){const t=re(eC),n=ye();return k.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function nC(e){return e.connection.inProgress?{...e.connection,to:yi(e.connection.to,e.transform)}:{...e.connection}}function rC(e){return nC}function oC(e){const t=rC();return re(t,ge)}const iC=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function sC({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:s,isValid:l,inProgress:a}=re(iC,ge);return!(i&&o&&a)?null:v.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:v.jsx("g",{className:_e(["react-flow__connection",Yg(l)]),children:v.jsx(q0,{style:t,type:n,CustomComponent:r,isValid:l})})})}const q0=({style:e,type:t=an.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:s,fromHandle:l,fromPosition:a,to:u,toNode:f,toHandle:c,toPosition:d,pointer:g}=oC();if(!o)return;if(n)return v.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:l,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:a,toPosition:d,connectionStatus:Yg(r),toNode:f,toHandle:c,pointer:g});let y="";const x={sourceX:i.x,sourceY:i.y,sourcePosition:a,targetX:u.x,targetY:u.y,targetPosition:d};switch(t){case an.Bezier:[y]=Hc(x);break;case an.SimpleBezier:[y]=O0(x);break;case an.Step:[y]=Su({...x,borderRadius:0});break;case an.SmoothStep:[y]=Su(x);break;default:[y]=s0(x)}return v.jsx("path",{d:y,fill:"none",className:"react-flow__connection-path",style:e})};q0.displayName="ConnectionLine";const lC={};function xh(e=lC){k.useRef(e),ye(),k.useEffect(()=>{},[e])}function aC(){ye(),k.useRef(!1),k.useEffect(()=>{},[])}function J0({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:f,onSelectionContextMenu:c,onSelectionStart:d,onSelectionEnd:g,connectionLineType:y,connectionLineStyle:x,connectionLineComponent:S,connectionLineContainerStyle:p,selectionKeyCode:m,selectionOnDrag:h,selectionMode:w,multiSelectionKeyCode:E,panActivationKeyCode:_,zoomActivationKeyCode:N,deleteKeyCode:M,onlyRenderVisibleElements:R,elementsSelectable:D,defaultViewport:T,translateExtent:j,minZoom:z,maxZoom:b,preventScrolling:$,defaultMarkerColor:I,zoomOnScroll:A,zoomOnPinch:C,panOnScroll:P,panOnScrollSpeed:L,panOnScrollMode:O,zoomOnDoubleClick:F,panOnDrag:W,onPaneClick:V,onPaneMouseEnter:X,onPaneMouseMove:G,onPaneMouseLeave:K,onPaneScroll:B,onPaneContextMenu:Q,paneClickDistance:te,nodeClickDistance:J,onEdgeContextMenu:q,onEdgeMouseEnter:Z,onEdgeMouseMove:le,onEdgeMouseLeave:ce,reconnectRadius:ie,onReconnect:Re,onReconnectStart:Zt,onReconnectEnd:jt,noDragClassName:bn,noWheelClassName:Ur,noPanClassName:Yr,disableKeyboardA11y:Xr,nodeExtent:Pl,rfId:xi,viewport:Zn,onViewportChange:Gr}){return xh(e),xh(t),aC(),JN(n),tC(Zn),v.jsx(EN,{onPaneClick:V,onPaneMouseEnter:X,onPaneMouseMove:G,onPaneMouseLeave:K,onPaneContextMenu:Q,onPaneScroll:B,paneClickDistance:te,deleteKeyCode:M,selectionKeyCode:m,selectionOnDrag:h,selectionMode:w,onSelectionStart:d,onSelectionEnd:g,multiSelectionKeyCode:E,panActivationKeyCode:_,zoomActivationKeyCode:N,elementsSelectable:D,zoomOnScroll:A,zoomOnPinch:C,zoomOnDoubleClick:F,panOnScroll:P,panOnScrollSpeed:L,panOnScrollMode:O,panOnDrag:W,defaultViewport:T,translateExtent:j,minZoom:z,maxZoom:b,onSelectionContextMenu:c,preventScrolling:$,noDragClassName:bn,noWheelClassName:Ur,noPanClassName:Yr,disableKeyboardA11y:Xr,onViewportChange:Gr,isControlledViewport:!!Zn,children:v.jsxs(qN,{children:[v.jsx(QN,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:s,onReconnect:Re,onReconnectStart:Zt,onReconnectEnd:jt,onlyRenderVisibleElements:R,onEdgeContextMenu:q,onEdgeMouseEnter:Z,onEdgeMouseMove:le,onEdgeMouseLeave:ce,reconnectRadius:ie,defaultMarkerColor:I,noPanClassName:Yr,disableKeyboardA11y:Xr,rfId:xi}),v.jsx(sC,{style:x,type:y,component:S,containerStyle:p}),v.jsx("div",{className:"react-flow__edgelabel-renderer"}),v.jsx(RN,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:f,nodeClickDistance:J,onlyRenderVisibleElements:R,noPanClassName:Yr,noDragClassName:bn,disableKeyboardA11y:Xr,nodeExtent:Pl,rfId:xi}),v.jsx("div",{className:"react-flow__viewport-portal"})]})})}J0.displayName="GraphView";const uC=k.memo(J0),wh=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a=.5,maxZoom:u=2,nodeOrigin:f,nodeExtent:c,zIndexMode:d="basic"}={})=>{const g=new Map,y=new Map,x=new Map,S=new Map,p=r??t??[],m=n??e??[],h=f??[0,0],w=c??Jo;u0(x,S,p);const E=Eu(m,g,y,{nodeOrigin:h,nodeExtent:w,zIndexMode:d});let _=[0,0,1];if(s&&o&&i){const N=mi(g,{filter:T=>!!((T.width||T.initialWidth)&&(T.height||T.initialHeight))}),{x:M,y:R,zoom:D}=Oc(N,o,i,a,u,(l==null?void 0:l.padding)??.1);_=[M,R,D]}return{rfId:"1",width:o??0,height:i??0,transform:_,nodes:m,nodesInitialized:E,nodeLookup:g,parentLookup:y,edges:p,edgeLookup:S,connectionLookup:x,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:a,maxZoom:u,translateExtent:Jo,nodeExtent:w,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Rr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:h,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:l,fitViewResolver:null,connection:{...Ug},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:d2,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Wg,zIndexMode:d,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},cC=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:f,nodeExtent:c,zIndexMode:d})=>Pb((g,y)=>{async function x(){const{nodeLookup:S,panZoom:p,fitViewOptions:m,fitViewResolver:h,width:w,height:E,minZoom:_,maxZoom:N}=y();p&&(await u2({nodes:S,width:w,height:E,panZoom:p,minZoom:_,maxZoom:N},m),h==null||h.resolve(!0),g({fitViewResolver:null}))}return{...wh({nodes:e,edges:t,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:f,nodeExtent:c,defaultNodes:n,defaultEdges:r,zIndexMode:d}),setNodes:S=>{const{nodeLookup:p,parentLookup:m,nodeOrigin:h,elevateNodesOnSelect:w,fitViewQueued:E,zIndexMode:_}=y(),N=Eu(S,p,m,{nodeOrigin:h,nodeExtent:c,elevateNodesOnSelect:w,checkEquality:!0,zIndexMode:_});E&&N?(x(),g({nodes:S,nodesInitialized:N,fitViewQueued:!1,fitViewOptions:void 0})):g({nodes:S,nodesInitialized:N})},setEdges:S=>{const{connectionLookup:p,edgeLookup:m}=y();u0(p,m,S),g({edges:S})},setDefaultNodesAndEdges:(S,p)=>{if(S){const{setNodes:m}=y();m(S),g({hasDefaultNodes:!0})}if(p){const{setEdges:m}=y();m(p),g({hasDefaultEdges:!0})}},updateNodeInternals:S=>{const{triggerNodeChanges:p,nodeLookup:m,parentLookup:h,domNode:w,nodeOrigin:E,nodeExtent:_,debug:N,fitViewQueued:M,zIndexMode:R}=y(),{changes:D,updatedInternals:T}=R2(S,m,h,w,E,_,R);T&&(P2(m,h,{nodeOrigin:E,nodeExtent:_,zIndexMode:R}),M?(x(),g({fitViewQueued:!1,fitViewOptions:void 0})):g({}),(D==null?void 0:D.length)>0&&(N&&console.log("React Flow: trigger node changes",D),p==null||p(D)))},updateNodePositions:(S,p=!1)=>{const m=[];let h=[];const{nodeLookup:w,triggerNodeChanges:E,connection:_,updateConnection:N,onNodesChangeMiddlewareMap:M}=y();for(const[R,D]of S){const T=w.get(R),j=!!(T!=null&&T.expandParent&&(T!=null&&T.parentId)&&(D!=null&&D.position)),z={id:R,type:"position",position:j?{x:Math.max(0,D.position.x),y:Math.max(0,D.position.y)}:D.position,dragging:p};if(T&&_.inProgress&&_.fromNode.id===T.id){const b=Yn(T,_.fromHandle,Y.Left,!0);N({..._,from:b})}j&&T.parentId&&m.push({id:R,parentId:T.parentId,rect:{...D.internals.positionAbsolute,width:D.measured.width??0,height:D.measured.height??0}}),h.push(z)}if(m.length>0){const{parentLookup:R,nodeOrigin:D}=y(),T=Yc(m,w,R,D);h.push(...T)}for(const R of M.values())h=R(h);E(h)},triggerNodeChanges:S=>{const{onNodesChange:p,setNodes:m,nodes:h,hasDefaultNodes:w,debug:E}=y();if(S!=null&&S.length){if(w){const _=P0(S,h);m(_)}E&&console.log("React Flow: trigger node changes",S),p==null||p(S)}},triggerEdgeChanges:S=>{const{onEdgesChange:p,setEdges:m,edges:h,hasDefaultEdges:w,debug:E}=y();if(S!=null&&S.length){if(w){const _=M0(S,h);m(_)}E&&console.log("React Flow: trigger edge changes",S),p==null||p(S)}},addSelectedNodes:S=>{const{multiSelectionActive:p,edgeLookup:m,nodeLookup:h,triggerNodeChanges:w,triggerEdgeChanges:E}=y();if(p){const _=S.map(N=>Pn(N,!0));w(_);return}w(hr(h,new Set([...S]),!0)),E(hr(m))},addSelectedEdges:S=>{const{multiSelectionActive:p,edgeLookup:m,nodeLookup:h,triggerNodeChanges:w,triggerEdgeChanges:E}=y();if(p){const _=S.map(N=>Pn(N,!0));E(_);return}E(hr(m,new Set([...S]))),w(hr(h,new Set,!0))},unselectNodesAndEdges:({nodes:S,edges:p}={})=>{const{edges:m,nodes:h,nodeLookup:w,triggerNodeChanges:E,triggerEdgeChanges:_}=y(),N=S||h,M=p||m,R=N.map(T=>{const j=w.get(T.id);return j&&(j.selected=!1),Pn(T.id,!1)}),D=M.map(T=>Pn(T.id,!1));E(R),_(D)},setMinZoom:S=>{const{panZoom:p,maxZoom:m}=y();p==null||p.setScaleExtent([S,m]),g({minZoom:S})},setMaxZoom:S=>{const{panZoom:p,minZoom:m}=y();p==null||p.setScaleExtent([m,S]),g({maxZoom:S})},setTranslateExtent:S=>{var p;(p=y().panZoom)==null||p.setTranslateExtent(S),g({translateExtent:S})},resetSelectedElements:()=>{const{edges:S,nodes:p,triggerNodeChanges:m,triggerEdgeChanges:h,elementsSelectable:w}=y();if(!w)return;const E=p.reduce((N,M)=>M.selected?[...N,Pn(M.id,!1)]:N,[]),_=S.reduce((N,M)=>M.selected?[...N,Pn(M.id,!1)]:N,[]);m(E),h(_)},setNodeExtent:S=>{const{nodes:p,nodeLookup:m,parentLookup:h,nodeOrigin:w,elevateNodesOnSelect:E,nodeExtent:_,zIndexMode:N}=y();S[0][0]===_[0][0]&&S[0][1]===_[0][1]&&S[1][0]===_[1][0]&&S[1][1]===_[1][1]||(Eu(p,m,h,{nodeOrigin:w,nodeExtent:S,elevateNodesOnSelect:E,checkEquality:!1,zIndexMode:N}),g({nodeExtent:S}))},panBy:S=>{const{transform:p,width:m,height:h,panZoom:w,translateExtent:E}=y();return T2({delta:S,panZoom:w,transform:p,translateExtent:E,width:m,height:h})},setCenter:async(S,p,m)=>{const{width:h,height:w,maxZoom:E,panZoom:_}=y();if(!_)return Promise.resolve(!1);const N=typeof(m==null?void 0:m.zoom)<"u"?m.zoom:E;return await _.setViewport({x:h/2-S*N,y:w/2-p*N,zoom:N},{duration:m==null?void 0:m.duration,ease:m==null?void 0:m.ease,interpolate:m==null?void 0:m.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{g({connection:{...Ug}})},updateConnection:S=>{g({connection:S})},reset:()=>g({...wh()})}},Object.is);function ey({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:s,initialMaxZoom:l,initialFitViewOptions:a,fitView:u,nodeOrigin:f,nodeExtent:c,zIndexMode:d,children:g}){const[y]=k.useState(()=>cC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:u,minZoom:s,maxZoom:l,fitViewOptions:a,nodeOrigin:f,nodeExtent:c,zIndexMode:d}));return v.jsx(Mb,{value:y,children:v.jsx(qb,{children:g})})}function dC({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:s,fitView:l,fitViewOptions:a,minZoom:u,maxZoom:f,nodeOrigin:c,nodeExtent:d,zIndexMode:g}){return k.useContext(El)?v.jsx(v.Fragment,{children:e}):v.jsx(ey,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:s,fitView:l,initialFitViewOptions:a,initialMinZoom:u,initialMaxZoom:f,nodeOrigin:c,nodeExtent:d,zIndexMode:g,children:e})}const fC={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function hC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:s,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:f,onMoveStart:c,onMoveEnd:d,onConnect:g,onConnectStart:y,onConnectEnd:x,onClickConnectStart:S,onClickConnectEnd:p,onNodeMouseEnter:m,onNodeMouseMove:h,onNodeMouseLeave:w,onNodeContextMenu:E,onNodeDoubleClick:_,onNodeDragStart:N,onNodeDrag:M,onNodeDragStop:R,onNodesDelete:D,onEdgesDelete:T,onDelete:j,onSelectionChange:z,onSelectionDragStart:b,onSelectionDrag:$,onSelectionDragStop:I,onSelectionContextMenu:A,onSelectionStart:C,onSelectionEnd:P,onBeforeDelete:L,connectionMode:O,connectionLineType:F=an.Bezier,connectionLineStyle:W,connectionLineComponent:V,connectionLineContainerStyle:X,deleteKeyCode:G="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:B=!1,selectionMode:Q=ei.Full,panActivationKeyCode:te="Space",multiSelectionKeyCode:J=ni()?"Meta":"Control",zoomActivationKeyCode:q=ni()?"Meta":"Control",snapToGrid:Z,snapGrid:le,onlyRenderVisibleElements:ce=!1,selectNodesOnDrag:ie,nodesDraggable:Re,autoPanOnNodeFocus:Zt,nodesConnectable:jt,nodesFocusable:bn,nodeOrigin:Ur=N0,edgesFocusable:Yr,edgesReconnectable:Xr,elementsSelectable:Pl=!0,defaultViewport:xi=Bb,minZoom:Zn=.5,maxZoom:Gr=2,translateExtent:Kc=Jo,preventScrolling:dy=!0,nodeExtent:Ml,defaultMarkerColor:fy="#b1b1b7",zoomOnScroll:hy=!0,zoomOnPinch:py=!0,panOnScroll:my=!1,panOnScrollSpeed:gy=.5,panOnScrollMode:yy=$n.Free,zoomOnDoubleClick:vy=!0,panOnDrag:xy=!0,onPaneClick:wy,onPaneMouseEnter:Sy,onPaneMouseMove:ky,onPaneMouseLeave:Ey,onPaneScroll:_y,onPaneContextMenu:by,paneClickDistance:Ny=1,nodeClickDistance:Cy=0,children:Py,onReconnect:My,onReconnectStart:Iy,onReconnectEnd:jy,onEdgeContextMenu:Ry,onEdgeDoubleClick:Ty,onEdgeMouseEnter:zy,onEdgeMouseMove:Ly,onEdgeMouseLeave:$y,reconnectRadius:Ay=10,onNodesChange:Dy,onEdgesChange:Oy,noDragClassName:Fy="nodrag",noWheelClassName:Hy="nowheel",noPanClassName:Qc="nopan",fitView:Zc,fitViewOptions:qc,connectOnClick:By,attributionPosition:Vy,proOptions:Wy,defaultEdgeOptions:Uy,elevateNodesOnSelect:Yy=!0,elevateEdgesOnSelect:Xy=!1,disableKeyboardA11y:Jc=!1,autoPanOnConnect:Gy,autoPanOnNodeDrag:Ky,autoPanSpeed:Qy,connectionRadius:Zy,isValidConnection:qy,onError:Jy,style:ev,id:ed,nodeDragThreshold:tv,connectionDragThreshold:nv,viewport:rv,onViewportChange:ov,width:iv,height:sv,colorMode:lv="light",debug:av,onScroll:wi,ariaLabelConfig:uv,zIndexMode:td="basic",...cv},dv){const Il=ed||"1",fv=Yb(lv),hv=k.useCallback(nd=>{nd.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),wi==null||wi(nd)},[wi]);return v.jsx("div",{"data-testid":"rf__wrapper",...cv,onScroll:hv,style:{...ev,...fC},ref:dv,className:_e(["react-flow",o,fv]),id:ed,role:"application",children:v.jsxs(dC,{nodes:e,edges:t,width:iv,height:sv,fitView:Zc,fitViewOptions:qc,minZoom:Zn,maxZoom:Gr,nodeOrigin:Ur,nodeExtent:Ml,zIndexMode:td,children:[v.jsx(uC,{onInit:u,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:m,onNodeMouseMove:h,onNodeMouseLeave:w,onNodeContextMenu:E,onNodeDoubleClick:_,nodeTypes:i,edgeTypes:s,connectionLineType:F,connectionLineStyle:W,connectionLineComponent:V,connectionLineContainerStyle:X,selectionKeyCode:K,selectionOnDrag:B,selectionMode:Q,deleteKeyCode:G,multiSelectionKeyCode:J,panActivationKeyCode:te,zoomActivationKeyCode:q,onlyRenderVisibleElements:ce,defaultViewport:xi,translateExtent:Kc,minZoom:Zn,maxZoom:Gr,preventScrolling:dy,zoomOnScroll:hy,zoomOnPinch:py,zoomOnDoubleClick:vy,panOnScroll:my,panOnScrollSpeed:gy,panOnScrollMode:yy,panOnDrag:xy,onPaneClick:wy,onPaneMouseEnter:Sy,onPaneMouseMove:ky,onPaneMouseLeave:Ey,onPaneScroll:_y,onPaneContextMenu:by,paneClickDistance:Ny,nodeClickDistance:Cy,onSelectionContextMenu:A,onSelectionStart:C,onSelectionEnd:P,onReconnect:My,onReconnectStart:Iy,onReconnectEnd:jy,onEdgeContextMenu:Ry,onEdgeDoubleClick:Ty,onEdgeMouseEnter:zy,onEdgeMouseMove:Ly,onEdgeMouseLeave:$y,reconnectRadius:Ay,defaultMarkerColor:fy,noDragClassName:Fy,noWheelClassName:Hy,noPanClassName:Qc,rfId:Il,disableKeyboardA11y:Jc,nodeExtent:Ml,viewport:rv,onViewportChange:ov}),v.jsx(Ub,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:y,onConnectEnd:x,onClickConnectStart:S,onClickConnectEnd:p,nodesDraggable:Re,autoPanOnNodeFocus:Zt,nodesConnectable:jt,nodesFocusable:bn,edgesFocusable:Yr,edgesReconnectable:Xr,elementsSelectable:Pl,elevateNodesOnSelect:Yy,elevateEdgesOnSelect:Xy,minZoom:Zn,maxZoom:Gr,nodeExtent:Ml,onNodesChange:Dy,onEdgesChange:Oy,snapToGrid:Z,snapGrid:le,connectionMode:O,translateExtent:Kc,connectOnClick:By,defaultEdgeOptions:Uy,fitView:Zc,fitViewOptions:qc,onNodesDelete:D,onEdgesDelete:T,onDelete:j,onNodeDragStart:N,onNodeDrag:M,onNodeDragStop:R,onSelectionDrag:$,onSelectionDragStart:b,onSelectionDragStop:I,onMove:f,onMoveStart:c,onMoveEnd:d,noPanClassName:Qc,nodeOrigin:Ur,rfId:Il,autoPanOnConnect:Gy,autoPanOnNodeDrag:Ky,autoPanSpeed:Qy,onError:Jy,connectionRadius:Zy,isValidConnection:qy,selectNodesOnDrag:ie,nodeDragThreshold:tv,connectionDragThreshold:nv,onBeforeDelete:L,debug:av,ariaLabelConfig:uv,zIndexMode:td}),v.jsx(Hb,{onSelectionChange:z}),Py,v.jsx($b,{proOptions:Wy,position:Vy}),v.jsx(Lb,{rfId:Il,disableKeyboardA11y:Jc})]})})}var pC=I0(hC);const mC=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function gC({children:e}){const t=re(mC);return t?Hm.createPortal(e,t):null}function yC({dimensions:e,lineWidth:t,variant:n,className:r}){return v.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:_e(["react-flow__background-pattern",n,r])})}function vC({radius:e,className:t}){return v.jsx("circle",{cx:e,cy:e,r:e,className:_e(["react-flow__background-pattern","dots",t])})}var Bt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Bt||(Bt={}));const xC={[Bt.Dots]:1,[Bt.Lines]:1,[Bt.Cross]:6},wC=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function ty({id:e,variant:t=Bt.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:s,bgColor:l,style:a,className:u,patternClassName:f}){const c=k.useRef(null),{transform:d,patternId:g}=re(wC,ge),y=r||xC[t],x=t===Bt.Dots,S=t===Bt.Cross,p=Array.isArray(n)?n:[n,n],m=[p[0]*d[2]||1,p[1]*d[2]||1],h=y*d[2],w=Array.isArray(i)?i:[i,i],E=S?[h,h]:m,_=[w[0]*d[2]||1+E[0]/2,w[1]*d[2]||1+E[1]/2],N=`${g}${e||""}`;return v.jsxs("svg",{className:_e(["react-flow__background",u]),style:{...a,...Nl,"--xy-background-color-props":l,"--xy-background-pattern-color-props":s},ref:c,"data-testid":"rf__background",children:[v.jsx("pattern",{id:N,x:d[0]%m[0],y:d[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`,children:x?v.jsx(vC,{radius:h/2,className:f}):v.jsx(yC,{dimensions:E,lineWidth:o,variant:t,className:f})}),v.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${N})`})]})}ty.displayName="Background";const SC=k.memo(ty);function kC(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:v.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function EC(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:v.jsx("path",{d:"M0 0h32v4.2H0z"})})}function _C(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:v.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function bC(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:v.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function NC(){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:v.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Xi({children:e,className:t,...n}){return v.jsx("button",{type:"button",className:_e(["react-flow__controls-button",t]),...n,children:e})}const CC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function ny({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:a,className:u,children:f,position:c="bottom-left",orientation:d="vertical","aria-label":g}){const y=ye(),{isInteractive:x,minZoomReached:S,maxZoomReached:p,ariaLabelConfig:m}=re(CC,ge),{zoomIn:h,zoomOut:w,fitView:E}=bl(),_=()=>{h(),i==null||i()},N=()=>{w(),s==null||s()},M=()=>{E(o),l==null||l()},R=()=>{y.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),a==null||a(!x)},D=d==="horizontal"?"horizontal":"vertical";return v.jsxs(_l,{className:_e(["react-flow__controls",D,u]),position:c,style:e,"data-testid":"rf__controls","aria-label":g??m["controls.ariaLabel"],children:[t&&v.jsxs(v.Fragment,{children:[v.jsx(Xi,{onClick:_,className:"react-flow__controls-zoomin",title:m["controls.zoomIn.ariaLabel"],"aria-label":m["controls.zoomIn.ariaLabel"],disabled:p,children:v.jsx(kC,{})}),v.jsx(Xi,{onClick:N,className:"react-flow__controls-zoomout",title:m["controls.zoomOut.ariaLabel"],"aria-label":m["controls.zoomOut.ariaLabel"],disabled:S,children:v.jsx(EC,{})})]}),n&&v.jsx(Xi,{className:"react-flow__controls-fitview",onClick:M,title:m["controls.fitView.ariaLabel"],"aria-label":m["controls.fitView.ariaLabel"],children:v.jsx(_C,{})}),r&&v.jsx(Xi,{className:"react-flow__controls-interactive",onClick:R,title:m["controls.interactive.ariaLabel"],"aria-label":m["controls.interactive.ariaLabel"],children:x?v.jsx(NC,{}):v.jsx(bC,{})}),f]})}ny.displayName="Controls";const PC=k.memo(ny);function MC({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:l,strokeWidth:a,className:u,borderRadius:f,shapeRendering:c,selected:d,onClick:g}){const{background:y,backgroundColor:x}=i||{},S=s||y||x;return v.jsx("rect",{className:_e(["react-flow__minimap-node",{selected:d},u]),x:t,y:n,rx:f,ry:f,width:r,height:o,style:{fill:S,stroke:l,strokeWidth:a},shapeRendering:c,onClick:g?p=>g(p,e):void 0})}const IC=k.memo(MC),jC=e=>e.nodes.map(t=>t.id),ma=e=>e instanceof Function?e:()=>e;function RC({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=IC,onClick:s}){const l=re(jC,ge),a=ma(t),u=ma(e),f=ma(n),c=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return v.jsx(v.Fragment,{children:l.map(d=>v.jsx(zC,{id:d,nodeColorFunc:a,nodeStrokeColorFunc:u,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:s,shapeRendering:c},d))})}function TC({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:l,onClick:a}){const{node:u,x:f,y:c,width:d,height:g}=re(y=>{const{internals:x}=y.nodeLookup.get(e),S=x.userNode,{x:p,y:m}=x.positionAbsolute,{width:h,height:w}=Qt(S);return{node:S,x:p,y:m,width:h,height:w}},ge);return!u||u.hidden||!qg(u)?null:v.jsx(l,{x:f,y:c,width:d,height:g,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:o,strokeColor:n(u),strokeWidth:i,shapeRendering:s,onClick:a,id:u.id})}const zC=k.memo(TC);var LC=k.memo(RC);const $C=200,AC=150,DC=e=>!e.hidden,OC=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Zg(mi(e.nodeLookup,{filter:DC}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},FC="react-flow__minimap-desc";function ry({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:l,bgColor:a,maskColor:u,maskStrokeColor:f,maskStrokeWidth:c,position:d="bottom-right",onClick:g,onNodeClick:y,pannable:x=!1,zoomable:S=!1,ariaLabel:p,inversePan:m,zoomStep:h=1,offsetScale:w=5}){const E=ye(),_=k.useRef(null),{boundingRect:N,viewBB:M,rfId:R,panZoom:D,translateExtent:T,flowWidth:j,flowHeight:z,ariaLabelConfig:b}=re(OC,ge),$=(e==null?void 0:e.width)??$C,I=(e==null?void 0:e.height)??AC,A=N.width/$,C=N.height/I,P=Math.max(A,C),L=P*$,O=P*I,F=w*P,W=N.x-(L-N.width)/2-F,V=N.y-(O-N.height)/2-F,X=L+F*2,G=O+F*2,K=`${FC}-${R}`,B=k.useRef(0),Q=k.useRef();B.current=P,k.useEffect(()=>{if(_.current&&D)return Q.current=B2({domNode:_.current,panZoom:D,getTransform:()=>E.getState().transform,getViewScale:()=>B.current}),()=>{var Z;(Z=Q.current)==null||Z.destroy()}},[D]),k.useEffect(()=>{var Z;(Z=Q.current)==null||Z.update({translateExtent:T,width:j,height:z,inversePan:m,pannable:x,zoomStep:h,zoomable:S})},[x,S,m,h,T,j,z]);const te=g?Z=>{var ie;const[le,ce]=((ie=Q.current)==null?void 0:ie.pointer(Z))||[0,0];g(Z,{x:le,y:ce})}:void 0,J=y?k.useCallback((Z,le)=>{const ce=E.getState().nodeLookup.get(le).internals.userNode;y(Z,ce)},[]):void 0,q=p??b["minimap.ariaLabel"];return v.jsx(_l,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof c=="number"?c*P:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:_e(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:v.jsxs("svg",{width:$,height:I,viewBox:`${W} ${V} ${X} ${G}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":K,ref:_,onClick:te,children:[q&&v.jsx("title",{id:K,children:q}),v.jsx(LC,{onClick:J,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:l}),v.jsx("path",{className:"react-flow__minimap-mask",d:`M${W-F},${V-F}h${X+F*2}v${G+F*2}h${-X-F*2}z
        M${M.x},${M.y}h${M.width}v${M.height}h${-M.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}ry.displayName="MiniMap";const HC=k.memo(ry),BC=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,VC={[$r.Line]:"right",[$r.Handle]:"bottom-right"};function WC({nodeId:e,position:t,variant:n=$r.Handle,className:r,style:o=void 0,children:i,color:s,minWidth:l=10,minHeight:a=10,maxWidth:u=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:c=!1,resizeDirection:d,autoScale:g=!0,shouldResize:y,onResizeStart:x,onResize:S,onResizeEnd:p}){const m=z0(),h=typeof e=="string"?e:m,w=ye(),E=k.useRef(null),_=n===$r.Handle,N=re(k.useCallback(BC(_&&g),[_,g]),ge),M=k.useRef(null),R=t??VC[n];k.useEffect(()=>{if(!(!E.current||!h))return M.current||(M.current=nb({domNode:E.current,nodeId:h,getStoreItems:()=>{const{nodeLookup:T,transform:j,snapGrid:z,snapToGrid:b,nodeOrigin:$,domNode:I}=w.getState();return{nodeLookup:T,transform:j,snapGrid:z,snapToGrid:b,nodeOrigin:$,paneDomNode:I}},onChange:(T,j)=>{const{triggerNodeChanges:z,nodeLookup:b,parentLookup:$,nodeOrigin:I}=w.getState(),A=[],C={x:T.x,y:T.y},P=b.get(h);if(P&&P.expandParent&&P.parentId){const L=P.origin??I,O=T.width??P.measured.width??0,F=T.height??P.measured.height??0,W={id:P.id,parentId:P.parentId,rect:{width:O,height:F,...Jg({x:T.x??P.position.x,y:T.y??P.position.y},{width:O,height:F},P.parentId,b,L)}},V=Yc([W],b,$,I);A.push(...V),C.x=T.x?Math.max(L[0]*O,T.x):void 0,C.y=T.y?Math.max(L[1]*F,T.y):void 0}if(C.x!==void 0&&C.y!==void 0){const L={id:h,type:"position",position:{...C}};A.push(L)}if(T.width!==void 0&&T.height!==void 0){const O={id:h,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:T.width,height:T.height}};A.push(O)}for(const L of j){const O={...L,type:"position"};A.push(O)}z(A)},onEnd:({width:T,height:j})=>{const z={id:h,type:"dimensions",resizing:!1,dimensions:{width:T,height:j}};w.getState().triggerNodeChanges([z])}})),M.current.update({controlPosition:R,boundaries:{minWidth:l,minHeight:a,maxWidth:u,maxHeight:f},keepAspectRatio:c,resizeDirection:d,onResizeStart:x,onResize:S,onResizeEnd:p,shouldResize:y}),()=>{var T;(T=M.current)==null||T.destroy()}},[R,l,a,u,f,c,x,S,p,y]);const D=R.split("-");return v.jsx("div",{className:_e(["react-flow__resize-control","nodrag",...D,n,r]),ref:E,style:{...o,scale:N,...s&&{[_?"backgroundColor":"borderColor"]:s}},children:i})}k.memo(WC);const Sh=e=>{let t;const n=new Set,r=(u,f)=>{const c=typeof u=="function"?u(t):u;if(!Object.is(c,t)){const d=t;t=f??(typeof c!="object"||c===null)?c:Object.assign({},t,c),n.forEach(g=>g(t,d))}},o=()=>t,l={setState:r,getState:o,getInitialState:()=>a,subscribe:u=>(n.add(u),()=>n.delete(u))},a=t=e(r,o,l);return l},UC=e=>e?Sh(e):Sh,YC=e=>e;function XC(e,t=YC){const n=uo.useSyncExternalStore(e.subscribe,uo.useCallback(()=>t(e.getState()),[e,t]),uo.useCallback(()=>t(e.getInitialState()),[e,t]));return uo.useDebugValue(n),n}const kh=e=>{const t=UC(e),n=r=>XC(t,r);return Object.assign(n,t),n},GC=e=>e?kh(e):kh;function oy(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=oy(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function KC(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=oy(e))&&(r&&(r+=" "),r+=t);return r}const Gc="-",QC=e=>{const t=qC(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const l=s.split(Gc);return l[0]===""&&l.length!==1&&l.shift(),iy(l,t)||ZC(s)},getConflictingClassGroupIds:(s,l)=>{const a=n[s]||[];return l&&r[s]?[...a,...r[s]]:a}}},iy=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?iy(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(Gc);return(s=t.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId},Eh=/^\[(.+)\]$/,ZC=e=>{if(Eh.test(e)){const t=Eh.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},qC=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return e3(Object.entries(e.classGroups),n).forEach(([i,s])=>{Nu(s,r,i,t)}),r},Nu=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:_h(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(JC(o)){Nu(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,s])=>{Nu(s,_h(t,i),n,r)})})},_h=(e,t)=>{let n=e;return t.split(Gc).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},JC=e=>e.isThemeGetter,e3=(e,t)=>t?e.map(([n,r])=>{const o=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,l])=>[t+s,l])):i);return[n,o]}):e,t3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let s=n.get(i);if(s!==void 0)return s;if((s=r.get(i))!==void 0)return o(i,s),s},set(i,s){n.has(i)?n.set(i,s):o(i,s)}}},sy="!",n3=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],i=t.length,s=l=>{const a=[];let u=0,f=0,c;for(let S=0;S<l.length;S++){let p=l[S];if(u===0){if(p===o&&(r||l.slice(S,S+i)===t)){a.push(l.slice(f,S)),f=S+i;continue}if(p==="/"){c=S;continue}}p==="["?u++:p==="]"&&u--}const d=a.length===0?l:l.substring(f),g=d.startsWith(sy),y=g?d.substring(1):d,x=c&&c>f?c-f:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:s}):s},r3=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},o3=e=>({cache:t3(e.cacheSize),parseClassName:n3(e),...QC(e)}),i3=/\s+/,s3=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=[],s=e.trim().split(i3);let l="";for(let a=s.length-1;a>=0;a-=1){const u=s[a],{modifiers:f,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:g}=n(u);let y=!!g,x=r(y?d.substring(0,g):d);if(!x){if(!y){l=u+(l.length>0?" "+l:l);continue}if(x=r(d),!x){l=u+(l.length>0?" "+l:l);continue}y=!1}const S=r3(f).join(":"),p=c?S+sy:S,m=p+x;if(i.includes(m))continue;i.push(m);const h=o(x,y);for(let w=0;w<h.length;++w){const E=h[w];i.push(p+E)}l=u+(l.length>0?" "+l:l)}return l};function l3(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=ly(t))&&(r&&(r+=" "),r+=n);return r}const ly=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=ly(e[r]))&&(n&&(n+=" "),n+=t);return n};function a3(e,...t){let n,r,o,i=s;function s(a){const u=t.reduce((f,c)=>c(f),e());return n=o3(u),r=n.cache.get,o=n.cache.set,i=l,l(a)}function l(a){const u=r(a);if(u)return u;const f=s3(a,n);return o(a,f),f}return function(){return i(l3.apply(null,arguments))}}const de=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},ay=/^\[(?:([a-z-]+):)?(.+)\]$/i,u3=/^\d+\/\d+$/,c3=new Set(["px","full","screen"]),d3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,f3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,h3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,p3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,m3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tt=e=>kr(e)||c3.has(e)||u3.test(e),tn=e=>Wr(e,"length",E3),kr=e=>!!e&&!Number.isNaN(Number(e)),ga=e=>Wr(e,"number",kr),so=e=>!!e&&Number.isInteger(Number(e)),g3=e=>e.endsWith("%")&&kr(e.slice(0,-1)),ee=e=>ay.test(e),nn=e=>d3.test(e),y3=new Set(["length","size","percentage"]),v3=e=>Wr(e,y3,uy),x3=e=>Wr(e,"position",uy),w3=new Set(["image","url"]),S3=e=>Wr(e,w3,b3),k3=e=>Wr(e,"",_3),lo=()=>!0,Wr=(e,t,n)=>{const r=ay.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},E3=e=>f3.test(e)&&!h3.test(e),uy=()=>!1,_3=e=>p3.test(e),b3=e=>m3.test(e),N3=()=>{const e=de("colors"),t=de("spacing"),n=de("blur"),r=de("brightness"),o=de("borderColor"),i=de("borderRadius"),s=de("borderSpacing"),l=de("borderWidth"),a=de("contrast"),u=de("grayscale"),f=de("hueRotate"),c=de("invert"),d=de("gap"),g=de("gradientColorStops"),y=de("gradientColorStopPositions"),x=de("inset"),S=de("margin"),p=de("opacity"),m=de("padding"),h=de("saturate"),w=de("scale"),E=de("sepia"),_=de("skew"),N=de("space"),M=de("translate"),R=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",ee,t],j=()=>[ee,t],z=()=>["",Tt,tn],b=()=>["auto",kr,ee],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],A=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",ee],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[kr,ee];return{cacheSize:500,separator:":",theme:{colors:[lo],spacing:[Tt,tn],blur:["none","",nn,ee],brightness:O(),borderColor:[e],borderRadius:["none","","full",nn,ee],borderSpacing:j(),borderWidth:z(),contrast:O(),grayscale:P(),hueRotate:O(),invert:P(),gap:j(),gradientColorStops:[e],gradientColorStopPositions:[g3,tn],inset:T(),margin:T(),opacity:O(),padding:j(),saturate:O(),scale:O(),sepia:P(),skew:O(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",ee]}],container:["container"],columns:[{columns:[nn]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),ee]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",so,ee]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ee]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",so,ee]}],"grid-cols":[{"grid-cols":[lo]}],"col-start-end":[{col:["auto",{span:["full",so,ee]},ee]}],"col-start":[{"col-start":b()}],"col-end":[{"col-end":b()}],"grid-rows":[{"grid-rows":[lo]}],"row-start-end":[{row:["auto",{span:[so,ee]},ee]}],"row-start":[{"row-start":b()}],"row-end":[{"row-end":b()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ee]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ee,t]}],"min-w":[{"min-w":[ee,t,"min","max","fit"]}],"max-w":[{"max-w":[ee,t,"none","full","min","max","fit","prose",{screen:[nn]},nn]}],h:[{h:[ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",nn,tn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ga]}],"font-family":[{font:[lo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ee]}],"line-clamp":[{"line-clamp":["none",kr,ga]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Tt,ee]}],"list-image":[{"list-image":["none",ee]}],"list-style-type":[{list:["none","disc","decimal",ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Tt,tn]}],"underline-offset":[{"underline-offset":["auto",Tt,ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),x3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",v3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},S3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:I()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Tt,ee]}],"outline-w":[{outline:[Tt,tn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Tt,tn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",nn,k3]}],"shadow-color":[{shadow:[lo]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...A(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":A()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",nn,ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[c]}],saturate:[{saturate:[h]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[h]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ee]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",ee]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[so,ee]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Tt,tn,ga]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},C3=a3(N3);function Io(...e){return C3(KC(e))}let bh=0;function P3(e){return bh++,`${e}_${Date.now()}_${bh}`}function M3(e,t,n){const r=n?`_${n}`:"";return`e_${e}${r}_${t}`}const Nh=Ds(),se=GC((e,t)=>({nodes:[],edges:[],selectedNodeId:null,isDirty:!1,flowMetadata:{...Nh.metadata},flowSettings:{...Nh.settings},history:[],historyIndex:-1,onNodesChange:n=>{e(r=>({nodes:P0(n,r.nodes),isDirty:!0}))},onEdgesChange:n=>{e(r=>({edges:M0(n,r.edges),isDirty:!0}))},onConnect:n=>{const r=M3(n.source??"",n.target??"",n.sourceHandle??void 0);e(o=>(t().pushHistory(),{edges:i0({...n,id:r},o.edges),isDirty:!0}))},addNode:(n,r)=>{const o=fg(n);if(!o)return;const i=t();if(o.maxInstances&&i.nodes.filter(u=>u.type===n).length>=o.maxInstances)return;t().pushHistory();const s=P3(n),l={id:s,type:n,position:r,data:{...o.defaultData}};e({nodes:[...i.nodes,l],selectedNodeId:s,isDirty:!0})},deleteNode:n=>{t().pushHistory(),e(r=>({nodes:r.nodes.filter(o=>o.id!==n),edges:r.edges.filter(o=>o.source!==n&&o.target!==n),selectedNodeId:r.selectedNodeId===n?null:r.selectedNodeId,isDirty:!0}))},updateNodeData:(n,r)=>{e(o=>({nodes:o.nodes.map(i=>i.id===n?{...i,data:{...i.data,...r}}:i),isDirty:!0}))},selectNode:n=>{e({selectedNodeId:n})},loadFlow:n=>{const r=Ds(),o=(n.nodes??[]).map(s=>({id:s.id,type:s.type,position:s.position,data:s.data})),i=(n.edges??[]).map(s=>({id:s.id,source:s.source,target:s.target,sourceHandle:s.sourceHandle,targetHandle:s.targetHandle}));e({nodes:o,edges:i,selectedNodeId:null,isDirty:!1,flowMetadata:{...r.metadata,...n.metadata},flowSettings:{...r.settings,...n.settings},history:[],historyIndex:-1})},toFlowConfig:()=>{const n=t();return{version:2,metadata:n.flowMetadata,nodes:n.nodes.map(r=>({id:r.id,type:r.type,position:r.position,data:r.data})),edges:n.edges.map(r=>({id:r.id,source:r.source,target:r.target,sourceHandle:r.sourceHandle??void 0,targetHandle:r.targetHandle??void 0})),settings:n.flowSettings}},newFlow:()=>{const n=Ds();t().loadFlow(n),e({isDirty:!1})},setMetadata:n=>{e(r=>({flowMetadata:{...r.flowMetadata,...n},isDirty:!0}))},setSettings:n=>{e(r=>({flowSettings:{...r.flowSettings,...n},isDirty:!0}))},markClean:()=>e({isDirty:!1}),pushHistory:()=>{const n=t(),r={nodes:JSON.parse(JSON.stringify(n.nodes)),edges:JSON.parse(JSON.stringify(n.edges))},o=n.history.slice(0,n.historyIndex+1);o.push(r),o.length>50&&o.shift(),e({history:o,historyIndex:o.length-1})},undo:()=>{const n=t();if(n.historyIndex<0)return;const r=n.history[n.historyIndex];e({nodes:r.nodes,edges:r.edges,historyIndex:n.historyIndex-1,isDirty:!0})},redo:()=>{const n=t();if(n.historyIndex>=n.history.length-1)return;const r=n.historyIndex+1;if(r+1<n.history.length){const o=n.history[r+1];e({nodes:o.nodes,edges:o.edges,historyIndex:r,isDirty:!0})}}}));function I3({nodeProps:e,color:t,icon:n,children:r,outputs:o,hasInput:i=!0,hasDefaultOutput:s=!0}){const{id:l,data:a,selected:u}=e,f=se(d=>d.selectNode),c=a.label??"";return v.jsxs("div",{className:Io("min-w-[180px] max-w-[260px] rounded-lg border-2 shadow-lg transition-shadow",u?"shadow-xl ring-2 ring-blue-400/50":"shadow-md"),style:{borderColor:u?"#60a5fa":t,background:"#1e1e3a"},onClick:()=>f(l),children:[v.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-t-md",style:{background:`${t}20`},children:[v.jsx("span",{className:"flex-shrink-0 w-5 h-5",style:{color:t},children:n}),v.jsx("span",{className:"text-sm font-medium truncate text-slate-200",children:c})]}),r&&v.jsx("div",{className:"px-3 py-2 text-xs text-slate-400",children:r}),i&&v.jsx(An,{type:"target",position:Y.Top,className:"!w-3 !h-3 !border-2 !bg-blue-500 !border-blue-300 hover:!bg-blue-300 hover:!border-blue-100 transition-colors"}),s&&!o&&v.jsx(An,{type:"source",position:Y.Bottom,className:"!w-3 !h-3 !border-2 !bg-emerald-500 !border-emerald-300 hover:!bg-emerald-300 hover:!border-emerald-100 transition-colors"}),o&&o.length>0&&v.jsx("div",{className:"relative pb-3",children:o.map((d,g)=>{const y=o.length,x=y===1?50:g/(y-1)*80+10;return v.jsxs("div",{children:[v.jsx(An,{type:"source",position:Y.Bottom,id:d.id,className:"!w-3 !h-3 !border-2 !bg-emerald-500 !border-emerald-300 hover:!bg-emerald-300 hover:!border-emerald-100 transition-colors",style:{left:`${x}%`}}),d.label&&v.jsx("span",{className:"absolute text-[9px] text-slate-500 whitespace-nowrap",style:{left:`${x}%`,bottom:"2px",transform:"translateX(-50%)"},children:d.label})]},d.id)})})]})}const Cl=k.memo(I3),j3=()=>v.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:v.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})});function R3(e){return v.jsx(Cl,{nodeProps:e,color:"#10b981",icon:v.jsx(j3,{}),hasInput:!1,children:v.jsx("span",{className:"text-emerald-400/70",children:"Musteri mesaj gonderince baslar"})})}const T3=k.memo(R3),z3=()=>v.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:v.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})});function L3(e){const t=e.data,n=t.text?t.text.length>60?t.text.substring(0,60)+"...":t.text:"Mesaj metni girilmedi";return v.jsx(Cl,{nodeProps:e,color:"#3b82f6",icon:v.jsx(z3,{}),children:v.jsx("span",{className:t.text?"text-slate-300":"text-slate-500 italic",children:n})})}const $3=k.memo(L3),A3=()=>v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[v.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),v.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),v.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),v.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),v.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),v.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]});function D3(e){const n=e.data.options??[],r=n.map(o=>({id:o.handle_id,label:o.key}));return v.jsx(Cl,{nodeProps:e,color:"#3b82f6",icon:v.jsx(A3,{}),hasDefaultOutput:!1,outputs:r,children:v.jsxs("div",{className:"space-y-1",children:[n.length===0&&v.jsx("span",{className:"text-slate-500 italic",children:"Secenek eklenmedi"}),n.map(o=>v.jsxs("div",{className:"flex items-center gap-1.5",children:[v.jsx("span",{className:"w-4 h-4 rounded bg-blue-500/20 text-blue-400 flex items-center justify-center text-[10px] font-bold flex-shrink-0",children:o.key}),v.jsx("span",{className:"text-slate-300 truncate",children:o.label})]},o.handle_id))]})})}const O3=k.memo(D3),F3=()=>v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[v.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),v.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),v.jsx("polyline",{points:"17 11 19 13 23 9"})]});function H3(e){const t=e.data;return v.jsx(Cl,{nodeProps:e,color:"#ef4444",icon:v.jsx(F3,{}),hasDefaultOutput:!1,children:v.jsxs("div",{className:"space-y-1",children:[v.jsx("span",{className:"text-red-400/70",children:"Terminal - session biter"}),t.summary_template&&v.jsxs("div",{className:"text-slate-400 text-[10px] mt-1 truncate",children:["Ozet: ",t.summary_template]})]})})}const B3=k.memo(H3);function V3(e){const{id:t,data:n,selected:r}=e,o=n,i=se(l=>l.selectNode),s=o.color||"#fef3c7";return v.jsxs("div",{className:"min-w-[160px] max-w-[280px] rounded-lg shadow-md transition-shadow",style:{background:s,border:r?"2px solid #60a5fa":"2px dashed #d4a574",boxShadow:r?"0 0 0 2px rgba(96,165,250,0.3)":void 0},onClick:()=>i(t),children:[v.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 border-b border-amber-300/50",children:[v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#92400e",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 flex-shrink-0",children:[v.jsx("line",{x1:"18",y1:"2",x2:"22",y2:"6"}),v.jsx("path",{d:"M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"})]}),v.jsx("span",{className:"text-xs font-medium text-amber-900 truncate",children:o.label||"Not"})]}),o.text&&v.jsx("div",{className:"px-3 py-2 text-xs text-amber-800 whitespace-pre-wrap break-words",children:o.text.length>120?o.text.substring(0,120)+"...":o.text}),!o.text&&v.jsx("div",{className:"px-3 py-2 text-xs text-amber-600/60 italic",children:"Not metni girilmedi"})]})}const W3=k.memo(V3),U3={trigger_start:T3,message_text:$3,message_menu:O3,action_handoff:B3,utility_note:W3};function Y3({id:e,sourceX:t,sourceY:n,targetX:r,targetY:o,sourcePosition:i,targetPosition:s,style:l={},markerEnd:a,selected:u}){const{setEdges:f}=bl(),[c,d,g]=Hc({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:o,targetPosition:s}),y=x=>{x.stopPropagation(),f(S=>S.filter(p=>p.id!==e))};return v.jsxs(v.Fragment,{children:[v.jsx(vi,{path:c,markerEnd:a,style:{...l,stroke:u?"#3b82f6":"#4a4a6a",strokeWidth:u?3:2}}),v.jsx(gC,{children:v.jsx("div",{className:"nodrag nopan pointer-events-auto group",style:{position:"absolute",transform:`translate(-50%, -50%) translate(${d}px,${g}px)`},children:v.jsx("button",{onClick:y,className:"w-5 h-5 rounded-full bg-slate-800 border border-slate-600 flex items-center justify-center opacity-0 group-hover:opacity-100 hover:bg-red-500 hover:border-red-400 transition-all duration-150 cursor-pointer",title:"Baglantiyi Sil",children:v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"w-2.5 h-2.5 text-slate-400 hover:text-white",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})})]})}const X3={deletable:Y3};function G3(){const e=k.useRef(null),t=k.useRef(null),n=se(S=>S.nodes),r=se(S=>S.edges),o=se(S=>S.onNodesChange),i=se(S=>S.onEdgesChange),s=se(S=>S.onConnect),l=se(S=>S.addNode),a=se(S=>S.selectNode),u=se(S=>S.deleteNode),f=k.useCallback(S=>{t.current=S},[]),c=k.useCallback(S=>{S.preventDefault(),S.dataTransfer.dropEffect="move"},[]),d=k.useCallback(S=>{S.preventDefault();const p=S.dataTransfer.getData("application/invekto-node-type");if(!p||!t.current||!e.current)return;const m=e.current.getBoundingClientRect(),h=t.current.screenToFlowPosition({x:S.clientX-m.left,y:S.clientY-m.top});l(p,h)},[l]),g=k.useCallback(S=>S.source!==S.target,[]),y=k.useCallback(()=>{a(null)},[a]),x=k.useCallback(S=>{if(S.key==="Delete"||S.key==="Backspace"){const p=se.getState().selectedNodeId;if(p){const m=se.getState().nodes.find(h=>h.id===p);if((m==null?void 0:m.type)==="trigger_start")return;u(p)}}},[u]);return v.jsx("div",{ref:e,className:"flex-1 h-full",onKeyDown:x,tabIndex:0,children:v.jsxs(pC,{nodes:n,edges:r,onNodesChange:o,onEdgesChange:i,onConnect:s,onInit:f,onDrop:d,onDragOver:c,onPaneClick:y,isValidConnection:g,nodeTypes:U3,edgeTypes:X3,fitView:!0,fitViewOptions:{padding:.2},deleteKeyCode:["Delete","Backspace"],defaultEdgeOptions:{type:"deletable",animated:!0,style:{stroke:"#4a4a6a",strokeWidth:2},interactionWidth:20},connectionLineStyle:{stroke:"#3b82f6",strokeWidth:2},edgesReconnectable:!0,proOptions:{hideAttribution:!0},children:[v.jsx(SC,{variant:Bt.Dots,gap:20,size:1,color:"#252542"}),v.jsx(PC,{showInteractive:!1,position:"bottom-right"}),v.jsx(HC,{nodeColor:S=>{switch(S.type){case"trigger_start":return"#10b981";case"message_text":return"#3b82f6";case"message_menu":return"#3b82f6";case"action_handoff":return"#ef4444";case"logic_condition":return"#f59e0b";case"ai_intent":return"#8b5cf6";case"ai_faq":return"#8b5cf6";default:return"#6b7280"}},maskColor:"rgba(15, 15, 35, 0.8)",position:"bottom-left"})]})})}const K3={trigger:"Tetikleyici",message:"Mesaj",logic:"Mantik",ai:"Yapay Zeka",action:"Aksiyon",utility:"Araclar"},cy=["trigger","message","logic","ai","action","utility"];function Q3(e){const t=new Map;for(const n of cy){const r=e.filter(o=>o.category===n);r.length>0&&t.set(n,r)}return t}function Z3({info:e}){const t=(n,r)=>{n.dataTransfer.setData("application/invekto-node-type",r),n.dataTransfer.effectAllowed="move"};return v.jsxs("div",{draggable:!0,onDragStart:n=>t(n,e.type),className:Io("flex items-center gap-2 px-3 py-2 rounded-md cursor-grab active:cursor-grabbing","border border-transparent hover:border-slate-600 transition-colors","bg-slate-800/50 hover:bg-slate-700/50"),children:[v.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:e.color}}),v.jsxs("div",{className:"min-w-0",children:[v.jsx("div",{className:"text-xs font-medium text-slate-200 truncate",children:e.label}),v.jsx("div",{className:"text-[10px] text-slate-500 truncate",children:e.description})]})]})}function q3(){const e=Q3(dg);return v.jsxs("div",{className:"w-52 bg-slate-900/90 border-r border-slate-700/50 overflow-y-auto flex-shrink-0",children:[v.jsxs("div",{className:"p-3 border-b border-slate-700/50",children:[v.jsx("h2",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Node'lar"}),v.jsx("p",{className:"text-[10px] text-slate-500 mt-0.5",children:"Surukle birak"})]}),v.jsx("div",{className:"p-2 space-y-3",children:cy.map(t=>{const n=e.get(t);return n?v.jsxs("div",{children:[v.jsx("div",{className:"text-[10px] font-semibold text-slate-500 uppercase tracking-wider px-1 mb-1",children:K3[t]}),v.jsx("div",{className:"space-y-1",children:n.map(r=>v.jsx(Z3,{info:r},r.type))})]},t):null})})]})}function J3({onSave:e,isSaving:t,onBack:n}){const r=se(d=>d.isDirty),o=se(d=>d.flowMetadata),i=se(d=>d.setMetadata),s=se(d=>d.undo),l=se(d=>d.redo),a=se(d=>d.historyIndex),u=se(d=>d.history.length),f=a>=0,c=a<u-1;return v.jsxs("div",{className:"h-12 bg-slate-900/95 border-b border-slate-700/50 flex items-center px-4 gap-3 flex-shrink-0",children:[n&&v.jsx("button",{onClick:n,className:"p-1.5 rounded hover:bg-slate-700/50 transition-colors text-slate-300",title:"Flow Listesine Don",children:v.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:v.jsx("polyline",{points:"15 18 9 12 15 6"})})}),v.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[v.jsx("input",{type:"text",value:o.name,onChange:d=>i({name:d.target.value}),className:"bg-transparent text-sm font-medium text-slate-200 border-none outline-none w-40 focus:ring-1 focus:ring-blue-500/50 rounded px-2 py-1",placeholder:"Flow Adi"}),v.jsx("span",{className:"text-slate-600",children:"|"}),v.jsx("input",{type:"text",value:o.description??"",onChange:d=>i({description:d.target.value}),className:"bg-transparent text-xs text-slate-400 border-none outline-none w-56 focus:ring-1 focus:ring-blue-500/50 rounded px-2 py-1",placeholder:"Flow aciklamasi..."})]}),r&&v.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400 flex-shrink-0",title:"Kaydedilmemis degisiklikler"}),v.jsx("div",{className:"flex-1"}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:s,disabled:!f,className:Io("p-1.5 rounded hover:bg-slate-700/50 transition-colors",f?"text-slate-300":"text-slate-600 cursor-not-allowed"),title:"Geri Al (Ctrl+Z)",children:v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[v.jsx("polyline",{points:"1 4 1 10 7 10"}),v.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]})}),v.jsx("button",{onClick:l,disabled:!c,className:Io("p-1.5 rounded hover:bg-slate-700/50 transition-colors",c?"text-slate-300":"text-slate-600 cursor-not-allowed"),title:"Ileri Al (Ctrl+Y)",children:v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[v.jsx("polyline",{points:"23 4 23 10 17 10"}),v.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]})})]}),v.jsx("div",{className:"w-px h-6 bg-slate-700"}),v.jsxs("button",{onClick:e,disabled:t||!r,className:Io("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium transition-colors",r&&!t?"bg-blue-600 hover:bg-blue-500 text-white":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:[v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[v.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),v.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),v.jsx("polyline",{points:"7 3 7 8 15 8"})]}),t?"Kaydediliyor...":"Kaydet"]})]})}function eP(){const e=se(a=>a.selectedNodeId),t=se(a=>a.nodes),n=se(a=>a.updateNodeData),r=se(a=>a.deleteNode),o=e?t.find(a=>a.id===e):null;if(!o)return v.jsx("div",{className:"w-64 bg-slate-900/90 border-l border-slate-700/50 flex-shrink-0 flex items-center justify-center",children:v.jsx("p",{className:"text-xs text-slate-500 text-center px-4",children:"Ozelliklerini duzenlemek icin bir node secin"})});const i=o.type,s=fg(i),l=a=>{n(o.id,a)};return v.jsxs("div",{className:"w-64 bg-slate-900/90 border-l border-slate-700/50 flex-shrink-0 overflow-y-auto",children:[v.jsxs("div",{className:"p-3 border-b border-slate-700/50",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:(s==null?void 0:s.color)??"#6b7280"}}),v.jsx("span",{className:"text-sm font-medium text-slate-200",children:(s==null?void 0:s.label)??i})]}),v.jsx("p",{className:"text-[10px] text-slate-500 mt-0.5",children:s==null?void 0:s.description})]}),v.jsxs("div",{className:"p-3 space-y-3",children:[v.jsx(Xn,{label:"Etiket",children:v.jsx("input",{type:"text",value:o.data.label??"",onChange:a=>l({label:a.target.value}),className:"w-full bg-slate-800 border border-slate-600 rounded px-2 py-1.5 text-xs text-slate-200 outline-none focus:border-blue-500/50"})}),i==="trigger_start"&&v.jsx(tP,{}),i==="message_text"&&v.jsx(nP,{data:o.data,onChange:l}),i==="message_menu"&&v.jsx(rP,{data:o.data,onChange:l}),i==="action_handoff"&&v.jsx(oP,{data:o.data,onChange:l}),i==="utility_note"&&v.jsx(iP,{data:o.data,onChange:l}),i!=="trigger_start"&&v.jsx("div",{className:"pt-3 border-t border-slate-700/50",children:v.jsx("button",{onClick:()=>r(o.id),className:"w-full px-3 py-1.5 rounded-md text-xs font-medium bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-colors",children:"Node'u Sil"})})]})]})}function Xn({label:e,children:t}){return v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-medium text-slate-400 uppercase tracking-wider mb-1",children:e}),t]})}function tP(){return v.jsx("p",{className:"text-[10px] text-slate-500",children:"Baslangic node'u yapilandirma gerektirmez. Musteri mesaj gonderdiginde bu node'dan akis baslar."})}function nP({data:e,onChange:t}){return v.jsx(Xn,{label:"Mesaj Metni",children:v.jsx("textarea",{value:e.text??"",onChange:n=>t({text:n.target.value}),rows:4,className:"w-full bg-slate-800 border border-slate-600 rounded px-2 py-1.5 text-xs text-slate-200 outline-none focus:border-blue-500/50 resize-none",placeholder:"Gonderilecek mesaj..."})})}function rP({data:e,onChange:t}){const n=e.options??[],r=(s,l,a)=>{const u=[...n];u[s]={...u[s],[l]:a},t({options:u})},o=()=>{const s=String(n.length+1),l={key:s,label:`Secenek ${s}`,handle_id:`opt_${s}`};t({options:[...n,l]})},i=s=>{t({options:n.filter((l,a)=>a!==s)})};return v.jsxs(v.Fragment,{children:[v.jsx(Xn,{label:"Menu Metni",children:v.jsx("input",{type:"text",value:e.text??"",onChange:s=>t({text:s.target.value}),className:"w-full bg-slate-800 border border-slate-600 rounded px-2 py-1.5 text-xs text-slate-200 outline-none focus:border-blue-500/50",placeholder:"Secim yapin:"})}),v.jsxs(Xn,{label:"Secenekler",children:[v.jsx("div",{className:"space-y-2",children:n.map((s,l)=>v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("input",{type:"text",value:s.key,onChange:a=>r(l,"key",a.target.value),className:"w-8 bg-slate-800 border border-slate-600 rounded px-1 py-1 text-xs text-slate-200 outline-none focus:border-blue-500/50 text-center"}),v.jsx("input",{type:"text",value:s.label,onChange:a=>r(l,"label",a.target.value),className:"flex-1 bg-slate-800 border border-slate-600 rounded px-2 py-1 text-xs text-slate-200 outline-none focus:border-blue-500/50"}),v.jsx("button",{onClick:()=>i(l),className:"p-0.5 text-slate-500 hover:text-red-400 transition-colors",title:"Kaldir",children:v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},s.handle_id))}),v.jsx("button",{onClick:o,className:"mt-2 w-full px-2 py-1 rounded border border-dashed border-slate-600 text-xs text-slate-400 hover:border-blue-500/50 hover:text-blue-400 transition-colors",children:"+ Secenek Ekle"})]})]})}function oP({data:e,onChange:t}){return v.jsx(Xn,{label:"Ozet Sablonu",children:v.jsx("textarea",{value:e.summary_template??"",onChange:n=>t({summary_template:n.target.value}),rows:3,className:"w-full bg-slate-800 border border-slate-600 rounded px-2 py-1.5 text-xs text-slate-200 outline-none focus:border-blue-500/50 resize-none",placeholder:"Temsilciye aktarilacak ozet..."})})}function iP({data:e,onChange:t}){const n=[{label:"Sari",value:"#fef3c7"},{label:"Mavi",value:"#dbeafe"},{label:"Yesil",value:"#dcfce7"},{label:"Kirmizi",value:"#fee2e2"},{label:"Mor",value:"#ede9fe"}];return v.jsxs(v.Fragment,{children:[v.jsx(Xn,{label:"Not Metni",children:v.jsx("textarea",{value:e.text??"",onChange:r=>t({text:r.target.value}),rows:5,className:"w-full bg-slate-800 border border-slate-600 rounded px-2 py-1.5 text-xs text-slate-200 outline-none focus:border-blue-500/50 resize-none",placeholder:"Notunuz..."})}),v.jsx(Xn,{label:"Renk",children:v.jsx("div",{className:"flex gap-1.5",children:n.map(r=>v.jsx("button",{onClick:()=>t({color:r.value}),className:"w-6 h-6 rounded border-2 transition-transform hover:scale-110",style:{backgroundColor:r.value,borderColor:(e.color||"#fef3c7")===r.value?"#3b82f6":"transparent"},title:r.label},r.value))})})]})}function sP(){const e=se(n=>n.flowSettings),t=se(n=>n.setSettings);return v.jsxs("div",{className:"w-64 bg-slate-900/90 border-l border-slate-700/50 flex-shrink-0 overflow-y-auto",children:[v.jsx("div",{className:"p-3 border-b border-slate-700/50",children:v.jsx("span",{className:"text-sm font-medium text-slate-200",children:"Flow Ayarlari"})}),v.jsxs("div",{className:"p-3 space-y-3",children:[v.jsx(ao,{label:"Mesai Disi Mesaji",children:v.jsx("textarea",{value:e.off_hours_message??"",onChange:n=>t({off_hours_message:n.target.value}),rows:3,className:"w-full bg-slate-800 border border-slate-600 rounded px-2 py-1.5 text-xs text-slate-200 outline-none focus:border-blue-500/50 resize-none",placeholder:"Mesai saatleri disinda gonderilecek mesaj..."})}),v.jsx(ao,{label:"Bilinmeyen Girdi Mesaji",children:v.jsx("textarea",{value:e.unknown_input_message??"",onChange:n=>t({unknown_input_message:n.target.value}),rows:2,className:"w-full bg-slate-800 border border-slate-600 rounded px-2 py-1.5 text-xs text-slate-200 outline-none focus:border-blue-500/50 resize-none",placeholder:"Gecersiz girdi mesaji..."})}),v.jsx(ao,{label:"Handoff Guven Esigi",children:v.jsx("input",{type:"number",min:0,max:1,step:.1,value:e.handoff_confidence_threshold,onChange:n=>t({handoff_confidence_threshold:parseFloat(n.target.value)||.5}),className:"w-full bg-slate-800 border border-slate-600 rounded px-2 py-1.5 text-xs text-slate-200 outline-none focus:border-blue-500/50"})}),v.jsx(ao,{label:"Session Zaman Asimi (dk)",children:v.jsx("input",{type:"number",min:1,max:1440,value:e.session_timeout_minutes,onChange:n=>t({session_timeout_minutes:parseInt(n.target.value)||30}),className:"w-full bg-slate-800 border border-slate-600 rounded px-2 py-1.5 text-xs text-slate-200 outline-none focus:border-blue-500/50"})}),v.jsx(ao,{label:"Maks. Dongu Sayisi",children:v.jsx("input",{type:"number",min:1,max:100,value:e.max_loop_count,onChange:n=>t({max_loop_count:parseInt(n.target.value)||10}),className:"w-full bg-slate-800 border border-slate-600 rounded px-2 py-1.5 text-xs text-slate-200 outline-none focus:border-blue-500/50"})})]})]})}function ao({label:e,children:t}){return v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-medium text-slate-400 uppercase tracking-wider mb-1",children:e}),t]})}function lP(){const{flowId:e}=S1(),t=ci(),{session:n}=Mc(),r=(n==null?void 0:n.tenant_id)??0,o=parseInt(e??"0",10),[i,s]=k.useState("properties"),[l,a]=k.useState(!1),[u,f]=k.useState(null),[c,d]=k.useState(null),[g,y]=k.useState(!0),x=se(h=>h.selectedNodeId),S=se(h=>h.loadFlow);k.useEffect(()=>{if(!o||!r){t("/",{replace:!0});return}let h=!1;return y(!0),f(null),cg(r,o).then(w=>{if(h)return;const E=w.flow_config??{},_={version:E.version??2,metadata:{name:w.flow_name,...E.metadata},nodes:E.nodes??[],edges:E.edges??[],settings:E.settings??{}};S(_),y(!1)}).catch(w=>{h||(w instanceof Dt&&w.status===404?f("Flow bulunamadi."):f(w instanceof Error?w.message:"Flow yuklenemedi"),y(!1))}),()=>{h=!0}},[o,r,S,t]),k.useEffect(()=>{x&&s("properties")},[x]);const p=k.useCallback(async()=>{a(!0),d(null);try{const h=se.getState().toFlowConfig();await wS(r,o,{flow_name:h.metadata.name,flow_config:h}),se.getState().markClean()}catch(h){d(h instanceof Error?h.message:"Kaydetme basarisiz")}finally{a(!1)}},[r,o]),m=k.useCallback(()=>{se.getState().isDirty&&!window.confirm("Kaydedilmemis degisiklikler var. Yine de cikis yapilsin mi?")||t("/")},[t]);return k.useEffect(()=>{const h=w=>{w.ctrlKey&&w.key==="s"&&(w.preventDefault(),p()),w.ctrlKey&&w.key==="z"&&(w.preventDefault(),se.getState().undo()),w.ctrlKey&&w.key==="y"&&(w.preventDefault(),se.getState().redo())};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[p]),g?v.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-950 text-gray-400",children:"Flow yukleniyor..."}):u?v.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-slate-950 gap-4",children:[v.jsx("p",{className:"text-red-400",children:u}),v.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg",children:"Flow Listesine Don"})]}):v.jsx(ey,{children:v.jsxs("div",{className:"h-screen flex flex-col bg-slate-950",children:[v.jsx(J3,{onSave:p,isSaving:l,onBack:m}),c&&v.jsxs("div",{className:"bg-red-900/30 border-b border-red-800/40 px-4 py-2 text-xs text-red-300 flex items-center justify-between",children:[v.jsxs("span",{children:["Kaydetme hatasi: ",c]}),v.jsx("button",{onClick:()=>d(null),className:"text-red-400 hover:text-white",children:""})]}),v.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[v.jsx(q3,{}),v.jsx(G3,{}),v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("div",{className:"flex border-b border-slate-700/50 bg-slate-900/90",children:[v.jsx("button",{onClick:()=>s("properties"),className:`px-3 py-2 text-xs font-medium transition-colors ${i==="properties"?"text-blue-400 border-b-2 border-blue-400":"text-slate-500 hover:text-slate-300"}`,children:"Ozellikler"}),v.jsx("button",{onClick:()=>s("settings"),className:`px-3 py-2 text-xs font-medium transition-colors ${i==="settings"?"text-blue-400 border-b-2 border-blue-400":"text-slate-500 hover:text-slate-300"}`,children:"Ayarlar"})]}),i==="properties"?v.jsx(eP,{}):v.jsx(sP,{})]})]})]})})}function aP({children:e}){const[t,n]=k.useState(Pc),r=k.useCallback(async(i,s)=>{const l=await yS(i,s),a={token:l.token,tenant_id:l.tenant_id,expires_at:Date.now()+l.expires_in*1e3};gS(a),n(a)},[]),o=k.useCallback(()=>{du(),n(null)},[]);return v.jsx(ag.Provider,{value:{session:t,login:r,logout:o,isAuthenticated:t!==null},children:e})}function Ch({children:e}){return Pc()?v.jsx(v.Fragment,{children:e}):v.jsx(ng,{to:"/login",replace:!0})}function uP(){return v.jsx(sS,{basename:"/flow-builder",children:v.jsx(aP,{children:v.jsxs($1,{children:[v.jsx(mo,{path:"/login",element:v.jsx(_S,{})}),v.jsx(mo,{path:"/",element:v.jsx(Ch,{children:v.jsx(bS,{})})}),v.jsx(mo,{path:"/editor/:flowId",element:v.jsx(Ch,{children:v.jsx(lP,{})})}),v.jsx(mo,{path:"*",element:v.jsx(ng,{to:"/",replace:!0})})]})})})}Bm(document.getElementById("root")).render(v.jsx(k.StrictMode,{children:v.jsx(uP,{})}));
